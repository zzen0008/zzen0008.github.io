/*! For license information please see main.214ef1a1.js.LICENSE.txt */
!function(){var e={991:function(e){var t=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,a;try{t=Map}catch(i){t=function(){}}try{n=Set}catch(i){n=function(){}}try{a=Promise}catch(i){a=function(){}}function r(o,i,u,c,s){"object"===typeof i&&(u=i.depth,c=i.prototype,s=i.includeNonEnumerable,i=i.circular);var f=[],d=[],p="undefined"!=typeof Buffer;return"undefined"==typeof i&&(i=!0),"undefined"==typeof u&&(u=1/0),function o(u,g){if(null===u)return null;if(0===g)return u;var h,v;if("object"!=typeof u)return u;if(e(u,t))h=new t;else if(e(u,n))h=new n;else if(e(u,a))h=new a((function(e,t){u.then((function(t){e(o(t,g-1))}),(function(e){t(o(e,g-1))}))}));else if(r.__isArray(u))h=[];else if(r.__isRegExp(u))h=new RegExp(u.source,l(u)),u.lastIndex&&(h.lastIndex=u.lastIndex);else if(r.__isDate(u))h=new Date(u.getTime());else{if(p&&Buffer.isBuffer(u))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(u.length):new Buffer(u.length),u.copy(h),h;e(u,Error)?h=Object.create(u):"undefined"==typeof c?(v=Object.getPrototypeOf(u),h=Object.create(v)):(h=Object.create(c),v=c)}if(i){var m=f.indexOf(u);if(-1!=m)return d[m];f.push(u),d.push(h)}for(var y in e(u,t)&&u.forEach((function(e,t){var n=o(t,g-1),a=o(e,g-1);h.set(n,a)})),e(u,n)&&u.forEach((function(e){var t=o(e,g-1);h.add(t)})),u){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(h[y]=o(u[y],g-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(u);for(y=0;y<w.length;y++){var k=w[y];(!(x=Object.getOwnPropertyDescriptor(u,k))||x.enumerable||s)&&(h[k]=o(u[k],g-1),x.enumerable||Object.defineProperty(h,k,{enumerable:!1}))}}if(s){var C=Object.getOwnPropertyNames(u);for(y=0;y<C.length;y++){var x,P=C[y];(x=Object.getOwnPropertyDescriptor(u,P))&&x.enumerable||(h[P]=o(u[P],g-1),Object.defineProperty(h,P,{enumerable:!1}))}}return h}(o,u)}function o(e){return Object.prototype.toString.call(e)}function l(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=o,r.__isDate=function(e){return"object"===typeof e&&"[object Date]"===o(e)},r.__isArray=function(e){return"object"===typeof e&&"[object Array]"===o(e)},r.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===o(e)},r.__getRegExpFlags=l,r}();e.exports&&(e.exports=t)},262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var a,r,o;if(Array.isArray(t)){if((a=t.length)!=n.length)return!1;for(r=a;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((a=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=a;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=a;0!==r--;){var l=o[r];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}},248:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,a="boolean"===typeof t.cycles&&t.cycles,r=t.cmp&&(n=t.cmp,function(e){return function(t,a){var r={key:t,value:e[t]},o={key:a,value:e[a]};return n(r,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,l;if(Array.isArray(t)){for(l="[",n=0;n<t.length;n++)n&&(l+=","),l+=e(t[n])||"null";return l+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var i=o.push(t)-1,u=Object.keys(t).sort(r&&r(t));for(l="",n=0;n<u.length;n++){var c=u[n],s=e(t[c]);s&&(l&&(l+=","),l+=JSON.stringify(c)+":"+s)}return o.splice(i,1),"{"+l+"}"}}(e)}},888:function(e,t,n){"use strict";var a=n(47);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,l){if(l!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var a=n(791),r=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var s=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function h(e,t,n,a,r,o,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,a){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!f.call(g,e)||!f.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);v[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var F,I=Object.assign;function R(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var z=!1;function L(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=a.stack.split("\n"),l=r.length-1,i=o.length-1;1<=l&&0<=i&&r[l]!==o[i];)i--;for(;1<=l&&0<=i;l--,i--)if(r[l]!==o[i]){if(1!==l||1!==i)do{if(l--,0>--i||r[l]!==o[i]){var u="\n"+r[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=l&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function H(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 1:return e=L(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case C:return"Portal";case _:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case B:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=G(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){K(e,t);var n=q(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),a=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,se,fe=(se=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return se(e,t)}))}:se);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=he(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var me=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,xe=null,Pe=null;function _e(e){if(e=br(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=kr(t),Ce(e.stateNode,e.type,t))}}function Ee(e){xe?Pe?Pe.push(e):Pe=[e]:xe=e}function Se(){if(xe){var e=xe,t=Pe;if(Pe=xe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Be(e,t){return e(t)}function Oe(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Be(e,t,n)}finally{Ae=!1,(null!==xe||null!==Pe)&&(Oe(),Se())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var a=kr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(s)try{var je={};Object.defineProperty(je,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(se){Ne=!1}function Te(e,t,n,a,r,o,l,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(s){this.onError(s)}}var Fe=!1,Ie=null,Re=!1,ze=null,Le={onError:function(e){Fe=!0,Ie=e}};function He(e,t,n,a,r,o,l,i,u){Fe=!1,Ie=null,Te.apply(Le,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return qe(r),e;if(l===a)return qe(r),t;l=l.sibling}throw Error(o(188))}if(n.return!==a.return)n=r,a=l;else{for(var i=!1,u=r.child;u;){if(u===n){i=!0,n=r,a=l;break}if(u===a){i=!0,a=r,n=l;break}u=u.sibling}if(!i){for(u=l.child;u;){if(u===n){i=!0,n=l,a=r;break}if(u===a){i=!0,a=l,n=r;break}u=u.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var $e=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Qe=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Ke=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,ot=null;var lt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(it(e)/ut|0)|0},it=Math.log,ut=Math.LN2;var ct=64,st=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,o=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~r;0!==i?a=ft(i):0!==(o&=l)&&(a=ft(o))}else 0!==(l=n&~r)?a=ft(l):0!==o&&(a=ft(o));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-lt(t)),a|=e[n],t&=~r;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-lt(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,Ct,xt,Pt,_t,Et=!1,St=[],Bt=null,Ot=null,At=null,Dt=new Map,Mt=new Map,Nt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tt(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Ft(e,t,n,a,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&Ct(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function It(e){var t=yr(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void _t(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&Ct(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);we=a,n.target.dispatchEvent(a),we=null,t.shift()}return!0}function zt(e,t,n){Rt(e)&&n.delete(t)}function Lt(){Et=!1,null!==Bt&&Rt(Bt)&&(Bt=null),null!==Ot&&Rt(Ot)&&(Ot=null),null!==At&&Rt(At)&&(At=null),Dt.forEach(zt),Mt.forEach(zt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Lt)))}function Ut(e){function t(t){return Ht(t,e)}if(0<St.length){Ht(St[0],e);for(var n=1;n<St.length;n++){var a=St[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Bt&&Ht(Bt,e),null!==Ot&&Ht(Ot,e),null!==At&&Ht(At,e),Dt.forEach(t),Mt.forEach(t),n=0;n<Nt.length;n++)(a=Nt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)It(n),null===n.blockedOn&&Nt.shift()}var Wt=w.ReactCurrentBatchConfig,qt=!0;function Gt(e,t,n,a){var r=bt,o=Wt.transition;Wt.transition=null;try{bt=1,$t(e,t,n,a)}finally{bt=r,Wt.transition=o}}function Vt(e,t,n,a){var r=bt,o=Wt.transition;Wt.transition=null;try{bt=4,$t(e,t,n,a)}finally{bt=r,Wt.transition=o}}function $t(e,t,n,a){if(qt){var r=Qt(e,t,n,a);if(null===r)qa(e,t,a,Yt,n),Tt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Bt=Ft(Bt,e,t,n,a,r),!0;case"dragenter":return Ot=Ft(Ot,e,t,n,a,r),!0;case"mouseover":return At=Ft(At,e,t,n,a,r),!0;case"pointerover":var o=r.pointerId;return Dt.set(o,Ft(Dt.get(o)||null,e,t,n,a,r)),!0;case"gotpointercapture":return o=r.pointerId,Mt.set(o,Ft(Mt.get(o)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Tt(e,a),4&t&&-1<jt.indexOf(e)){for(;null!==r;){var o=br(r);if(null!==o&&kt(o),null===(o=Qt(e,t,n,a))&&qa(e,t,a,Yt,n),o===r)break;r=o}null!==r&&a.stopPropagation()}else qa(e,t,a,null,n)}}var Yt=null;function Qt(e,t,n,a){if(Yt=null,null!==(e=yr(e=ke(a))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Kt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,a=n.length,r="value"in Kt?Kt.value:Kt.textContent,o=r.length;for(e=0;e<a&&n[e]===r[e];e++);var l=a-e;for(t=1;t<=l&&n[a-t]===r[o-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,o){for(var l in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,ln,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=rn(cn),fn=I({},cn,{view:0,detail:0}),dn=rn(fn),pn=I({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=rn(pn),hn=rn(I({},pn,{dataTransfer:0})),vn=rn(I({},fn,{relatedTarget:0})),mn=rn(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),wn=rn(I({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function _n(){return Pn}var En=I({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=rn(En),Bn=rn(I({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=rn(I({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=rn(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=I({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=rn(Dn),Nn=[9,13,27,32],jn=s&&"CompositionEvent"in window,Tn=null;s&&"documentMode"in document&&(Tn=document.documentMode);var Fn=s&&"TextEvent"in window&&!Tn,In=s&&(!jn||Tn&&8<Tn&&11>=Tn),Rn=String.fromCharCode(32),zn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,a){Ee(a),0<(t=Va(t,"onChange")).length&&(n=new sn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Vn=null,$n=null;function Yn(e){Ra(e,0)}function Qn(e){if($(wr(e)))return e}function Xn(e,t){if("change"===e)return t}var Kn=!1;if(s){var Jn;if(s){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Jn=Zn}else Jn=!1;Kn=Jn&&(!document.documentMode||9<document.documentMode)}function ta(){Vn&&(Vn.detachEvent("onpropertychange",na),$n=Vn=null)}function na(e){if("value"===e.propertyName&&Qn($n)){var t=[];Gn(t,$n,e,ke(e)),De(Yn,t)}}function aa(e,t,n){"focusin"===e?(ta(),$n=n,(Vn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn($n)}function oa(e,t){if("click"===e)return Qn(t)}function la(e,t){if("input"===e||"change"===e)return Qn(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ua(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!f.call(t,r)||!ia(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sa(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function fa(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fa(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function da(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ga(e){var t=da(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fa(n.ownerDocument.documentElement,n)){if(null!==a&&pa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(a.start,r);a=void 0===a.end?o:Math.min(a.end,r),!e.extend&&o>a&&(r=a,a=o,o=r),r=sa(n,o);var l=sa(n,a);r&&l&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ha=s&&"documentMode"in document&&11>=document.documentMode,va=null,ma=null,ya=null,ba=!1;function wa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ba||null==va||va!==Y(a)||("selectionStart"in(a=va)&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ya&&ua(ya,a)||(ya=a,0<(a=Va(ma,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=va)))}function ka(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ca={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},xa={},Pa={};function _a(e){if(xa[e])return xa[e];if(!Ca[e])return e;var t,n=Ca[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pa)return xa[e]=n[t];return e}s&&(Pa=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);var Ea=_a("animationend"),Sa=_a("animationiteration"),Ba=_a("animationstart"),Oa=_a("transitionend"),Aa=new Map,Da="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(e,t){Aa.set(e,t),u(t,[e])}for(var Na=0;Na<Da.length;Na++){var ja=Da[Na];Ma(ja.toLowerCase(),"on"+(ja[0].toUpperCase()+ja.slice(1)))}Ma(Ea,"onAnimationEnd"),Ma(Sa,"onAnimationIteration"),Ma(Ba,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(Oa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function Ia(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,l,i,u,c){if(He.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var s=Ie;Fe=!1,Ie=null,Re||(Re=!0,ze=s)}}(a,t,void 0,e),e.currentTarget=null}function Ra(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var l=a.length-1;0<=l;l--){var i=a[l],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==o&&r.isPropagationStopped())break e;Ia(r,i,c),o=u}else for(l=0;l<a.length;l++){if(u=(i=a[l]).instance,c=i.currentTarget,i=i.listener,u!==o&&r.isPropagationStopped())break e;Ia(r,i,c),o=u}}}if(Re)throw e=ze,Re=!1,ze=null,e}function za(e,t){var n=t[hr];void 0===n&&(n=t[hr]=new Set);var a=e+"__bubble";n.has(a)||(Wa(t,e,2,!1),n.add(a))}function La(e,t,n){var a=0;t&&(a|=4),Wa(n,e,a,t)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function Ua(e){if(!e[Ha]){e[Ha]=!0,l.forEach((function(t){"selectionchange"!==t&&(Fa.has(t)||La(t,!1,e),La(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ha]||(t[Ha]=!0,La("selectionchange",!1,t))}}function Wa(e,t,n,a){switch(Xt(t)){case 1:var r=Gt;break;case 4:r=Vt;break;default:r=$t}n=r.bind(null,t,n,e),r=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qa(e,t,n,a,r){var o=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var i=a.stateNode.containerInfo;if(i===r||8===i.nodeType&&i.parentNode===r)break;if(4===l)for(l=a.return;null!==l;){var u=l.tag;if((3===u||4===u)&&((u=l.stateNode.containerInfo)===r||8===u.nodeType&&u.parentNode===r))return;l=l.return}for(;null!==i;){if(null===(l=yr(i)))return;if(5===(u=l.tag)||6===u){a=o=l;continue e}i=i.parentNode}}a=a.return}De((function(){var a=o,r=ke(n),l=[];e:{var i=Aa.get(e);if(void 0!==i){var u=sn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Ea:case Sa:case Ba:u=mn;break;case Oa:u=An;break;case"scroll":u=dn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Bn}var s=0!==(4&t),f=!s&&"scroll"===e,d=s?null!==i?i+"Capture":null:i;s=[];for(var p,g=a;null!==g;){var h=(p=g).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==d&&(null!=(h=Me(g,d))&&s.push(Ga(g,h,p)))),f)break;g=g.return}0<s.length&&(i=new u(i,c,null,n,r),l.push({event:i,listeners:s}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[gr])&&(u||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,u?(u=a,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(f=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=a),u!==c)){if(s=gn,h="onMouseLeave",d="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(s=Bn,h="onPointerLeave",d="onPointerEnter",g="pointer"),f=null==u?i:wr(u),p=null==c?i:wr(c),(i=new s(h,g+"leave",u,n,r)).target=f,i.relatedTarget=p,h=null,yr(r)===a&&((s=new s(d,g+"enter",c,n,r)).target=p,s.relatedTarget=f,h=s),f=h,u&&c)e:{for(d=c,g=0,p=s=u;p;p=$a(p))g++;for(p=0,h=d;h;h=$a(h))p++;for(;0<g-p;)s=$a(s),g--;for(;0<p-g;)d=$a(d),p--;for(;g--;){if(s===d||null!==d&&s===d.alternate)break e;s=$a(s),d=$a(d)}s=null}else s=null;null!==u&&Ya(l,i,u,s,!1),null!==c&&null!==f&&Ya(l,f,c,s,!0)}if("select"===(u=(i=a?wr(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===u&&"file"===i.type)var v=Xn;else if(qn(i))if(Kn)v=la;else{v=ra;var m=aa}else(u=i.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(v=oa);switch(v&&(v=v(e,a))?Gn(l,v,n,r):(m&&m(e,i,a),"focusout"===e&&(m=i._wrapperState)&&m.controlled&&"number"===i.type&&ee(i,"number",i.value)),m=a?wr(a):window,e){case"focusin":(qn(m)||"true"===m.contentEditable)&&(va=m,ma=a,ya=null);break;case"focusout":ya=ma=va=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,wa(l,n,r);break;case"selectionchange":if(ha)break;case"keydown":case"keyup":wa(l,n,r)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Ln(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Jt="value"in(Kt=r)?Kt.value:Kt.textContent,Un=!0)),0<(m=Va(a,b)).length&&(b=new wn(b,e,null,n,r),l.push({event:b,listeners:m}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Rn);case"textInput":return(e=t.data)===Rn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!jn&&Ln(e,t)?(e=en(),Zt=Jt=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Va(a,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),l.push({event:r,listeners:a}),r.data=y))}Ra(l,t)}))}function Ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Va(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Me(e,n))&&a.unshift(Ga(e,o,r)),null!=(o=Me(e,t))&&a.push(Ga(e,o,r))),e=e.return}return a}function $a(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ya(e,t,n,a,r){for(var o=t._reactName,l=[];null!==n&&n!==a;){var i=n,u=i.alternate,c=i.stateNode;if(null!==u&&u===a)break;5===i.tag&&null!==c&&(i=c,r?null!=(u=Me(n,o))&&l.unshift(Ga(n,u,i)):r||null!=(u=Me(n,o))&&l.push(Ga(n,u,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Qa=/\r\n?/g,Xa=/\u0000|\uFFFD/g;function Ka(e){return("string"===typeof e?e:""+e).replace(Qa,"\n").replace(Xa,"")}function Ja(e,t,n){if(t=Ka(t),Ka(e)!==t&&n)throw Error(o(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,lr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(ir)}:ar;function ir(e){setTimeout((function(){throw e}))}function ur(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Ut(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Ut(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function sr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fr=Math.random().toString(36).slice(2),dr="__reactFiber$"+fr,pr="__reactProps$"+fr,gr="__reactContainer$"+fr,hr="__reactEvents$"+fr,vr="__reactListeners$"+fr,mr="__reactHandles$"+fr;function yr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=sr(e);null!==e;){if(n=e[dr])return n;e=sr(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[dr]||e[gr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function kr(e){return e[pr]||null}var Cr=[],xr=-1;function Pr(e){return{current:e}}function _r(e){0>xr||(e.current=Cr[xr],Cr[xr]=null,xr--)}function Er(e,t){xr++,Cr[xr]=e.current,e.current=t}var Sr={},Br=Pr(Sr),Or=Pr(!1),Ar=Sr;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Sr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Nr(){_r(Or),_r(Br)}function jr(e,t,n){if(Br.current!==Sr)throw Error(o(168));Er(Br,t),Er(Or,n)}function Tr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(o(108,W(e)||"Unknown",r));return I({},n,a)}function Fr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sr,Ar=Br.current,Er(Br,e),Er(Or,Or.current),!0}function Ir(e,t,n){var a=e.stateNode;if(!a)throw Error(o(169));n?(e=Tr(e,t,Ar),a.__reactInternalMemoizedMergedChildContext=e,_r(Or),_r(Br),Er(Br,e)):_r(Or),Er(Or,n)}var Rr=null,zr=!1,Lr=!1;function Hr(e){null===Rr?Rr=[e]:Rr.push(e)}function Ur(){if(!Lr&&null!==Rr){Lr=!0;var e=0,t=bt;try{var n=Rr;for(bt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Rr=null,zr=!1}catch(r){throw null!==Rr&&(Rr=Rr.slice(e+1)),$e(Ze,Ur),r}finally{bt=t,Lr=!1}}return null}var Wr=[],qr=0,Gr=null,Vr=0,$r=[],Yr=0,Qr=null,Xr=1,Kr="";function Jr(e,t){Wr[qr++]=Vr,Wr[qr++]=Gr,Gr=e,Vr=t}function Zr(e,t,n){$r[Yr++]=Xr,$r[Yr++]=Kr,$r[Yr++]=Qr,Qr=e;var a=Xr;e=Kr;var r=32-lt(a)-1;a&=~(1<<r),n+=1;var o=32-lt(t)+r;if(30<o){var l=r-r%5;o=(a&(1<<l)-1).toString(32),a>>=l,r-=l,Xr=1<<32-lt(t)+r|n<<r|a,Kr=o+e}else Xr=1<<o|n<<r|a,Kr=e}function eo(e){null!==e.return&&(Jr(e,1),Zr(e,1,0))}function to(e){for(;e===Gr;)Gr=Wr[--qr],Wr[qr]=null,Vr=Wr[--qr],Wr[qr]=null;for(;e===Qr;)Qr=$r[--Yr],$r[Yr]=null,Kr=$r[--Yr],$r[Yr]=null,Xr=$r[--Yr],$r[Yr]=null}var no=null,ao=null,ro=!1,oo=null;function lo(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ao=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ao=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qr?{id:Xr,overflow:Kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ao=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ro){var t=ao;if(t){var n=t;if(!io(e,t)){if(uo(e))throw Error(o(418));t=cr(n.nextSibling);var a=no;t&&io(e,t)?lo(a,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function so(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ro)return so(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ao)){if(uo(e))throw po(),Error(o(418));for(;t;)lo(e,t),t=cr(t.nextSibling)}if(so(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ao=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ao=null}}else ao=no?cr(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ao;e;)e=cr(e.nextSibling)}function go(){ao=no=null,ro=!1}function ho(e){null===oo?oo=[e]:oo.push(e)}var vo=w.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Pr(null),bo=null,wo=null,ko=null;function Co(){ko=wo=bo=null}function xo(e){var t=yo.current;_r(yo),e._currentValue=t}function Po(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){bo=e,ko=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wi=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var So=null;function Bo(e){null===So?So=[e]:So.push(e)}function Oo(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Bo(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ao(e,a)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function To(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Bu)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Ao(e,n)}return null===(r=a.interleaved)?(t.next=t,Bo(a)):(t.next=r.next,r.next=t),a.interleaved=t,Ao(e,n)}function Fo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Io(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=l:o=o.next=l,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ro(e,t,n,a){var r=e.updateQueue;Do=!1;var o=r.firstBaseUpdate,l=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var u=i,c=u.next;u.next=null,null===l?o=c:l.next=c,l=u;var s=e.alternate;null!==s&&((i=(s=s.updateQueue).lastBaseUpdate)!==l&&(null===i?s.firstBaseUpdate=c:i.next=c,s.lastBaseUpdate=u))}if(null!==o){var f=r.baseState;for(l=0,s=c=u=null,i=o;;){var d=i.lane,p=i.eventTime;if((a&d)===d){null!==s&&(s=s.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var g=e,h=i;switch(d=t,p=n,h.tag){case 1:if("function"===typeof(g=h.payload)){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(d="function"===typeof(g=h.payload)?g.call(p,f,d):g)||void 0===d)break e;f=I({},f,d);break e;case 2:Do=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[i]:d.push(i))}else p={eventTime:p,lane:d,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===s?(c=s=p,u=f):s=s.next=p,l|=d;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(d=i).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===s&&(u=f),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=s,null!==(t=r.shared.interleaved)){r=t;do{l|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Fu|=l,e.lanes=l,e.memoizedState=f}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(o(191,r));r.call(a)}}}var Lo=(new a.Component).refs;function Ho(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),o=jo(a,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=To(e,o,r))&&(nc(t,e,r,a),Fo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),o=jo(a,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=To(e,o,r))&&(nc(t,e,r,a),Fo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),r=jo(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=To(e,r,a))&&(nc(t,e,a,n),Fo(t,e,a))}};function Wo(e,t,n,a,r,o,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,o,l):!t.prototype||!t.prototype.isPureReactComponent||(!ua(n,a)||!ua(r,o))}function qo(e,t,n){var a=!1,r=Sr,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(r=Mr(t)?Ar:Br.current,o=(a=null!==(a=t.contextTypes)&&void 0!==a)?Dr(e,r):Sr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Vo(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Lo,Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Eo(o):(o=Mr(t)?Ar:Br.current,r.context=Dr(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Ho(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Uo.enqueueReplaceState(r,r.state,null),Ro(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function $o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var a=n.stateNode}if(!a)throw Error(o(147,e));var r=a,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=r.refs;t===Lo&&(t=r.refs={}),null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,a){return null===t||6!==t.tag?((t=Ic(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var o=n.type;return o===x?f(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&Qo(o)===t.type)?((a=r(t,n.props)).ref=$o(e,t,n),a.return=e,a):((a=jc(n.type,n.key,n.props,null,e.mode,a)).ref=$o(e,t,n),a.return=e,a)}function s(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Rc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function f(e,t,n,a,o){return null===t||7!==t.tag?((t=Tc(n,e.mode,a,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=$o(e,null,t),n.return=e,n;case C:return(t=Rc(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||T(t))return(t=Tc(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function p(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:u(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===r?c(e,t,n,a):null;case C:return n.key===r?s(e,t,n,a):null;case M:return p(e,t,(r=n._init)(n._payload),a)}if(te(n)||T(n))return null!==r?null:f(e,t,n,a,null);Yo(e,n)}return null}function g(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return u(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case k:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case C:return s(t,e=e.get(null===a.key?n:a.key)||null,a,r);case M:return g(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||T(a))return f(t,e=e.get(n)||null,a,r,null);Yo(t,a)}return null}function h(r,o,i,u){for(var c=null,s=null,f=o,h=o=0,v=null;null!==f&&h<i.length;h++){f.index>h?(v=f,f=null):v=f.sibling;var m=p(r,f,i[h],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(r,f),o=l(m,o,h),null===s?c=m:s.sibling=m,s=m,f=v}if(h===i.length)return n(r,f),ro&&Jr(r,h),c;if(null===f){for(;h<i.length;h++)null!==(f=d(r,i[h],u))&&(o=l(f,o,h),null===s?c=f:s.sibling=f,s=f);return ro&&Jr(r,h),c}for(f=a(r,f);h<i.length;h++)null!==(v=g(f,r,h,i[h],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?h:v.key),o=l(v,o,h),null===s?c=v:s.sibling=v,s=v);return e&&f.forEach((function(e){return t(r,e)})),ro&&Jr(r,h),c}function v(r,i,u,c){var s=T(u);if("function"!==typeof s)throw Error(o(150));if(null==(u=s.call(u)))throw Error(o(151));for(var f=s=null,h=i,v=i=0,m=null,y=u.next();null!==h&&!y.done;v++,y=u.next()){h.index>v?(m=h,h=null):m=h.sibling;var b=p(r,h,y.value,c);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&t(r,h),i=l(b,i,v),null===f?s=b:f.sibling=b,f=b,h=m}if(y.done)return n(r,h),ro&&Jr(r,v),s;if(null===h){for(;!y.done;v++,y=u.next())null!==(y=d(r,y.value,c))&&(i=l(y,i,v),null===f?s=y:f.sibling=y,f=y);return ro&&Jr(r,v),s}for(h=a(r,h);!y.done;v++,y=u.next())null!==(y=g(h,r,v,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?v:y.key),i=l(y,i,v),null===f?s=y:f.sibling=y,f=y);return e&&h.forEach((function(e){return t(r,e)})),ro&&Jr(r,v),s}return function e(a,o,l,u){if("object"===typeof l&&null!==l&&l.type===x&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case k:e:{for(var c=l.key,s=o;null!==s;){if(s.key===c){if((c=l.type)===x){if(7===s.tag){n(a,s.sibling),(o=r(s,l.props.children)).return=a,a=o;break e}}else if(s.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&Qo(c)===s.type){n(a,s.sibling),(o=r(s,l.props)).ref=$o(a,s,l),o.return=a,a=o;break e}n(a,s);break}t(a,s),s=s.sibling}l.type===x?((o=Tc(l.props.children,a.mode,u,l.key)).return=a,a=o):((u=jc(l.type,l.key,l.props,null,a.mode,u)).ref=$o(a,o,l),u.return=a,a=u)}return i(a);case C:e:{for(s=l.key;null!==o;){if(o.key===s){if(4===o.tag&&o.stateNode.containerInfo===l.containerInfo&&o.stateNode.implementation===l.implementation){n(a,o.sibling),(o=r(o,l.children||[])).return=a,a=o;break e}n(a,o);break}t(a,o),o=o.sibling}(o=Rc(l,a.mode,u)).return=a,a=o}return i(a);case M:return e(a,o,(s=l._init)(l._payload),u)}if(te(l))return h(a,o,l,u);if(T(l))return v(a,o,l,u);Yo(a,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==o&&6===o.tag?(n(a,o.sibling),(o=r(o,l)).return=a,a=o):(n(a,o),(o=Ic(l,a.mode,u)).return=a,a=o),i(a)):n(a,o)}}var Ko=Xo(!0),Jo=Xo(!1),Zo={},el=Pr(Zo),tl=Pr(Zo),nl=Pr(Zo);function al(e){if(e===Zo)throw Error(o(174));return e}function rl(e,t){switch(Er(nl,t),Er(tl,e),Er(el,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_r(el),Er(el,t)}function ol(){_r(el),_r(tl),_r(nl)}function ll(e){al(nl.current);var t=al(el.current),n=ue(t,e.type);t!==n&&(Er(tl,e),Er(el,n))}function il(e){tl.current===e&&(_r(el),_r(tl))}var ul=Pr(0);function cl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sl=[];function fl(){for(var e=0;e<sl.length;e++)sl[e]._workInProgressVersionPrimary=null;sl.length=0}var dl=w.ReactCurrentDispatcher,pl=w.ReactCurrentBatchConfig,gl=0,hl=null,vl=null,ml=null,yl=!1,bl=!1,wl=0,kl=0;function Cl(){throw Error(o(321))}function xl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ia(e[n],t[n]))return!1;return!0}function Pl(e,t,n,a,r,l){if(gl=l,hl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dl.current=null===e||null===e.memoizedState?ii:ui,e=n(a,r),bl){l=0;do{if(bl=!1,wl=0,25<=l)throw Error(o(301));l+=1,ml=vl=null,t.updateQueue=null,dl.current=ci,e=n(a,r)}while(bl)}if(dl.current=li,t=null!==vl&&null!==vl.next,gl=0,ml=vl=hl=null,yl=!1,t)throw Error(o(300));return e}function _l(){var e=0!==wl;return wl=0,e}function El(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ml?hl.memoizedState=ml=e:ml=ml.next=e,ml}function Sl(){if(null===vl){var e=hl.alternate;e=null!==e?e.memoizedState:null}else e=vl.next;var t=null===ml?hl.memoizedState:ml.next;if(null!==t)ml=t,vl=e;else{if(null===e)throw Error(o(310));e={memoizedState:(vl=e).memoizedState,baseState:vl.baseState,baseQueue:vl.baseQueue,queue:vl.queue,next:null},null===ml?hl.memoizedState=ml=e:ml=ml.next=e}return ml}function Bl(e,t){return"function"===typeof t?t(e):t}function Ol(e){var t=Sl(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var a=vl,r=a.baseQueue,l=n.pending;if(null!==l){if(null!==r){var i=r.next;r.next=l.next,l.next=i}a.baseQueue=r=l,n.pending=null}if(null!==r){l=r.next,a=a.baseState;var u=i=null,c=null,s=l;do{var f=s.lane;if((gl&f)===f)null!==c&&(c=c.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),a=s.hasEagerState?s.eagerState:e(a,s.action);else{var d={lane:f,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===c?(u=c=d,i=a):c=c.next=d,hl.lanes|=f,Fu|=f}s=s.next}while(null!==s&&s!==l);null===c?i=a:c.next=u,ia(a,t.memoizedState)||(wi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{l=r.lane,hl.lanes|=l,Fu|=l,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Al(e){var t=Sl(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{l=e(l,i.action),i=i.next}while(i!==r);ia(l,t.memoizedState)||(wi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function Dl(){}function Ml(e,t){var n=hl,a=Sl(),r=t(),l=!ia(a.memoizedState,r);if(l&&(a.memoizedState=r,wi=!0),a=a.queue,ql(Tl.bind(null,n,a,e),[e]),a.getSnapshot!==t||l||null!==ml&&1&ml.memoizedState.tag){if(n.flags|=2048,zl(9,jl.bind(null,n,a,r,t),void 0,null),null===Ou)throw Error(o(349));0!==(30&gl)||Nl(n,t,r)}return r}function Nl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=hl.updateQueue)?(t={lastEffect:null,stores:null},hl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jl(e,t,n,a){t.value=n,t.getSnapshot=a,Fl(t)&&Il(e)}function Tl(e,t,n){return n((function(){Fl(t)&&Il(e)}))}function Fl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ia(e,n)}catch(a){return!0}}function Il(e){var t=Ao(e,1);null!==t&&nc(t,e,1,-1)}function Rl(e){var t=El();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:e},t.queue=e,e=e.dispatch=ni.bind(null,hl,e),[t.memoizedState,e]}function zl(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=hl.updateQueue)?(t={lastEffect:null,stores:null},hl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ll(){return Sl().memoizedState}function Hl(e,t,n,a){var r=El();hl.flags|=e,r.memoizedState=zl(1|t,n,void 0,void 0===a?null:a)}function Ul(e,t,n,a){var r=Sl();a=void 0===a?null:a;var o=void 0;if(null!==vl){var l=vl.memoizedState;if(o=l.destroy,null!==a&&xl(a,l.deps))return void(r.memoizedState=zl(t,n,o,a))}hl.flags|=e,r.memoizedState=zl(1|t,n,o,a)}function Wl(e,t){return Hl(8390656,8,e,t)}function ql(e,t){return Ul(2048,8,e,t)}function Gl(e,t){return Ul(4,2,e,t)}function Vl(e,t){return Ul(4,4,e,t)}function $l(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yl(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ul(4,4,$l.bind(null,t,e),n)}function Ql(){}function Xl(e,t){var n=Sl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&xl(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Kl(e,t){var n=Sl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&xl(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Jl(e,t,n){return 0===(21&gl)?(e.baseState&&(e.baseState=!1,wi=!0),e.memoizedState=n):(ia(n,t)||(n=ht(),hl.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zl(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var a=pl.transition;pl.transition={};try{e(!1),t()}finally{bt=n,pl.transition=a}}function ei(){return Sl().memoizedState}function ti(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},ai(e))ri(t,n);else if(null!==(n=Oo(e,t,n,a))){nc(n,e,a,ec()),oi(n,t,a)}}function ni(e,t,n){var a=tc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(ai(e))ri(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=o(l,n);if(r.hasEagerState=!0,r.eagerState=i,ia(i,l)){var u=t.interleaved;return null===u?(r.next=r,Bo(t)):(r.next=u.next,u.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Oo(e,t,r,a))&&(nc(n,e,a,r=ec()),oi(n,t,a))}}function ai(e){var t=e.alternate;return e===hl||null!==t&&t===hl}function ri(e,t){bl=yl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oi(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}var li={readContext:Eo,useCallback:Cl,useContext:Cl,useEffect:Cl,useImperativeHandle:Cl,useInsertionEffect:Cl,useLayoutEffect:Cl,useMemo:Cl,useReducer:Cl,useRef:Cl,useState:Cl,useDebugValue:Cl,useDeferredValue:Cl,useTransition:Cl,useMutableSource:Cl,useSyncExternalStore:Cl,useId:Cl,unstable_isNewReconciler:!1},ii={readContext:Eo,useCallback:function(e,t){return El().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Wl,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Hl(4194308,4,$l.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hl(4,2,e,t)},useMemo:function(e,t){var n=El();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=El();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=ti.bind(null,hl,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},El().memoizedState=e},useState:Rl,useDebugValue:Ql,useDeferredValue:function(e){return El().memoizedState=e},useTransition:function(){var e=Rl(!1),t=e[0];return e=Zl.bind(null,e[1]),El().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=hl,r=El();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ou)throw Error(o(349));0!==(30&gl)||Nl(a,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,Wl(Tl.bind(null,a,l,e),[e]),a.flags|=2048,zl(9,jl.bind(null,a,l,n,t),void 0,null),n},useId:function(){var e=El(),t=Ou.identifierPrefix;if(ro){var n=Kr;t=":"+t+"R"+(n=(Xr&~(1<<32-lt(Xr)-1)).toString(32)+n),0<(n=wl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=kl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ui={readContext:Eo,useCallback:Xl,useContext:Eo,useEffect:ql,useImperativeHandle:Yl,useInsertionEffect:Gl,useLayoutEffect:Vl,useMemo:Kl,useReducer:Ol,useRef:Ll,useState:function(){return Ol(Bl)},useDebugValue:Ql,useDeferredValue:function(e){return Jl(Sl(),vl.memoizedState,e)},useTransition:function(){return[Ol(Bl)[0],Sl().memoizedState]},useMutableSource:Dl,useSyncExternalStore:Ml,useId:ei,unstable_isNewReconciler:!1},ci={readContext:Eo,useCallback:Xl,useContext:Eo,useEffect:ql,useImperativeHandle:Yl,useInsertionEffect:Gl,useLayoutEffect:Vl,useMemo:Kl,useReducer:Al,useRef:Ll,useState:function(){return Al(Bl)},useDebugValue:Ql,useDeferredValue:function(e){var t=Sl();return null===vl?t.memoizedState=e:Jl(t,vl.memoizedState,e)},useTransition:function(){return[Al(Bl)[0],Sl().memoizedState]},useMutableSource:Dl,useSyncExternalStore:Ml,useId:ei,unstable_isNewReconciler:!1};function si(e,t){try{var n="",a=t;do{n+=H(a),a=a.return}while(a);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function fi(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pi="function"===typeof WeakMap?WeakMap:Map;function gi(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){qu||(qu=!0,Gu=a),di(0,t)},n}function hi(e,t,n){(n=jo(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){di(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof a&&(null===Vu?Vu=new Set([this]):Vu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vi(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new pi;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function mi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,To(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var bi=w.ReactCurrentOwner,wi=!1;function ki(e,t,n,a){t.child=null===e?Jo(t,null,n,a):Ko(t,e.child,n,a)}function Ci(e,t,n,a,r){n=n.render;var o=t.ref;return _o(t,r),a=Pl(e,t,n,a,o,r),n=_l(),null===e||wi?(ro&&n&&eo(t),t.flags|=1,ki(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qi(e,t,r))}function xi(e,t,n,a,r){if(null===e){var o=n.type;return"function"!==typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Pi(e,t,o,a,r))}if(o=e.child,0===(e.lanes&r)){var l=o.memoizedProps;if((n=null!==(n=n.compare)?n:ua)(l,a)&&e.ref===t.ref)return qi(e,t,r)}return t.flags|=1,(e=Nc(o,a)).ref=t.ref,e.return=t,t.child=e}function Pi(e,t,n,a,r){if(null!==e){var o=e.memoizedProps;if(ua(o,a)&&e.ref===t.ref){if(wi=!1,t.pendingProps=a=o,0===(e.lanes&r))return t.lanes=e.lanes,qi(e,t,r);0!==(131072&e.flags)&&(wi=!0)}}return Si(e,t,n,a,r)}function _i(e,t,n){var a=t.pendingProps,r=a.children,o=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Nu,Mu),Mu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Er(Nu,Mu),Mu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==o?o.baseLanes:n,Er(Nu,Mu),Mu|=a}else null!==o?(a=o.baseLanes|n,t.memoizedState=null):a=n,Er(Nu,Mu),Mu|=a;return ki(e,t,r,n),t.child}function Ei(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,n,a,r){var o=Mr(n)?Ar:Br.current;return o=Dr(t,o),_o(t,r),n=Pl(e,t,n,a,o,r),a=_l(),null===e||wi?(ro&&a&&eo(t),t.flags|=1,ki(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qi(e,t,r))}function Bi(e,t,n,a,r){if(Mr(n)){var o=!0;Fr(t)}else o=!1;if(_o(t,r),null===t.stateNode)Wi(e,t),qo(t,n,a),Vo(t,n,a,r),a=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var u=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Eo(c):c=Dr(t,c=Mr(n)?Ar:Br.current);var s=n.getDerivedStateFromProps,f="function"===typeof s||"function"===typeof l.getSnapshotBeforeUpdate;f||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==a||u!==c)&&Go(t,l,a,c),Do=!1;var d=t.memoizedState;l.state=d,Ro(t,a,l,r),u=t.memoizedState,i!==a||d!==u||Or.current||Do?("function"===typeof s&&(Ho(t,n,s,a),u=t.memoizedState),(i=Do||Wo(t,n,i,a,d,u,c))?(f||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),l.props=a,l.state=u,l.context=c,a=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,No(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:mo(t.type,i),l.props=c,f=t.pendingProps,d=l.context,"object"===typeof(u=n.contextType)&&null!==u?u=Eo(u):u=Dr(t,u=Mr(n)?Ar:Br.current);var p=n.getDerivedStateFromProps;(s="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==f||d!==u)&&Go(t,l,a,u),Do=!1,d=t.memoizedState,l.state=d,Ro(t,a,l,r);var g=t.memoizedState;i!==f||d!==g||Or.current||Do?("function"===typeof p&&(Ho(t,n,p,a),g=t.memoizedState),(c=Do||Wo(t,n,c,a,d,g,u)||!1)?(s||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,g,u),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,g,u)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),l.props=a,l.state=g,l.context=u,a=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),a=!1)}return Oi(e,t,n,a,o,r)}function Oi(e,t,n,a,r,o){Ei(e,t);var l=0!==(128&t.flags);if(!a&&!l)return r&&Ir(t,n,!1),qi(e,t,o);a=t.stateNode,bi.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&l?(t.child=Ko(t,e.child,null,o),t.child=Ko(t,null,i,o)):ki(e,t,i,o),t.memoizedState=a.state,r&&Ir(t,n,!0),t.child}function Ai(e){var t=e.stateNode;t.pendingContext?jr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jr(0,t.context,!1),rl(e,t.containerInfo)}function Di(e,t,n,a,r){return go(),ho(r),t.flags|=256,ki(e,t,n,a),t.child}var Mi,Ni,ji,Ti={dehydrated:null,treeContext:null,retryLane:0};function Fi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ii(e,t,n){var a,r=t.pendingProps,l=ul.current,i=!1,u=0!==(128&t.flags);if((a=u)||(a=(null===e||null!==e.memoizedState)&&0!==(2&l)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Er(ul,1&l),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=r.children,e=r.fallback,i?(r=t.mode,i=t.child,u={mode:"hidden",children:u},0===(1&r)&&null!==i?(i.childLanes=0,i.pendingProps=u):i=Fc(u,r,0,null),e=Tc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fi(n),t.memoizedState=Ti,e):Ri(t,u));if(null!==(l=e.memoizedState)&&null!==(a=l.dehydrated))return function(e,t,n,a,r,l,i){if(n)return 256&t.flags?(t.flags&=-257,zi(e,t,i,a=fi(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=a.fallback,r=t.mode,a=Fc({mode:"visible",children:a.children},r,0,null),(l=Tc(l,r,i,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,0!==(1&t.mode)&&Ko(t,e.child,null,i),t.child.memoizedState=Fi(i),t.memoizedState=Ti,l);if(0===(1&t.mode))return zi(e,t,i,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var u=a.dgst;return a=u,zi(e,t,i,a=fi(l=Error(o(419)),a,void 0))}if(u=0!==(i&e.childLanes),wi||u){if(null!==(a=Ou)){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|i))?0:r)&&r!==l.retryLane&&(l.retryLane=r,Ao(e,r),nc(a,e,r,-1))}return hc(),zi(e,t,i,a=fi(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),r._reactRetry=t,null):(e=l.treeContext,ao=cr(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&($r[Yr++]=Xr,$r[Yr++]=Kr,$r[Yr++]=Qr,Xr=e.id,Kr=e.overflow,Qr=t),(t=Ri(t,a.children)).flags|=4096,t)}(e,t,u,r,a,l,n);if(i){i=r.fallback,u=t.mode,a=(l=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&u)&&t.child!==l?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Nc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==a?i=Nc(a,i):(i=Tc(i,u,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,u=null===(u=e.child.memoizedState)?Fi(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},i.memoizedState=u,i.childLanes=e.childLanes&~n,t.memoizedState=Ti,r}return e=(i=e.child).sibling,r=Nc(i,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ri(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zi(e,t,n,a){return null!==a&&ho(a),Ko(t,e.child,null,n),(e=Ri(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Li(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Po(e.return,t,n)}function Hi(e,t,n,a,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=r)}function Ui(e,t,n){var a=t.pendingProps,r=a.revealOrder,o=a.tail;if(ki(e,t,a.children,n),0!==(2&(a=ul.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Li(e,n,t);else if(19===e.tag)Li(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Er(ul,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===cl(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Hi(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===cl(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Hi(t,!0,n,null,o);break;case"together":Hi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gi(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Vi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function $i(e,t,n){var a=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(t),null;case 1:case 17:return Mr(t.type)&&Nr(),Vi(t),null;case 3:return a=t.stateNode,ol(),_r(Or),_r(Br),fl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(lc(oo),oo=null))),Vi(t),null;case 5:il(t);var r=al(nl.current);if(n=t.type,null!==e&&null!=t.stateNode)Ni(e,t,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(o(166));return Vi(t),null}if(e=al(el.current),fo(t)){a=t.stateNode,n=t.type;var l=t.memoizedProps;switch(a[dr]=t,a[pr]=l,e=0!==(1&t.mode),n){case"dialog":za("cancel",a),za("close",a);break;case"iframe":case"object":case"embed":za("load",a);break;case"video":case"audio":for(r=0;r<Ta.length;r++)za(Ta[r],a);break;case"source":za("error",a);break;case"img":case"image":case"link":za("error",a),za("load",a);break;case"details":za("toggle",a);break;case"input":X(a,l),za("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},za("invalid",a);break;case"textarea":re(a,l),za("invalid",a)}for(var u in ye(n,l),r=null,l)if(l.hasOwnProperty(u)){var c=l[u];"children"===u?"string"===typeof c?a.textContent!==c&&(!0!==l.suppressHydrationWarning&&Ja(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Ja(a.textContent,c,e),r=["children",""+c]):i.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&za("scroll",a)}switch(n){case"input":V(a),Z(a,l,!0);break;case"textarea":V(a),le(a);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{u=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=u.createElement(n,{is:a.is}):(e=u.createElement(n),"select"===n&&(u=e,a.multiple?u.multiple=!0:a.size&&(u.size=a.size))):e=u.createElementNS(e,n),e[dr]=t,e[pr]=a,Mi(e,t),t.stateNode=e;e:{switch(u=be(n,a),n){case"dialog":za("cancel",e),za("close",e),r=a;break;case"iframe":case"object":case"embed":za("load",e),r=a;break;case"video":case"audio":for(r=0;r<Ta.length;r++)za(Ta[r],e);r=a;break;case"source":za("error",e),r=a;break;case"img":case"image":case"link":za("error",e),za("load",e),r=a;break;case"details":za("toggle",e),r=a;break;case"input":X(e,a),r=Q(e,a),za("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=I({},a,{value:void 0}),za("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),za("invalid",e)}for(l in ye(n,r),c=r)if(c.hasOwnProperty(l)){var s=c[l];"style"===l?ve(e,s):"dangerouslySetInnerHTML"===l?null!=(s=s?s.__html:void 0)&&fe(e,s):"children"===l?"string"===typeof s?("textarea"!==n||""!==s)&&de(e,s):"number"===typeof s&&de(e,""+s):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=s&&"onScroll"===l&&za("scroll",e):null!=s&&b(e,l,s,u))}switch(n){case"input":V(e),Z(e,a,!1);break;case"textarea":V(e),le(e);break;case"option":null!=a.value&&e.setAttribute("value",""+q(a.value));break;case"select":e.multiple=!!a.multiple,null!=(l=a.value)?ne(e,!!a.multiple,l,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vi(t),null;case 6:if(e&&null!=t.stateNode)ji(0,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(o(166));if(n=al(nl.current),al(el.current),fo(t)){if(a=t.stateNode,n=t.memoizedProps,a[dr]=t,(l=a.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Ja(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ja(a.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[dr]=t,t.stateNode=a}return Vi(t),null;case 13:if(_r(ul),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==ao&&0!==(1&t.mode)&&0===(128&t.flags))po(),go(),t.flags|=98560,l=!1;else if(l=fo(t),null!==a&&null!==a.dehydrated){if(null===e){if(!l)throw Error(o(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(o(317));l[dr]=t}else go(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vi(t),l=!1}else null!==oo&&(lc(oo),oo=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ul.current)?0===ju&&(ju=3):hc())),null!==t.updateQueue&&(t.flags|=4),Vi(t),null);case 4:return ol(),null===e&&Ua(t.stateNode.containerInfo),Vi(t),null;case 10:return xo(t.type._context),Vi(t),null;case 19:if(_r(ul),null===(l=t.memoizedState))return Vi(t),null;if(a=0!==(128&t.flags),null===(u=l.rendering))if(a)Gi(l,!1);else{if(0!==ju||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=cl(e))){for(t.flags|=128,Gi(l,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(l=n).flags&=14680066,null===(u=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,e=u.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Er(ul,1&ul.current|2),t.child}e=e.sibling}null!==l.tail&&Ke()>Uu&&(t.flags|=128,a=!0,Gi(l,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=cl(u))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!u.alternate&&!ro)return Vi(t),null}else 2*Ke()-l.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,a=!0,Gi(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=l.last)?n.sibling=u:t.child=u,l.last=u)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,n=ul.current,Er(ul,a?1&n|2:1&n),t):(Vi(t),null);case 22:case 23:return fc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Mu)&&(Vi(t),6&t.subtreeFlags&&(t.flags|=8192)):Vi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Yi(e,t){switch(to(t),t.tag){case 1:return Mr(t.type)&&Nr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ol(),_r(Or),_r(Br),fl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return il(t),null;case 13:if(_r(ul),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));go()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _r(ul),null;case 4:return ol(),null;case 10:return xo(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Mi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ni=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,al(el.current);var o,l=null;switch(n){case"input":r=Q(e,r),a=Q(e,a),l=[];break;case"select":r=I({},r,{value:void 0}),a=I({},a,{value:void 0}),l=[];break;case"textarea":r=ae(e,r),a=ae(e,a),l=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(s in ye(n,a),n=null,r)if(!a.hasOwnProperty(s)&&r.hasOwnProperty(s)&&null!=r[s])if("style"===s){var u=r[s];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?l||(l=[]):(l=l||[]).push(s,null));for(s in a){var c=a[s];if(u=null!=r?r[s]:void 0,a.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(l=l||[]).push(s,c)):"children"===s?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(i.hasOwnProperty(s)?(null!=c&&"onScroll"===s&&za("scroll",e),l||u===c||(l=[])):(l=l||[]).push(s,c))}n&&(l=l||[]).push("style",n);var s=l;(t.updateQueue=s)&&(t.flags|=4)}},ji=function(e,t,n,a){n!==a&&(t.flags|=4)};var Qi=!1,Xi=!1,Ki="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Pc(e,t,a)}else n.current=null}function eu(e,t,n){try{n()}catch(a){Pc(e,t,a)}}var tu=!1;function nu(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&eu(t,n,o)}r=r.next}while(r!==a)}}function au(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ru(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[pr],delete t[hr],delete t[vr],delete t[mr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lu(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var su=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(i){}switch(n.tag){case 5:Xi||Zi(n,t);case 6:var a=su,r=fu;su=null,du(e,t,n),fu=r,null!==(su=a)&&(fu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(fu?(e=su,n=n.stateNode,8===e.nodeType?ur(e.parentNode,n):1===e.nodeType&&ur(e,n),Ut(e)):ur(su,n.stateNode));break;case 4:a=su,r=fu,su=n.stateNode.containerInfo,fu=!0,du(e,t,n),su=a,fu=r;break;case 0:case 11:case 14:case 15:if(!Xi&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var o=r,l=o.destroy;o=o.tag,void 0!==l&&(0!==(2&o)||0!==(4&o))&&eu(n,t,l),r=r.next}while(r!==a)}du(e,t,n);break;case 1:if(!Xi&&(Zi(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(i){Pc(n,t,i)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xi=(a=Xi)||null!==n.memoizedState,du(e,t,n),Xi=a):du(e,t,n);break;default:du(e,t,n)}}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ki),t.forEach((function(t){var a=Bc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function hu(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var l=e,i=t,u=i;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,fu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===su)throw Error(o(160));pu(l,i,r),su=null,fu=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(s){Pc(r,t,s)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hu(t,e),mu(e),4&a){try{nu(3,e,e.return),au(3,e)}catch(v){Pc(e,e.return,v)}try{nu(5,e,e.return)}catch(v){Pc(e,e.return,v)}}break;case 1:hu(t,e),mu(e),512&a&&null!==n&&Zi(n,n.return);break;case 5:if(hu(t,e),mu(e),512&a&&null!==n&&Zi(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(v){Pc(e,e.return,v)}}if(4&a&&null!=(r=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===l.type&&null!=l.name&&K(r,l),be(u,i);var s=be(u,l);for(i=0;i<c.length;i+=2){var f=c[i],d=c[i+1];"style"===f?ve(r,d):"dangerouslySetInnerHTML"===f?fe(r,d):"children"===f?de(r,d):b(r,f,d,s)}switch(u){case"input":J(r,l);break;case"textarea":oe(r,l);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!l.multiple;var g=l.value;null!=g?ne(r,!!l.multiple,g,!1):p!==!!l.multiple&&(null!=l.defaultValue?ne(r,!!l.multiple,l.defaultValue,!0):ne(r,!!l.multiple,l.multiple?[]:"",!1))}r[pr]=l}catch(v){Pc(e,e.return,v)}}break;case 6:if(hu(t,e),mu(e),4&a){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,l=e.memoizedProps;try{r.nodeValue=l}catch(v){Pc(e,e.return,v)}}break;case 3:if(hu(t,e),mu(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){Pc(e,e.return,v)}break;case 4:default:hu(t,e),mu(e);break;case 13:hu(t,e),mu(e),8192&(r=e.child).flags&&(l=null!==r.memoizedState,r.stateNode.isHidden=l,!l||null!==r.alternate&&null!==r.alternate.memoizedState||(Hu=Ke())),4&a&&gu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xi=(s=Xi)||f,hu(t,e),Xi=s):hu(t,e),mu(e),8192&a){if(s=null!==e.memoizedState,(e.stateNode.isHidden=s)&&!f&&0!==(1&e.mode))for(Ji=e,f=e.child;null!==f;){for(d=Ji=f;null!==Ji;){switch(g=(p=Ji).child,p.tag){case 0:case 11:case 14:case 15:nu(4,p,p.return);break;case 1:Zi(p,p.return);var h=p.stateNode;if("function"===typeof h.componentWillUnmount){a=p,n=p.return;try{t=a,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){Pc(a,n,v)}}break;case 5:Zi(p,p.return);break;case 22:if(null!==p.memoizedState){ku(d);continue}}null!==g?(g.return=p,Ji=g):ku(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{r=d.stateNode,s?"function"===typeof(l=r.style).setProperty?l.setProperty("display","none","important"):l.display="none":(u=d.stateNode,i=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=he("display",i))}catch(v){Pc(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=s?"":d.memoizedProps}catch(v){Pc(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:hu(t,e),mu(e),4&a&&gu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(lu(n)){var a=n;break e}n=n.return}throw Error(o(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(de(r,""),a.flags&=-33),cu(e,iu(e),r);break;case 3:case 4:var l=a.stateNode.containerInfo;uu(e,iu(e),l);break;default:throw Error(o(161))}}catch(i){Pc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Ji=e,bu(e,t,n)}function bu(e,t,n){for(var a=0!==(1&e.mode);null!==Ji;){var r=Ji,o=r.child;if(22===r.tag&&a){var l=null!==r.memoizedState||Qi;if(!l){var i=r.alternate,u=null!==i&&null!==i.memoizedState||Xi;i=Qi;var c=Xi;if(Qi=l,(Xi=u)&&!c)for(Ji=r;null!==Ji;)u=(l=Ji).child,22===l.tag&&null!==l.memoizedState?Cu(r):null!==u?(u.return=l,Ji=u):Cu(r);for(;null!==o;)Ji=o,bu(o,t,n),o=o.sibling;Ji=r,Qi=i,Xi=c}wu(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Ji=o):wu(e)}}function wu(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xi||au(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Xi)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&zo(t,l,a);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,i,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var s=t.alternate;if(null!==s){var f=s.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(o(163))}Xi||512&t.flags&&ru(t)}catch(p){Pc(t,t.return,p)}}if(t===e){Ji=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ji=n;break}Ji=t.return}}function ku(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ji=n;break}Ji=t.return}}function Cu(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{au(4,t)}catch(u){Pc(t,n,u)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(u){Pc(t,r,u)}}var o=t.return;try{ru(t)}catch(u){Pc(t,o,u)}break;case 5:var l=t.return;try{ru(t)}catch(u){Pc(t,l,u)}}}catch(u){Pc(t,t.return,u)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var xu,Pu=Math.ceil,_u=w.ReactCurrentDispatcher,Eu=w.ReactCurrentOwner,Su=w.ReactCurrentBatchConfig,Bu=0,Ou=null,Au=null,Du=0,Mu=0,Nu=Pr(0),ju=0,Tu=null,Fu=0,Iu=0,Ru=0,zu=null,Lu=null,Hu=0,Uu=1/0,Wu=null,qu=!1,Gu=null,Vu=null,$u=!1,Yu=null,Qu=0,Xu=0,Ku=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Bu)?Ke():-1!==Ju?Ju:Ju=Ke()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Bu)&&0!==Du?Du&-Du:null!==vo.transition?(0===Zu&&(Zu=ht()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,a){if(50<Xu)throw Xu=0,Ku=null,Error(o(185));mt(e,n,a),0!==(2&Bu)&&e===Ou||(e===Ou&&(0===(2&Bu)&&(Iu|=n),4===ju&&ic(e,Du)),ac(e,a),1===n&&0===Bu&&0===(1&t.mode)&&(Uu=Ke()+500,zr&&Ur()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-lt(o),i=1<<l,u=r[l];-1===u?0!==(i&n)&&0===(i&a)||(r[l]=pt(i,t)):u<=t&&(e.expiredLanes|=i),o&=~i}}(e,t);var a=dt(e,e===Ou?Du:0);if(0===a)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zr=!0,Hr(e)}(uc.bind(null,e)):Hr(uc.bind(null,e)),lr((function(){0===(6&Bu)&&Ur()})),n=null;else{switch(wt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Oc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Ju=-1,Zu=0,0!==(6&Bu))throw Error(o(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var a=dt(e,e===Ou?Du:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=vc(e,a);else{t=a;var r=Bu;Bu|=2;var l=gc();for(Ou===e&&Du===t||(Wu=null,Uu=Ke()+500,dc(e,t));;)try{yc();break}catch(u){pc(e,u)}Co(),_u.current=l,Bu=r,null!==Au?t=0:(Ou=null,Du=0,t=ju)}if(0!==t){if(2===t&&(0!==(r=gt(e))&&(a=r,t=oc(e,r))),1===t)throw n=Tu,dc(e,0),ic(e,a),ac(e,Ke()),n;if(6===t)ic(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],o=r.getSnapshot;r=r.value;try{if(!ia(o(),r))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,a))&&(0!==(l=gt(e))&&(a=l,t=oc(e,l))),1===t))throw n=Tu,dc(e,0),ic(e,a),ac(e,Ke()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:case 5:kc(e,Lu,Wu);break;case 3:if(ic(e,a),(130023424&a)===a&&10<(t=Hu+500-Ke())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(kc.bind(null,e,Lu,Wu),t);break}kc(e,Lu,Wu);break;case 4:if(ic(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var i=31-lt(a);l=1<<i,(i=t[i])>r&&(r=i),a&=~l}if(a=r,10<(a=(120>(a=Ke()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Pu(a/1960))-a)){e.timeoutHandle=ar(kc.bind(null,e,Lu,Wu),a);break}kc(e,Lu,Wu);break;default:throw Error(o(329))}}}return ac(e,Ke()),e.callbackNode===n?rc.bind(null,e):null}function oc(e,t){var n=zu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Lu,Lu=n,null!==t&&lc(t)),e}function lc(e){null===Lu?Lu=e:Lu.push.apply(Lu,e)}function ic(e,t){for(t&=~Ru,t&=~Iu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),a=1<<n;e[n]=-1,t&=~a}}function uc(e){if(0!==(6&Bu))throw Error(o(327));Cc();var t=dt(e,0);if(0===(1&t))return ac(e,Ke()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var a=gt(e);0!==a&&(t=a,n=oc(e,a))}if(1===n)throw n=Tu,dc(e,0),ic(e,t),ac(e,Ke()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Lu,Wu),ac(e,Ke()),null}function cc(e,t){var n=Bu;Bu|=1;try{return e(t)}finally{0===(Bu=n)&&(Uu=Ke()+500,zr&&Ur())}}function sc(e){null!==Yu&&0===Yu.tag&&0===(6&Bu)&&Cc();var t=Bu;Bu|=1;var n=Su.transition,a=bt;try{if(Su.transition=null,bt=1,e)return e()}finally{bt=a,Su.transition=n,0===(6&(Bu=t))&&Ur()}}function fc(){Mu=Nu.current,_r(Nu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Au)for(n=Au.return;null!==n;){var a=n;switch(to(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Nr();break;case 3:ol(),_r(Or),_r(Br),fl();break;case 5:il(a);break;case 4:ol();break;case 13:case 19:_r(ul);break;case 10:xo(a.type._context);break;case 22:case 23:fc()}n=n.return}if(Ou=e,Au=e=Nc(e.current,null),Du=Mu=t,ju=0,Tu=null,Ru=Iu=Fu=0,Lu=zu=null,null!==So){for(t=0;t<So.length;t++)if(null!==(a=(n=So[t]).interleaved)){n.interleaved=null;var r=a.next,o=n.pending;if(null!==o){var l=o.next;o.next=r,a.next=l}n.pending=a}So=null}return e}function pc(e,t){for(;;){var n=Au;try{if(Co(),dl.current=li,yl){for(var a=hl.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}yl=!1}if(gl=0,ml=vl=hl=null,bl=!1,wl=0,Eu.current=null,null===n||null===n.return){ju=1,Tu=t,Au=null;break}e:{var l=e,i=n.return,u=n,c=t;if(t=Du,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var s=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=mi(i);if(null!==g){g.flags&=-257,yi(g,i,u,0,t),1&g.mode&&vi(l,s,t),c=s;var h=(t=g).updateQueue;if(null===h){var v=new Set;v.add(c),t.updateQueue=v}else h.add(c);break e}if(0===(1&t)){vi(l,s,t),hc();break e}c=Error(o(426))}else if(ro&&1&u.mode){var m=mi(i);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),yi(m,i,u,0,t),ho(si(c,u));break e}}l=c=si(c,u),4!==ju&&(ju=2),null===zu?zu=[l]:zu.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Io(l,gi(0,c,t));break e;case 1:u=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vu||!Vu.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Io(l,hi(l,u,t));break e}}l=l.return}while(null!==l)}wc(n)}catch(w){t=w,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function gc(){var e=_u.current;return _u.current=li,null===e?li:e}function hc(){0!==ju&&3!==ju&&2!==ju||(ju=4),null===Ou||0===(268435455&Fu)&&0===(268435455&Iu)||ic(Ou,Du)}function vc(e,t){var n=Bu;Bu|=2;var a=gc();for(Ou===e&&Du===t||(Wu=null,dc(e,t));;)try{mc();break}catch(r){pc(e,r)}if(Co(),Bu=n,_u.current=a,null!==Au)throw Error(o(261));return Ou=null,Du=0,ju}function mc(){for(;null!==Au;)bc(Au)}function yc(){for(;null!==Au&&!Qe();)bc(Au)}function bc(e){var t=xu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?wc(e):Au=t,Eu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$i(n,t,Mu)))return void(Au=n)}else{if(null!==(n=Yi(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return ju=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===ju&&(ju=5)}function kc(e,t,n){var a=bt,r=Su.transition;try{Su.transition=null,bt=1,function(e,t,n,a){do{Cc()}while(null!==Yu);if(0!==(6&Bu))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-lt(n),o=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~o}}(e,l),e===Ou&&(Au=Ou=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$u||($u=!0,Oc(tt,(function(){return Cc(),null}))),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Su.transition,Su.transition=null;var i=bt;bt=1;var u=Bu;Bu|=4,Eu.current=null,function(e,t){if(er=qt,pa(e=da())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(k){n=null;break e}var i=0,u=-1,c=-1,s=0,f=0,d=e,p=null;t:for(;;){for(var g;d!==n||0!==r&&3!==d.nodeType||(u=i+r),d!==l||0!==a&&3!==d.nodeType||(c=i+a),3===d.nodeType&&(i+=d.nodeValue.length),null!==(g=d.firstChild);)p=d,d=g;for(;;){if(d===e)break t;if(p===n&&++s===r&&(u=i),p===l&&++f===a&&(c=i),null!==(g=d.nextSibling))break;p=(d=p).parentNode}d=g}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},qt=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var v=h.memoizedProps,m=h.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:mo(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(k){Pc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}h=tu,tu=!1}(e,n),vu(n,e),ga(tr),qt=!!er,tr=er=null,e.current=n,yu(n,e,r),Xe(),Bu=u,bt=i,Su.transition=l}else e.current=n;if($u&&($u=!1,Yu=e,Qu=r),0===(l=e.pendingLanes)&&(Vu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ke()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)a((r=t[n]).value,{componentStack:r.stack,digest:r.digest});if(qu)throw qu=!1,e=Gu,Gu=null,e;0!==(1&Qu)&&0!==e.tag&&Cc(),0!==(1&(l=e.pendingLanes))?e===Ku?Xu++:(Xu=0,Ku=e):Xu=0,Ur()}(e,t,n,a)}finally{Su.transition=r,bt=a}return null}function Cc(){if(null!==Yu){var e=wt(Qu),t=Su.transition,n=bt;try{if(Su.transition=null,bt=16>e?16:e,null===Yu)var a=!1;else{if(e=Yu,Yu=null,Qu=0,0!==(6&Bu))throw Error(o(331));var r=Bu;for(Bu|=4,Ji=e.current;null!==Ji;){var l=Ji,i=l.child;if(0!==(16&Ji.flags)){var u=l.deletions;if(null!==u){for(var c=0;c<u.length;c++){var s=u[c];for(Ji=s;null!==Ji;){var f=Ji;switch(f.tag){case 0:case 11:case 15:nu(8,f,l)}var d=f.child;if(null!==d)d.return=f,Ji=d;else for(;null!==Ji;){var p=(f=Ji).sibling,g=f.return;if(ou(f),f===s){Ji=null;break}if(null!==p){p.return=g,Ji=p;break}Ji=g}}}var h=l.alternate;if(null!==h){var v=h.child;if(null!==v){h.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Ji=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(l=Ji).flags))switch(l.tag){case 0:case 11:case 15:nu(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Ji=y;break e}Ji=l.return}}var b=e.current;for(Ji=b;null!==Ji;){var w=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,Ji=w;else e:for(i=b;null!==Ji;){if(0!==(2048&(u=Ji).flags))try{switch(u.tag){case 0:case 11:case 15:au(9,u)}}catch(C){Pc(u,u.return,C)}if(u===i){Ji=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Ji=k;break e}Ji=u.return}}if(Bu=r,Ur(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(C){}a=!0}return a}finally{bt=n,Su.transition=t}}return!1}function xc(e,t,n){e=To(e,t=gi(0,t=si(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),ac(e,t))}function Pc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Vu||!Vu.has(a))){t=To(t,e=hi(t,e=si(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),ac(t,e));break}}t=t.return}}function _c(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Du&n)===n&&(4===ju||3===ju&&(130023424&Du)===Du&&500>Ke()-Hu?dc(e,0):Ru|=n),ac(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=st,0===(130023424&(st<<=1))&&(st=4194304)));var n=ec();null!==(e=Ao(e,t))&&(mt(e,t,n),ac(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Bc(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}null!==a&&a.delete(t),Ec(e,n)}function Oc(e,t){return $e(e,t)}function Ac(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,a){return new Ac(e,t,n,a)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,a,r,l){var i=2;if(a=e,"function"===typeof e)Mc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case x:return Tc(n.children,r,l,t);case P:i=8,r|=8;break;case _:return(e=Dc(12,n,t,2|r)).elementType=_,e.lanes=l,e;case O:return(e=Dc(13,n,t,r)).elementType=O,e.lanes=l,e;case A:return(e=Dc(19,n,t,r)).elementType=A,e.lanes=l,e;case N:return Fc(n,r,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:i=10;break e;case S:i=9;break e;case B:i=11;break e;case D:i=14;break e;case M:i=16,a=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dc(i,n,t,r)).elementType=e,t.type=a,t.lanes=l,t}function Tc(e,t,n,a){return(e=Dc(7,e,a,t)).lanes=n,e}function Fc(e,t,n,a){return(e=Dc(22,e,a,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Rc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Lc(e,t,n,a,r,o,l,i,u){return e=new zc(e,t,n,i,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function Hc(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}function Uc(e){if(!e)return Sr;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Mr(n))return Tr(e,n,t)}return t}function Wc(e,t,n,a,r,o,l,i,u){return(e=Lc(n,a,!0,e,0,o,0,i,u)).context=Uc(null),n=e.current,(o=jo(a=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,To(n,o,r),e.current.lanes=r,mt(e,r,a),ac(e,a),e}function qc(e,t,n,a){var r=t.current,o=ec(),l=tc(r);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,l)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=To(r,t,l))&&(nc(e,r,l,o),Fo(e,r,l)),l}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Or.current)wi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wi=!1,function(e,t,n){switch(t.tag){case 3:Ai(t),go();break;case 5:ll(t);break;case 1:Mr(t.type)&&Fr(t);break;case 4:rl(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Er(yo,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Er(ul,1&ul.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ii(e,t,n):(Er(ul,1&ul.current),null!==(e=qi(e,t,n))?e.sibling:null);Er(ul,1&ul.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Ui(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Er(ul,ul.current),a)break;return null;case 22:case 23:return t.lanes=0,_i(e,t,n)}return qi(e,t,n)}(e,t,n);wi=0!==(131072&e.flags)}else wi=!1,ro&&0!==(1048576&t.flags)&&Zr(t,Vr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Wi(e,t),e=t.pendingProps;var r=Dr(t,Br.current);_o(t,n),r=Pl(null,t,a,e,r,n);var l=_l();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(a)?(l=!0,Fr(t)):l=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Mo(t),r.updater=Uo,t.stateNode=r,r._reactInternals=t,Vo(t,a,e,n),t=Oi(null,t,a,!0,l,n)):(t.tag=0,ro&&l&&eo(t),ki(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===B)return 11;if(e===D)return 14}return 2}(a),e=mo(a,e),r){case 0:t=Si(null,t,a,e,n);break e;case 1:t=Bi(null,t,a,e,n);break e;case 11:t=Ci(null,t,a,e,n);break e;case 14:t=xi(null,t,a,mo(a.type,e),n);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Si(e,t,a,r=t.elementType===a?r:mo(a,r),n);case 1:return a=t.type,r=t.pendingProps,Bi(e,t,a,r=t.elementType===a?r:mo(a,r),n);case 3:e:{if(Ai(t),null===e)throw Error(o(387));a=t.pendingProps,r=(l=t.memoizedState).element,No(e,t),Ro(t,a,null,n);var i=t.memoizedState;if(a=i.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Di(e,t,a,n,r=si(Error(o(423)),t));break e}if(a!==r){t=Di(e,t,a,n,r=si(Error(o(424)),t));break e}for(ao=cr(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=Jo(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(go(),a===r){t=qi(e,t,n);break e}ki(e,t,a,n)}t=t.child}return t;case 5:return ll(t),null===e&&co(t),a=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,i=r.children,nr(a,r)?i=null:null!==l&&nr(a,l)&&(t.flags|=32),Ei(e,t),ki(e,t,i,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ii(e,t,n);case 4:return rl(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Ko(t,null,a,n):ki(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,Ci(e,t,a,r=t.elementType===a?r:mo(a,r),n);case 7:return ki(e,t,t.pendingProps,n),t.child;case 8:case 12:return ki(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,l=t.memoizedProps,i=r.value,Er(yo,a._currentValue),a._currentValue=i,null!==l)if(ia(l.value,i)){if(l.children===r.children&&!Or.current){t=qi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){i=l.child;for(var c=u.firstContext;null!==c;){if(c.context===a){if(1===l.tag){(c=jo(-1,n&-n)).tag=2;var s=l.updateQueue;if(null!==s){var f=(s=s.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),s.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Po(l.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(o(341));i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),Po(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}ki(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,_o(t,n),a=a(r=Eo(r)),t.flags|=1,ki(e,t,a,n),t.child;case 14:return r=mo(a=t.type,t.pendingProps),xi(e,t,a,r=mo(a.type,r),n);case 15:return Pi(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:mo(a,r),Wi(e,t),t.tag=1,Mr(a)?(e=!0,Fr(t)):e=!1,_o(t,n),qo(t,a,r),Vo(t,a,r,n),Oi(null,t,a,!0,e,n);case 19:return Ui(e,t,n);case 22:return _i(e,t,n)}throw Error(o(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function es(e,t,n,a,r){var o=n._reactRootContainer;if(o){var l=o;if("function"===typeof r){var i=r;r=function(){var e=Gc(l);i.call(e)}}qc(t,l,e,r)}else l=function(e,t,n,a,r){if(r){if("function"===typeof a){var o=a;a=function(){var e=Gc(l);o.call(e)}}var l=Wc(t,a,e,0,null,!1,0,"",Zc);return e._reactRootContainer=l,e[gr]=l.current,Ua(8===e.nodeType?e.parentNode:e),sc(),l}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var i=a;a=function(){var e=Gc(u);i.call(e)}}var u=Lc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[gr]=u.current,Ua(8===e.nodeType?e.parentNode:e),sc((function(){qc(t,u,n,a)})),u}(n,t,e,r,a);return Gc(l)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sc((function(){qc(null,e,null,null)})),t[gr]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&It(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,Ke()),0===(6&Bu)&&(Uu=Ke()+500,Ur()))}break;case 13:sc((function(){var t=Ao(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),$c(e,1)}},Ct=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nc(t,e,134217728,ec());$c(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Ao(e,t);if(null!==n)nc(n,e,t,ec());$c(e,t)}},Pt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ce=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=kr(a);if(!r)throw Error(o(90));$(a),J(a,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Be=cc,Oe=sc;var ts={usingClientEntryPoint:!1,Events:[br,wr,kr,Ee,Se,cc]},ns={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},as={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rs.isDisabled&&rs.supportsFiber)try{rt=rs.inject(as),ot=rs}catch(se){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ts,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(o(200));return Hc(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(o(299));var n=!1,a="",r=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Lc(e,1,!1,null,0,n,0,a,r),e[gr]=t.current,Ua(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return sc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return es(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(o(405));var a=null!=n&&n.hydratedSources||null,r=!1,l="",i=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,r,0,l,i),e[gr]=t.current,Ua(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return es(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(sc((function(){es(null,null,e,!1,(function(){e._reactRootContainer=null,e[gr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return es(e,t,n,!1,a)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var a=n(164);t.s=a.createRoot,a.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var a=n(791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,o={},c=null,s=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(s=t.ref),t)l.call(t,a)&&!u.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===o[a]&&(o[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:s,props:o,_owner:i.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||g}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||g}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=b.prototype=new y;w.constructor=b,h(w,m.prototype),w.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,x={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,a){var r,o={},l=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)C.call(t,r)&&!P.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=a;else if(1<u){for(var c=Array(u),s=0;s<u;s++)c[s]=arguments[s+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:n,type:e,key:l,ref:i,props:o,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function B(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,r,o,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var u=!1;if(null===e)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case a:u=!0}}if(u)return l=l(u=e),e=""===o?"."+B(u,0):o,k(l)?(r="",null!=e&&(r=e.replace(S,"$&/")+"/"),O(l,t,r,"",(function(e){return e}))):null!=l&&(E(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,r+(!l.key||u&&u.key===l.key?"":(""+l.key).replace(S,"$&/")+"/")+e)),t.push(l)),1;if(u=0,o=""===o?".":o+":",k(e))for(var c=0;c<e.length;c++){var s=o+B(i=e[c],c);u+=O(i,t,r,s,l)}else if(s=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof s)for(e=s.call(e),c=0;!(i=e.next()).done;)u+=O(i=i.value,t,r,s=o+B(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var a=[],r=0;return O(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},N={transition:null},j={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:N,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=r,t.Profiler=l,t.PureComponent=b,t.StrictMode=o,t.Suspense=s,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=h({},e.props),o=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)C.call(t,c)&&!P.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){u=Array(c);for(var s=0;s<c;s++)u[s]=arguments[s+2];r.children=u}return{$$typeof:n,type:e.type,key:o,ref:l,props:r,_owner:i}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<o(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,l=r>>>1;a<l;){var i=2*(a+1)-1,u=e[i],c=i+1,s=e[c];if(0>o(u,n))c<r&&0>o(s,u)?(e[a]=s,e[c]=n,a=c):(e[a]=u,e[i]=n,a=i);else{if(!(c<r&&0>o(s,n)))break e;e[a]=s,e[c]=n,a=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,u=i.now();t.unstable_now=function(){return i.now()-u}}var c=[],s=[],f=1,d=null,p=3,g=!1,h=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=a(s);null!==t;){if(null===t.callback)r(s);else{if(!(t.startTime<=e))break;r(s),t.sortIndex=t.expirationTime,n(c,t)}t=a(s)}}function k(e){if(v=!1,w(e),!h)if(null!==a(c))h=!0,N(C);else{var t=a(s);null!==t&&j(k,t.startTime-e)}}function C(e,n){h=!1,v&&(v=!1,y(E),E=-1),g=!0;var o=p;try{for(w(n),d=a(c);null!==d&&(!(d.expirationTime>n)||e&&!O());){var l=d.callback;if("function"===typeof l){d.callback=null,p=d.priorityLevel;var i=l(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?d.callback=i:d===a(c)&&r(c),w(n)}else r(c);d=a(c)}if(null!==d)var u=!0;else{var f=a(s);null!==f&&j(k,f.startTime-n),u=!1}return u}finally{d=null,p=o,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,P=!1,_=null,E=-1,S=5,B=-1;function O(){return!(t.unstable_now()-B<S)}function A(){if(null!==_){var e=t.unstable_now();B=e;var n=!0;try{n=_(!0,e)}finally{n?x():(P=!1,_=null)}}else P=!1}if("function"===typeof b)x=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,M=D.port2;D.port1.onmessage=A,x=function(){M.postMessage(null)}}else x=function(){m(A,0)};function N(e){_=e,P||(P=!0,x())}function j(e,n){E=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||g||(h=!0,N(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var l=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?l+o:l:o=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:f++,callback:r,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>l?(e.sortIndex=o,n(s,e),null===a(c)&&e===a(s)&&(v?(y(E),E=-1):v=!0,j(k,o-l))):(e.sortIndex=i,n(c,e),h||g||(h=!0,N(C))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},662:function(e){"use strict";var t=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,n){var a,r,o;return n=n||{},a=JSON.stringify([1],void 0,void 0===n.indent?2:n.indent).slice(2,-3),r=""===a?1/0:void 0===n.maxLength?80:n.maxLength,o=n.replacer,function e(n,l,i){var u,c,s,f,d,p,g,h,v,m,y,b;if(n&&"function"===typeof n.toJSON&&(n=n.toJSON()),void 0===(y=JSON.stringify(n,o)))return y;if(g=r-l.length-i,y.length<=g&&(v=y.replace(t,(function(e,t){return t||e+" "}))).length<=g)return v;if(null!=o&&(n=JSON.parse(y),o=void 0),"object"===typeof n&&null!==n){if(h=l+a,s=[],c=0,Array.isArray(n))for(m="[",u="]",g=n.length;c<g;c++)s.push(e(n[c],h,c===g-1?0:1)||"null");else for(m="{",u="}",g=(p=Object.keys(n)).length;c<g;c++)f=p[c],d=JSON.stringify(f)+": ",void 0!==(b=e(n[f],h,d.length+(c===g-1?0:1)))&&s.push(d+b);if(s.length>0)return[m,a+s.join(",\n"+h),u].join("\n"+l)}return y}(e,"",0)}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var o=Object.create(null);n.r(o);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){l[e]=function(){return a[e]}}));return l.default=function(){return a},n.d(o,l),o}}(),n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".c4e7f8f9.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="client:";n.l=function(a,r,o,l){if(e[a])e[a].push(r);else{var i,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var f=c[s];if(f.getAttribute("src")==a||f.getAttribute("data-webpack")==t+o){i=f;break}}i||(u=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+o),i.src=a),e[a]=[r];var d=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var r=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,a){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise((function(n,a){r=e[t]=[n,a]}));a.push(r[2]=o);var l=n.p+n.u(t),i=new Error;n.l(l,(function(a){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+l+")",i.name="ChunkLoadError",i.type=o,i.request=l,r[1](i)}}),"chunk-"+t,t)}};var t=function(t,a){var r,o,l=a[0],i=a[1],u=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(u)u(n)}for(t&&t(a);c<l.length;c++)o=l[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},a=self.webpackChunkclient=self.webpackChunkclient||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}(),function(){"use strict";var e={};n.r(e),n.d(e,{JsonPatchError:function(){return xt},_areEquals:function(){return Nt},applyOperation:function(){return Bt},applyPatch:function(){return Ot},applyReducer:function(){return At},deepClone:function(){return Pt},getValueByPointer:function(){return St},validate:function(){return Mt},validator:function(){return Dt}});var t={};n.r(t),n.d(t,{compare:function(){return Ht},generate:function(){return zt},observe:function(){return Rt},unobserve:function(){return It}});var a={};n.r(a),n.d(a,{aggregate:function(){return hf},bin:function(){return vf},collect:function(){return yf},compare:function(){return bf},countpattern:function(){return kf},cross:function(){return Cf},density:function(){return Ef},dotbin:function(){return Df},expression:function(){return Mf},extent:function(){return jf},facet:function(){return Ff},field:function(){return If},filter:function(){return zf},flatten:function(){return Lf},fold:function(){return Hf},formula:function(){return Uf},generate:function(){return Wf},impute:function(){return Vf},joinaggregate:function(){return $f},kde:function(){return Yf},key:function(){return Qf},load:function(){return Kf},lookup:function(){return Zf},multiextent:function(){return ed},multivalues:function(){return nd},params:function(){return rd},pivot:function(){return od},prefacet:function(){return ld},project:function(){return id},proxy:function(){return ud},quantile:function(){return cd},relay:function(){return sd},sample:function(){return fd},sequence:function(){return dd},sieve:function(){return pd},subflow:function(){return Tf},timeunit:function(){return gd},tupleindex:function(){return vd},values:function(){return md},window:function(){return Cd}});var r={};n.r(r),n.d(r,{interpolate:function(){return Kg},interpolateArray:function(){return Wg},interpolateBasis:function(){return Ag},interpolateBasisClosed:function(){return Dg},interpolateCubehelix:function(){return Kv},interpolateCubehelixLong:function(){return Jv},interpolateDate:function(){return Gg},interpolateDiscrete:function(){return tv},interpolateHcl:function(){return Tv},interpolateHclLong:function(){return Fv},interpolateHsl:function(){return pv},interpolateHslLong:function(){return gv},interpolateHue:function(){return nv},interpolateLab:function(){return Nv},interpolateNumber:function(){return Vg},interpolateNumberArray:function(){return Hg},interpolateObject:function(){return $g},interpolateRgb:function(){return Ig},interpolateRgbBasis:function(){return zg},interpolateRgbBasisClosed:function(){return Lg},interpolateRound:function(){return Jg},interpolateString:function(){return Xg},interpolateTransformCss:function(){return uv},interpolateTransformSvg:function(){return cv},interpolateZoom:function(){return fv},piecewise:function(){return Uh},quantize:function(){return Zv}});var o={};n.r(o),n.d(o,{bound:function(){return Bx},identifier:function(){return Dx},mark:function(){return Mx},overlap:function(){return Nx},render:function(){return Lx},viewlayout:function(){return uP}});var l={};n.r(l),n.d(l,{axisticks:function(){return sP},datajoin:function(){return fP},encode:function(){return pP},legendentries:function(){return gP},linkpath:function(){return bP},pie:function(){return PP},scale:function(){return SP},sortitems:function(){return DP},stack:function(){return FP}});var i={};n.r(i),n.d(i,{contour:function(){return bB},geojson:function(){return CB},geopath:function(){return xB},geopoint:function(){return PB},geoshape:function(){return _B},graticule:function(){return EB},heatmap:function(){return SB},isocontour:function(){return cB},kde2d:function(){return vB},projection:function(){return OB}});var u={};n.r(u),n.d(u,{force:function(){return _O}});var c={};n.r(c),n.d(c,{nest:function(){return MA},pack:function(){return RA},partition:function(){return LA},stratify:function(){return HA},tree:function(){return qA},treelinks:function(){return GA},treemap:function(){return YA}});var s={};n.r(s),n.d(s,{label:function(){return yD}});var f={};n.r(f),n.d(f,{loess:function(){return wD},regression:function(){return CD}});var d={};n.r(d),n.d(d,{voronoi:function(){return tM}});var p={};n.r(p),n.d(p,{wordcloud:function(){return vM}});var g={};n.r(g),n.d(g,{crossfilter:function(){return xM},resolvefilter:function(){return PM}});var h={};n.r(h),n.d(h,{Bounds:function(){return hb},CanvasHandler:function(){return Vk},CanvasRenderer:function(){return Kk},DATE:function(){return Eo},DAY:function(){return So},DAYOFYEAR:function(){return Bo},Dataflow:function(){return Ic},Debug:function(){return fn},Error:function(){return un},EventStream:function(){return mc},Gradient:function(){return by},GroupItem:function(){return mb},HOURS:function(){return Oo},Handler:function(){return Bk},Info:function(){return sn},Item:function(){return vb},MILLISECONDS:function(){return Mo},MINUTES:function(){return Ao},MONTH:function(){return Po},Marks:function(){return dk},MultiPulse:function(){return Ac},None:function(){return ln},Operator:function(){return gc},Parameters:function(){return fc},Pulse:function(){return Ec},QUARTER:function(){return xo},RenderType:function(){return HC},Renderer:function(){return Ak},ResourceLoader:function(){return yb},SECONDS:function(){return Do},SVGHandler:function(){return Zk},SVGRenderer:function(){return PC},SVGStringRenderer:function(){return RC},Scenegraph:function(){return wk},TIME_UNITS:function(){return No},Transform:function(){return zc},View:function(){return nI},WEEK:function(){return _o},Warn:function(){return cn},YEAR:function(){return Co},accessor:function(){return qt},accessorFields:function(){return Vt},accessorName:function(){return Gt},array:function(){return Rn},ascending:function(){return Un},bandwidthNRD:function(){return is},bin:function(){return us},bootstrapCI:function(){return fs},boundClip:function(){return QC},boundContext:function(){return zb},boundItem:function(){return pk},boundMark:function(){return hk},boundStroke:function(){return kb},changeset:function(){return cc},clampRange:function(){return zn},codegenExpression:function(){return qN},compare:function(){return Hn},constant:function(){return Vn},cumulativeLogNormal:function(){return Es},cumulativeNormal:function(){return ws},cumulativeUniform:function(){return Ms},dayofyear:function(){return Lo},debounce:function(){return $n},defaultLocale:function(){return mu},definition:function(){return Hc},densityLogNormal:function(){return _s},densityNormal:function(){return bs},densityUniform:function(){return Ds},domChild:function(){return Pk},domClear:function(){return _k},domCreate:function(){return Ck},domFind:function(){return xk},dotbin:function(){return ds},error:function(){return Xt},expressionFunction:function(){return QT},extend:function(){return Yn},extent:function(){return Qn},extentIndex:function(){return Xn},falsy:function(){return rn},fastmap:function(){return ea},field:function(){return Jt},flush:function(){return ta},font:function(){return rk},fontFamily:function(){return ak},fontSize:function(){return Jw},format:function(){return qu},formatLocale:function(){return cu},formats:function(){return Gu},hasOwnProperty:function(){return Jn},id:function(){return Zt},identity:function(){return en},inferType:function(){return Iu},inferTypes:function(){return Ru},ingest:function(){return ac},inherits:function(){return na},inrange:function(){return aa},interpolate:function(){return Wm},interpolateColors:function(){return Lm},interpolateRange:function(){return zm},intersect:function(){return qC},intersectBoxLine:function(){return Xb},intersectPath:function(){return Vb},intersectPoint:function(){return $b},intersectRule:function(){return Qb},isArray:function(){return pn},isBoolean:function(){return ra},isDate:function(){return oa},isFunction:function(){return Ln},isIterable:function(){return la},isNumber:function(){return ia},isObject:function(){return gn},isRegExp:function(){return ua},isString:function(){return ca},isTuple:function(){return ec},key:function(){return sa},lerp:function(){return fa},lineHeight:function(){return Zw},loader:function(){return Yu},locale:function(){return vu},logger:function(){return dn},lruCache:function(){return da},markup:function(){return vC},merge:function(){return pa},mergeConfig:function(){return vn},multiLineOffset:function(){return tk},one:function(){return nn},pad:function(){return ha},panLinear:function(){return Sn},panLog:function(){return Bn},panPow:function(){return On},panSymlog:function(){return An},parse:function(){return cH},parseExpression:function(){return HN},parseSelector:function(){return pI},path:function(){return _p},pathCurves:function(){return ky},pathEqual:function(){return KC},pathParse:function(){return Sy},pathRectangle:function(){return Ky},pathRender:function(){return Ry},pathSymbols:function(){return Uy},pathTrail:function(){return Jy},peek:function(){return bn},point:function(){return Sk},projection:function(){return QS},quantileLogNormal:function(){return Ss},quantileNormal:function(){return ks},quantileUniform:function(){return Ns},quantiles:function(){return os},quantizeInterpolator:function(){return Hm},quarter:function(){return Fn},quartiles:function(){return ls},random:function(){return cs},randomInteger:function(){return gs},randomKDE:function(){return xs},randomLCG:function(){return ps},randomLogNormal:function(){return Bs},randomMixture:function(){return Os},randomNormal:function(){return Cs},randomUniform:function(){return js},read:function(){return $u},regressionExp:function(){return Hs},regressionLinear:function(){return zs},regressionLoess:function(){return Vs},regressionLog:function(){return Ls},regressionPoly:function(){return qs},regressionPow:function(){return Us},regressionQuad:function(){return Ws},renderModule:function(){return WC},repeat:function(){return ga},resetDefaultLocale:function(){return yu},resetSVGClipId:function(){return pb},resetSVGDefIds:function(){return JC},responseType:function(){return Vu},runtimeContext:function(){return oF},sampleCurve:function(){return Xs},sampleLogNormal:function(){return Ps},sampleNormal:function(){return ys},sampleUniform:function(){return As},scale:function(){return Om},sceneEqual:function(){return XC},sceneFromJSON:function(){return yk},scenePickVisit:function(){return iw},sceneToJSON:function(){return mk},sceneVisit:function(){return lw},sceneZOrder:function(){return ow},scheme:function(){return $m},serializeXML:function(){return mC},setRandom:function(){return ss},span:function(){return va},splitAccessPath:function(){return Kt},stringValue:function(){return ma},textMetrics:function(){return Vw},timeBin:function(){return Al},timeFloor:function(){return nl},timeFormatLocale:function(){return gu},timeInterval:function(){return ul},timeOffset:function(){return fl},timeSequence:function(){return gl},timeUnitSpecifier:function(){return Io},timeUnits:function(){return To},toBoolean:function(){return ya},toDate:function(){return wa},toNumber:function(){return wn},toSet:function(){return Ca},toString:function(){return ka},transform:function(){return Uc},transforms:function(){return Lc},truncate:function(){return xa},truthy:function(){return an},tupleid:function(){return tc},typeParsers:function(){return ju},utcFloor:function(){return ol},utcInterval:function(){return cl},utcOffset:function(){return dl},utcSequence:function(){return hl},utcdayofyear:function(){return Vo},utcquarter:function(){return In},utcweek:function(){return $o},version:function(){return sH},visitArray:function(){return Pa},week:function(){return Ho},writeConfig:function(){return mn},zero:function(){return tn},zoomLinear:function(){return Mn},zoomLog:function(){return Nn},zoomPow:function(){return jn},zoomSymlog:function(){return Tn}});var v={};n.r(v),n.d(v,{accessPathDepth:function(){return dU},accessPathWithDatum:function(){return lU},compile:function(){return c3},contains:function(){return LH},deepEqual:function(){return MH},deleteNestedProperty:function(){return rU},duplicate:function(){return NH},entries:function(){return eU},every:function(){return UH},fieldIntersection:function(){return XH},flatAccessWithDatum:function(){return iU},getFirstDefined:function(){return pU},hasIntersection:function(){return YH},hash:function(){return RH},internalField:function(){return mU},isBoolean:function(){return tU},isEmpty:function(){return KH},isEqual:function(){return VH},isInternalField:function(){return yU},isNullOrFalse:function(){return zH},isNumeric:function(){return wU},keys:function(){return JH},logicalExpr:function(){return aU},mergeDeep:function(){return WH},never:function(){return jH},normalize:function(){return yK},normalizeAngle:function(){return bU},omit:function(){return FH},pick:function(){return TH},prefixGenerator:function(){return QH},removePathFromField:function(){return fU},replaceAll:function(){return sU},replacePathInField:function(){return cU},resetIdCounter:function(){return vU},setEqual:function(){return $H},some:function(){return HH},stringify:function(){return IH},titleCase:function(){return oU},unique:function(){return GH},uniqueId:function(){return hU},vals:function(){return ZH},varName:function(){return nU},version:function(){return d3}});var m={};n.r(m),n.d(m,{dark:function(){return v3},excel:function(){return y3},fivethirtyeight:function(){return x3},ggplot2:function(){return _3},googlecharts:function(){return V3},latimes:function(){return D3},powerbi:function(){return o4},quartz:function(){return j3},urbaninstitute:function(){return U3},version:function(){return l4},vox:function(){return F3}});var y,b=n(791),w=n.t(b,2),k=n(250);function C(e){if(Array.isArray(e))return e}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function P(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){return C(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(u){i=!0,r=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return o}}(e,t)||P(e,t)||_()}function S(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function B(e){return function(e){if(Array.isArray(e))return x(e)}(e)||S(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function D(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){if(t&&("object"===F(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function z(e){var t=T();return function(){var n,a=j(e);if(t){var r=j(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return R(this,n)}}function L(e,t,n){return L=T()?Reflect.construct.bind():function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&M(r,n.prototype),r},L.apply(null,arguments)}function H(e){var t="function"===typeof Map?new Map:void 0;return H=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return L(e,arguments,j(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),M(a,e)},H(e)}function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},U.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(y||(y={}));var W,q="popstate";function G(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function V(e){return{usr:e.state,key:e.key}}function $(e,t,n,a){return void 0===n&&(n=null),U({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Q(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function Y(e){var t=e.pathname,n=void 0===t?"/":t,a=e.search,r=void 0===a?"":a,o=e.hash,l=void 0===o?"":o;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),l&&"#"!==l&&(n+="#"===l.charAt(0)?l:"#"+l),n}function Q(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function X(e,t,n,a){void 0===a&&(a={});var r=a,o=r.window,l=void 0===o?document.defaultView:o,i=r.v5Compat,u=void 0!==i&&i,c=l.history,s=y.Pop,f=null;function d(){s=y.Pop,f&&f({action:s,location:p.location})}var p={get action(){return s},get location(){return e(l,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(q,d),f=e,function(){l.removeEventListener(q,d),f=null}},createHref:function(e){return t(l,e)},push:function(e,t){s=y.Push;var a=$(p.location,e,t);n&&n(a,e);var r=V(a),o=p.createHref(a);try{c.pushState(r,"",o)}catch(Xt){l.location.assign(o)}u&&f&&f({action:s,location:a})},replace:function(e,t){s=y.Replace;var a=$(p.location,e,t);n&&n(a,e);var r=V(a),o=p.createHref(a);c.replaceState(r,"",o),u&&f&&f({action:s,location:a})},go:function(e){return c.go(e)}};return p}function K(e,t,n){void 0===n&&(n="/");var a=re(("string"===typeof t?Q(t):t).pathname||"/",n);if(null==a)return null;var r=J(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(r);for(var o=null,l=0;null==o&&l<r.length;++l)o=ne(r[l],a);return o}function J(e,t,n,a){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a=""),e.forEach((function(e,r){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(oe(o.relativePath.startsWith(a),'Absolute route path "'+o.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(a.length));var l=ce([a,o.relativePath]),i=n.concat(o);e.children&&e.children.length>0&&(oe(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),J(e.children,t,i,l)),(null!=e.path||e.index)&&t.push({path:l,score:te(l,e.index),routesMeta:i})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(W||(W={}));var Z=/^:\w+$/,ee=function(e){return"*"===e};function te(e,t){var n=e.split("/"),a=n.length;return n.some(ee)&&(a+=-2),t&&(a+=2),n.filter((function(e){return!ee(e)})).reduce((function(e,t){return e+(Z.test(t)?3:""===t?1:10)}),a)}function ne(e,t){for(var n=e.routesMeta,a={},r="/",o=[],l=0;l<n.length;++l){var i=n[l],u=l===n.length-1,c="/"===r?t:t.slice(r.length)||"/",s=ae({path:i.relativePath,caseSensitive:i.caseSensitive,end:u},c);if(!s)return null;Object.assign(a,s.params);var f=i.route;o.push({params:a,pathname:ce([r,s.pathname]),pathnameBase:se(ce([r,s.pathnameBase])),route:f}),"/"!==s.pathnameBase&&(r=ce([r,s.pathnameBase]))}return o}function ae(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);le("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return a.push(t),"([^\\/]+)"}));e.endsWith("*")?(a.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");return[new RegExp(r,t?void 0:"i"),a]}(e.path,e.caseSensitive,e.end),a=E(n,2),r=a[0],o=a[1],l=t.match(r);if(!l)return null;var i=l[0],u=i.replace(/(.)\/+$/,"$1"),c=l.slice(1),s=o.reduce((function(e,t,n){if("*"===t){var a=c[n]||"";u=i.slice(0,i.length-a.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Xt){return le(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Xt+")."),e}}(c[n]||"",t),e}),{});return{params:s,pathname:i,pathnameBase:u,pattern:e}}function re(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function oe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function le(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ie(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ue(e,t,n,a){var r;void 0===a&&(a=!1),"string"===typeof e?r=Q(e):(oe(!(r=U({},e)).pathname||!r.pathname.includes("?"),ie("?","pathname","search",r)),oe(!r.pathname||!r.pathname.includes("#"),ie("#","pathname","hash",r)),oe(!r.search||!r.search.includes("#"),ie("#","search","hash",r)));var o,l=""===e||""===r.pathname,i=l?"/":r.pathname;if(a||null==i)o=n;else{var u=t.length-1;if(i.startsWith("..")){for(var c=i.split("/");".."===c[0];)c.shift(),u-=1;r.pathname=c.join("/")}o=u>=0?t[u]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Q(e):e,a=n.pathname,r=n.search,o=void 0===r?"":r,l=n.hash,i=void 0===l?"":l,u=a?a.startsWith("/")?a:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(a,t):t;return{pathname:u,search:fe(o),hash:de(i)}}(r,o),f=i&&"/"!==i&&i.endsWith("/"),d=(l||"."===i)&&n.endsWith("/");return s.pathname.endsWith("/")||!f&&!d||(s.pathname+="/"),s}var ce=function(e){return e.join("/").replace(/\/\/+/g,"/")},se=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},fe=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},de=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},pe=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n)}(H(Error));var ge=D((function e(t,n,a){O(this,e),this.status=t,this.statusText=n||"",this.data=a}));function he(e){return e instanceof ge}function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ve.apply(this,arguments)}var me="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ye=b.useState,be=b.useEffect,we=b.useLayoutEffect,ke=b.useDebugValue;function Ce(e){var t=e.getSnapshot,n=e.value;try{var a=t();return!me(n,a)}catch(Xt){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,w.useSyncExternalStore;var xe=b.createContext(null);var Pe=b.createContext(null);var _e=b.createContext(null);var Ee=b.createContext(null);var Se=b.createContext(null);var Be=b.createContext(null);var Oe=b.createContext({outlet:null,matches:[]});var Ae=b.createContext(null);function De(){return null!=b.useContext(Be)}function Me(){return De()||oe(!1),b.useContext(Be).location}function Ne(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function je(){De()||oe(!1);var e=b.useContext(Se),t=e.basename,n=e.navigator,a=b.useContext(Oe).matches,r=Me().pathname,o=JSON.stringify(Ne(a).map((function(e){return e.pathnameBase}))),l=b.useRef(!1);b.useEffect((function(){l.current=!0}));var i=b.useCallback((function(e,a){if(void 0===a&&(a={}),l.current)if("number"!==typeof e){var i=ue(e,JSON.parse(o),r,"path"===a.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:ce([t,i.pathname])),(a.replace?n.replace:n.push)(i,a.state,a)}else n.go(e)}),[t,n,o,r]);return i}var Te=b.createContext(null);function Fe(e,t){var n=(void 0===t?{}:t).relative,a=b.useContext(Oe).matches,r=Me().pathname,o=JSON.stringify(Ne(a).map((function(e){return e.pathnameBase})));return b.useMemo((function(){return ue(e,JSON.parse(o),r,"path"===n)}),[e,o,r,n])}function Ie(){var e=function(){var e,t=b.useContext(Ae),n=We(ze.UseRouteError),a=b.useContext(Oe),r=a.matches[a.matches.length-1];if(t)return t;return a||oe(!1),!r.route.id&&oe(!1),null==(e=n.errors)?void 0:e[r.route.id]}(),t=he(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unhandled Thrown Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:r},n):null,b.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",b.createElement("code",{style:o},"errorElement")," props on\xa0",b.createElement("code",{style:o},"<Route>")))}var Re,ze,Le=function(e){N(n,e);var t=z(n);function n(e){var a;return O(this,n),(a=t.call(this,e)).state={location:e.location,error:e.error},a}return D(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?b.createElement(Ae.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(b.Component);function He(e){var t=e.routeContext,n=e.match,a=e.children,r=b.useContext(xe);return r&&n.route.errorElement&&(r._deepestRenderedBoundaryId=n.route.id),b.createElement(Oe.Provider,{value:t},a)}function Ue(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var a=e,r=null==n?void 0:n.errors;if(null!=r){var o=a.findIndex((function(e){return e.route.id&&(null==r?void 0:r[e.route.id])}));o>=0||oe(!1),a=a.slice(0,Math.min(a.length,o+1))}return a.reduceRight((function(e,o,l){var i=o.route.id?null==r?void 0:r[o.route.id]:null,u=n?o.route.errorElement||b.createElement(Ie,null):null,c=function(){return b.createElement(He,{match:o,routeContext:{outlet:e,matches:t.concat(a.slice(0,l+1))}},i?u:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===l)?b.createElement(Le,{location:n.location,component:u,error:i,children:c()}):c()}),null)}function We(e){var t=b.useContext(_e);return t||oe(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(Re||(Re={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ze||(ze={}));var qe;function Ge(e){return function(e){var t=b.useContext(Oe).outlet;return t?b.createElement(Te.Provider,{value:e},t):t}(e.context)}function Ve(e){oe(!1)}function $e(e){var t=e.basename,n=void 0===t?"/":t,a=e.children,r=void 0===a?null:a,o=e.location,l=e.navigationType,i=void 0===l?y.Pop:l,u=e.navigator,c=e.static,s=void 0!==c&&c;De()&&oe(!1);var f=n.replace(/^\/*/,"/"),d=b.useMemo((function(){return{basename:f,navigator:u,static:s}}),[f,u,s]);"string"===typeof o&&(o=Q(o));var p=o,g=p.pathname,h=void 0===g?"/":g,v=p.search,m=void 0===v?"":v,w=p.hash,k=void 0===w?"":w,C=p.state,x=void 0===C?null:C,P=p.key,_=void 0===P?"default":P,E=b.useMemo((function(){var e=re(h,f);return null==e?null:{pathname:e,search:m,hash:k,state:x,key:_}}),[f,h,m,k,x,_]);return null==E?null:b.createElement(Se.Provider,{value:d},b.createElement(Be.Provider,{children:r,value:{location:E,navigationType:i}}))}function Ye(e){var t=e.children,n=e.location,a=b.useContext(Pe);return function(e,t){De()||oe(!1);var n,a=b.useContext(_e),r=b.useContext(Oe).matches,o=r[r.length-1],l=o?o.params:{},i=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,Me());if(t){var c,s="string"===typeof t?Q(t):t;"/"===i||(null==(c=s.pathname)?void 0:c.startsWith(i))||oe(!1),n=s}else n=u;var f=n.pathname||"/",d=K(e,{pathname:"/"===i?f:f.slice(i.length)||"/"}),p=Ue(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ce([i,e.pathname]),pathnameBase:"/"===e.pathnameBase?i:ce([i,e.pathnameBase])})})),r,a||void 0);return t?b.createElement(Be.Provider,{value:{location:ve({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:y.Pop}},p):p}(a&&!t?a.router.routes:Xe(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(qe||(qe={}));var Qe=new Promise((function(){}));b.Component;function Xe(e,t){void 0===t&&(t=[]);var n=[];return b.Children.forEach(e,(function(e,a){if(b.isValidElement(e))if(e.type!==b.Fragment){e.type!==Ve&&oe(!1),e.props.index&&e.props.children&&oe(!1);var r=[].concat(B(t),[a]),o={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Xe(e.props.children,r)),n.push(o)}else n.push.apply(n,Xe(e.props.children,t))})),n}function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ke.apply(this,arguments)}function Je(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}var Ze=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function et(e){var t,n=e.basename,a=e.children,r=e.window,o=b.useRef();null==o.current&&(o.current=(void 0===(t={window:r,v5Compat:!0})&&(t={}),X((function(e,t){var n=Q(e.location.hash.substr(1)),a=n.pathname,r=void 0===a?"/":a,o=n.search,l=void 0===o?"":o,i=n.hash;return $("",{pathname:r,search:l,hash:void 0===i?"":i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),a="";if(n&&n.getAttribute("href")){var r=e.location.href,o=r.indexOf("#");a=-1===o?r:r.slice(0,o)}return a+"#"+("string"===typeof t?t:Y(t))}),(function(e,t){G("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var l=o.current,i=E(b.useState({action:l.action,location:l.location}),2),u=i[0],c=i[1];return b.useLayoutEffect((function(){return l.listen(c)}),[l]),b.createElement($e,{basename:n,children:a,location:u.location,navigationType:u.action,navigator:l})}var tt=b.forwardRef((function(e,t){var n=e.onClick,a=e.relative,r=e.reloadDocument,o=e.replace,l=e.state,i=e.target,u=e.to,c=e.preventScrollReset,s=Je(e,Ze),f=function(e,t){var n=(void 0===t?{}:t).relative;De()||oe(!1);var a=b.useContext(Se),r=a.basename,o=a.navigator,l=Fe(e,{relative:n}),i=l.hash,u=l.pathname,c=l.search,s=u;return"/"!==r&&(s="/"===u?r:ce([r,u])),o.createHref({pathname:s,search:c,hash:i})}(u,{relative:a}),d=function(e,t){var n=void 0===t?{}:t,a=n.target,r=n.replace,o=n.state,l=n.preventScrollReset,i=n.relative,u=je(),c=Me(),s=Fe(e,{relative:i});return b.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,a)){t.preventDefault();var n=void 0!==r?r:Y(c)===Y(s);u(e,{replace:n,state:o,preventScrollReset:l,relative:i})}}),[c,u,s,r,o,a,e,l,i])}(u,{replace:o,state:l,target:i,preventScrollReset:c,relative:a});return b.createElement("a",Ke({},s,{href:f,onClick:r?n:function(e){n&&n(e),e.defaultPrevented||d(e)},ref:t,target:i}))}));var nt,at;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(nt||(nt={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(at||(at={}));var rt=n(184);var ot=function(){return(0,rt.jsx)(rt.Fragment,{children:(0,rt.jsx)(Ge,{})})},lt={units:{nsw:"GWh",vic:"GWh",qld:"GWh",wa:"GWh",sa:"GWh",tas:"GWh",nt:"GWh",aus:"GWh",priv:"GWh"},values:[{year:1960,values:[{id:"New South Wales",categories:"nsw",value:9071},{id:"Victoria",categories:"vic",value:6302},{id:"Queensland",categories:"qld",value:2370},{id:"Western Australia",categories:"wa",value:1774},{id:"South Australia",categories:"sa",value:894},{id:"Tasmania",categories:"tas",value:2567},{id:"Northern Territory",categories:"nt",value:null},{id:"Private",categories:"priv",value:1794}],values2:[{cat:"aus",value:22978}]},{year:1961,values:[{id:"New South Wales",categories:"nsw",value:9746},{id:"Victoria",categories:"vic",value:6532},{id:"Queensland",categories:"qld",value:2515},{id:"Western Australia",categories:"wa",value:2032},{id:"South Australia",categories:"sa",value:960},{id:"Tasmania",categories:"tas",value:2675},{id:"Northern Territory",categories:"nt",value:null},{id:"Private",categories:"priv",value:1768}],values2:[{cat:"aus",value:24460}]},{year:1962,values:[{id:"New South Wales",categories:"nsw",value:11257},{id:"Victoria",categories:"vic",value:6923},{id:"Queensland",categories:"qld",value:2727},{id:"Western Australia",categories:"wa",value:2176},{id:"South Australia",categories:"sa",value:1068},{id:"Tasmania",categories:"tas",value:3145},{id:"Northern Territory",categories:"nt",value:null},{id:"Private",categories:"priv",value:1931}],values2:[{cat:"aus",value:27296}]},{year:1963,values:[{id:"New South Wales",categories:"nsw",value:12799},{id:"Victoria",categories:"vic",value:7601},{id:"Queensland",categories:"qld",value:3052},{id:"Western Australia",categories:"wa",value:2377},{id:"South Australia",categories:"sa",value:1141},{id:"Tasmania",categories:"tas",value:3335},{id:"Northern Territory",categories:"nt",value:null},{id:"Private",categories:"priv",value:2150}],values2:[{cat:"aus",value:30304}]},{year:1964,values:[{id:"New South Wales",categories:"nsw",value:14067},{id:"Victoria",categories:"vic",value:8285},{id:"Queensland",categories:"qld",value:3309},{id:"Western Australia",categories:"wa",value:2674},{id:"South Australia",categories:"sa",value:1277},{id:"Tasmania",categories:"tas",value:3708},{id:"Northern Territory",categories:"nt",value:75},{id:"Private",categories:"priv",value:2276}],values2:[{cat:"aus",value:33395}]},{year:1965,values:[{id:"New South Wales",categories:"nsw",value:14496},{id:"Victoria",categories:"vic",value:9372},{id:"Queensland",categories:"qld",value:3667},{id:"Western Australia",categories:"wa",value:3031},{id:"South Australia",categories:"sa",value:1426},{id:"Tasmania",categories:"tas",value:3824},{id:"Northern Territory",categories:"nt",value:89},{id:"Private",categories:"priv",value:2375}],values2:[{cat:"aus",value:35904}]},{year:1966,values:[{id:"New South Wales",categories:"nsw",value:15529},{id:"Victoria",categories:"vic",value:10323},{id:"Queensland",categories:"qld",value:4032},{id:"Western Australia",categories:"wa",value:3201},{id:"South Australia",categories:"sa",value:1611},{id:"Tasmania",categories:"tas",value:4032},{id:"Northern Territory",categories:"nt",value:101},{id:"Private",categories:"priv",value:2655}],values2:[{cat:"aus",value:38829}]},{year:1967,values:[{id:"New South Wales",categories:"nsw",value:16969},{id:"Victoria",categories:"vic",value:10989},{id:"Queensland",categories:"qld",value:4562},{id:"Western Australia",categories:"wa",value:3636},{id:"South Australia",categories:"sa",value:1736},{id:"Tasmania",categories:"tas",value:3621},{id:"Northern Territory",categories:"nt",value:122},{id:"Private",categories:"priv",value:2895}],values2:[{cat:"aus",value:41636}]},{year:1968,values:[{id:"New South Wales",categories:"nsw",value:17833},{id:"Victoria",categories:"vic",value:11956},{id:"Queensland",categories:"qld",value:4968},{id:"Western Australia",categories:"wa",value:3857},{id:"South Australia",categories:"sa",value:2058},{id:"Tasmania",categories:"tas",value:4611},{id:"Northern Territory",categories:"nt",value:145},{id:"Private",categories:"priv",value:3360}],values2:[{cat:"aus",value:45427}]},{year:1969,values:[{id:"New South Wales",categories:"nsw",value:19744},{id:"Victoria",categories:"vic",value:12630},{id:"Queensland",categories:"qld",value:5327},{id:"Western Australia",categories:"wa",value:4164},{id:"South Australia",categories:"sa",value:2350},{id:"Tasmania",categories:"tas",value:5025},{id:"Northern Territory",categories:"nt",value:173},{id:"Private",categories:"priv",value:4415}],values2:[{cat:"aus",value:49412}]},{year:1970,values:[{id:"New South Wales",categories:"nsw",value:22288},{id:"Victoria",categories:"vic",value:12545},{id:"Queensland",categories:"qld",value:5789},{id:"Western Australia",categories:"wa",value:4336},{id:"South Australia",categories:"sa",value:2628},{id:"Tasmania",categories:"tas",value:5329},{id:"Northern Territory",categories:"nt",value:200},{id:"Private",categories:"priv",value:4858}],values2:[{cat:"aus",value:53116}]},{year:1971,values:[{id:"New South Wales",categories:"nsw",value:23089},{id:"Victoria",categories:"vic",value:13001},{id:"Queensland",categories:"qld",value:6379},{id:"Western Australia",categories:"wa",value:4411},{id:"South Australia",categories:"sa",value:2825},{id:"Tasmania",categories:"tas",value:5625},{id:"Northern Territory",categories:"nt",value:239},{id:"Private",categories:"priv",value:5339}],values2:[{cat:"aus",value:55569}]},{year:1972,values:[{id:"New South Wales",categories:"nsw",value:24777},{id:"Victoria",categories:"vic",value:13103},{id:"Queensland",categories:"qld",value:7015},{id:"Western Australia",categories:"wa",value:4800},{id:"South Australia",categories:"sa",value:3124},{id:"Tasmania",categories:"tas",value:5747},{id:"Northern Territory",categories:"nt",value:273},{id:"Private",categories:"priv",value:5965}],values2:[{cat:"aus",value:58837}]},{year:1973,values:[{id:"New South Wales",categories:"nsw",value:25518},{id:"Victoria",categories:"vic",value:17761},{id:"Queensland",categories:"qld",value:8688},{id:"Western Australia",categories:"wa",value:5439},{id:"South Australia",categories:"sa",value:5484},{id:"Tasmania",categories:"tas",value:5989},{id:"Northern Territory",categories:"nt",value:690},{id:"Private",categories:"priv",value:6674}],values2:[{cat:"aus",value:69569}]},{year:1974,values:[{id:"New South Wales",categories:"nsw",value:27250},{id:"Victoria",categories:"vic",value:18922},{id:"Queensland",categories:"qld",value:9430},{id:"Western Australia",categories:"wa",value:5989},{id:"South Australia",categories:"sa",value:5665},{id:"Tasmania",categories:"tas",value:6100},{id:"Northern Territory",categories:"nt",value:646}],values2:[{cat:"aus",value:74002}]},{year:1975,values:[{id:"New South Wales",categories:"nsw",value:27879},{id:"Victoria",categories:"vic",value:19962},{id:"Queensland",categories:"qld",value:9779},{id:"Western Australia",categories:"wa",value:6508},{id:"South Australia",categories:"sa",value:5966},{id:"Tasmania",categories:"tas",value:6034},{id:"Northern Territory",categories:"nt",value:701}],values2:[{cat:"aus",value:76828}]},{year:1976,values:[{id:"New South Wales",categories:"nsw",value:30309},{id:"Victoria",categories:"vic",value:21023},{id:"Queensland",categories:"qld",value:10615},{id:"Western Australia",categories:"wa",value:6986},{id:"South Australia",categories:"sa",value:6520},{id:"Tasmania",categories:"tas",value:6873},{id:"Northern Territory",categories:"nt",value:729}],values2:[{cat:"aus",value:83055}]},{year:1977,values:[{id:"New South Wales",categories:"nsw",value:31787},{id:"Victoria",categories:"vic",value:21395},{id:"Queensland",categories:"qld",value:11300},{id:"Western Australia",categories:"wa",value:7229},{id:"South Australia",categories:"sa",value:6797},{id:"Tasmania",categories:"tas",value:7201},{id:"Northern Territory",categories:"nt",value:775}],values2:[{cat:"aus",value:86484}]},{year:1978,values:[{id:"New South Wales",categories:"nsw",value:34201},{id:"Victoria",categories:"vic",value:22820},{id:"Queensland",categories:"qld",value:11884},{id:"Western Australia",categories:"wa",value:7492},{id:"South Australia",categories:"sa",value:6934},{id:"Tasmania",categories:"tas",value:7787},{id:"Northern Territory",categories:"nt",value:831}],values2:[{cat:"aus",value:91950}]},{year:1979,values:[{id:"New South Wales",categories:"nsw",value:36708},{id:"Victoria",categories:"vic",value:23595},{id:"Queensland",categories:"qld",value:12558},{id:"Western Australia",categories:"wa",value:7733},{id:"South Australia",categories:"sa",value:7074},{id:"Tasmania",categories:"tas",value:7950},{id:"Northern Territory",categories:"nt",value:1100}],values2:[{cat:"aus",value:96717}]},{year:1980,values:[{id:"New South Wales",categories:"nsw",value:38845},{id:"Victoria",categories:"vic",value:25396},{id:"Queensland",categories:"qld",value:13501},{id:"Western Australia",categories:"wa",value:7885},{id:"South Australia",categories:"sa",value:7458},{id:"Tasmania",categories:"tas",value:8096},{id:"Northern Territory",categories:"nt",value:1175}],values2:[{cat:"aus",value:102356}]},{year:1981,values:[{id:"New South Wales",categories:"nsw",value:39666},{id:"Victoria",categories:"vic",value:26587},{id:"Queensland",categories:"qld",value:14640},{id:"Western Australia",categories:"wa",value:8199},{id:"South Australia",categories:"sa",value:7618},{id:"Tasmania",categories:"tas",value:8173},{id:"Northern Territory",categories:"nt",value:1183}],values2:[{cat:"aus",value:106065}]},{year:1982,values:[{id:"New South Wales",categories:"nsw",value:38475},{id:"Victoria",categories:"vic",value:26457},{id:"Queensland",categories:"qld",value:16125},{id:"Western Australia",categories:"wa",value:8365},{id:"South Australia",categories:"sa",value:7879},{id:"Tasmania",categories:"tas",value:8006},{id:"Northern Territory",categories:"nt",value:1235}],values2:[{cat:"aus",value:106542}]},{year:1983,values:[{id:"New South Wales",categories:"nsw",value:41253},{id:"Victoria",categories:"vic",value:27152},{id:"Queensland",categories:"qld",value:18551},{id:"Western Australia",categories:"wa",value:8647},{id:"South Australia",categories:"sa",value:7681},{id:"Tasmania",categories:"tas",value:8173},{id:"Northern Territory",categories:"nt",value:1296}],values2:[{cat:"aus",value:112752}]},{year:1984,values:[{id:"New South Wales",categories:"nsw",value:44712},{id:"Victoria",categories:"vic",value:28080},{id:"Queensland",categories:"qld",value:20626},{id:"Western Australia",categories:"wa",value:9711},{id:"South Australia",categories:"sa",value:8144},{id:"Tasmania",categories:"tas",value:8320},{id:"Northern Territory",categories:"nt",value:1368}],values2:[{cat:"aus",value:120960}]},{year:1985,values:[{id:"New South Wales",categories:"nsw",value:46895},{id:"Victoria",categories:"vic",value:29176},{id:"Queensland",categories:"qld",value:22267},{id:"Western Australia",categories:"wa",value:10321},{id:"South Australia",categories:"sa",value:8370},{id:"Tasmania",categories:"tas",value:8451},{id:"Northern Territory",categories:"nt",value:1456}],values2:[{cat:"aus",value:126936}]},{year:1986,values:[{id:"New South Wales",categories:"nsw",value:48900},{id:"Victoria",categories:"vic",value:31123},{id:"Queensland",categories:"qld",value:23344},{id:"Western Australia",categories:"wa",value:10881},{id:"South Australia",categories:"sa",value:8426},{id:"Tasmania",categories:"tas",value:8463},{id:"Northern Territory",categories:"nt",value:1494}],values2:[{cat:"aus",value:132631}]},{year:1987,values:[{id:"New South Wales",categories:"nsw",value:50011},{id:"Victoria",categories:"vic",value:33909},{id:"Queensland",categories:"qld",value:24313},{id:"Western Australia",categories:"wa",value:11455},{id:"South Australia",categories:"sa",value:8824},{id:"Tasmania",categories:"tas",value:9011},{id:"Northern Territory",categories:"nt",value:1564}],values2:[{cat:"aus",value:139088}]},{year:1988,values:[{id:"New South Wales",categories:"nsw",value:51741},{id:"Victoria",categories:"vic",value:37435},{id:"Queensland",categories:"qld",value:25677},{id:"Western Australia",categories:"wa",value:12848},{id:"South Australia",categories:"sa",value:9254},{id:"Tasmania",categories:"tas",value:9135},{id:"Northern Territory",categories:"nt",value:1705}],values2:[{cat:"aus",value:147796}]},{year:1989,values:[{id:"New South Wales",categories:"nsw",value:54216},{id:"Victoria",categories:"vic",value:38226},{id:"Queensland",categories:"qld",value:27473},{id:"Western Australia",categories:"wa",value:14261},{id:"South Australia",categories:"sa",value:9791},{id:"Tasmania",categories:"tas",value:9223},{id:"Northern Territory",categories:"nt",value:1828}],values2:[{cat:"aus",value:155019}]},{year:1990,values:[{id:"New South Wales",categories:"nsw",value:54140},{id:"Victoria",categories:"vic",value:38476},{id:"Queensland",categories:"qld",value:28423},{id:"Western Australia",categories:"wa",value:14809},{id:"South Australia",categories:"sa",value:9851},{id:"Tasmania",categories:"tas",value:9219},{id:"Northern Territory",categories:"nt",value:1899}],values2:[{cat:"aus",value:156818}]},{year:1991,values:[{id:"New South Wales",categories:"nsw",value:54542},{id:"Victoria",categories:"vic",value:38907},{id:"Queensland",categories:"qld",value:29823},{id:"Western Australia",categories:"wa",value:15208},{id:"South Australia",categories:"sa",value:9979},{id:"Tasmania",categories:"tas",value:9131},{id:"Northern Territory",categories:"nt",value:1966}],values2:[{cat:"aus",value:159556}]},{year:1992,values:[{id:"New South Wales",categories:"nsw",value:56167},{id:"Victoria",categories:"vic",value:39642},{id:"Queensland",categories:"qld",value:30992},{id:"Western Australia",categories:"wa",value:15624},{id:"South Australia",categories:"sa",value:10210},{id:"Tasmania",categories:"tas",value:9054},{id:"Northern Territory",categories:"nt",value:1961}],values2:[{cat:"aus",value:163652}]},{year:1993,values:[{id:"New South Wales",categories:"nsw",value:58229},{id:"Victoria",categories:"vic",value:39229},{id:"Queensland",categories:"qld",value:32214},{id:"Western Australia",categories:"wa",value:16295},{id:"South Australia",categories:"sa",value:10433},{id:"Tasmania",categories:"tas",value:9099},{id:"Northern Territory",categories:"nt",value:1967}],values2:[{cat:"aus",value:167466}]},{year:1994,values:[{id:"New South Wales",categories:"nsw",value:59725},{id:"Victoria",categories:"vic",value:40229},{id:"Queensland",categories:"qld",value:33999},{id:"Western Australia",categories:"wa",value:17362},{id:"South Australia",categories:"sa",value:10876},{id:"Tasmania",categories:"tas",value:8877},{id:"Northern Territory",categories:"nt",value:2095}],values2:[{cat:"aus",value:173162}]},{year:1995,values:[{id:"New South Wales",categories:"nsw",value:61371},{id:"Victoria",categories:"vic",value:40062},{id:"Queensland",categories:"qld",value:35555},{id:"Western Australia",categories:"wa",value:18106},{id:"South Australia",categories:"sa",value:10879},{id:"Tasmania",categories:"tas",value:9277},{id:"Northern Territory",categories:"nt",value:2351}],values2:[{cat:"aus",value:177602}]},{year:1996,values:[{id:"New South Wales",categories:"nsw",value:63101},{id:"Victoria",categories:"vic",value:41145},{id:"Queensland",categories:"qld",value:36967},{id:"Western Australia",categories:"wa",value:18291},{id:"South Australia",categories:"sa",value:11193},{id:"Tasmania",categories:"tas",value:9783},{id:"Northern Territory",categories:"nt",value:2463}],values2:[{cat:"aus",value:182944}]},{year:1997,values:[{id:"New South Wales",categories:"nsw",value:65653},{id:"Victoria",categories:"vic",value:44258},{id:"Queensland",categories:"qld",value:41909},{id:"Western Australia",categories:"wa",value:19542},{id:"South Australia",categories:"sa",value:11571},{id:"Tasmania",categories:"tas",value:9882},{id:"Northern Territory",categories:"nt",value:2559}],values2:[{cat:"aus",value:195375}]},{year:1998,values:[{id:"New South Wales",categories:"nsw",value:67487},{id:"Victoria",categories:"vic",value:46782},{id:"Queensland",categories:"qld",value:43318},{id:"Western Australia",categories:"wa",value:21407},{id:"South Australia",categories:"sa",value:12386},{id:"Tasmania",categories:"tas",value:10027},{id:"Northern Territory",categories:"nt",value:2585}],values2:[{cat:"aus",value:203991}]},{year:1999,values:[{id:"New South Wales",categories:"nsw",value:69215},{id:"Victoria",categories:"vic",value:47576},{id:"Queensland",categories:"qld",value:44911},{id:"Western Australia",categories:"wa",value:22869},{id:"South Australia",categories:"sa",value:12816},{id:"Tasmania",categories:"tas",value:10137},{id:"Northern Territory",categories:"nt",value:2706}],values2:[{cat:"aus",value:210230}]},{year:2e3,values:[{id:"New South Wales",categories:"nsw",value:71690},{id:"Victoria",categories:"vic",value:52153},{id:"Queensland",categories:"qld",value:50692},{id:"Western Australia",categories:"wa",value:23135},{id:"South Australia",categories:"sa",value:13676},{id:"Tasmania",categories:"tas",value:10412},{id:"Northern Territory",categories:"nt",value:2883}],values2:[{cat:"aus",value:224641}]},{year:2001,values:[{id:"New South Wales",categories:"nsw",value:72547},{id:"Victoria",categories:"vic",value:53091},{id:"Queensland",categories:"qld",value:51363},{id:"Western Australia",categories:"wa",value:23378},{id:"South Australia",categories:"sa",value:13492},{id:"Tasmania",categories:"tas",value:10724},{id:"Northern Territory",categories:"nt",value:2969}],values2:[{cat:"aus",value:227563}]},{year:2002,values:[{id:"New South Wales",categories:"nsw",value:73522.1},{id:"Victoria",categories:"vic",value:49323.3},{id:"Queensland",categories:"qld",value:51776.6},{id:"Western Australia",categories:"wa",value:20489.8},{id:"South Australia",categories:"sa",value:13546.1},{id:"Tasmania",categories:"tas",value:10963.1},{id:"Northern Territory",categories:"nt",value:2361.7}],values2:[{cat:"aus",value:221982.6}]},{year:2003,values:[{id:"New South Wales",categories:"nsw",value:75648.8},{id:"Victoria",categories:"vic",value:49972.4},{id:"Queensland",categories:"qld",value:55365.4},{id:"Western Australia",categories:"wa",value:20759.7},{id:"South Australia",categories:"sa",value:14187.6},{id:"Tasmania",categories:"tas",value:11302.3},{id:"Northern Territory",categories:"nt",value:2393.5}],values2:[{cat:"aus",value:229629.6}]},{year:2004,values:[{id:"New South Wales",categories:"nsw",value:74317.7},{id:"Victoria",categories:"vic",value:50642.7},{id:"Queensland",categories:"qld",value:54350.6},{id:"Western Australia",categories:"wa",value:20937.8},{id:"South Australia",categories:"sa",value:13958.4},{id:"Tasmania",categories:"tas",value:11777.9},{id:"Northern Territory",categories:"nt",value:2388}],values2:[{cat:"aus",value:228373.1}]},{year:2005,values:[{id:"New South Wales",categories:"nsw",value:75555.7},{id:"Victoria",categories:"vic",value:51893},{id:"Queensland",categories:"qld",value:54403.4},{id:"Western Australia",categories:"wa",value:22385},{id:"South Australia",categories:"sa",value:14276.1},{id:"Tasmania",categories:"tas",value:11503.1},{id:"Northern Territory",categories:"nt",value:2536}],values2:[{cat:"aus",value:232552.3}]},{year:2006,values:[{id:"New South Wales",categories:"nsw",value:78759.6},{id:"Victoria",categories:"vic",value:53668.6},{id:"Queensland",categories:"qld",value:56795},{id:"Western Australia",categories:"wa",value:23417.1},{id:"South Australia",categories:"sa",value:14949.8},{id:"Tasmania",categories:"tas",value:12180.1},{id:"Northern Territory",categories:"nt",value:3082.3}],values2:[{cat:"aus",value:242852.6}]},{year:2007,values:[{id:"New South Wales",categories:"nsw",value:78316.6},{id:"Victoria",categories:"vic",value:53416.8},{id:"Queensland",categories:"qld",value:56827.8},{id:"Western Australia",categories:"wa",value:24370.4},{id:"South Australia",categories:"sa",value:14863.3},{id:"Tasmania",categories:"tas",value:12068.6},{id:"Northern Territory",categories:"nt",value:3060.5}],values2:[{cat:"aus",value:242924}]},{year:2008,values:[{id:"New South Wales",categories:"nsw",value:77930.1},{id:"Victoria",categories:"vic",value:52959.7},{id:"Queensland",categories:"qld",value:58931.6},{id:"Western Australia",categories:"wa",value:27632.5},{id:"South Australia",categories:"sa",value:15256.6},{id:"Tasmania",categories:"tas",value:11799.5},{id:"Northern Territory",categories:"nt",value:2923}],values2:[{cat:"aus",value:247433}]},{year:2009,values:[{id:"New South Wales",categories:"nsw",value:79644.8},{id:"Victoria",categories:"vic",value:54376},{id:"Queensland",categories:"qld",value:58966.9},{id:"Western Australia",categories:"wa",value:29058.4},{id:"South Australia",categories:"sa",value:15163.9},{id:"Tasmania",categories:"tas",value:12008.6},{id:"Northern Territory",categories:"nt",value:3235.7}],values2:[{cat:"aus",value:252454.1}]},{year:2010,values:[{id:"New South Wales",categories:"nsw",value:79855.3},{id:"Victoria",categories:"vic",value:51554.4},{id:"Queensland",categories:"qld",value:58570},{id:"Western Australia",categories:"wa",value:31394.6},{id:"South Australia",categories:"sa",value:15924.6},{id:"Tasmania",categories:"tas",value:12622.7},{id:"Northern Territory",categories:"nt",value:3158.7}],values2:[{cat:"aus",value:253080.2}]},{year:2011,values:[{id:"New South Wales",categories:"nsw",value:77112.7},{id:"Victoria",categories:"vic",value:52074.2},{id:"Queensland",categories:"qld",value:58841},{id:"Western Australia",categories:"wa",value:31548.6},{id:"South Australia",categories:"sa",value:15492.1},{id:"Tasmania",categories:"tas",value:11743.3},{id:"Northern Territory",categories:"nt",value:3160.1}],values2:[{cat:"aus",value:249972}]},{year:2012,values:[{id:"New South Wales",categories:"nsw",value:73482.9},{id:"Victoria",categories:"vic",value:50683.4},{id:"Queensland",categories:"qld",value:60645.6},{id:"Western Australia",categories:"wa",value:33300.5},{id:"South Australia",categories:"sa",value:15750.6},{id:"Tasmania",categories:"tas",value:11900},{id:"Northern Territory",categories:"nt",value:3362.3}],values2:[{cat:"aus",value:249125.3}]},{year:2013,values:[{id:"New South Wales",categories:"nsw",value:71637.4},{id:"Victoria",categories:"vic",value:49754.1},{id:"Queensland",categories:"qld",value:59720.5},{id:"Western Australia",categories:"wa",value:36691.7},{id:"South Australia",categories:"sa",value:15941.2},{id:"Tasmania",categories:"tas",value:11837.9},{id:"Northern Territory",categories:"nt",value:3465.8}],values2:[{cat:"aus",value:249048.7}]},{year:2014,values:[{id:"New South Wales",categories:"nsw",value:72569.2},{id:"Victoria",categories:"vic",value:49610.7},{id:"Queensland",categories:"qld",value:61981.6},{id:"Western Australia",categories:"wa",value:37781.9},{id:"South Australia",categories:"sa",value:15636.2},{id:"Tasmania",categories:"tas",value:11814.3},{id:"Northern Territory",categories:"nt",value:2997}],values2:[{cat:"aus",value:252390.8}]},{year:2015,values:[{id:"New South Wales",categories:"nsw",value:74468.4},{id:"Victoria",categories:"vic",value:49421.2},{id:"Queensland",categories:"qld",value:63913.2},{id:"Western Australia",categories:"wa",value:38736.8},{id:"South Australia",categories:"sa",value:15967.5},{id:"Tasmania",categories:"tas",value:11855.4},{id:"Northern Territory",categories:"nt",value:3066}],values2:[{cat:"aus",value:257428.6}]},{year:2016,values:[{id:"New South Wales",categories:"nsw",value:75499.4},{id:"Victoria",categories:"vic",value:47418.4},{id:"Queensland",categories:"qld",value:64784.8},{id:"Western Australia",categories:"wa",value:40039},{id:"South Australia",categories:"sa",value:15392.1},{id:"Tasmania",categories:"tas",value:11892.1},{id:"Northern Territory",categories:"nt",value:2991.2}],values2:[{cat:"aus",value:258017}]},{year:2017,values:[{id:"New South Wales",categories:"nsw",value:76634.8},{id:"Victoria",categories:"vic",value:47987.7},{id:"Queensland",categories:"qld",value:63993.1},{id:"Western Australia",categories:"wa",value:41178.4},{id:"South Australia",categories:"sa",value:15420.3},{id:"Tasmania",categories:"tas",value:12332.1},{id:"Northern Territory",categories:"nt",value:3509.8}],values2:[{cat:"aus",value:261056.1}]},{year:2018,values:[{id:"New South Wales",categories:"nsw",value:77303.8},{id:"Victoria",categories:"vic",value:47696.6},{id:"Queensland",categories:"qld",value:65144.1},{id:"Western Australia",categories:"wa",value:41910.8},{id:"South Australia",categories:"sa",value:15530.8},{id:"Tasmania",categories:"tas",value:11983},{id:"Northern Territory",categories:"nt",value:4457.5}],values2:[{cat:"aus",value:264026.7}]},{year:2019,values:[{id:"New South Wales",categories:"nsw",value:76249.5},{id:"Victoria",categories:"vic",value:48326.3},{id:"Queensland",categories:"qld",value:64932.3},{id:"Western Australia",categories:"wa",value:43396},{id:"South Australia",categories:"sa",value:15685.4},{id:"Tasmania",categories:"tas",value:11589.2},{id:"Northern Territory",categories:"nt",value:4999.6}],values2:[{cat:"aus",value:265178.2}]},{year:2020,values:[{id:"New South Wales",categories:"nsw",value:75470.4},{id:"Victoria",categories:"vic",value:48881.8},{id:"Queensland",categories:"qld",value:65287.6},{id:"Western Australia",categories:"wa",value:43515.3},{id:"South Australia",categories:"sa",value:15755.6},{id:"Tasmania",categories:"tas",value:11742.2},{id:"Northern Territory",categories:"nt",value:4901.6}],values2:[{cat:"aus",value:265554.5}]}]},it={units:{pop:"Number",gpd:"$ million",engCons:"PJ",engConsPerCap:"GJ/person",engInt:"GJ/$ million",engProd:"$ million/PJ",elecCons:"GWh",details:"PJ"},values:{aus:[{year:"1960",pop:10548267,gdp:265760,engCons:1336.6,engConsPerCap:126.713,engInt:5029.35,engProd:198.833,fuel:[{cat:"coal",value:null},{cat:"oil",value:510},{cat:"gas",value:0},{cat:"renewables",value:189.1}],elec:[{cat:"elecCons",value:22978}],details:{consumption:{blackCoal:495.3,browncoal:144.4,coke:null,coalByProducts:null,biofuels:null,woodwaste:145.3,Bagasse:27.1,refinery:546.7,petroleum:510,nulltgas:0,towngas:27.9,electricity:89.3,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:546.7,towngas:27.9,thermalelec:72.6}}},{year:"1961",pop:10742291,gdp:269204,engCons:1365.8,engConsPerCap:127.142,engInt:5073.476,engProd:197.104,fuel:[{cat:"coal",value:null},{cat:"oil",value:537.3},{cat:"gas",value:0},{cat:"renewables",value:185.6}],elec:[{cat:"elecCons",value:24460}],details:{consumption:{blackCoal:492.3,browncoal:152.8,coke:null,coalByProducts:null,biofuels:null,woodwaste:139.6,Bagasse:28.2,refinery:576.4,petroleum:537.3,nulltgas:0,towngas:27.9,electricity:94.4,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:576.4,towngas:27.9,thermalelec:76.6}}},{year:"1962",pop:10950379,gdp:285934,engCons:1432.2,engConsPerCap:130.79,engInt:5008.848,engProd:199.647,fuel:[{cat:"coal",value:null},{cat:"oil",value:581.9},{cat:"gas",value:.1},{cat:"renewables",value:194.6}],elec:[{cat:"elecCons",value:27296}],details:{consumption:{blackCoal:494.3,browncoal:162.2,coke:null,coalByProducts:null,biofuels:null,woodwaste:134.3,Bagasse:36.5,refinery:648.8,petroleum:581.9,nulltgas:.1,towngas:28.3,electricity:104.6,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:648.8,towngas:28.3,thermalelec:80.8}}},{year:"1963",pop:11166702,gdp:305888,engCons:1531.4,engConsPerCap:137.14,engInt:5006.408,engProd:199.744,fuel:[{cat:"coal",value:null},{cat:"oil",value:656.8},{cat:"gas",value:.1},{cat:"renewables",value:188.9}],elec:[{cat:"elecCons",value:30304}],details:{consumption:{blackCoal:517,browncoal:170.9,coke:null,coalByProducts:null,biofuels:null,woodwaste:129.4,Bagasse:34.8,refinery:682.6,petroleum:656.8,nulltgas:.1,towngas:29.8,electricity:116.5,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:682.6,towngas:29.8,thermalelec:91.8}}},{year:"1964",pop:11387665,gdp:324191,engCons:1625.3,engConsPerCap:142.725,engInt:5013.403,engProd:199.465,fuel:[{cat:"coal",value:null},{cat:"oil",value:719.9},{cat:"gas",value:.1},{cat:"renewables",value:198.2}],elec:[{cat:"elecCons",value:33395}],details:{consumption:{blackCoal:531.5,browncoal:178.4,coke:null,coalByProducts:null,biofuels:null,woodwaste:124.2,Bagasse:44.1,refinery:735.1,petroleum:719.9,nulltgas:.1,towngas:29.2,electricity:128.2,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:735.1,towngas:29.2,thermalelec:98.3}}},{year:"1965",pop:11599498,gdp:331915,engCons:1713.1,engConsPerCap:147.687,engInt:5161.261,engProd:193.751,fuel:[{cat:"coal",value:null},{cat:"oil",value:784.7},{cat:"gas",value:.2},{cat:"renewables",value:186.5}],elec:[{cat:"elecCons",value:35904}],details:{consumption:{blackCoal:545.9,browncoal:198.8,coke:null,coalByProducts:null,biofuels:null,woodwaste:119.7,Bagasse:41.4,refinery:791.2,petroleum:784.7,nulltgas:.2,towngas:30.7,electricity:137.5,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:791.2,towngas:30.7,thermalelec:112.1}}},{year:"1966",pop:11799078,gdp:352834,engCons:1805.8,engConsPerCap:153.046,engInt:5117.987,engProd:195.389,fuel:[{cat:"coal",value:null},{cat:"oil",value:853.1},{cat:"gas",value:.2},{cat:"renewables",value:192}],elec:[{cat:"elecCons",value:38829}],details:{consumption:{blackCoal:554.3,browncoal:208.6,coke:null,coalByProducts:null,biofuels:null,woodwaste:115.2,Bagasse:49.4,refinery:896.3,petroleum:853.1,nulltgas:.2,towngas:31.8,electricity:149.5,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:896.3,towngas:31.8,thermalelec:122.1}}},{year:"1967",pop:12008635,gdp:370814,engCons:1898.9,engConsPerCap:158.128,engInt:5120.896,engProd:195.278,fuel:[{cat:"coal",value:null},{cat:"oil",value:932.3},{cat:"gas",value:.2},{cat:"renewables",value:187.7}],elec:[{cat:"elecCons",value:41636}],details:{consumption:{blackCoal:572,browncoal:214.9,coke:null,coalByProducts:null,biofuels:null,woodwaste:111,Bagasse:49.4,refinery:961,petroleum:932.3,nulltgas:.2,towngas:32.9,electricity:160.5,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:961,towngas:32.9,thermalelec:133.2}}},{year:"1968",pop:12263014,gdp:396935,engCons:2025.9,engConsPerCap:165.204,engInt:5103.858,engProd:195.93,fuel:[{cat:"coal",value:null},{cat:"oil",value:1029.2},{cat:"gas",value:2.1},{cat:"renewables",value:189.8}],elec:[{cat:"elecCons",value:45427}],details:{consumption:{blackCoal:592.5,browncoal:216.8,coke:null,coalByProducts:null,biofuels:null,woodwaste:106.6,Bagasse:53.3,refinery:1007.5,petroleum:1029.2,nulltgas:2.1,towngas:35,electricity:175.6,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:1007.5,towngas:35,thermalelec:145.7}}},{year:"1969",pop:12507349,gdp:425404,engCons:2137.6,engConsPerCap:170.908,engInt:5024.87,engProd:199.01,fuel:[{cat:"coal",value:null},{cat:"oil",value:1098.6},{cat:"gas",value:29.5},{cat:"renewables",value:180.9}],elec:[{cat:"elecCons",value:49412}],details:{consumption:{blackCoal:612.5,browncoal:229,coke:null,coalByProducts:null,biofuels:null,woodwaste:102.6,Bagasse:45.7,refinery:1077.5,petroleum:1098.6,nulltgas:29.5,towngas:null,electricity:193.8,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:1077.5,towngas:null,thermalelec:161.2}}},{year:"1970",pop:13067265,gdp:442436,engCons:2210.3,engConsPerCap:169.148,engInt:4995.751,engProd:200.17,fuel:[{cat:"coal",value:null},{cat:"oil",value:1134.1},{cat:"gas",value:74.4},{cat:"renewables",value:191.4}],elec:[{cat:"elecCons",value:53116}],details:{consumption:{blackCoal:607.2,browncoal:219.5,coke:null,coalByProducts:null,biofuels:null,woodwaste:98.9,Bagasse:50.2,refinery:1091,petroleum:1134.1,nulltgas:74.4,towngas:null,electricity:208.7,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:1091,towngas:null,thermalelec:166.4}}},{year:"1971",pop:13303664,gdp:459747,engCons:2331.2,engConsPerCap:175.23,engInt:5070.615,engProd:197.215,fuel:[{cat:"coal",value:null},{cat:"oil",value:1189.1},{cat:"gas",value:102.2},{cat:"renewables",value:194.2}],elec:[{cat:"elecCons",value:55569}],details:{consumption:{blackCoal:609.2,browncoal:238.6,coke:null,coalByProducts:null,biofuels:null,woodwaste:95.7,Bagasse:56.1,refinery:1136.8,petroleum:1189.1,nulltgas:102.2,towngas:null,electricity:218.9,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:1136.8,towngas:null,thermalelec:176.5}}},{year:"1972",pop:13504538,gdp:471762,engCons:2447.8,engConsPerCap:181.258,engInt:5188.633,engProd:192.729,fuel:[{cat:"coal",value:null},{cat:"oil",value:1217.6},{cat:"gas",value:144.1},{cat:"renewables",value:190.6}],elec:[{cat:"elecCons",value:58837}],details:{consumption:{blackCoal:660.5,browncoal:240.8,coke:null,coalByProducts:null,biofuels:null,woodwaste:92.3,Bagasse:55.5,refinery:1151.9,petroleum:1217.6,nulltgas:144.1,towngas:null,electricity:233.3,solarHotwater:null},production:{coke:null,cokeByProducts:null,petroleum:1151.9,towngas:null,thermalelec:190.5}}},{year:"1973",pop:13722571,gdp:491121,engCons:2615.2,engConsPerCap:190.577,engInt:5324.961,engProd:187.795,fuel:[{cat:"coal",value:920.2},{cat:"oil",value:1333.2},{cat:"gas",value:172.5},{cat:"renewables",value:197.4}],elec:[{cat:"elecCons",value:69569}],details:{consumption:{blackCoal:662.9,browncoal:262.6,coke:139.8,coalByProducts:128.9,biofuels:null,woodwaste:92.5,Bagasse:56.4,refinery:1230.1,petroleum:1348.9,nulltgas:172.5,towngas:20.6,electricity:250.5,solarHotwater:.1},production:{coke:144.6,cokeByProducts:129.4,petroleum:1245.8,towngas:20.6,thermalelec:203.1}}},{year:"1974",pop:13892995,gdp:497751,engCons:2694.8,engConsPerCap:193.968,engInt:5413.952,engProd:184.708,fuel:[{cat:"coal",value:981.1},{cat:"oil",value:1327.7},{cat:"gas",value:189.2},{cat:"renewables",value:204}],elec:[{cat:"elecCons",value:74002}],details:{consumption:{blackCoal:717.6,browncoal:270.8,coke:149,coalByProducts:131.3,biofuels:null,woodwaste:89.9,Bagasse:59.7,refinery:1231.9,petroleum:1344.4,nulltgas:189.2,towngas:20,electricity:266.4,solarHotwater:.1},production:{coke:156.2,cokeByProducts:131.4,petroleum:1248.6,towngas:20,thermalelec:212}}},{year:"1975",pop:14033083,gdp:510631,engCons:2730.8,engConsPerCap:194.597,engInt:5347.893,engProd:186.99,fuel:[{cat:"coal",value:981.2},{cat:"oil",value:1339.7},{cat:"gas",value:211.2},{cat:"renewables",value:206.2}],elec:[{cat:"elecCons",value:76828}],details:{consumption:{blackCoal:702.2,browncoal:286.8,coke:135.6,coalByProducts:123.4,biofuels:null,woodwaste:87.4,Bagasse:63,refinery:1233.7,petroleum:1355.9,nulltgas:211.2,towngas:19.3,electricity:276.6,solarHotwater:.2},production:{coke:143.3,cokeByProducts:123.5,petroleum:1249.9,towngas:19.3,thermalelec:220.8}}},{year:"1976",pop:14192234,gdp:529001,engCons:2905.9,engConsPerCap:204.753,engInt:5493.184,engProd:182.044,fuel:[{cat:"coal",value:1047.7},{cat:"oil",value:1410.6},{cat:"gas",value:256.2},{cat:"renewables",value:199.3}],elec:[{cat:"elecCons",value:83055}],details:{consumption:{blackCoal:749.7,browncoal:304,coke:132.9,coalByProducts:118.7,biofuels:null,woodwaste:81.9,Bagasse:68.2,refinery:1289.8,petroleum:1430.7,nulltgas:256.2,towngas:18.4,electricity:299,solarHotwater:.3},production:{coke:138.4,cokeByProducts:119.2,petroleum:1309.9,towngas:18.4,thermalelec:249.4}}},{year:"1977",pop:14359255,gdp:533745,engCons:2985.1,engConsPerCap:207.887,engInt:5592.746,engProd:178.803,fuel:[{cat:"coal",value:1070.4},{cat:"oil",value:1438.3},{cat:"gas",value:283},{cat:"renewables",value:201.2}],elec:[{cat:"elecCons",value:86484}],details:{consumption:{blackCoal:776.8,browncoal:297.4,coke:130.3,coalByProducts:116.4,biofuels:null,woodwaste:80.9,Bagasse:68.3,refinery:1331.1,petroleum:1459.2,nulltgas:283,towngas:17.2,electricity:311.3,solarHotwater:.4},production:{coke:133,cokeByProducts:117.5,petroleum:1352,towngas:17.2,thermalelec:258.7}}},{year:"1978",pop:14515729,gdp:555327,engCons:3053.1,engConsPerCap:210.33,engInt:5497.842,engProd:181.89,fuel:[{cat:"coal",value:1103},{cat:"oil",value:1440.9},{cat:"gas",value:314.9},{cat:"renewables",value:199.6}],elec:[{cat:"elecCons",value:91950}],details:{consumption:{blackCoal:792.7,browncoal:312.9,coke:142.1,coalByProducts:126.4,biofuels:null,woodwaste:82,Bagasse:59.9,refinery:1320.4,petroleum:1461,nulltgas:314.9,towngas:16.5,electricity:331,solarHotwater:.6},production:{coke:143.4,cokeByProducts:127.7,petroleum:1340.5,towngas:16.5,thermalelec:270.8}}},{year:"1979",pop:14695356,gdp:572176,engCons:3131.4,engConsPerCap:213.088,engInt:5472.792,engProd:182.722,fuel:[{cat:"coal",value:1168.9},{cat:"oil",value:1411.6},{cat:"gas",value:362.6},{cat:"renewables",value:193.6}],elec:[{cat:"elecCons",value:96717}],details:{consumption:{blackCoal:846.5,browncoal:321,coke:137.2,coalByProducts:118,biofuels:null,woodwaste:83.6,Bagasse:60.4,refinery:1312.8,petroleum:1432.5,nulltgas:362.6,towngas:16.4,electricity:348.2,solarHotwater:.8},production:{coke:134.8,cokeByProducts:119,petroleum:1333.7,towngas:16.4,thermalelec:296.3}}},{year:"1980",pop:14923260,gdp:591275,engCons:3146.3,engConsPerCap:210.832,engInt:5321.213,engProd:187.927,fuel:[{cat:"coal",value:1169.4},{cat:"oil",value:1358.6},{cat:"gas",value:416},{cat:"renewables",value:206}],elec:[{cat:"elecCons",value:102356}],details:{consumption:{blackCoal:887.6,browncoal:312,coke:116.4,coalByProducts:114.7,biofuels:null,woodwaste:84.1,Bagasse:68.5,refinery:1261.7,petroleum:1378.5,nulltgas:416,towngas:16.4,electricity:368.5,solarHotwater:1},production:{coke:146.5,cokeByProducts:114.8,petroleum:1281.6,towngas:16.4,thermalelec:311.7}}},{year:"1981",pop:15184247,gdp:610955,engCons:3237.6,engConsPerCap:213.221,engInt:5299.245,engProd:188.706,fuel:[{cat:"coal",value:1229.2},{cat:"oil",value:1339},{cat:"gas",value:462},{cat:"renewables",value:210.7}],elec:[{cat:"elecCons",value:106065}],details:{consumption:{blackCoal:876.7,browncoal:357.7,coke:125.1,coalByProducts:107.8,biofuels:null,woodwaste:84.1,Bagasse:74.1,refinery:1276.1,petroleum:1360.6,nulltgas:462,towngas:14.6,electricity:381.9,solarHotwater:1.3},production:{coke:128.2,cokeByProducts:109.9,petroleum:1297.7,towngas:14.6,thermalelec:326.9}}},{year:"1982",pop:15393472,gdp:597389,engCons:3122.7,engConsPerCap:202.859,engInt:5227.247,engProd:191.305,fuel:[{cat:"coal",value:1194.9},{cat:"oil",value:1262.7},{cat:"gas",value:466.2},{cat:"renewables",value:203.5}],elec:[{cat:"elecCons",value:106542}],details:{consumption:{blackCoal:869.6,browncoal:329.4,coke:96.9,coalByProducts:85,biofuels:null,woodwaste:85.1,Bagasse:71.9,refinery:1235.6,petroleum:1281.1,nulltgas:466.2,towngas:14.8,electricity:383.6,solarHotwater:1.6},production:{coke:99.3,cokeByProducts:86.7,petroleum:1254,towngas:14.8,thermalelec:336.2}}},{year:"1983",pop:15579391,gdp:624757,engCons:3221.2,engConsPerCap:206.76,engInt:5155.925,engProd:193.952,fuel:[{cat:"coal",value:1228.3},{cat:"oil",value:1306.7},{cat:"gas",value:490},{cat:"renewables",value:200.9}],elec:[{cat:"elecCons",value:112752}],details:{consumption:{blackCoal:914.4,browncoal:316.5,coke:95.4,coalByProducts:84.2,biofuels:null,woodwaste:85.4,Bagasse:69.1,refinery:1260.9,petroleum:1328.8,nulltgas:490,towngas:15.5,electricity:405.9,solarHotwater:1.8},production:{coke:97.8,cokeByProducts:84.4,petroleum:1283,towngas:15.5,thermalelec:358}}},{year:"1984",pop:15788312,gdp:657552,engCons:3370.7,engConsPerCap:213.493,engInt:5126.135,engProd:195.079,fuel:[{cat:"coal",value:1334.2},{cat:"oil",value:1306.6},{cat:"gas",value:523.3},{cat:"renewables",value:212.9}],elec:[{cat:"elecCons",value:120960}],details:{consumption:{blackCoal:969.2,browncoal:369.2,coke:95,coalByProducts:83.1,biofuels:null,woodwaste:86.1,Bagasse:72.9,refinery:1267.5,petroleum:1331.6,nulltgas:523.3,towngas:15,electricity:435.5,solarHotwater:2.1},production:{coke:97.3,cokeByProducts:85,petroleum:1292.5,towngas:15,thermalelec:381.7}}},{year:"1985",pop:16018350,gdp:684099,engCons:3402.5,engConsPerCap:212.413,engInt:4973.695,engProd:201.058,fuel:[{cat:"coal",value:1316.4},{cat:"oil",value:1304.9},{cat:"gas",value:570.7},{cat:"renewables",value:214.9}],elec:[{cat:"elecCons",value:126936}],details:{consumption:{blackCoal:980.9,browncoal:350.1,coke:89.5,coalByProducts:85.2,biofuels:null,woodwaste:87.6,Bagasse:71.4,refinery:1247.2,petroleum:1328.3,nulltgas:570.7,towngas:13,electricity:457,solarHotwater:2.5},production:{coke:101.9,cokeByProducts:87.4,petroleum:1270.6,towngas:13,thermalelec:399.3}}},{year:"1986",pop:16263874,gdp:701566,engCons:3514.4,engConsPerCap:216.086,engInt:5009.365,engProd:199.626,fuel:[{cat:"coal",value:1401.5},{cat:"oil",value:1315.8},{cat:"gas",value:588.4},{cat:"renewables",value:214.5}],elec:[{cat:"elecCons",value:132631}],details:{consumption:{blackCoal:1008.1,browncoal:405,coke:86.4,coalByProducts:85.8,biofuels:null,woodwaste:88.7,Bagasse:73.4,refinery:1233.4,petroleum:1339.2,nulltgas:588.4,towngas:11.5,electricity:477.5,solarHotwater:2.4},production:{coke:97.2,cokeByProducts:86.6,petroleum:1256.8,towngas:11.5,thermalelec:424.4}}},{year:"1987",pop:16532164,gdp:741841,engCons:3623,engConsPerCap:219.149,engInt:4883.796,engProd:204.759,fuel:[{cat:"coal",value:1430.7},{cat:"oil",value:1369.3},{cat:"gas",value:610.5},{cat:"renewables",value:218.4}],elec:[{cat:"elecCons",value:139088}],details:{consumption:{blackCoal:1035.6,browncoal:424.9,coke:82.6,coalByProducts:89,biofuels:null,woodwaste:90.6,Bagasse:73.9,refinery:1321.6,petroleum:1395.5,nulltgas:610.5,towngas:10.2,electricity:500.7,solarHotwater:2.4},production:{coke:110.2,cokeByProducts:91.2,petroleum:1347.8,towngas:10.2,thermalelec:446.4}}},{year:"1988",pop:16814416,gdp:770511,engCons:3832.7,engConsPerCap:227.941,engInt:4974.231,engProd:201.036,fuel:[{cat:"coal",value:1548.4},{cat:"oil",value:1433.2},{cat:"gas",value:627.8},{cat:"renewables",value:228.7}],elec:[{cat:"elecCons",value:147796}],details:{consumption:{blackCoal:1107.3,browncoal:474.8,coke:86.3,coalByProducts:93.2,biofuels:null,woodwaste:93.9,Bagasse:80.7,refinery:1345.7,petroleum:1459.2,nulltgas:627.8,towngas:9.5,electricity:532.1,solarHotwater:2.4},production:{coke:119.3,cokeByProducts:93.9,petroleum:1371.7,towngas:9.5,thermalelec:477.5}}},{year:"1989",pop:17065128,gdp:798023,engCons:3945.9,engConsPerCap:231.226,engInt:4944.594,engProd:202.241,fuel:[{cat:"coal",value:1576.1},{cat:"oil",value:1452.7},{cat:"gas",value:688.1},{cat:"renewables",value:233}],elec:[{cat:"elecCons",value:155019}],details:{consumption:{blackCoal:1132.1,browncoal:450.7,coke:114.7,coalByProducts:91.6,biofuels:null,woodwaste:97.9,Bagasse:81.5,refinery:1386.3,petroleum:1477.2,nulltgas:688,towngas:8.6,electricity:558.1,solarHotwater:2.4},production:{coke:121.4,cokeByProducts:91.6,petroleum:1410.8,towngas:8.5,thermalelec:502.5}}},{year:"1990",pop:17284036,gdp:794853,engCons:3949.9,engConsPerCap:228.529,engInt:4969.347,engProd:201.234,fuel:[{cat:"coal",value:1623.2},{cat:"oil",value:1440.9},{cat:"gas",value:655.4},{cat:"renewables",value:236.3}],elec:[{cat:"elecCons",value:156818}],details:{consumption:{blackCoal:1141.3,browncoal:484.1,coke:113.9,coalByProducts:87.5,biofuels:null,woodwaste:100.1,Bagasse:78.2,refinery:1421.4,petroleum:1466.6,nulltgas:655.4,towngas:8.2,electricity:564.6,solarHotwater:2.4},production:{coke:114.3,cokeByProducts:89.3,petroleum:1447.1,towngas:8.2,thermalelec:506.3}}},{year:"1991",pop:17478635,gdp:798132,engCons:3982.7,engConsPerCap:227.861,engInt:4990.027,engProd:200.4,fuel:[{cat:"coal",value:1640.3},{cat:"oil",value:1444.5},{cat:"gas",value:678.6},{cat:"renewables",value:221.9}],elec:[{cat:"elecCons",value:159556}],details:{consumption:{blackCoal:1168.2,browncoal:497.3,coke:93.4,coalByProducts:89.4,biofuels:null,woodwaste:101.6,Bagasse:63.5,refinery:1440,petroleum:1473.7,nulltgas:678.6,towngas:8.4,electricity:574.4,solarHotwater:2.5},production:{coke:114.8,cokeByProducts:93.2,petroleum:1469.2,towngas:8.4,thermalelec:517.9}}},{year:"1992",pop:17634808,gdp:830292,engCons:4081.8,engConsPerCap:231.463,engInt:4916.102,engProd:203.413,fuel:[{cat:"coal",value:1642.6},{cat:"oil",value:1491.7},{cat:"gas",value:707},{cat:"renewables",value:243.8}],elec:[{cat:"elecCons",value:163652}],details:{consumption:{blackCoal:1195.6,browncoal:466.8,coke:91.3,coalByProducts:88.4,biofuels:null,woodwaste:104.8,Bagasse:78,refinery:1494.8,petroleum:1524.1,nulltgas:707,towngas:9.7,electricity:589.2,solarHotwater:2.5},production:{coke:110.7,cokeByProducts:88.8,petroleum:1527.2,towngas:9.7,thermalelec:528.1}}},{year:"1993",pop:17805468,gdp:863360,engCons:4181.9,engConsPerCap:234.866,engInt:4843.75,engProd:206.452,fuel:[{cat:"coal",value:1661.4},{cat:"oil",value:1532.5},{cat:"gas",value:736.8},{cat:"renewables",value:252.3}],elec:[{cat:"elecCons",value:167466}],details:{consumption:{blackCoal:1213.3,browncoal:474.3,coke:99.6,coalByProducts:91.2,biofuels:null,woodwaste:108.2,Bagasse:84.2,refinery:1518.1,petroleum:1566.5,nulltgas:736.8,towngas:9.6,electricity:602.9,solarHotwater:2.5},production:{coke:122.8,cokeByProducts:94.2,petroleum:1552.1,towngas:9.6,thermalelec:543}}},{year:"1994",pop:18004882,gdp:896479,engCons:4365.4,engConsPerCap:242.456,engInt:4869.495,engProd:205.36,fuel:[{cat:"coal",value:1710.1},{cat:"oil",value:1606.3},{cat:"gas",value:793.1},{cat:"renewables",value:258.8}],elec:[{cat:"elecCons",value:173162}],details:{consumption:{blackCoal:1242.8,browncoal:492,coke:102.8,coalByProducts:93.6,biofuels:null,woodwaste:108.9,Bagasse:91.4,refinery:1562.3,petroleum:1642.1,nulltgas:793.1,towngas:9.9,electricity:623.4,solarHotwater:2.5},production:{coke:124.7,cokeByProducts:96.4,petroleum:1598.1,towngas:9.9,thermalelec:565.8}}},{year:"1995",pop:18224767,gdp:931250,engCons:4505.5,engConsPerCap:247.219,engInt:4838.121,engProd:206.692,fuel:[{cat:"coal",value:1775.9},{cat:"oil",value:1663.9},{cat:"gas",value:797},{cat:"renewables",value:267.2}],elec:[{cat:"elecCons",value:177602}],details:{consumption:{blackCoal:1283.1,browncoal:514.4,coke:102.8,coalByProducts:90.3,biofuels:null,woodwaste:109.1,Bagasse:101.5,refinery:1623.5,petroleum:1694,nulltgas:797,towngas:5.6,electricity:639.4,solarHotwater:2.6},production:{coke:123.8,cokeByProducts:90.9,petroleum:1653.6,towngas:5.6,thermalelec:581.2}}},{year:"1996",pop:18423037,gdp:968188,engCons:4611.1,engConsPerCap:250.29,engInt:4762.608,engProd:209.969,fuel:[{cat:"coal",value:1852.6},{cat:"oil",value:1660.6},{cat:"gas",value:818.4},{cat:"renewables",value:280.1}],elec:[{cat:"elecCons",value:182944}],details:{consumption:{blackCoal:1309,browncoal:559.1,coke:102.3,coalByProducts:93,biofuels:null,woodwaste:109.9,Bagasse:109.5,refinery:1648,petroleum:1686.8,nulltgas:818.4,towngas:4.8,electricity:658.6,solarHotwater:2.6},production:{coke:115.8,cokeByProducts:95,petroleum:1674.2,towngas:4.8,thermalelec:599.1}}},{year:"1997",pop:18607584,gdp:1012499,engCons:4777.6,engConsPerCap:256.756,engInt:4718.622,engProd:211.926,fuel:[{cat:"coal",value:1959.5},{cat:"oil",value:1680.1},{cat:"gas",value:859.3},{cat:"renewables",value:278.2}],elec:[{cat:"elecCons",value:195375}],details:{consumption:{blackCoal:1344.8,browncoal:636.5,coke:97.8,coalByProducts:94,biofuels:null,woodwaste:109,Bagasse:112.6,refinery:1671.5,petroleum:1704.9,nulltgas:859.3,towngas:3.7,electricity:703.6,solarHotwater:2.6},production:{coke:119.2,cokeByProducts:94.4,petroleum:1696.3,towngas:3.7,thermalelec:647.3}}},{year:"1998",pop:18812264,gdp:1063869,engCons:4884.7,engConsPerCap:259.655,engInt:4591.449,engProd:217.796,fuel:[{cat:"coal",value:2022.7},{cat:"oil",value:1698.2},{cat:"gas",value:887.4},{cat:"renewables",value:278.3}],elec:[{cat:"elecCons",value:203991}],details:{consumption:{blackCoal:1362.4,browncoal:669.1,coke:106.9,coalByProducts:89.8,biofuels:null,woodwaste:109.1,Bagasse:109.6,refinery:1675.8,petroleum:1723.4,nulltgas:888.4,towngas:3.3,electricity:734.4,solarHotwater:2.6},production:{coke:116,cokeByProducts:89.5,petroleum:1701,towngas:4.3,thermalelec:674.9}}},{year:"1999",pop:19028802,gdp:1105712,engCons:4971,engConsPerCap:261.236,engInt:4495.746,engProd:222.433,fuel:[{cat:"coal",value:2052.5},{cat:"oil",value:1722.9},{cat:"gas",value:921.5},{cat:"renewables",value:274.1}],elec:[{cat:"elecCons",value:210230}],details:{consumption:{blackCoal:1387.5,browncoal:672.5,coke:98.8,coalByProducts:80,biofuels:null,woodwaste:108.2,Bagasse:105.7,refinery:1672.8,petroleum:1778.6,nulltgas:924.3,towngas:3.3,electricity:756.8,solarHotwater:2.6},production:{coke:105.9,cokeByProducts:80.4,petroleum:1728.5,towngas:6.1,thermalelec:703.9}}},{year:"2000",pop:19274701,gdp:1127062,engCons:5011.8,engConsPerCap:260.02,engInt:4446.783,engProd:224.882,fuel:[{cat:"coal",value:2081.5},{cat:"oil",value:1701.5},{cat:"gas",value:959.9},{cat:"renewables",value:268.9}],elec:[{cat:"elecCons",value:224641}],details:{consumption:{blackCoal:1418.6,browncoal:666,coke:83.9,coalByProducts:77.6,biofuels:null,woodwaste:109.4,Bagasse:98.5,refinery:1702,petroleum:1740.5,nulltgas:961.7,towngas:3.3,electricity:776.4,solarHotwater:2.6},production:{coke:94.9,cokeByProducts:69.7,petroleum:1741,towngas:5.1,thermalelec:739.9}}},{year:"2001",pop:19495210,gdp:1172160,engCons:5097,engConsPerCap:261.449,engInt:4348.382,engProd:229.971,fuel:[{cat:"coal",value:2127.8},{cat:"oil",value:1750},{cat:"gas",value:974.7},{cat:"renewables",value:244.5}],elec:[{cat:"elecCons",value:227563}],details:{consumption:{blackCoal:1457.1,browncoal:673.4,coke:81.7,coalByProducts:76.8,biofuels:null,woodwaste:95,Bagasse:91.7,refinery:1674.8,petroleum:1760.3,nulltgas:976.4,towngas:3.4,electricity:786.4,solarHotwater:2.7},production:{coke:92.9,cokeByProducts:68.3,petroleum:1685.1,towngas:5.1,thermalelec:749.7}}},{year:"2002",pop:19720737,gdp:1268688,engCons:5146.325,engConsPerCap:260.96,engInt:4056.415,enfProd:246.523,fuel:[{cat:"coal",value:2118.679},{cat:"oil",value:1801.856},{cat:"gas",value:949.774},{cat:"renewables",value:214.41}],elec:[{cat:"elecCons",value:221982.628}],details:{consumption:{blackCoal:1427.989,browncoal:699.079,coke:71.2,coalByProducts:86.263,biofuels:11.164,woodwaste:105.353,Bagasse:95.117,refinery:1629.467,petroleum:1800.553,nulltgas:949.774,towngas:5.244,electricity:799.137,solarHotwater:2.776},production:{coke:89.128,cokeByProducts:76.869,petroleum:1628.164,towngas:5.099,thermalelec:737.532}}},{year:"2003",pop:19932722,gdp:1322042,engCons:5292.642,engConsPerCap:265.525,engInt:4003.384,enfProd:249.789,fuel:[{cat:"coal",value:2221.693},{cat:"oil",value:1810.489},{cat:"gas",value:981.89},{cat:"renewables",value:217.522}],elec:[{cat:"elecCons",value:229629.646}],details:{consumption:{blackCoal:1510.228,browncoal:714.553,coke:76.666,coalByProducts:83.066,biofuels:10.565,woodwaste:103.233,Bagasse:101.107,refinery:1530.959,petroleum:1906.66,nulltgas:981.89,towngas:5.2,electricity:826.667,solarHotwater:2.616},production:{coke:95.515,cokeByProducts:67.407,petroleum:1627.13,towngas:5.099,thermalelec:765.619}}},{year:"2004",pop:20176844,gdp:1363823,engCons:5407.128,engConsPerCap:267.987,engInt:3964.685,enfProd:252.227,fuel:[{cat:"coal",value:2254.525},{cat:"oil",value:1869.026},{cat:"gas",value:1004.36},{cat:"renewables",value:220.544}],elec:[{cat:"elecCons",value:228373.085}],details:{consumption:{blackCoal:1554.413,browncoal:711.74,coke:73.694,coalByProducts:81.913,biofuels:9.193,woodwaste:100.42,Bagasse:108.308,refinery:1543.687,petroleum:1969.351,nulltgas:1004.36,towngas:5.213,electricity:822.143,solarHotwater:2.623},production:{coke:95.012,cokeByProducts:72.331,petroleum:1644.012,towngas:5.103,thermalelec:763.47}}},{year:"2005",pop:20450966,gdp:1401013,engCons:5554.82,engConsPerCap:271.616,engInt:3964.859,enfProd:252.216,fuel:[{cat:"coal",value:2292.659},{cat:"oil",value:1969.749},{cat:"gas",value:1008.921},{cat:"renewables",value:220.292}],elec:[{cat:"elecCons",value:232552.306}],details:{consumption:{blackCoal:1576.359,browncoal:725.144,coke:72.623,coalByProducts:83.174,biofuels:9.896,woodwaste:98.91,Bagasse:109.053,refinery:1409.193,petroleum:1998.675,nulltgas:1008.921,towngas:5.07,electricity:837.188,solarHotwater:2.432},production:{coke:90.769,cokeByProducts:73.937,petroleum:1438.118,towngas:5.005,thermalelec:773.99}}},{year:"2006",pop:20827622,gdp:1453810,engCons:5730.835,engConsPerCap:275.156,engInt:3941.942,enfProd:253.682,fuel:[{cat:"coal",value:2316.59},{cat:"oil",value:1988.3},{cat:"gas",value:1138.742},{cat:"renewables",value:226.245}],elec:[{cat:"elecCons",value:242852.62}],details:{consumption:{blackCoal:1601.86,browncoal:721.921,coke:73.32,coalByProducts:80.249,biofuels:10.716,woodwaste:98.698,Bagasse:110.83,refinery:1505.667,petroleum:2024.968,nulltgas:1138.742,towngas:4.98,electricity:874.269,solarHotwater:6.001},production:{coke:90.714,cokeByProducts:70.328,petroleum:1542.336,towngas:4.698,thermalelec:813.311}}},{year:"2007",pop:21249199,gdp:1505813,engCons:5745.352,engConsPerCap:270.38,engInt:3815.448,enfProd:262.092,fuel:[{cat:"coal",value:2300.178},{cat:"oil",value:1984.072},{cat:"gas",value:1175.725},{cat:"renewables",value:231.449}],elec:[{cat:"elecCons",value:242923.969}],details:{consumption:{blackCoal:1581.164,browncoal:725.057,coke:74.569,coalByProducts:80.908,biofuels:15.194,woodwaste:98.748,Bagasse:110.839,refinery:1464.63,petroleum:2084.207,nulltgas:1175.725,towngas:3.835,electricity:874.526,solarHotwater:6.668},production:{coke:90.731,cokeByProducts:70.959,petroleum:1564.765,towngas:3.666,thermalelec:820.599}}},{year:"2008",pop:21691653,gdp:1533924,engCons:5851.089,engConsPerCap:269.739,engInt:3814.458,enfProd:262.16,fuel:[{cat:"coal",value:2351.03},{cat:"oil",value:2000.72},{cat:"gas",value:1259.728},{cat:"renewables",value:239.941}],elec:[{cat:"elecCons",value:247432.952}],details:{consumption:{blackCoal:1600.761,browncoal:749.738,coke:63.827,coalByProducts:61.777,biofuels:19.696,woodwaste:89.508,Bagasse:65.436,refinery:1480.73,petroleum:2067.99,nulltgas:1259.728,towngas:1.091,electricity:890.759,solarHotwater:8.244},production:{coke:67.523,cokeByProducts:58.198,petroleum:1548,towngas:.443,thermalelec:834.031}}},{year:"2009",pop:22031750,gdp:1567246,engCons:5830.655,engConsPerCap:264.648,engInt:3720.319,enfProd:268.794,fuel:[{cat:"coal",value:2224.751},{cat:"oil",value:2057.962},{cat:"gas",value:1264.686},{cat:"renewables",value:282.626}],elec:[{cat:"elecCons",value:252454.114}],details:{consumption:{blackCoal:1488.305,browncoal:741.962,coke:75.632,coalByProducts:72.023,biofuels:22.456,woodwaste:87.864,Bagasse:93.328,refinery:1437.92,petroleum:2097.267,nulltgas:1264.686,towngas:.416,electricity:908.835,solarHotwater:10.486},production:{coke:85.482,cokeByProducts:67.772,petroleum:1477.225,towngas:.332,thermalelec:839.712}}},{year:"2010",pop:22340024,gdp:1605953,engCons:5910.129,engConsPerCap:264.553,engInt:3680.138,enfProd:271.729,fuel:[{cat:"coal",value:2123.908},{cat:"oil",value:2211.984},{cat:"gas",value:1281.446},{cat:"renewables",value:294.58}],elec:[{cat:"elecCons",value:253080.183}],details:{consumption:{blackCoal:1402.69,browncoal:728.16,coke:78.969,coalByProducts:74.974,biofuels:26.571,woodwaste:85.088,Bagasse:83.343,refinery:1632.777,petroleum:2189.176,nulltgas:1281.446,towngas:.508,electricity:911.089,solarHotwater:11.657},production:{coke:91.434,cokeByProducts:69.711,petroleum:1609.969,towngas:.249,thermalelec:824.957}}},{year:"2011",pop:22733465,gdp:1668864,engCons:5895.601,engConsPerCap:259.336,engInt:3532.703,enfProd:283.069,fuel:[{cat:"coal",value:2074.666},{cat:"oil",value:2184.155},{cat:"gas",value:1345.718},{cat:"renewables",value:293.827}],elec:[{cat:"elecCons",value:249971.963}],details:{consumption:{blackCoal:1352.507,browncoal:739.296,coke:58.82,coalByProducts:60.038,biofuels:27.855,woodwaste:83.736,Bagasse:84.851,refinery:1557.521,petroleum:2286.973,nulltgas:1345.718,towngas:.18,electricity:899.899,solarHotwater:12.382},production:{coke:80.569,cokeByProducts:55.42,petroleum:1660.34,towngas:.187,thermalelec:817.661}}},{year:"2012",pop:23128129,gdp:1712258,engCons:5920.793,engConsPerCap:256,engInt:3457.886,enfProd:289.194,fuel:[{cat:"coal",value:1930.905},{cat:"oil",value:2277.957},{cat:"gas",value:1380.49},{cat:"renewables",value:333.541}],elec:[{cat:"elecCons",value:249125.288}],details:{consumption:{blackCoal:1311.978,browncoal:645.702,coke:56.819,coalByProducts:52.728,biofuels:26.219,woodwaste:91.124,Bagasse:94.855,refinery:1551.483,petroleum:2345.906,nulltgas:1380.49,towngas:.109,electricity:896.851,solarHotwater:13.142},production:{coke:84.756,cokeByProducts:51.675,petroleum:1619.432,towngas:0,thermalelec:790.75}}},{year:"2013",pop:23475686,gdp:1756142,engCons:5873.925,engConsPerCap:250.213,engInt:3344.789,enfProd:298.972,fuel:[{cat:"coal",value:1845.765},{cat:"oil",value:2297.185},{cat:"gas",value:1386.685},{cat:"renewables",value:344.246}],elec:[{cat:"elecCons",value:249048.699}],details:{consumption:{blackCoal:1240.112,browncoal:627.783,coke:55.44,coalByProducts:50.06,biofuels:28.995,woodwaste:92.671,Bagasse:90.228,refinery:1450.187,petroleum:2366.189,nulltgas:1386.685,towngas:.122,electricity:896.575,solarHotwater:13.23},production:{coke:78.809,cokeByProducts:48.943,petroleum:1519.192,towngas:0,thermalelec:777.41}}},{year:"2014",pop:23815995,gdp:1794289,engCons:5900.566,engConsPerCap:247.756,engInt:3288.526,enfProd:304.088,fuel:[{cat:"coal",value:1907.162},{cat:"oil",value:2236.647},{cat:"gas",value:1409.091},{cat:"renewables",value:347.666}],elec:[{cat:"elecCons",value:252390.832}],details:{consumption:{blackCoal:1251.803,browncoal:669.114,coke:56.955,coalByProducts:45.811,biofuels:27.831,woodwaste:92.511,Bagasse:102.885,refinery:1265.572,petroleum:2339.727,nulltgas:1409.091,towngas:.055,electricity:908.607,solarHotwater:14.843},production:{coke:71.905,cokeByProducts:44.672,petroleum:1368.652,towngas:0,thermalelec:799.011}}},{year:"2015",pop:24190907,gdp:1843482,engCons:6037.039,engConsPerCap:249.558,engInt:3274.802,enfProd:305.362,fuel:[{cat:"coal",value:1954.878},{cat:"oil",value:2279.488},{cat:"gas",value:1442.487},{cat:"renewables",value:360.187}],elec:[{cat:"elecCons",value:257428.586}],details:{consumption:{blackCoal:1325.748,browncoal:642.892,coke:57.673,coalByProducts:45.723,biofuels:23.012,woodwaste:96.401,Bagasse:102.218,refinery:1105.744,petroleum:2343.132,nulltgas:1442.487,towngas:.039,electricity:926.743,solarHotwater:14.873},production:{coke:72.967,cokeByProducts:44.231,petroleum:1169.388,towngas:0,thermalelec:803.061}}},{year:"2016",pop:24594202,gdp:1885807,engCons:6108.204,engConsPerCap:248.36,engInt:3239.04,enfProd:308.733,fuel:[{cat:"coal",value:1930.031},{cat:"oil",value:2318.014},{cat:"gas",value:1481.081},{cat:"renewables",value:379.078}],elec:[{cat:"elecCons",value:258016.971}],details:{consumption:{blackCoal:1365.247,browncoal:576.289,coke:58.278,coalByProducts:46.484,biofuels:22.103,woodwaste:97.877,Bagasse:110.298,refinery:1073.06,petroleum:2385.846,nulltgas:1481.081,towngas:.045,electricity:928.861,solarHotwater:15.765},production:{coke:70.8,cokeByProducts:45.513,petroleum:1140.892,towngas:0,thermalelec:795.827}}},{year:"2017",pop:24966643,gdp:1939948,engCons:6171.822,engConsPerCap:247.203,engInt:3181.437,enfProd:314.323,fuel:[{cat:"coal",value:1847.29},{cat:"oil",value:2403.461},{cat:"gas",value:1538.619},{cat:"renewables",value:382.453}],elec:[{cat:"elecCons",value:261056.106}],details:{consumption:{blackCoal:1389.038,browncoal:466.835,coke:58.941,coalByProducts:44.646,biofuels:23.279,woodwaste:94.202,Bagasse:100.228,refinery:1133.587,petroleum:2442.172,nulltgas:1538.619,towngas:.08,electricity:939.802,solarHotwater:16.694},production:{coke:68.106,cokeByProducts:44.144,petroleum:1172.298,towngas:0,thermalelec:791.751}}},{year:"2018",pop:25340217,gdp:1980942,engCons:6188.123,engConsPerCap:244.202,engInt:3123.829,enfProd:320.12,fuel:[{cat:"coal",value:1801.643},{cat:"oil",value:2419.682},{cat:"gas",value:1566.605},{cat:"renewables",value:400.194}],elec:[{cat:"elecCons",value:264026.746}],details:{consumption:{blackCoal:1362.975,browncoal:443.274,coke:57.007,coalByProducts:42.209,biofuels:23.723,woodwaste:92.843,Bagasse:91.324,refinery:1121.241,petroleum:2448.546,nulltgas:1566.605,towngas:.079,electricity:950.496,solarHotwater:17.604},production:{coke:62.629,cokeByProducts:41.273,petroleum:1150.104,towngas:0,thermalelec:775.796}}},{year:"2019",pop:25655289,gdp:1980866,engCons:6003.946,engConsPerCap:234.024,engInt:3030.97,enfProd:329.927,fuel:[{cat:"coal",value:1706.631},{cat:"oil",value:2249.751},{cat:"gas",value:1628.808},{cat:"renewables",value:418.755}],elec:[{cat:"elecCons",value:265178.199}],details:{consumption:{blackCoal:1294.077,browncoal:422.658,coke:55.689,coalByProducts:43.038,biofuels:23.284,woodwaste:89.494,Bagasse:83.844,refinery:1010.232,petroleum:2281.534,nulltgas:1628.808,towngas:.076,electricity:954.642,solarHotwater:18.451},production:{coke:66.401,cokeByProducts:42.505,petroleum:1042.015,towngas:0,thermalelec:750.958}}},{year:"2020",pop:25688079,gdp:2010087,engCons:5789.553,engConsPerCap:225.379,engInt:2880.25,enfProd:347.192,fuel:[{cat:"coal",value:1661.029},{cat:"oil",value:2097.902},{cat:"gas",value:1568.223},{cat:"renewables",value:462.399}],elec:[{cat:"elecCons",value:265554.452}],details:{consumption:{blackCoal:1243.417,browncoal:427.129,coke:55.612,coalByProducts:43.116,biofuels:24.136,woodwaste:87.791,Bagasse:87.968,refinery:848.058,petroleum:2141.26,nulltgas:1568.223,towngas:.083,electricity:955.996,solarHotwater:19.677},production:{coke:65.884,cokeByProducts:42.444,petroleum:891.416,towngas:0,thermalelec:713.169}}}],nsw:[{year:"1960",pop:3977329,gsp:null,engCons:568.2,engConsPerCap:142.86,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9071}],details:{consumption:{blackCoal:349.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:39.6,Bagasse:0,refinery:0,petroleum:173.7,nulltgas:0,towngas:null,electricity:35.4,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:32.2}}},{year:"1961",pop:4053121,gsp:null,engCons:579.4,engConsPerCap:142.952,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9746}],details:{consumption:{blackCoal:348.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:38,Bagasse:0,refinery:0,petroleum:187.2,nulltgas:0,towngas:null,electricity:37.3,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:33.4}}},{year:"1962",pop:4123398,gsp:null,engCons:594.9,engConsPerCap:144.274,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:11257}],details:{consumption:{blackCoal:349.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:36.4,Bagasse:0,refinery:0,petroleum:199.3,nulltgas:0,towngas:null,electricity:42,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:34.8}}},{year:"1963",pop:4188248,gsp:null,engCons:638.6,engConsPerCap:152.474,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:12799}],details:{consumption:{blackCoal:369.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:34.9,Bagasse:0,refinery:0,petroleum:225.3,nulltgas:0,towngas:null,electricity:48.1,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:41}}},{year:"1964",pop:4263903,gsp:null,engCons:678.2,engConsPerCap:159.056,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:14067}],details:{consumption:{blackCoal:384.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:33.5,Bagasse:0,refinery:0,petroleum:249.7,nulltgas:0,towngas:13.3,electricity:51.4,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:43}}},{year:"1965",pop:4333933,gsp:null,engCons:702.2,engConsPerCap:162.024,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:14496}],details:{consumption:{blackCoal:396.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.1,Bagasse:0,refinery:0,petroleum:265.7,nulltgas:0,towngas:13.3,electricity:53.9,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:48.2}}},{year:"1966",pop:4398717,gsp:null,engCons:739.6,engConsPerCap:168.14,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:15529}],details:{consumption:{blackCoal:407.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:30.9,Bagasse:0,refinery:0,petroleum:290.4,nulltgas:0,towngas:13.2,electricity:58.2,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:51.1}}},{year:"1967",pop:4471420,gsp:null,engCons:779.6,engConsPerCap:174.352,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:16969}],details:{consumption:{blackCoal:423.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:29.7,Bagasse:0,refinery:0,petroleum:315,nulltgas:0,towngas:13.5,electricity:62.8,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:55.1}}},{year:"1968",pop:4562850,gsp:null,engCons:810.3,engConsPerCap:177.586,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:17833}],details:{consumption:{blackCoal:427.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:28.5,Bagasse:0,refinery:0,petroleum:344.8,nulltgas:0,towngas:13.8,electricity:64.6,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:58.1}}},{year:"1969",pop:4653798,gsp:null,engCons:833.1,engConsPerCap:179.015,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:19744}],details:{consumption:{blackCoal:428.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:27.4,Bagasse:0,refinery:0,petroleum:366.9,nulltgas:0,towngas:14.1,electricity:72.2,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:64.7}}},{year:"1970",pop:4876672,gsp:null,engCons:853.3,engConsPerCap:174.976,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:22288}],details:{consumption:{blackCoal:433.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:26.3,Bagasse:0,refinery:0,petroleum:376.2,nulltgas:0,towngas:14.5,electricity:79.2,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:65.6}}},{year:"1971",pop:4954898,gsp:null,engCons:883.5,engConsPerCap:178.308,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:23089}],details:{consumption:{blackCoal:439.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:25.3,Bagasse:0,refinery:0,petroleum:403.3,nulltgas:0,towngas:14.5,electricity:81.8,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:69.5}}},{year:"1972",pop:5015204,gsp:null,engCons:927.1,engConsPerCap:184.858,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:24777}],details:{consumption:{blackCoal:467.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:24.4,Bagasse:0,refinery:0,petroleum:410.1,nulltgas:0,towngas:14.2,electricity:89.3,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:76.3}}},{year:"1973",pop:5080294,gsp:null,engCons:943,engConsPerCap:185.619,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:25518}],details:{consumption:{blackCoal:467.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:23.9,Bagasse:0,refinery:0,petroleum:457,nulltgas:0,towngas:18,electricity:91.9,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:18,thermalelec:76.1}}},{year:"1974",pop:5131023,gsp:null,engCons:964.7,engConsPerCap:188.013,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:27250}],details:{consumption:{blackCoal:491.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:23,Bagasse:0,refinery:0,petroleum:454.2,nulltgas:0,towngas:17.6,electricity:98.1,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:17.6,thermalelec:76.2}}},{year:"1975",pop:5167328,gsp:null,engCons:934,engConsPerCap:180.751,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:27879}],details:{consumption:{blackCoal:468.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:22.2,Bagasse:0,refinery:0,petroleum:447,nulltgas:0,towngas:16.9,electricity:100.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:16.9,thermalelec:74.4}}},{year:"1976",pop:5215576,gsp:null,engCons:980.2,engConsPerCap:187.937,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:30309}],details:{consumption:{blackCoal:501.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:21.7,Bagasse:0,refinery:0,petroleum:456.9,nulltgas:10.3,towngas:16.1,electricity:109.1,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:16.1,thermalelec:94.2}}},{year:"1977",pop:5271771,gsp:null,engCons:1011.3,engConsPerCap:191.833,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:31787}],details:{consumption:{blackCoal:524,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:20.8,Bagasse:0,refinery:0,petroleum:455.2,nulltgas:22.9,towngas:15,electricity:114.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:15,thermalelec:98.7}}},{year:"1978",pop:5331927,gsp:null,engCons:1019.3,engConsPerCap:191.169,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:34201}],details:{consumption:{blackCoal:526.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:21.2,Bagasse:0,refinery:0,petroleum:447.2,nulltgas:32.8,towngas:14.2,electricity:123.1,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:14.2,thermalelec:102.3}}},{year:"1979",pop:5395818,gsp:null,engCons:1059,engConsPerCap:196.263,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:36708}],details:{consumption:{blackCoal:560.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:21.7,Bagasse:0,refinery:0,petroleum:438,nulltgas:50.4,towngas:14.1,electricity:132.2,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:14.1,thermalelec:119.3}}},{year:"1980",pop:5462470,gsp:null,engCons:1060.4,engConsPerCap:194.125,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:38845}],details:{consumption:{blackCoal:578.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:22,Bagasse:0,refinery:0,petroleum:420.3,nulltgas:62.7,towngas:14,electricity:139.8,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:14,thermalelec:122.6}}},{year:"1981",pop:5536625,gsp:null,engCons:1077.8,engConsPerCap:194.667,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:39666}],details:{consumption:{blackCoal:557.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:22.2,Bagasse:0,refinery:0,petroleum:415.3,nulltgas:73,towngas:12.2,electricity:142.8,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:12.2,thermalelec:118.7}}},{year:"1982",pop:5591942,gsp:null,engCons:1002.5,engConsPerCap:179.276,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:38475}],details:{consumption:{blackCoal:528.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:22.7,Bagasse:0,refinery:0,petroleum:374.5,nulltgas:77.5,towngas:12.4,electricity:138.5,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:12.4,thermalelec:125.8}}},{year:"1983",pop:5647841,gsp:null,engCons:1045.6,engConsPerCap:185.133,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:41253}],details:{consumption:{blackCoal:542,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:24.4,Bagasse:0,refinery:0,petroleum:395.7,nulltgas:83.8,towngas:13.2,electricity:148.5,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:13.2,thermalelec:137}}},{year:"1984",pop:5715901,gsp:null,engCons:1080.3,engConsPerCap:188.999,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:44712}],details:{consumption:{blackCoal:560.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:25.1,Bagasse:0,refinery:0,petroleum:403.4,nulltgas:85.5,towngas:12.6,electricity:161,solarHotwater:.5},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:12.6,thermalelec:140.5}}},{year:"1985",pop:5790436,gsp:null,engCons:1108.7,engConsPerCap:191.471,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:46895}],details:{consumption:{blackCoal:578,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:25.7,Bagasse:0,refinery:0,petroleum:413,nulltgas:93.1,towngas:10.6,electricity:168.8,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:10.6,thermalelec:151.3}}},{year:"1986",pop:5882213,gsp:null,engCons:1137.1,engConsPerCap:193.312,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:48900}],details:{consumption:{blackCoal:598.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:26.3,Bagasse:0,refinery:0,petroleum:410.2,nulltgas:101.4,towngas:9.2,electricity:176,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:9.2,thermalelec:156.9}}},{year:"1987",pop:5979438,gsp:null,engCons:1143.3,engConsPerCap:191.205,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:50011}],details:{consumption:{blackCoal:613.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:26.8,Bagasse:0,refinery:0,petroleum:430.4,nulltgas:94.5,towngas:7.8,electricity:180,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:7.8,thermalelec:163.1}}},{year:"1988",pop:6052715,gsp:null,engCons:1194.2,engConsPerCap:197.3,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:51741}],details:{consumption:{blackCoal:651.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:27.3,Bagasse:0,refinery:0,petroleum:446.8,nulltgas:95.5,towngas:7.1,electricity:186.3,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:7.1,thermalelec:171.1}}},{year:"1989",pop:6116232,gsp:296303,engCons:1230.4,engConsPerCap:201.17,engInt:4152.506,engProd:240.818,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:54216}],details:{consumption:{blackCoal:652.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:28.3,Bagasse:0,refinery:0,petroleum:449.7,nulltgas:101.2,towngas:6.1,electricity:195.2,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:6,thermalelec:179.5}}},{year:"1990",pop:6188051,gsp:297605,engCons:1228.6,engConsPerCap:198.544,engInt:4128.291,engProd:242.231,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:54140}],details:{consumption:{blackCoal:647.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:29.2,Bagasse:0,refinery:0,petroleum:452.9,nulltgas:96.4,towngas:5.9,electricity:194.9,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:5.9,thermalelec:179.1}}},{year:"1991",pop:6252709,gsp:298393,engCons:1219.4,engConsPerCap:195.019,engInt:4086.557,engProd:244.705,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:54542}],details:{consumption:{blackCoal:654,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:30.5,Bagasse:0,refinery:0,petroleum:463.2,nulltgas:96,towngas:6,electricity:196.4,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:6,thermalelec:182.4}}},{year:"1992",pop:6294808,gsp:306852,engCons:1249.1,engConsPerCap:198.433,engInt:4070.692,engProd:245.658,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:56167}],details:{consumption:{blackCoal:663.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:31.5,Bagasse:0,refinery:0,petroleum:481.9,nulltgas:97.4,towngas:7.4,electricity:202.2,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:7.4,thermalelec:189.1}}},{year:"1993",pop:6347013,gsp:318537,engCons:1276.7,engConsPerCap:201.15,engInt:4008.012,engProd:249.5,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:58229}],details:{consumption:{blackCoal:681.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:31.8,Bagasse:0,refinery:0,petroleum:482.6,nulltgas:98.6,towngas:7.5,electricity:209.6,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:7.5,thermalelec:191.6}}},{year:"1994",pop:6411398,gsp:330671,engCons:1314.6,engConsPerCap:205.041,engInt:3975.553,engProd:251.537,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:59725}],details:{consumption:{blackCoal:690.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.2,Bagasse:0,refinery:0,petroleum:508.7,nulltgas:102,towngas:7.9,electricity:215,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:7.9,thermalelec:198.4}}},{year:"1995",pop:6486090,gsp:343824,engCons:1351.2,engConsPerCap:208.323,engInt:3929.918,engProd:254.458,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:61371}],details:{consumption:{blackCoal:700.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:31.9,Bagasse:0,refinery:0,petroleum:525.4,nulltgas:107.8,towngas:4.3,electricity:220.9,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:4.3,thermalelec:208.6}}},{year:"1996",pop:6556800,gsp:356568,engCons:1380.6,engConsPerCap:210.56,engInt:3871.912,engProd:258.27,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:63101}],details:{consumption:{blackCoal:715.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32,Bagasse:0,refinery:0,petroleum:503.2,nulltgas:130.3,towngas:4,electricity:227.2,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:4,thermalelec:213.1}}},{year:"1997",pop:6617331,gsp:369270,engCons:1382,engConsPerCap:208.846,engInt:3742.519,engProd:267.2,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:65653}],details:{consumption:{blackCoal:709.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.4,Bagasse:0,refinery:0,petroleum:508.4,nulltgas:132.8,towngas:3,electricity:236.4,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:3,thermalelec:214.1}}},{year:"1998",pop:6689274,gsp:387712,engCons:1413.8,engConsPerCap:211.353,engInt:3646.521,engProd:274.234,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:67487}],details:{consumption:{blackCoal:717.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.9,Bagasse:0,refinery:0,petroleum:516,nulltgas:139,towngas:2.6,electricity:242.9,solarHotwater:.7},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:2.6,thermalelec:221}}},{year:"1999",pop:6763793,gsp:404850,engCons:1426.3,engConsPerCap:210.873,engInt:3523.033,engProd:283.846,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:69215}],details:{consumption:{blackCoal:713.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.7,Bagasse:0,refinery:0,petroleum:531.6,nulltgas:143.2,towngas:2.7,electricity:249.1,solarHotwater:.7},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:4.4,thermalelec:227.2}}},{year:"2000",pop:6851887,gsp:411286,engCons:1450.5,engConsPerCap:211.694,engInt:3526.743,engProd:283.548,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:71690}],details:{consumption:{blackCoal:737.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:31.9,Bagasse:0,refinery:0,petroleum:542.1,nulltgas:146.1,towngas:2.7,electricity:252.2,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:4.4,thermalelec:240.9}}},{year:"2001",pop:6905434,gsp:419311,engCons:1445.7,engConsPerCap:209.357,engInt:3447.799,engProd:290.04,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:72547}],details:{consumption:{blackCoal:743.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:18.3,Bagasse:0,refinery:0,petroleum:533.2,nulltgas:144.2,towngas:2.8,electricity:253.8,solarHotwater:.7},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:4.4,thermalelec:240.7}}},{year:"2002",pop:6948072,gsp:468978,engCons:1510.475,engConsPerCap:217.395,engInt:3220.781,engProd:310.484,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:73522.076}],details:{consumption:{blackCoal:752.8,browncoal:0,coke:0,coalByProducts:0,biofuels:5,woodwaste:31,Bagasse:0,refinery:0,petroleum:557.8,nulltgas:140.4,towngas:4.5,electricity:264.7,solarHotwater:.7},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:4.4,thermalelec:228}}},{year:"2003",pop:6979675,gsp:481840,engCons:1574.793,engConsPerCap:225.626,engInt:3268.29,engProd:305.97,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:75648.78}],details:{consumption:{blackCoal:787.4,browncoal:0,coke:0,coalByProducts:0,biofuels:4.2,woodwaste:30.2,Bagasse:0,refinery:0,petroleum:583,nulltgas:138.9,towngas:4.5,electricity:272.3,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:4.4,thermalelec:234.9}}},{year:"2004",pop:7024605,gsp:488812,engCons:1544.916,engConsPerCap:219.929,engInt:3160.553,engProd:316.4,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:74317.72}],details:{consumption:{blackCoal:782.7,browncoal:0,coke:0,coalByProducts:0,biofuels:4.7,woodwaste:29,Bagasse:0,refinery:0,petroleum:599.1,nulltgas:134.3,towngas:4.5,electricity:267.5,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:4.4,thermalelec:235.7}}},{year:"2005",pop:7077860,gsp:495062,engCons:1545.985,engConsPerCap:218.425,engInt:3122.81,engProd:320.224,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:75555.712}],details:{consumption:{blackCoal:797,browncoal:0,coke:0,coalByProducts:0,biofuels:5.4,woodwaste:28.3,Bagasse:0,refinery:0,petroleum:605.6,nulltgas:132.2,towngas:4.4,electricity:272,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:4.3,thermalelec:248.9}}},{year:"2006",pop:7176800,gsp:504769,engCons:1568.894,engConsPerCap:218.606,engInt:3108.143,engProd:321.735,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:78759.626}],details:{consumption:{blackCoal:801.1,browncoal:0,coke:0,coalByProducts:0,biofuels:5.8,woodwaste:28.1,Bagasse:0,refinery:0,petroleum:616.6,nulltgas:124.1,towngas:4.3,electricity:283.5,solarHotwater:1.5},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:4.2,thermalelec:260.6}}},{year:"2007",pop:7291829,gsp:515881,engCons:1610.708,engConsPerCap:220.892,engInt:3122.247,engProd:320.282,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:78316.63}],details:{consumption:{blackCoal:859.3,browncoal:0,coke:0,coalByProducts:0,biofuels:7.1,woodwaste:29.3,Bagasse:0,refinery:0,petroleum:627.2,nulltgas:122.4,towngas:3.4,electricity:281.9,solarHotwater:1.7},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:3.3,thermalelec:258.8}}},{year:"2008",pop:7408540,gsp:523607,engCons:1593.538,engConsPerCap:215.095,engInt:3043.386,engProd:328.581,fuel:[{cat:"coal",value:800.9},{cat:"oil",value:587.5},{cat:"gas",value:131.6},{cat:"renewables",value:54.7}],elec:[{cat:"elecCons",value:77930.05}],details:{consumption:{blackCoal:802.7,browncoal:0,coke:0,coalByProducts:0,biofuels:8.6,woodwaste:30.9,Bagasse:0,refinery:0,petroleum:623.2,nulltgas:131.6,towngas:.3,electricity:280.5,solarHotwater:2.5},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:256.1}}},{year:"2009",pop:7506058,gsp:532452,engCons:1645.288,engConsPerCap:219.195,engInt:3090.022,engProd:323.622,fuel:[{cat:"coal",value:771.8},{cat:"oil",value:638.9},{cat:"gas",value:148.7},{cat:"renewables",value:63.8}],elec:[{cat:"elecCons",value:79644.76}],details:{consumption:{blackCoal:777.8,browncoal:0,coke:0,coalByProducts:0,biofuels:10.7,woodwaste:33,Bagasse:0,refinery:0,petroleum:649.6,nulltgas:148.7,towngas:.2,electricity:286.7,solarHotwater:3.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:252.9}}},{year:"2010",pop:7586514,gsp:543726,engCons:1668.025,engConsPerCap:219.867,engInt:3067.767,engProd:325.97,fuel:[{cat:"coal",value:732.2},{cat:"oil",value:685},{cat:"gas",value:146.5},{cat:"renewables",value:68.6}],elec:[{cat:"elecCons",value:79855.268}],details:{consumption:{blackCoal:740.4,browncoal:0,coke:0,coalByProducts:0,biofuels:13.1,woodwaste:34.1,Bagasse:0,refinery:0,petroleum:672.5,nulltgas:146.5,towngas:.3,electricity:287.5,solarHotwater:3.5},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:239.1}}},{year:"2011",pop:7680783,gsp:557491,engCons:1621.305,engConsPerCap:211.086,engInt:2908.217,engProd:343.853,fuel:[{cat:"coal",value:692.7},{cat:"oil",value:687.4},{cat:"gas",value:142.1},{cat:"renewables",value:71.1}],elec:[{cat:"elecCons",value:77112.732}],details:{consumption:{blackCoal:711.9,browncoal:0,coke:0,coalByProducts:0,biofuels:15,woodwaste:33.9,Bagasse:0,refinery:0,petroleum:687.9,nulltgas:142.1,towngas:.1,electricity:277.6,solarHotwater:3.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:235.9}}},{year:"2012",pop:7787289,gsp:570117,engCons:1568.427,engConsPerCap:201.409,engInt:2751.061,engProd:363.496,fuel:[{cat:"coal",value:643},{cat:"oil",value:677.4},{cat:"gas",value:157.4},{cat:"renewables",value:70.9}],elec:[{cat:"elecCons",value:73482.921}],details:{consumption:{blackCoal:670.4,browncoal:0,coke:0,coalByProducts:0,biofuels:14.3,woodwaste:32.2,Bagasse:0,refinery:0,petroleum:690.6,nulltgas:157.4,towngas:.1,electricity:264.5,solarHotwater:3.7},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:226.8}}},{year:"2013",pop:7897152,gsp:582250,engCons:1526.538,engConsPerCap:193.302,engInt:2621.792,engProd:381.419,fuel:[{cat:"coal",value:603.5},{cat:"oil",value:666.6},{cat:"gas",value:167},{cat:"renewables",value:72.8}],elec:[{cat:"elecCons",value:71637.432}],details:{consumption:{blackCoal:627.3,browncoal:0,coke:0,coalByProducts:0,biofuels:14.5,woodwaste:33.7,Bagasse:0,refinery:0,petroleum:670.9,nulltgas:167,towngas:0,electricity:257.9,solarHotwater:3.7},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:224.6}}},{year:"2014",pop:8011981,gsp:598195,engCons:1478.836,engConsPerCap:184.578,engInt:2472.164,engProd:404.504,fuel:[{cat:"coal",value:587.8},{cat:"oil",value:621.4},{cat:"gas",value:163.5},{cat:"renewables",value:71}],elec:[{cat:"elecCons",value:72569.16}],details:{consumption:{blackCoal:605.4,browncoal:0,coke:0,coalByProducts:0,biofuels:13.5,woodwaste:33.1,Bagasse:0,refinery:0,petroleum:644.9,nulltgas:163.5,towngas:0,electricity:261.2,solarHotwater:4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:210.2}}},{year:"2015",pop:8135962,gsp:620416,engCons:1524.256,engConsPerCap:187.348,engInt:2456.829,engProd:407.029,fuel:[{cat:"coal",value:620.9},{cat:"oil",value:633.6},{cat:"gas",value:164.8},{cat:"renewables",value:82.4}],elec:[{cat:"elecCons",value:74468.43}],details:{consumption:{blackCoal:638.4,browncoal:0,coke:0,coalByProducts:0,biofuels:10.4,woodwaste:36.9,Bagasse:0,refinery:0,petroleum:650.2,nulltgas:164.8,towngas:0,electricity:268.1,solarHotwater:4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:220.7}}},{year:"2016",pop:8267695,gsp:637023,engCons:1533.049,engConsPerCap:185.426,engInt:2406.584,engProd:415.527,fuel:[{cat:"coal",value:625.9},{cat:"oil",value:652.6},{cat:"gas",value:143.6},{cat:"renewables",value:84.5}],elec:[{cat:"elecCons",value:75499.351}],details:{consumption:{blackCoal:641.7,browncoal:0,coke:0,coalByProducts:0,biofuels:10.1,woodwaste:37.4,Bagasse:0,refinery:0,petroleum:669.3,nulltgas:143.6,towngas:0,electricity:271.8,solarHotwater:4.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:218.6}}},{year:"2017",pop:8375720,gsp:652122,engCons:1564.673,engConsPerCap:186.811,engInt:2399.356,engProd:416.778,fuel:[{cat:"coal",value:636.7},{cat:"oil",value:672.4},{cat:"gas",value:144.1},{cat:"renewables",value:86.6}],elec:[{cat:"elecCons",value:76634.754}],details:{consumption:{blackCoal:650.2,browncoal:0,coke:0,coalByProducts:0,biofuels:10.7,woodwaste:35.9,Bagasse:0,refinery:0,petroleum:688,nulltgas:144.1,towngas:0,electricity:275.9,solarHotwater:4.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:221.7}}},{year:"2018",pop:8475582,gsp:668743,engCons:1555.627,engConsPerCap:183.542,engInt:2326.195,engProd:429.887,fuel:[{cat:"coal",value:640.3},{cat:"oil",value:665},{cat:"gas",value:139.2},{cat:"renewables",value:90.4}],elec:[{cat:"elecCons",value:77303.837}],details:{consumption:{blackCoal:651.8,browncoal:0,coke:0,coalByProducts:0,biofuels:10.3,woodwaste:34.6,Bagasse:0,refinery:0,petroleum:683.6,nulltgas:139.2,towngas:0,electricity:278.3,solarHotwater:4.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:221.7}}},{year:"2019",pop:8544949,gsp:666775,engCons:1477.803,engConsPerCap:172.945,engInt:2216.344,engProd:451.193,fuel:[{cat:"coal",value:606.6},{cat:"oil",value:611.4},{cat:"gas",value:141.9},{cat:"renewables",value:95.6}],elec:[{cat:"elecCons",value:76249.463}],details:{consumption:{blackCoal:619.5,browncoal:0,coke:0,coalByProducts:0,biofuels:9.2,woodwaste:33.1,Bagasse:0,refinery:0,petroleum:629.8,nulltgas:141.9,towngas:0,electricity:274.5,solarHotwater:4.5},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:208.4}}},{year:"2020",pop:8547373,gsp:677009,engCons:1402.395,engConsPerCap:164.073,engInt:2071.457,engProd:482.752,fuel:[{cat:"coal",value:579.4},{cat:"oil",value:557.7},{cat:"gas",value:136.3},{cat:"renewables",value:109.8}],elec:[{cat:"elecCons",value:75470.353}],details:{consumption:{blackCoal:591.6,browncoal:0,coke:0,coalByProducts:0,biofuels:9.8,woodwaste:32.7,Bagasse:0,refinery:0,petroleum:578.6,nulltgas:136.3,towngas:0,electricity:271.7,solarHotwater:4.7},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:194.9}}}],vic:[{year:"1960",pop:2930366,gsp:null,engCons:378.1,engConsPerCap:129.028,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6302}],details:{consumption:{blackCoal:26.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:49.9,Bagasse:0,refinery:0,petroleum:154.4,nulltgas:0,towngas:null,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1961",pop:2983058,gsp:null,engCons:389.2,engConsPerCap:130.47,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6532}],details:{consumption:{blackCoal:23,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:47.9,Bagasse:0,refinery:0,petroleum:162.3,nulltgas:0,towngas:null,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1962",pop:3040841,gsp:null,engCons:410.4,engConsPerCap:134.963,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6923}],details:{consumption:{blackCoal:19,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:46,Bagasse:0,refinery:0,petroleum:179.3,nulltgas:0,towngas:null,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1963",pop:3105519,gsp:null,engCons:438.2,engConsPerCap:141.104,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7601}],details:{consumption:{blackCoal:20,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:44.2,Bagasse:0,refinery:0,petroleum:199.4,nulltgas:0,towngas:11.5,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:11.5,thermalelec:null}}},{year:"1964",pop:3164369,gsp:null,engCons:460.7,engConsPerCap:145.59,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8285}],details:{consumption:{blackCoal:19.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:42.5,Bagasse:0,refinery:0,petroleum:214.4,nulltgas:0,towngas:12,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:12,thermalelec:null}}},{year:"1965",pop:3220217,gsp:null,engCons:485.3,engConsPerCap:150.704,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9372}],details:{consumption:{blackCoal:17,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:40.8,Bagasse:0,refinery:0,petroleum:224.7,nulltgas:0,towngas:11.7,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:11.7,thermalelec:null}}},{year:"1966",pop:3274340,gsp:null,engCons:503.6,engConsPerCap:153.802,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10323}],details:{consumption:{blackCoal:14.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:39.2,Bagasse:0,refinery:0,petroleum:236.5,nulltgas:0,towngas:12.7,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:12.7,thermalelec:null}}},{year:"1967",pop:3324180,gsp:null,engCons:521.4,engConsPerCap:156.851,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10989}],details:{consumption:{blackCoal:13.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:37.8,Bagasse:0,refinery:0,petroleum:251.5,nulltgas:0,towngas:13.4,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:13.4,thermalelec:null}}},{year:"1968",pop:3385043,gsp:null,engCons:543.3,engConsPerCap:160.5,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:11956}],details:{consumption:{blackCoal:11.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:36.4,Bagasse:0,refinery:0,petroleum:273.4,nulltgas:.8,towngas:14.5,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:14.5,thermalelec:null}}},{year:"1969",pop:3444936,gsp:null,engCons:581.3,engConsPerCap:168.74,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:12630}],details:{consumption:{blackCoal:8.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:35,Bagasse:0,refinery:0,petroleum:291.6,nulltgas:13.1,towngas:null,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1970",pop:3601352,gsp:null,engCons:599.3,engConsPerCap:166.41,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:12545}],details:{consumption:{blackCoal:2.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:33.7,Bagasse:0,refinery:0,petroleum:302.7,nulltgas:33.4,towngas:null,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1971",pop:3661254,gsp:null,engCons:636.2,engConsPerCap:173.766,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:13001}],details:{consumption:{blackCoal:1.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.5,Bagasse:0,refinery:0,petroleum:313.4,nulltgas:42.5,towngas:null,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1972",pop:3707653,gsp:null,engCons:656,engConsPerCap:176.931,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:13103}],details:{consumption:{blackCoal:1.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:31.4,Bagasse:0,refinery:0,petroleum:319.1,nulltgas:57.1,towngas:null,electricity:null,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1973",pop:3755726,gsp:null,engCons:710.9,engConsPerCap:189.284,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:17761}],details:{consumption:{blackCoal:.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:30.4,Bagasse:0,refinery:0,petroleum:341.8,nulltgas:80.6,towngas:.6,electricity:63.9,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:56}}},{year:"1974",pop:3787441,gsp:null,engCons:731,engConsPerCap:193.006,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:18922}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:29.7,Bagasse:0,refinery:0,petroleum:337.3,nulltgas:97.3,towngas:.6,electricity:68.1,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:59.2}}},{year:"1975",pop:3810426,gsp:null,engCons:752.8,engConsPerCap:197.563,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:19962}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:28.9,Bagasse:0,refinery:0,petroleum:331.3,nulltgas:112.6,towngas:.7,electricity:71.9,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.7,thermalelec:65.8}}},{year:"1976",pop:3837364,gsp:null,engCons:802.1,engConsPerCap:209.024,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:21023}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:27.5,Bagasse:0,refinery:0,petroleum:350,nulltgas:130.9,towngas:.7,electricity:75.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.7,thermalelec:68.3}}},{year:"1977",pop:3863759,gsp:null,engCons:823.1,engConsPerCap:213.031,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:21395}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:27.9,Bagasse:0,refinery:0,petroleum:366.4,nulltgas:139.6,towngas:.6,electricity:77,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:67.7}}},{year:"1978",pop:3886406,gsp:null,engCons:857.3,engConsPerCap:220.589,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:22820}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:28.3,Bagasse:0,refinery:0,petroleum:366.2,nulltgas:157.5,towngas:.6,electricity:82.2,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:72.7}}},{year:"1979",pop:3914303,gsp:null,engCons:869.4,engConsPerCap:222.109,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:23595}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:28.4,Bagasse:0,refinery:0,petroleum:348.9,nulltgas:178.5,towngas:.6,electricity:84.9,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:76}}},{year:"1980",pop:3946917,gsp:null,engCons:880.8,engConsPerCap:223.162,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:25396}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:29.4,Bagasse:0,refinery:0,petroleum:332.5,nulltgas:213.3,towngas:.6,electricity:91.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:82.5}}},{year:"1981",pop:3992870,gsp:null,engCons:939.4,engConsPerCap:235.269,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:26587}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:30.5,Bagasse:0,refinery:0,petroleum:326,nulltgas:238.9,towngas:.6,electricity:95.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:94.6}}},{year:"1982",pop:4035702,gsp:null,engCons:896.5,engConsPerCap:222.142,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:26457}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:31.4,Bagasse:0,refinery:0,petroleum:314.1,nulltgas:228.5,towngas:.7,electricity:95.2,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.7,thermalelec:88.7}}},{year:"1983",pop:4076492,gsp:null,engCons:904.9,engConsPerCap:221.98,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:27152}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:29.8,Bagasse:0,refinery:0,petroleum:322.6,nulltgas:243.7,towngas:.7,electricity:97.7,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.7,thermalelec:90.1}}},{year:"1984",pop:4120068,gsp:null,engCons:936.2,engConsPerCap:227.229,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:28080}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:28.7,Bagasse:0,refinery:0,petroleum:329.3,nulltgas:224.2,towngas:.8,electricity:101.1,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.8,thermalelec:98.3}}},{year:"1985",pop:4160856,gsp:null,engCons:926.4,engConsPerCap:222.646,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:29176}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:28.9,Bagasse:0,refinery:0,petroleum:332.3,nulltgas:230.4,towngas:.8,electricity:105,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.8,thermalelec:99.8}}},{year:"1986",pop:4210111,gsp:null,engCons:979.5,engConsPerCap:232.654,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:31123}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:29,Bagasse:0,refinery:0,petroleum:342.5,nulltgas:221.1,towngas:.7,electricity:112,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.7,thermalelec:111.1}}},{year:"1987",pop:4262569,gsp:null,engCons:1014.5,engConsPerCap:238.002,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:33909}],details:{consumption:{blackCoal:.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:28.5,Bagasse:0,refinery:0,petroleum:357.9,nulltgas:218.8,towngas:.7,electricity:122.1,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.7,thermalelec:118.3}}},{year:"1988",pop:4320164,gsp:null,engCons:1090.2,engConsPerCap:252.352,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:37435}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:29,Bagasse:0,refinery:0,petroleum:368.8,nulltgas:230,towngas:.7,electricity:134.8,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.7,thermalelec:129.7}}},{year:"1989",pop:4378592,gsp:197151,engCons:1099.8,engConsPerCap:251.177,engInt:5578.465,engProd:179.261,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:38226}],details:{consumption:{blackCoal:.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:30.2,Bagasse:0,refinery:0,petroleum:369.7,nulltgas:259.2,towngas:.8,electricity:137.6,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.8,thermalelec:132.9}}},{year:"1990",pop:4420373,gsp:191759,engCons:1090.9,engConsPerCap:246.789,engInt:5688.912,engProd:175.781,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:38476}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:30.4,Bagasse:0,refinery:0,petroleum:360.8,nulltgas:230.8,towngas:.8,electricity:138.5,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.8,thermalelec:136.7}}},{year:"1991",pop:4450217,gsp:189027,engCons:1108.7,engConsPerCap:249.134,engInt:5865.3,engProd:170.494,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:38907}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:30.7,Bagasse:0,refinery:0,petroleum:358.6,nulltgas:239,towngas:.9,electricity:140.1,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.9,thermalelec:137}}},{year:"1992",pop:4462766,gsp:198e3,engCons:1104.7,engConsPerCap:247.537,engInt:5579.293,engProd:179.234,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:39642}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:31.4,Bagasse:0,refinery:0,petroleum:368.8,nulltgas:245.7,towngas:.9,electricity:142.7,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.9,thermalelec:133.8}}},{year:"1993",pop:4472989,gsp:204381,engCons:1102.5,engConsPerCap:246.479,engInt:5394.337,engProd:185.38,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:39229}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.4,Bagasse:0,refinery:0,petroleum:381.7,nulltgas:234.9,towngas:.5,electricity:141.2,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.5,thermalelec:138.5}}},{year:"1994",pop:4497660,gsp:210481,engCons:1152.2,engConsPerCap:256.178,engInt:5474.128,engProd:182.677,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:40229}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.5,Bagasse:0,refinery:0,petroleum:392.1,nulltgas:260.2,towngas:.5,electricity:144.8,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.5,thermalelec:145.4}}},{year:"1995",pop:4534984,gsp:218186,engCons:1184.9,engConsPerCap:261.28,engInt:5430.688,engProd:184.139,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:40062}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.8,Bagasse:0,refinery:0,petroleum:400.6,nulltgas:262.1,towngas:.6,electricity:144.3,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:148.2}}},{year:"1996",pop:4569297,gsp:227867,engCons:1202.7,engConsPerCap:263.213,engInt:5278.079,engProd:189.463,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:41145}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:33,Bagasse:0,refinery:0,petroleum:400.9,nulltgas:238.4,towngas:.6,electricity:148.2,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:155.2}}},{year:"1997",pop:4606970,gsp:240933,engCons:1286.3,engConsPerCap:279.207,engInt:5338.829,engProd:187.307,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:44258}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32,Bagasse:0,refinery:0,petroleum:412.9,nulltgas:241.4,towngas:.6,electricity:159.3,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:177.4}}},{year:"1998",pop:4652462,gsp:255148,engCons:1318.3,engConsPerCap:283.355,engInt:5166.805,engProd:193.543,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:46782}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:31.8,Bagasse:0,refinery:0,petroleum:424.7,nulltgas:223.4,towngas:.6,electricity:168.4,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:182.1}}},{year:"1999",pop:4704065,gsp:264801,engCons:1346.3,engConsPerCap:286.199,engInt:5084.195,engProd:196.688,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:47576}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:31.6,Bagasse:0,refinery:0,petroleum:432.6,nulltgas:236.9,towngas:.6,electricity:171.3,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:184.4}}},{year:"2000",pop:4763615,gsp:268713,engCons:1337.2,engConsPerCap:280.711,engInt:4976.313,engProd:200.952,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:52153}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.5,Bagasse:0,refinery:0,petroleum:395,nulltgas:246.2,towngas:.6,electricity:183.5,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:184.7}}},{year:"2001",pop:4817774,gsp:279448,engCons:1371.9,engConsPerCap:284.758,engInt:4909.321,engProd:203.694,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:53091}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:32.3,Bagasse:0,refinery:0,petroleum:407.2,nulltgas:251,towngas:.6,electricity:186.7,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:182.9}}},{year:"2002",pop:4873809,gsp:303991,engCons:1336.935,engConsPerCap:274.31,engInt:4397.944,engProd:227.379,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:49323.287}],details:{consumption:{blackCoal:null,browncoal:646.8,coke:0,coalByProducts:0,biofuels:2.4,woodwaste:30.7,Bagasse:0,refinery:0,petroleum:407.6,nulltgas:253.8,towngas:.6,electricity:177.6,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:184.4}}},{year:"2003",pop:4927149,gsp:315294,engCons:1371.428,engConsPerCap:278.341,engInt:4349.679,engProd:229.902,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:49972.404}],details:{consumption:{blackCoal:null,browncoal:655.7,coke:0,coalByProducts:0,biofuels:2.4,woodwaste:30,Bagasse:0,refinery:0,petroleum:445.2,nulltgas:266,towngas:.6,electricity:179.9,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:185.7}}},{year:"2004",pop:4989246,gsp:328589,engCons:1362.985,engConsPerCap:273.184,engInt:4147.992,engProd:241.08,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:50642.71}],details:{consumption:{blackCoal:null,browncoal:659.9,coke:0,coalByProducts:0,biofuels:2,woodwaste:29.2,Bagasse:0,refinery:0,petroleum:451.8,nulltgas:265.6,towngas:.6,electricity:182.3,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:183.9}}},{year:"2005",pop:5061266,gsp:335922,engCons:1435.98,engConsPerCap:283.719,engInt:4274.741,engProd:233.932,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:51892.977}],details:{consumption:{blackCoal:null,browncoal:674.9,coke:0,coalByProducts:0,biofuels:1.9,woodwaste:28.1,Bagasse:0,refinery:0,petroleum:452.5,nulltgas:265.1,towngas:.5,electricity:186.8,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.6,thermalelec:180.6}}},{year:"2006",pop:5153522,gsp:345381,engCons:1440.387,engConsPerCap:279.496,engInt:4170.431,engProd:239.783,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:53668.6}],details:{consumption:{blackCoal:null,browncoal:664.2,coke:0,coalByProducts:0,biofuels:1.8,woodwaste:27.4,Bagasse:0,refinery:0,petroleum:457.6,nulltgas:265.7,towngas:.5,electricity:193.2,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.4,thermalelec:183.1}}},{year:"2007",pop:5256375,gsp:357648,engCons:1432.872,engConsPerCap:272.597,engInt:4006.375,engProd:249.602,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:53416.77}],details:{consumption:{blackCoal:null,browncoal:670.2,coke:0,coalByProducts:0,biofuels:3.8,woodwaste:26.5,Bagasse:0,refinery:0,petroleum:459.1,nulltgas:276.2,towngas:.4,electricity:192.3,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.3,thermalelec:194.7}}},{year:"2008",pop:5371934,gsp:364430,engCons:1428.364,engConsPerCap:265.894,engInt:3919.448,engProd:255.138,fuel:[{cat:"coal",value:695.335},{cat:"oil",value:432.9},{cat:"gas",value:280.184},{cat:"renewables",value:33.595}],elec:[{cat:"elecCons",value:52959.665}],details:{consumption:{blackCoal:null,browncoal:694.6,coke:0,coalByProducts:0,biofuels:4,woodwaste:18.4,Bagasse:0,refinery:0,petroleum:446.6,nulltgas:280.2,towngas:.8,electricity:190.7,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:194.1}}},{year:"2009",pop:5461101,gsp:367948,engCons:1433.462,engConsPerCap:262.486,engInt:3895.829,engProd:256.685,fuel:[{cat:"coal",value:688.721},{cat:"oil",value:448.436},{cat:"gas",value:270.175},{cat:"renewables",value:35.963}],elec:[{cat:"elecCons",value:54375.97}],details:{consumption:{blackCoal:null,browncoal:689.2,coke:0,coalByProducts:0,biofuels:4.2,woodwaste:17.6,Bagasse:0,refinery:0,petroleum:452.1,nulltgas:270.2,towngas:.1,electricity:195.8,solarHotwater:1.7},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:193.2}}},{year:"2010",pop:5537817,gsp:378616,engCons:1455.701,engConsPerCap:262.865,engInt:3844.794,engProd:260.092,fuel:[{cat:"coal",value:681.172},{cat:"oil",value:488.779},{cat:"gas",value:265.729},{cat:"renewables",value:44.662}],elec:[{cat:"elecCons",value:51554.389}],details:{consumption:{blackCoal:null,browncoal:681.6,coke:0,coalByProducts:0,biofuels:5.5,woodwaste:17.2,Bagasse:0,refinery:0,petroleum:483.1,nulltgas:265.7,towngas:.2,electricity:185.6,solarHotwater:2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:190.3}}},{year:"2011",pop:5651091,gsp:387684,engCons:1464.414,engConsPerCap:259.138,engInt:3777.339,engProd:264.737,fuel:[{cat:"coal",value:705.717},{cat:"oil",value:469.251},{cat:"gas",value:270.703},{cat:"renewables",value:40.988}],elec:[{cat:"elecCons",value:52074.238}],details:{consumption:{blackCoal:null,browncoal:706.2,coke:0,coalByProducts:0,biofuels:6.2,woodwaste:17.5,Bagasse:0,refinery:0,petroleum:478.1,nulltgas:270.7,towngas:.1,electricity:187.5,solarHotwater:2.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:194.6}}},{year:"2012",pop:5772669,gsp:391361,engCons:1429.317,engConsPerCap:247.601,engInt:3652.17,engProd:273.81,fuel:[{cat:"coal",value:622.004},{cat:"oil",value:488.295},{cat:"gas",value:280.181},{cat:"renewables",value:55.457}],elec:[{cat:"elecCons",value:50683.397}],details:{consumption:{blackCoal:null,browncoal:622.4,coke:0,coalByProducts:0,biofuels:6,woodwaste:25.9,Bagasse:0,refinery:0,petroleum:499.7,nulltgas:280.2,towngas:0,electricity:182.5,solarHotwater:2.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:177.9}}},{year:"2013",pop:5894917,gsp:399281,engCons:1397.703,engConsPerCap:237.103,engInt:3500.551,engProd:285.669,fuel:[{cat:"coal",value:605.605},{cat:"oil",value:495.532},{cat:"gas",value:255.755},{cat:"renewables",value:57.159}],elec:[{cat:"elecCons",value:49754.135}],details:{consumption:{blackCoal:null,browncoal:605.9,coke:0,coalByProducts:0,biofuels:7,woodwaste:26,Bagasse:0,refinery:0,petroleum:500.9,nulltgas:255.8,towngas:0,electricity:179.1,solarHotwater:2.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:173.7}}},{year:"2014",pop:6022322,gsp:410426,engCons:1394.388,engConsPerCap:231.537,engInt:3397.417,engProd:294.341,fuel:[{cat:"coal",value:641.152},{cat:"oil",value:464.521},{cat:"gas",value:259.772},{cat:"renewables",value:59.221}],elec:[{cat:"elecCons",value:49610.678}],details:{consumption:{blackCoal:null,browncoal:640.8,coke:0,coalByProducts:0,biofuels:6.6,woodwaste:26.5,Bagasse:0,refinery:0,petroleum:508.1,nulltgas:259.8,towngas:0,electricity:178.6,solarHotwater:2.9},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:185.6}}},{year:"2015",pop:6173172,gsp:424414,engCons:1416.948,engConsPerCap:229.533,engInt:3338.598,engProd:299.527,fuel:[{cat:"coal",value:617.413},{cat:"oil",value:506.953},{cat:"gas",value:256.038},{cat:"renewables",value:62.325}],elec:[{cat:"elecCons",value:49421.193}],details:{consumption:{blackCoal:null,browncoal:616.1,coke:0,coalByProducts:0,biofuels:5.9,woodwaste:25.9,Bagasse:0,refinery:0,petroleum:524.2,nulltgas:256,towngas:0,electricity:177.9,solarHotwater:2.9},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:176.2}}},{year:"2016",pop:6299798,gsp:440670,engCons:1388.084,engConsPerCap:220.338,engInt:3149.939,engProd:317.466,fuel:[{cat:"coal",value:577.323},{cat:"oil",value:512.388},{cat:"gas",value:261.97},{cat:"renewables",value:65.626}],elec:[{cat:"elecCons",value:47418.437}],details:{consumption:{blackCoal:null,browncoal:576.2,coke:0,coalByProducts:0,biofuels:5.4,woodwaste:26.4,Bagasse:0,refinery:0,petroleum:523.5,nulltgas:262,towngas:0,electricity:170.7,solarHotwater:3.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:169.4}}},{year:"2017",pop:6418168,gsp:455568,engCons:1314.087,engConsPerCap:204.745,engInt:2884.502,engProd:346.68,fuel:[{cat:"coal",value:467.386},{cat:"oil",value:517.907},{cat:"gas",value:267.66},{cat:"renewables",value:66.068}],elec:[{cat:"elecCons",value:47987.662}],details:{consumption:{blackCoal:null,browncoal:466.8,coke:0,coalByProducts:0,biofuels:6,woodwaste:25.4,Bagasse:0,refinery:0,petroleum:523.5,nulltgas:267.7,towngas:0,electricity:172.8,solarHotwater:3.5},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:146.6}}},{year:"2018",pop:6530852,gsp:469464,engCons:1279.471,engConsPerCap:195.912,engInt:2725.387,engProd:366.92,fuel:[{cat:"coal",value:444.1},{cat:"oil",value:506.952},{cat:"gas",value:259.999},{cat:"renewables",value:72.017}],elec:[{cat:"elecCons",value:47696.623}],details:{consumption:{blackCoal:null,browncoal:443.2,coke:0,coalByProducts:0,biofuels:6.3,woodwaste:26,Bagasse:0,refinery:0,petroleum:531.4,nulltgas:260,towngas:0,electricity:171.7,solarHotwater:3.9},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:139.6}}},{year:"2019",pop:6606149,gsp:470072,engCons:1213.326,engConsPerCap:183.666,engInt:2581.15,engProd:387.424,fuel:[{cat:"coal",value:423.205},{cat:"oil",value:454.134},{cat:"gas",value:261.005},{cat:"renewables",value:77.397}],elec:[{cat:"elecCons",value:48326.277}],details:{consumption:{blackCoal:null,browncoal:422.6,coke:0,coalByProducts:0,biofuels:6.7,woodwaste:26,Bagasse:0,refinery:0,petroleum:482,nulltgas:261,towngas:0,electricity:174,solarHotwater:4.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:135.9}}},{year:"2020",pop:6548040,gsp:468264,engCons:1136.178,engConsPerCap:173.514,engInt:2426.363,engProd:412.14,fuel:[{cat:"coal",value:427.703},{cat:"oil",value:388.665},{cat:"gas",value:241.029},{cat:"renewables",value:88.169}],elec:[{cat:"elecCons",value:48881.827}],details:{consumption:{blackCoal:null,browncoal:427,coke:0,coalByProducts:0,biofuels:6.3,woodwaste:24.6,Bagasse:0,refinery:0,petroleum:422.3,nulltgas:241,towngas:0,electricity:176,solarHotwater:4.8},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:132.9}}}],qld:[{year:"1960",pop:1527514,gsp:null,engCons:159.4,engConsPerCap:104.353,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2370}],details:{consumption:{blackCoal:64,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:17.1,Bagasse:0,refinery:0,petroleum:52.1,nulltgas:0,towngas:null,electricity:9.6,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:8.7}}},{year:"1961",pop:1550982,gsp:null,engCons:162.7,engConsPerCap:104.901,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2515}],details:{consumption:{blackCoal:63.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:16.3,Bagasse:0,refinery:0,petroleum:55.5,nulltgas:0,towngas:null,electricity:10.2,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:9.3}}},{year:"1962",pop:1577867,gsp:null,engCons:177.2,engConsPerCap:112.304,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2727}],details:{consumption:{blackCoal:66.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:15.6,Bagasse:0,refinery:0,petroleum:59.3,nulltgas:.1,towngas:null,electricity:11.3,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:10}}},{year:"1963",pop:1610698,gsp:null,engCons:185.5,engConsPerCap:115.167,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3052}],details:{consumption:{blackCoal:69.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:14.9,Bagasse:0,refinery:0,petroleum:66.7,nulltgas:.1,towngas:1.8,electricity:12.6,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.8,thermalelec:10.9}}},{year:"1964",pop:1644534,gsp:null,engCons:197.9,engConsPerCap:120.338,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3309}],details:{consumption:{blackCoal:66.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:14.2,Bagasse:0,refinery:0,petroleum:73.3,nulltgas:.1,towngas:1.8,electricity:13.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.8,thermalelec:11.6}}},{year:"1965",pop:1674324,gsp:null,engCons:218.4,engConsPerCap:130.441,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3667}],details:{consumption:{blackCoal:70.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:13.6,Bagasse:0,refinery:0,petroleum:92.8,nulltgas:.2,towngas:1.8,electricity:15,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.8,thermalelec:13.2}}},{year:"1966",pop:1699982,gsp:null,engCons:237.8,engConsPerCap:139.884,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:4032}],details:{consumption:{blackCoal:70.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:13,Bagasse:0,refinery:0,petroleum:104.9,nulltgas:.2,towngas:1.8,electricity:16.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.8,thermalelec:15.1}}},{year:"1967",pop:1728996,gsp:null,engCons:249,engConsPerCap:144.014,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:4562}],details:{consumption:{blackCoal:75.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.4,Bagasse:0,refinery:0,petroleum:110.5,nulltgas:.1,towngas:1.8,electricity:18.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.8,thermalelec:16.3}}},{year:"1968",pop:1763087,gsp:null,engCons:268.8,engConsPerCap:152.46,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:4968}],details:{consumption:{blackCoal:78.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.8,Bagasse:0,refinery:0,petroleum:125.1,nulltgas:1.3,towngas:1.8,electricity:20.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.8,thermalelec:18.6}}},{year:"1969",pop:1792743,gsp:null,engCons:285.3,engConsPerCap:159.142,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5327}],details:{consumption:{blackCoal:86,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.3,Bagasse:0,refinery:0,petroleum:136.8,nulltgas:7.1,towngas:null,electricity:21.8,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:20}}},{year:"1970",pop:1851485,gsp:null,engCons:292.8,engConsPerCap:158.143,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5789}],details:{consumption:{blackCoal:88.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.8,Bagasse:0,refinery:0,petroleum:136.6,nulltgas:8.8,towngas:null,electricity:23.8,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:21.9}}},{year:"1971",pop:1898478,gsp:null,engCons:320.2,engConsPerCap:168.661,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6379}],details:{consumption:{blackCoal:95.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.4,Bagasse:0,refinery:0,petroleum:150.4,nulltgas:9.4,towngas:null,electricity:25,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:22.9}}},{year:"1972",pop:1951951,gsp:null,engCons:337.9,engConsPerCap:173.109,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7015}],details:{consumption:{blackCoal:102.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.9,Bagasse:0,refinery:0,petroleum:159.6,nulltgas:10.7,towngas:null,electricity:28.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:26.3}}},{year:"1973",pop:2008340,gsp:null,engCons:371.3,engConsPerCap:184.879,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8688}],details:{consumption:{blackCoal:114.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.6,Bagasse:0,refinery:0,petroleum:180.4,nulltgas:12,towngas:1.3,electricity:31.3,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:28.8}}},{year:"1974",pop:2051362,gsp:null,engCons:392.6,engConsPerCap:191.385,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9430}],details:{consumption:{blackCoal:128.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.3,Bagasse:0,refinery:0,petroleum:185.8,nulltgas:10.2,towngas:1.3,electricity:34,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:31.8}}},{year:"1975",pop:2092375,gsp:null,engCons:410,engConsPerCap:195.95,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9779}],details:{consumption:{blackCoal:130.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.9,Bagasse:0,refinery:0,petroleum:198,nulltgas:9.4,towngas:1.3,electricity:35.2,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:32.7}}},{year:"1976",pop:2129839,gsp:null,engCons:441.8,engConsPerCap:207.434,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10615}],details:{consumption:{blackCoal:141.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.5,Bagasse:0,refinery:0,petroleum:214.4,nulltgas:9.4,towngas:1.3,electricity:38.2,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:35.6}}},{year:"1977",pop:2172047,gsp:null,engCons:461.2,engConsPerCap:212.334,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:11300}],details:{consumption:{blackCoal:154.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.6,Bagasse:0,refinery:0,petroleum:219.8,nulltgas:11,towngas:1.3,electricity:40.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:38.9}}},{year:"1978",pop:2214771,gsp:null,engCons:463.2,engConsPerCap:209.141,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:11884}],details:{consumption:{blackCoal:159.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.8,Bagasse:0,refinery:0,petroleum:224.6,nulltgas:11.1,towngas:1.3,electricity:42.8,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:40.6}}},{year:"1979",pop:2265935,gsp:null,engCons:480.2,engConsPerCap:211.921,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:12558}],details:{consumption:{blackCoal:171.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.2,Bagasse:0,refinery:0,petroleum:228.6,nulltgas:12.6,towngas:1.3,electricity:45.2,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:43.5}}},{year:"1980",pop:2345208,gsp:null,engCons:502.9,engConsPerCap:214.437,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:13501}],details:{consumption:{blackCoal:182.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.4,Bagasse:0,refinery:0,petroleum:232.1,nulltgas:13.4,towngas:1.3,electricity:48.6,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:46.4}}},{year:"1981",pop:2424586,gsp:null,engCons:537.2,engConsPerCap:221.564,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:14640}],details:{consumption:{blackCoal:199.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7.5,Bagasse:0,refinery:0,petroleum:243.1,nulltgas:14.3,towngas:1.3,electricity:52.7,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:50.6}}},{year:"1982",pop:2482282,gsp:null,engCons:541.5,engConsPerCap:218.146,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:16125}],details:{consumption:{blackCoal:223.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.6,Bagasse:0,refinery:0,petroleum:226.1,nulltgas:16.8,towngas:1.3,electricity:58.1,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:57.1}}},{year:"1983",pop:2523859,gsp:null,engCons:571.6,engConsPerCap:226.479,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:18551}],details:{consumption:{blackCoal:245.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.4,Bagasse:0,refinery:0,petroleum:235.5,nulltgas:17.6,towngas:1.2,electricity:66.8,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.2,thermalelec:65.7}}},{year:"1984",pop:2571218,gsp:null,engCons:600.3,engConsPerCap:233.469,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:20626}],details:{consumption:{blackCoal:263.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.4,Bagasse:0,refinery:0,petroleum:240.1,nulltgas:19,towngas:1.2,electricity:74.3,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.2,thermalelec:72.7}}},{year:"1985",pop:2624595,gsp:null,engCons:604.8,engConsPerCap:230.436,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:22267}],details:{consumption:{blackCoal:263.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.5,Bagasse:0,refinery:0,petroleum:243,nulltgas:19.7,towngas:1.2,electricity:80.2,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.2,thermalelec:75.4}}},{year:"1986",pop:2675107,gsp:null,engCons:620,engConsPerCap:231.766,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:23344}],details:{consumption:{blackCoal:273,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.3,Bagasse:0,refinery:0,petroleum:248.1,nulltgas:19.9,towngas:1.2,electricity:84.1,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.2,thermalelec:81.2}}},{year:"1987",pop:2739907,gsp:null,engCons:642.4,engConsPerCap:234.461,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:24313}],details:{consumption:{blackCoal:278.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.3,Bagasse:0,refinery:0,petroleum:261.8,nulltgas:23.5,towngas:1.4,electricity:87.5,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.4,thermalelec:85.4}}},{year:"1988",pop:2827637,gsp:null,engCons:678.3,engConsPerCap:239.882,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:25677}],details:{consumption:{blackCoal:292.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.6,Bagasse:0,refinery:0,petroleum:278.3,nulltgas:21.4,towngas:1.4,electricity:92.5,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.4,thermalelec:90}}},{year:"1989",pop:2899283,gsp:122163,engCons:691.8,engConsPerCap:238.611,engInt:5662.926,engProd:176.587,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:27473}],details:{consumption:{blackCoal:299.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7,Bagasse:0,refinery:0,petroleum:282.5,nulltgas:22,towngas:1.4,electricity:98.9,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.4,thermalelec:96.2}}},{year:"1990",pop:2960951,gsp:122232,engCons:702,engConsPerCap:237.086,engInt:5743.177,engProd:174.12,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:28423}],details:{consumption:{blackCoal:306.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7.2,Bagasse:0,refinery:0,petroleum:274.4,nulltgas:37,towngas:1.4,electricity:102.3,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.4,thermalelec:99.5}}},{year:"1991",pop:3023198,gsp:126149,engCons:715,engConsPerCap:236.505,engInt:5667.901,engProd:176.432,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:29823}],details:{consumption:{blackCoal:323.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7.8,Bagasse:0,refinery:0,petroleum:282.6,nulltgas:39.1,towngas:1.4,electricity:107.4,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.4,thermalelec:105.5}}},{year:"1992",pop:3096185,gsp:134148,engCons:758.5,engConsPerCap:244.979,engInt:5654.203,engProd:176.86,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:30992}],details:{consumption:{blackCoal:340,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.1,Bagasse:0,refinery:0,petroleum:295.5,nulltgas:39.4,towngas:1.4,electricity:111.6,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.4,thermalelec:109.9}}},{year:"1993",pop:3166566,gsp:140780,engCons:793.2,engConsPerCap:250.492,engInt:5634.323,engProd:177.484,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:32214}],details:{consumption:{blackCoal:346.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.1,Bagasse:0,refinery:0,petroleum:312,nulltgas:44.3,towngas:1.4,electricity:116,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.4,thermalelec:114.1}}},{year:"1994",pop:3237380,gsp:148682,engCons:847.3,engConsPerCap:261.724,engInt:5698.74,engProd:175.477,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:33999}],details:{consumption:{blackCoal:370.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.2,Bagasse:0,refinery:0,petroleum:334.3,nulltgas:44.7,towngas:1.3,electricity:122.4,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1.3,thermalelec:120.9}}},{year:"1995",pop:3303192,gsp:153706,engCons:882.7,engConsPerCap:267.226,engInt:5742.782,engProd:174.132,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:35555}],details:{consumption:{blackCoal:386.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8,Bagasse:0,refinery:0,petroleum:340.8,nulltgas:47.2,towngas:.5,electricity:128,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.5,thermalelec:124.7}}},{year:"1996",pop:3355417,gsp:162127,engCons:914.1,engConsPerCap:272.425,engInt:5638.173,engProd:177.362,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:36967}],details:{consumption:{blackCoal:398.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.1,Bagasse:0,refinery:0,petroleum:354,nulltgas:47,towngas:0,electricity:133.1,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:129.7}}},{year:"1997",pop:3404484,gsp:168635,engCons:968.5,engConsPerCap:284.478,engInt:5743.173,engProd:174.12,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:41909}],details:{consumption:{blackCoal:443.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.2,Bagasse:0,refinery:0,petroleum:358.3,nulltgas:50.2,towngas:0,electricity:150.9,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:148.7}}},{year:"1998",pop:3453936,gsp:179242,engCons:983.8,engConsPerCap:284.834,engInt:5488.669,engProd:182.194,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:43318}],details:{consumption:{blackCoal:454.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.3,Bagasse:0,refinery:0,petroleum:355.9,nulltgas:64.4,towngas:0,electricity:156,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:154.4}}},{year:"1999",pop:3509458,gsp:187308,engCons:1009.7,engConsPerCap:287.708,engInt:5390.587,engProd:185.509,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:44911}],details:{consumption:{blackCoal:475.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.1,Bagasse:0,refinery:0,petroleum:383.3,nulltgas:73.8,towngas:0,electricity:161.7,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:163.5}}},{year:"2000",pop:3571469,gsp:192765,engCons:1020,engConsPerCap:285.597,engInt:5291.417,engProd:188.985,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:50692}],details:{consumption:{blackCoal:478.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.4,Bagasse:0,refinery:0,petroleum:362.2,nulltgas:88.5,towngas:0,electricity:169.8,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:177.4}}},{year:"2001",pop:3653123,gsp:205841,engCons:1057.8,engConsPerCap:289.56,engInt:5138.918,engProd:194.593,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:51363}],details:{consumption:{blackCoal:508.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.1,Bagasse:0,refinery:0,petroleum:371,nulltgas:90.3,towngas:0,electricity:173.3,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:187.4}}},{year:"2002",pop:3743121,gsp:213796,engCons:1064.037,engConsPerCap:284.265,engInt:4976.879,engProd:200.929,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:51776.596}],details:{consumption:{blackCoal:508.778,browncoal:0,coke:0,coalByProducts:0,biofuels:.47,woodwaste:10.342,Bagasse:0,refinery:0,petroleum:385.967,nulltgas:94.056,towngas:0,electricity:186.396,solarHotwater:.431},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:196.349}}},{year:"2003",pop:3829970,gsp:228058,engCons:1081.105,engConsPerCap:282.275,engInt:4740.483,engProd:210.949,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:55365.355}],details:{consumption:{blackCoal:554.212,browncoal:0,coke:0,coalByProducts:0,biofuels:.628,woodwaste:10.833,Bagasse:0,refinery:0,petroleum:408.728,nulltgas:97.627,towngas:0,electricity:199.315,solarHotwater:.411},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:210.728}}},{year:"2004",pop:3918494,gsp:240304,engCons:1225.086,engConsPerCap:312.642,engInt:5098.069,engProd:196.153,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:54350.648}],details:{consumption:{blackCoal:604.477,browncoal:0,coke:0,coalByProducts:0,biofuels:.873,woodwaste:10.934,Bagasse:0,refinery:0,petroleum:456.081,nulltgas:97.531,towngas:0,electricity:195.662,solarHotwater:.412},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:212.769}}},{year:"2005",pop:4007992,gsp:252654,engCons:1279.525,engConsPerCap:319.243,engInt:5064.335,engProd:197.459,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:54403.413}],details:{consumption:{blackCoal:614.372,browncoal:0,coke:0,coalByProducts:0,biofuels:.865,woodwaste:11.676,Bagasse:0,refinery:0,petroleum:465.04,nulltgas:98.687,towngas:0,electricity:195.852,solarHotwater:.386},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:216.998}}},{year:"2006",pop:4111018,gsp:269724,engCons:1328.997,engConsPerCap:323.277,engInt:4927.247,engProd:202.953,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:56795.04}],details:{consumption:{blackCoal:635.69,browncoal:0,coke:0,coalByProducts:0,biofuels:1.543,woodwaste:12.016,Bagasse:0,refinery:0,petroleum:474.22,nulltgas:165.842,towngas:0,electricity:204.462,solarHotwater:.968},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:233.67}}},{year:"2007",pop:4219505,gsp:282505,engCons:1289.546,engConsPerCap:305.615,engInt:4564.684,engProd:219.073,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:56827.809}],details:{consumption:{blackCoal:567.086,browncoal:0,coke:0,coalByProducts:0,biofuels:2.397,woodwaste:12.339,Bagasse:0,refinery:0,petroleum:483.411,nulltgas:177.873,towngas:0,electricity:204.58,solarHotwater:1.056},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:224.101}}},{year:"2008",pop:4328771,gsp:286209,engCons:1345.729,engConsPerCap:310.88,engInt:4701.911,engProd:212.679,fuel:[{cat:"coal",value:629.212},{cat:"oil",value:469.531},{cat:"gas",value:187.938},{cat:"renewables",value:77.402}],elec:[{cat:"elecCons",value:58931.583}],details:{consumption:{blackCoal:629.006,browncoal:0,coke:0,coalByProducts:0,biofuels:3.514,woodwaste:11.025,Bagasse:0,refinery:0,petroleum:494.34,nulltgas:187.938,towngas:0,electricity:212.154,solarHotwater:1.254},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:227.272}}},{year:"2009",pop:4404744,gsp:292181,engCons:1294.384,engConsPerCap:293.861,engInt:4430.076,engProd:225.73,fuel:[{cat:"coal",value:547.51},{cat:"oil",value:466.869},{cat:"gas",value:195.803},{cat:"renewables",value:107.377}],elec:[{cat:"elecCons",value:58966.911}],details:{consumption:{blackCoal:547.143,browncoal:0,coke:0,coalByProducts:0,biofuels:4.207,woodwaste:10.727,Bagasse:0,refinery:0,petroleum:496.038,nulltgas:195.803,towngas:0,electricity:212.281,solarHotwater:1.706},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:232.844}}},{year:"2010",pop:4476778,gsp:294831,engCons:1249.598,engConsPerCap:279.129,engInt:4238.353,engProd:235.941,fuel:[{cat:"coal",value:497.209},{cat:"oil",value:483.317},{cat:"gas",value:190.552},{cat:"renewables",value:98.739}],elec:[{cat:"elecCons",value:58569.984}],details:{consumption:{blackCoal:496.789,browncoal:0,coke:0,coalByProducts:0,biofuels:4.431,woodwaste:9.091,Bagasse:0,refinery:0,petroleum:488.638,nulltgas:190.552,towngas:0,electricity:210.852,solarHotwater:2.052},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:226.054}}},{year:"2011",pop:4568687,gsp:312040,engCons:1314.818,engConsPerCap:287.789,engInt:4213.62,engProd:237.326,fuel:[{cat:"coal",value:481.546},{cat:"oil",value:504.806},{cat:"gas",value:246.145},{cat:"renewables",value:99.737}],elec:[{cat:"elecCons",value:58840.961}],details:{consumption:{blackCoal:481.316,browncoal:0,coke:0,coalByProducts:0,biofuels:3.9,woodwaste:8.2,Bagasse:0,refinery:0,petroleum:532.389,nulltgas:246.145,towngas:0,electricity:211.827,solarHotwater:2.264},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:223.802}}},{year:"2012",pop:4652824,gsp:320969,engCons:1334.792,engConsPerCap:286.878,engInt:4158.633,engProd:240.464,fuel:[{cat:"coal",value:473.41},{cat:"oil",value:514.669},{cat:"gas",value:239.824},{cat:"renewables",value:114.237}],elec:[{cat:"elecCons",value:60645.623}],details:{consumption:{blackCoal:473.215,browncoal:0,coke:0,coalByProducts:0,biofuels:3.118,woodwaste:9.332,Bagasse:0,refinery:0,petroleum:547.175,nulltgas:239.824,towngas:0,electricity:218.324,solarHotwater:2.396},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:218.38}}},{year:"2013",pop:4719653,gsp:328237,engCons:1338.862,engConsPerCap:283.678,engInt:4078.948,engProd:245.161,fuel:[{cat:"coal",value:442.851},{cat:"oil",value:531.185},{cat:"gas",value:257.996},{cat:"renewables",value:109.563}],elec:[{cat:"elecCons",value:59720.499}],details:{consumption:{blackCoal:442.439,browncoal:0,coke:0,coalByProducts:0,biofuels:3.733,woodwaste:9.158,Bagasse:0,refinery:0,petroleum:572.19,nulltgas:257.996,towngas:.006,electricity:214.994,solarHotwater:2.41},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:209.377}}},{year:"2014",pop:4777692,gsp:330946,engCons:1436.133,engConsPerCap:300.591,engInt:4339.48,engProd:230.442,fuel:[{cat:"coal",value:485.277},{cat:"oil",value:555.492},{cat:"gas",value:294.916},{cat:"renewables",value:122.537}],elec:[{cat:"elecCons",value:61981.555}],details:{consumption:{blackCoal:483.989,browncoal:0,coke:0,coalByProducts:0,biofuels:3.663,woodwaste:8.954,Bagasse:0,refinery:0,petroleum:574.801,nulltgas:294.916,towngas:0,electricity:223.134,solarHotwater:2.662},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:236.307}}},{year:"2015",pop:4845152,gsp:338839,engCons:1464.555,engConsPerCap:302.272,engInt:4322.275,engProd:231.36,fuel:[{cat:"coal",value:517.791},{cat:"oil",value:542.481},{cat:"gas",value:296.399},{cat:"renewables",value:120.39}],elec:[{cat:"elecCons",value:63913.219}],details:{consumption:{blackCoal:516.136,browncoal:0,coke:0,coalByProducts:0,biofuels:3.207,woodwaste:9.265,Bagasse:0,refinery:0,petroleum:556.353,nulltgas:296.399,towngas:0,electricity:230.088,solarHotwater:2.666},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:233.293}}},{year:"2016",pop:4928374,gsp:347445,engCons:1531.887,engConsPerCap:310.83,engInt:4409.007,engProd:226.808,fuel:[{cat:"coal",value:544.167},{cat:"oil",value:563.642},{cat:"gas",value:309.582},{cat:"renewables",value:129.588}],elec:[{cat:"elecCons",value:64784.771}],details:{consumption:{blackCoal:541.761,browncoal:0,coke:0,coalByProducts:0,biofuels:3.29,woodwaste:8.255,Bagasse:0,refinery:0,petroleum:567.824,nulltgas:309.582,towngas:.011,electricity:233.225,solarHotwater:2.791},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:237.259}}},{year:"2017",pop:5010502,gsp:360646,engCons:1547.834,engConsPerCap:308.918,engInt:4291.836,engProd:233,fuel:[{cat:"coal",value:570.59},{cat:"oil",value:578.55},{cat:"gas",value:302.269},{cat:"renewables",value:120.629}],elec:[{cat:"elecCons",value:63993.123}],details:{consumption:{blackCoal:568.431,browncoal:0,coke:0,coalByProducts:0,biofuels:3.354,woodwaste:7.637,Bagasse:0,refinery:0,petroleum:589.307,nulltgas:302.269,towngas:.042,electricity:230.375,solarHotwater:2.915},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:241.588}}},{year:"2018",pop:5094718,gsp:363975,engCons:1520.214,engConsPerCap:298.39,engInt:4176.7,engProd:239.423,fuel:[{cat:"coal",value:554.049},{cat:"oil",value:568.129},{cat:"gas",value:294.018},{cat:"renewables",value:123.899}],elec:[{cat:"elecCons",value:65144.134}],details:{consumption:{blackCoal:551.629,browncoal:0,coke:0,coalByProducts:0,biofuels:4.092,woodwaste:8.137,Bagasse:0,refinery:0,petroleum:578.232,nulltgas:294.018,towngas:.037,electricity:234.519,solarHotwater:3.032},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:231.797}}},{year:"2019",pop:5175003,gsp:361709,engCons:1478.673,engConsPerCap:285.734,engInt:4088.018,engProd:244.617,fuel:[{cat:"coal",value:524.279},{cat:"oil",value:536.258},{cat:"gas",value:312.968},{cat:"renewables",value:127.023}],elec:[{cat:"elecCons",value:64932.288}],details:{consumption:{blackCoal:521.683,browncoal:0,coke:0,coalByProducts:0,biofuels:4.252,woodwaste:8.304,Bagasse:0,refinery:0,petroleum:543.005,nulltgas:312.968,towngas:.036,electricity:233.756,solarHotwater:3.122},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:223.149}}},{year:"2020",pop:5217653,gsp:368977,engCons:1445.204,engConsPerCap:276.983,engInt:3916.785,engProd:255.311,fuel:[{cat:"coal",value:505.971},{cat:"oil",value:503.914},{cat:"gas",value:313.412},{cat:"renewables",value:139.646}],elec:[{cat:"elecCons",value:65287.619}],details:{consumption:{blackCoal:504.163,browncoal:0,coke:0,coalByProducts:0,biofuels:4.521,woodwaste:8.235,Bagasse:0,refinery:0,petroleum:512.971,nulltgas:313.412,towngas:.036,electricity:235.035,solarHotwater:3.27},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:211.977}}}],sa:[{year:"1960",pop:971487,gsp:null,engCons:91.4,engConsPerCap:94.083,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:894}],details:{consumption:{blackCoal:31.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11,Bagasse:0,refinery:0,petroleum:48.7,nulltgas:0,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1961",pop:987496,gsp:null,engCons:94.7,engConsPerCap:95.899,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:960}],details:{consumption:{blackCoal:31.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.8,Bagasse:0,refinery:0,petroleum:52.4,nulltgas:0,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1962",pop:1010741,gsp:null,engCons:101.6,engConsPerCap:100.52,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1068}],details:{consumption:{blackCoal:33,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.8,Bagasse:0,refinery:0,petroleum:57.8,nulltgas:0,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1963",pop:1038020,gsp:null,engCons:111.2,engConsPerCap:107.127,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1141}],details:{consumption:{blackCoal:34.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.8,Bagasse:0,refinery:0,petroleum:66,nulltgas:0,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1964",pop:1067571,gsp:null,engCons:123.4,engConsPerCap:115.59,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1277}],details:{consumption:{blackCoal:37.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.5,Bagasse:0,refinery:0,petroleum:75.1,nulltgas:0,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1965",pop:1094984,gsp:null,engCons:132.1,engConsPerCap:120.641,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1426}],details:{consumption:{blackCoal:37,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.6,Bagasse:0,refinery:0,petroleum:84.5,nulltgas:0,towngas:3.1,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:3.1,thermalelec:null}}},{year:"1966",pop:1109780,gsp:null,engCons:137.5,engConsPerCap:123.898,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1611}],details:{consumption:{blackCoal:37.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.5,Bagasse:0,refinery:0,petroleum:89.6,nulltgas:0,towngas:3.3,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:3.3,thermalelec:null}}},{year:"1967",pop:1121811,gsp:null,engCons:143,engConsPerCap:127.472,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1736}],details:{consumption:{blackCoal:34.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.4,Bagasse:0,refinery:0,petroleum:96.7,nulltgas:0,towngas:3.3,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:3.3,thermalelec:null}}},{year:"1968",pop:1139333,gsp:null,engCons:168.1,engConsPerCap:147.542,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2058}],details:{consumption:{blackCoal:50.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.9,Bagasse:0,refinery:0,petroleum:107.3,nulltgas:0,towngas:3.8,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:3.8,thermalelec:null}}},{year:"1969",pop:1157987,gsp:null,engCons:187.1,engConsPerCap:161.573,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2350}],details:{consumption:{blackCoal:64.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.9,Bagasse:0,refinery:0,petroleum:102.9,nulltgas:9.5,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1970",pop:1200114,gsp:null,engCons:191.9,engConsPerCap:159.901,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2628}],details:{consumption:{blackCoal:56.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.7,Bagasse:0,refinery:0,petroleum:93.3,nulltgas:32.1,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1971",pop:1214628,gsp:null,engCons:189.1,engConsPerCap:155.686,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2825}],details:{consumption:{blackCoal:46.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.7,Bagasse:0,refinery:0,petroleum:93.7,nulltgas:38.9,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1972",pop:1228475,gsp:null,engCons:202.5,engConsPerCap:164.839,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3124}],details:{consumption:{blackCoal:54.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.4,Bagasse:0,refinery:0,petroleum:94.8,nulltgas:43.9,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1973",pop:1241538,gsp:null,engCons:215.4,engConsPerCap:173.494,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5484}],details:{consumption:{blackCoal:55.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10,Bagasse:0,refinery:0,petroleum:104.3,nulltgas:48.7,towngas:.5,electricity:19.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.5,thermalelec:19.7}}},{year:"1974",pop:1265264,gsp:null,engCons:222.8,engConsPerCap:176.09,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5665}],details:{consumption:{blackCoal:59.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.9,Bagasse:0,refinery:0,petroleum:106.5,nulltgas:50.2,towngas:.2,electricity:20.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:20.4}}},{year:"1975",pop:1274070,gsp:null,engCons:234.5,engConsPerCap:184.056,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5966}],details:{consumption:{blackCoal:57.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.8,Bagasse:0,refinery:0,petroleum:113.1,nulltgas:57.3,towngas:.2,electricity:21.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:21.5}}},{year:"1976",pop:1286119,gsp:null,engCons:249.3,engConsPerCap:193.839,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6520}],details:{consumption:{blackCoal:57.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7.7,Bagasse:0,refinery:0,petroleum:114.3,nulltgas:72.9,towngas:.2,electricity:23.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:23.5}}},{year:"1977",pop:1296205,gsp:null,engCons:247.7,engConsPerCap:191.096,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6797}],details:{consumption:{blackCoal:47.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7.6,Bagasse:0,refinery:0,petroleum:115.9,nulltgas:78.4,towngas:.2,electricity:24.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:24.5}}},{year:"1978",pop:1301109,gsp:null,engCons:259.6,engConsPerCap:199.522,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6934}],details:{consumption:{blackCoal:54,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7.6,Bagasse:0,refinery:0,petroleum:117.3,nulltgas:81.3,towngas:.2,electricity:25,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:25}}},{year:"1979",pop:1308397,gsp:null,engCons:264.2,engConsPerCap:201.926,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7074}],details:{consumption:{blackCoal:53.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7.9,Bagasse:0,refinery:0,petroleum:115.1,nulltgas:88,towngas:.2,electricity:25.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:25.5}}},{year:"1980",pop:1318769,gsp:null,engCons:255.7,engConsPerCap:193.893,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7458}],details:{consumption:{blackCoal:59.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.2,Bagasse:0,refinery:0,petroleum:104.4,nulltgas:92.9,towngas:.2,electricity:26.9,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:26.9}}},{year:"1981",pop:1331108,gsp:null,engCons:260,engConsPerCap:195.326,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7618}],details:{consumption:{blackCoal:49.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.1,Bagasse:0,refinery:0,petroleum:101.2,nulltgas:104,towngas:.2,electricity:27.4,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:27.5}}},{year:"1982",pop:1345775,gsp:null,engCons:254.6,engConsPerCap:189.185,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7879}],details:{consumption:{blackCoal:42.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.6,Bagasse:0,refinery:0,petroleum:98.5,nulltgas:105.1,towngas:.2,electricity:28.4,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:28.4}}},{year:"1983",pop:1360048,gsp:null,engCons:258,engConsPerCap:189.699,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7681}],details:{consumption:{blackCoal:48.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.1,Bagasse:0,refinery:0,petroleum:98.1,nulltgas:106.2,towngas:.2,electricity:27.7,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:27.7}}},{year:"1984",pop:1371197,gsp:null,engCons:280.2,engConsPerCap:204.347,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8144}],details:{consumption:{blackCoal:54.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.4,Bagasse:0,refinery:0,petroleum:100.2,nulltgas:119.6,towngas:.2,electricity:29.3,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:29.3}}},{year:"1985",pop:1382550,gsp:null,engCons:284.5,engConsPerCap:205.779,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8370}],details:{consumption:{blackCoal:66.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9,Bagasse:0,refinery:0,petroleum:102.2,nulltgas:111.1,towngas:.2,electricity:30.1,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:30.2}}},{year:"1986",pop:1392764,gsp:null,engCons:284.7,engConsPerCap:204.414,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8426}],details:{consumption:{blackCoal:67.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.1,Bagasse:0,refinery:0,petroleum:103.9,nulltgas:107.9,towngas:.2,electricity:30.3,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:30.4}}},{year:"1987",pop:1404909,gsp:null,engCons:291.1,engConsPerCap:207.202,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8824}],details:{consumption:{blackCoal:73.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.2,Bagasse:0,refinery:0,petroleum:103.5,nulltgas:109.5,towngas:.3,electricity:31.8,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.3,thermalelec:31.8}}},{year:"1988",pop:1419029,gsp:null,engCons:299.3,engConsPerCap:210.919,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9254}],details:{consumption:{blackCoal:73.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.4,Bagasse:0,refinery:0,petroleum:110.3,nulltgas:111.3,towngas:.3,electricity:33.3,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.3,thermalelec:33.4}}},{year:"1989",pop:1432056,gsp:59656,engCons:301.9,engConsPerCap:210.816,engInt:5060.681,engProd:197.602,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9791}],details:{consumption:{blackCoal:76.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.8,Bagasse:0,refinery:0,petroleum:108.6,nulltgas:109.9,towngas:.2,electricity:35.3,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:32.8}}},{year:"1990",pop:1446299,gsp:59442,engCons:287.4,engConsPerCap:198.714,engInt:4834.965,engProd:206.827,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9851}],details:{consumption:{blackCoal:68.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.2,Bagasse:0,refinery:0,petroleum:106.8,nulltgas:96.7,towngas:0,electricity:35.5,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:26.8}}},{year:"1991",pop:1455442,gsp:58367,engCons:296.9,engConsPerCap:203.993,engInt:5086.778,engProd:196.588,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9979}],details:{consumption:{blackCoal:70.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.5,Bagasse:0,refinery:0,petroleum:107.8,nulltgas:101.8,towngas:0,electricity:35.9,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:30.7}}},{year:"1992",pop:1458632,gsp:60025,engCons:300.1,engConsPerCap:205.741,engInt:4999.584,engProd:200.017,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10210}],details:{consumption:{blackCoal:68.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.2,Bagasse:0,refinery:0,petroleum:110.7,nulltgas:103.4,towngas:0,electricity:36.8,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:31.4}}},{year:"1993",pop:1463089,gsp:61834,engCons:304.8,engConsPerCap:208.326,engInt:4929.327,engProd:202.867,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10433}],details:{consumption:{blackCoal:65.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.8,Bagasse:0,refinery:0,petroleum:112.4,nulltgas:112.2,towngas:0,electricity:37.6,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:32.4}}},{year:"1994",pop:1465340,gsp:62524,engCons:304.4,engConsPerCap:207.733,engInt:4868.53,engProd:205.401,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10876}],details:{consumption:{blackCoal:65.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.6,Bagasse:0,refinery:0,petroleum:111.2,nulltgas:110.2,towngas:0,electricity:39.2,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:30.5}}},{year:"1995",pop:1469079,gsp:64940,engCons:296.6,engConsPerCap:201.895,engInt:4567.293,engProd:218.948,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10879}],details:{consumption:{blackCoal:64.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.6,Bagasse:0,refinery:0,petroleum:110.7,nulltgas:99.4,towngas:0,electricity:39.2,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:25.6}}},{year:"1996",pop:1475658,gsp:66927,engCons:299.7,engConsPerCap:203.096,engInt:4478.013,engProd:223.313,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:11193}],details:{consumption:{blackCoal:67.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.7,Bagasse:0,refinery:0,petroleum:110.5,nulltgas:99.5,towngas:0,electricity:40.3,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:25.9}}},{year:"1997",pop:1483270,gsp:70517,engCons:311.9,engConsPerCap:210.279,engInt:4423.047,engProd:226.088,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:11571}],details:{consumption:{blackCoal:68.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.3,Bagasse:0,refinery:0,petroleum:114.2,nulltgas:106.9,towngas:0,electricity:41.7,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:27.3}}},{year:"1998",pop:1490934,gsp:72106,engCons:327.2,engConsPerCap:219.46,engInt:4537.764,engProd:220.373,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:12386}],details:{consumption:{blackCoal:69.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.3,Bagasse:0,refinery:0,petroleum:115.5,nulltgas:120.5,towngas:0,electricity:44.6,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:31.4}}},{year:"1999",pop:1497503,gsp:74660,engCons:328,engConsPerCap:219.031,engInt:4393.249,engProd:227.622,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:12816}],details:{consumption:{blackCoal:69,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.1,Bagasse:0,refinery:0,petroleum:119,nulltgas:119.9,towngas:0,electricity:46.1,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:34}}},{year:"2000",pop:1503461,gsp:77122,engCons:329.3,engConsPerCap:219.028,engInt:4269.858,engProd:234.2,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:13676}],details:{consumption:{blackCoal:74.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.9,Bagasse:0,refinery:0,petroleum:114.5,nulltgas:121.5,towngas:0,electricity:48.2,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:42.2}}},{year:"2001",pop:1511567,gsp:79882,engCons:328.1,engConsPerCap:217.06,engInt:4107.308,engProd:243.468,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:13492}],details:{consumption:{blackCoal:74.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.9,Bagasse:0,refinery:0,petroleum:113.7,nulltgas:123.2,towngas:0,electricity:47.4,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:42.7}}},{year:"2002",pop:1520399,gsp:83989,engCons:357.298,engConsPerCap:235.003,engInt:4254.103,engProd:235.067,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:13546.054}],details:{consumption:{blackCoal:null,browncoal:78.943,coke:0,coalByProducts:0,biofuels:2.021,woodwaste:12.75,Bagasse:0,refinery:0,petroleum:115.777,nulltgas:126.732,towngas:0,electricity:48.766,solarHotwater:.185},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:41.551}}},{year:"2003",pop:1528189,gsp:86754,engCons:371.539,engConsPerCap:243.124,engInt:4282.67,engProd:233.499,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:14187.624}],details:{consumption:{blackCoal:null,browncoal:85.711,coke:0,coalByProducts:0,biofuels:2.039,woodwaste:12.018,Bagasse:0,refinery:0,petroleum:121.855,nulltgas:128.103,towngas:0,electricity:51.075,solarHotwater:.185},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:40.44}}},{year:"2004",pop:1538804,gsp:88563,engCons:355.551,engConsPerCap:231.057,engInt:4014.668,engProd:249.087,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:13958.357}],details:{consumption:{blackCoal:null,browncoal:80.51,coke:0,coalByProducts:0,biofuels:.952,woodwaste:11.518,Bagasse:0,refinery:0,petroleum:118.662,nulltgas:130.598,towngas:0,electricity:50.25,solarHotwater:.194},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:40.384}}},{year:"2005",pop:1552529,gsp:89745,engCons:350.118,engConsPerCap:225.515,engInt:3901.252,engProd:256.328,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:14276.09}],details:{consumption:{blackCoal:null,browncoal:79.218,coke:0,coalByProducts:0,biofuels:1.004,woodwaste:11.892,Bagasse:0,refinery:0,petroleum:121.392,nulltgas:120.181,towngas:0,electricity:51.394,solarHotwater:.199},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:39.384}}},{year:"2006",pop:1570619,gsp:91387,engCons:375.46,engConsPerCap:239.053,engInt:4108.467,engProd:243.4,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:14949.778}],details:{consumption:{blackCoal:null,browncoal:86.401,coke:0,coalByProducts:0,biofuels:.924,woodwaste:12.548,Bagasse:0,refinery:0,petroleum:121.907,nulltgas:136.585,towngas:0,electricity:53.819,solarHotwater:.497},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:42.681}}},{year:"2007",pop:1588665,gsp:95674,engCons:372.533,engConsPerCap:234.494,engInt:3893.773,engProd:256.82,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:14863.324}],details:{consumption:{blackCoal:null,browncoal:83.026,coke:0,coalByProducts:0,biofuels:.64,woodwaste:12.208,Bagasse:0,refinery:0,petroleum:124.222,nulltgas:145.511,towngas:0,electricity:53.508,solarHotwater:.53},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:46.816}}},{year:"2008",pop:1608902,gsp:98259,engCons:357.225,engConsPerCap:222.03,engInt:3635.547,engProd:275.062,fuel:[{cat:"coal",value:80.2},{cat:"oil",value:120.2},{cat:"gas",value:134},{cat:"renewables",value:21.2}],elec:[{cat:"elecCons",value:15256.561}],details:{consumption:{blackCoal:null,browncoal:81.51,coke:0,coalByProducts:0,biofuels:1.265,woodwaste:11.962,Bagasse:0,refinery:0,petroleum:119.495,nulltgas:134.012,towngas:0,electricity:54.924,solarHotwater:.59},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:45.884}}},{year:"2009",pop:1627322,gsp:100302,engCons:343.727,engConsPerCap:211.222,engInt:3426.92,engProd:291.807,fuel:[{cat:"coal",value:79.7},{cat:"oil",value:120.5},{cat:"gas",value:119.5},{cat:"renewables",value:20.4}],elec:[{cat:"elecCons",value:15163.85}],details:{consumption:{blackCoal:null,browncoal:81.821,coke:0,coalByProducts:0,biofuels:1.272,woodwaste:10.938,Bagasse:0,refinery:0,petroleum:119.714,nulltgas:119.466,towngas:0,electricity:54.59,solarHotwater:.72},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:43.374}}},{year:"2010",pop:1639614,gsp:102564,engCons:342.809,engConsPerCap:209.079,engInt:3342.395,engProd:299.187,fuel:[{cat:"coal",value:72.6},{cat:"oil",value:119.3},{cat:"gas",value:121.8},{cat:"renewables",value:23.8}],elec:[{cat:"elecCons",value:15924.629}],details:{consumption:{blackCoal:null,browncoal:75.022,coke:0,coalByProducts:0,biofuels:1.41,woodwaste:10.514,Bagasse:0,refinery:0,petroleum:124.246,nulltgas:121.81,towngas:0,electricity:57.329,solarHotwater:.778},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:40.891}}},{year:"2011",pop:1656725,gsp:103611,engCons:307.665,engConsPerCap:185.706,engInt:2969.42,engProd:336.766,fuel:[{cat:"coal",value:60.9},{cat:"oil",value:89.4},{cat:"gas",value:125.2},{cat:"renewables",value:24.7}],elec:[{cat:"elecCons",value:15492.08}],details:{consumption:{blackCoal:null,browncoal:61.146,coke:0,coalByProducts:0,biofuels:1.434,woodwaste:9.75,Bagasse:0,refinery:0,petroleum:125.78,nulltgas:125.182,towngas:0,electricity:55.771,solarHotwater:.814},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:35.567}}},{year:"2012",pop:1671488,gsp:104385,engCons:356.279,engConsPerCap:213.151,engInt:3413.123,engProd:292.987,fuel:[{cat:"coal",value:50.7},{cat:"oil",value:147.4},{cat:"gas",value:124.6},{cat:"renewables",value:25.1}],elec:[{cat:"elecCons",value:15750.606}],details:{consumption:{blackCoal:null,browncoal:53.738,coke:0,coalByProducts:0,biofuels:1.538,woodwaste:8.769,Bagasse:0,refinery:0,petroleum:126.279,nulltgas:124.634,towngas:0,electricity:56.702,solarHotwater:.842},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:34.274}}},{year:"2013",pop:1686945,gsp:104530,engCons:337.065,engConsPerCap:199.808,engInt:3224.577,engProd:310.118,fuel:[{cat:"coal",value:46.7},{cat:"oil",value:141},{cat:"gas",value:110.1},{cat:"renewables",value:29.1}],elec:[{cat:"elecCons",value:15941.243}],details:{consumption:{blackCoal:null,browncoal:49.722,coke:0,coalByProducts:0,biofuels:1.694,woodwaste:9.15,Bagasse:0,refinery:0,petroleum:126.31,nulltgas:110.085,towngas:0,electricity:57.388,solarHotwater:.844},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:29.824}}},{year:"2014",pop:1700668,gsp:105656,engCons:356.925,engConsPerCap:209.874,engInt:3378.182,engProd:296.017,fuel:[{cat:"coal",value:54},{cat:"oil",value:163.4},{cat:"gas",value:99.5},{cat:"renewables",value:30.7}],elec:[{cat:"elecCons",value:15636.237}],details:{consumption:{blackCoal:null,browncoal:56.608,coke:0,coalByProducts:0,biofuels:2.007,woodwaste:9.391,Bagasse:0,refinery:0,petroleum:125.459,nulltgas:99.515,towngas:0,electricity:56.29,solarHotwater:.912},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:28.511}}},{year:"2015",pop:1712843,gsp:106275,engCons:316.387,engConsPerCap:184.715,engInt:2977.064,engProd:335.901,fuel:[{cat:"coal",value:52.6},{cat:"oil",value:121.2},{cat:"gas",value:100.6},{cat:"renewables",value:31.6}],elec:[{cat:"elecCons",value:15967.543}],details:{consumption:{blackCoal:null,browncoal:55.477,coke:0,coalByProducts:0,biofuels:1.808,woodwaste:9.786,Bagasse:0,refinery:0,petroleum:123.201,nulltgas:100.574,towngas:0,electricity:57.483,solarHotwater:.913},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:28.01}}},{year:"2016",pop:1729608,gsp:108185,engCons:287.382,engConsPerCap:166.154,engInt:2656.391,engProd:376.451,fuel:[{cat:"coal",value:26.1},{cat:"oil",value:106.6},{cat:"gas",value:109.6},{cat:"renewables",value:31.9}],elec:[{cat:"elecCons",value:15392.118}],details:{consumption:{blackCoal:null,browncoal:null,coke:0,coalByProducts:0,biofuels:1.263,woodwaste:10.19,Bagasse:0,refinery:0,petroleum:124.388,nulltgas:109.573,towngas:0,electricity:55.412,solarHotwater:.955},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:22.642}}},{year:"2017",pop:1748010,gsp:110504,engCons:334.649,engConsPerCap:191.446,engInt:3028.389,engProd:330.209,fuel:[{cat:"coal",value:25.9},{cat:"oil",value:149},{cat:"gas",value:120.4},{cat:"renewables",value:37.3}],elec:[{cat:"elecCons",value:15420.301}],details:{consumption:{blackCoal:null,browncoal:null,coke:0,coalByProducts:0,biofuels:1.101,woodwaste:10.443,Bagasse:0,refinery:0,petroleum:128.702,nulltgas:120.39,towngas:0,electricity:55.513,solarHotwater:1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:28.656}}},{year:"2018",pop:1770048,gsp:111793,engCons:326.936,engConsPerCap:184.705,engInt:2924.476,engProd:341.942,fuel:[{cat:"coal",value:26.3},{cat:"oil",value:151.2},{cat:"gas",value:108.3},{cat:"renewables",value:39}],elec:[{cat:"elecCons",value:15530.756}],details:{consumption:{blackCoal:null,browncoal:null,coke:0,coalByProducts:0,biofuels:1.125,woodwaste:9.984,Bagasse:0,refinery:0,petroleum:132.27,nulltgas:108.318,towngas:0,electricity:55.911,solarHotwater:1.048},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:26.978}}},{year:"2019",pop:1793547,gsp:110652,engCons:319.458,engConsPerCap:178.115,engInt:2887.048,engProd:346.375,fuel:[{cat:"coal",value:24.7},{cat:"oil",value:147.7},{cat:"gas",value:103.7},{cat:"renewables",value:40.9}],elec:[{cat:"elecCons",value:15685.379}],details:{consumption:{blackCoal:null,browncoal:null,coke:0,coalByProducts:0,biofuels:1.256,woodwaste:9.15,Bagasse:0,refinery:0,petroleum:128.064,nulltgas:103.724,towngas:0,electricity:56.467,solarHotwater:1.118},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:24.735}}},{year:"2020",pop:1803192,gsp:114921,engCons:311.164,engConsPerCap:172.563,engInt:2707.636,engProd:369.326,fuel:[{cat:"coal",value:25.1},{cat:"oil",value:145.5},{cat:"gas",value:92.5},{cat:"renewables",value:44.2}],elec:[{cat:"elecCons",value:15755.597}],details:{consumption:{blackCoal:null,browncoal:null,coke:0,coalByProducts:0,biofuels:1.697,woodwaste:9.369,Bagasse:0,refinery:0,petroleum:125.556,nulltgas:92.484,towngas:0,electricity:56.72,solarHotwater:1.203},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:20.917}}}],wa:[{year:"1960",pop:746750,gsp:null,engCons:99.6,engConsPerCap:133.378,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1774}],details:{consumption:{blackCoal:16.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:18.8,Bagasse:0,refinery:0,petroleum:64.1,nulltgas:0,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1961",pop:765962,gsp:null,engCons:99.1,engConsPerCap:129.38,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2032}],details:{consumption:{blackCoal:19.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:18.1,Bagasse:0,refinery:0,petroleum:61.5,nulltgas:0,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1962",pop:788344,gsp:null,engCons:103.9,engConsPerCap:131.795,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2176}],details:{consumption:{blackCoal:20.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:17.4,Bagasse:0,refinery:0,petroleum:66.1,nulltgas:0,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1963",pop:808443,gsp:null,engCons:110.8,engConsPerCap:137.054,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2377}],details:{consumption:{blackCoal:19.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:16.7,Bagasse:0,refinery:0,petroleum:74.4,nulltgas:0,towngas:.7,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.7,thermalelec:null}}},{year:"1964",pop:825525,gsp:null,engCons:115.9,engConsPerCap:140.396,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2674}],details:{consumption:{blackCoal:20,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:16.1,Bagasse:0,refinery:0,petroleum:79.8,nulltgas:0,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1965",pop:848100,gsp:null,engCons:124.6,engConsPerCap:146.917,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3031}],details:{consumption:{blackCoal:22.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:15.5,Bagasse:0,refinery:0,petroleum:86.8,nulltgas:0,towngas:.8,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.8,thermalelec:null}}},{year:"1966",pop:879179,gsp:null,engCons:136.2,engConsPerCap:154.917,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3201}],details:{consumption:{blackCoal:22.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:14.9,Bagasse:0,refinery:0,petroleum:99,nulltgas:0,towngas:.8,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.8,thermalelec:null}}},{year:"1967",pop:915042,gsp:null,engCons:157.1,engConsPerCap:171.686,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3636}],details:{consumption:{blackCoal:22.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:14.4,Bagasse:0,refinery:0,petroleum:120.2,nulltgas:0,towngas:.9,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.9,thermalelec:null}}},{year:"1968",pop:954846,gsp:null,engCons:169.4,engConsPerCap:177.411,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3857}],details:{consumption:{blackCoal:21.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:13.9,Bagasse:0,refinery:0,petroleum:133.7,nulltgas:.1,towngas:1,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:1,thermalelec:null}}},{year:"1969",pop:991354,gsp:null,engCons:189.8,engConsPerCap:191.455,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:4164}],details:{consumption:{blackCoal:22.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:13.3,Bagasse:0,refinery:0,petroleum:153.3,nulltgas:.3,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1970",pop:1053834,gsp:null,engCons:209.1,engConsPerCap:198.418,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:4336}],details:{consumption:{blackCoal:23.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.9,Bagasse:0,refinery:0,petroleum:172.3,nulltgas:.6,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1971",pop:1082017,gsp:null,engCons:221.7,engConsPerCap:204.895,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:4411}],details:{consumption:{blackCoal:23.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.5,Bagasse:0,refinery:0,petroleum:174.1,nulltgas:11.4,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1972",pop:1101041,gsp:null,engCons:239.1,engConsPerCap:217.158,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:4800}],details:{consumption:{blackCoal:23.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.1,Bagasse:0,refinery:0,petroleum:171.3,nulltgas:32.5,towngas:null,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:null}}},{year:"1973",pop:1127598,gsp:null,engCons:272.6,engConsPerCap:241.753,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5439}],details:{consumption:{blackCoal:23,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.9,Bagasse:0,refinery:0,petroleum:194.6,nulltgas:31.2,towngas:0,electricity:19.6,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:19.5}}},{year:"1974",pop:1154948,gsp:null,engCons:279.6,engConsPerCap:242.089,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5989}],details:{consumption:{blackCoal:36.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.4,Bagasse:0,refinery:0,petroleum:188,nulltgas:31.5,towngas:0,electricity:21.6,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:21.5}}},{year:"1975",pop:1178342,gsp:null,engCons:296.5,engConsPerCap:251.625,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6508}],details:{consumption:{blackCoal:42.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.1,Bagasse:0,refinery:0,petroleum:194.9,nulltgas:31.9,towngas:0,electricity:23.4,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:23.4}}},{year:"1976",pop:1204366,gsp:null,engCons:322.1,engConsPerCap:267.444,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6986}],details:{consumption:{blackCoal:45.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.2,Bagasse:0,refinery:0,petroleum:220.5,nulltgas:32.8,towngas:.1,electricity:25.1,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:24.9}}},{year:"1977",pop:1227851,gsp:null,engCons:328.4,engConsPerCap:267.459,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7229}],details:{consumption:{blackCoal:46.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.8,Bagasse:0,refinery:0,petroleum:226,nulltgas:31.3,towngas:.1,electricity:26,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:25.8}}},{year:"1978",pop:1246611,gsp:null,engCons:336,engConsPerCap:269.531,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7492}],details:{consumption:{blackCoal:47.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.9,Bagasse:0,refinery:0,petroleum:228.1,nulltgas:32.2,towngas:.1,electricity:27,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:26.6}}},{year:"1979",pop:1269068,gsp:null,engCons:334.1,engConsPerCap:263.264,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7733}],details:{consumption:{blackCoal:57.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.1,Bagasse:0,refinery:0,petroleum:218.9,nulltgas:33.1,towngas:.1,electricity:27.8,solarHotwater:.5},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:27.6}}},{year:"1980",pop:1300056,gsp:null,engCons:322,engConsPerCap:247.682,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7885}],details:{consumption:{blackCoal:62.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.5,Bagasse:0,refinery:0,petroleum:206.6,nulltgas:33.6,towngas:.1,electricity:28.4,solarHotwater:.5},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:28.2}}},{year:"1981",pop:1338899,gsp:null,engCons:300.1,engConsPerCap:224.139,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8199}],details:{consumption:{blackCoal:64.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.6,Bagasse:0,refinery:0,petroleum:194.6,nulltgas:31.9,towngas:.1,electricity:29.5,solarHotwater:.6},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:29.5}}},{year:"1982",pop:1369050,gsp:null,engCons:304.6,engConsPerCap:222.49,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8365}],details:{consumption:{blackCoal:67.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.5,Bagasse:0,refinery:0,petroleum:189.1,nulltgas:38.3,towngas:.1,electricity:30.1,solarHotwater:.8},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:30.1}}},{year:"1983",pop:1391237,gsp:null,engCons:313.9,engConsPerCap:225.627,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8647}],details:{consumption:{blackCoal:71.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.5,Bagasse:0,refinery:0,petroleum:195,nulltgas:38.6,towngas:.1,electricity:31.1,solarHotwater:.9},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:31.1}}},{year:"1984",pop:1418564,gsp:null,engCons:343.1,engConsPerCap:241.864,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9711}],details:{consumption:{blackCoal:82.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.7,Bagasse:0,refinery:0,petroleum:177.1,nulltgas:73.9,towngas:.1,electricity:35,solarHotwater:1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:35}}},{year:"1985",pop:1459019,gsp:null,engCons:344.8,engConsPerCap:236.323,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10321}],details:{consumption:{blackCoal:63.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.1,Bagasse:0,refinery:0,petroleum:156.6,nulltgas:115.3,towngas:.1,electricity:37.2,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:37.1}}},{year:"1986",pop:1496248,gsp:null,engCons:358.4,engConsPerCap:239.532,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10881}],details:{consumption:{blackCoal:60.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.2,Bagasse:0,refinery:0,petroleum:155.7,nulltgas:132.9,towngas:.1,electricity:39.2,solarHotwater:1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:39.2}}},{year:"1987",pop:1535167,gsp:null,engCons:391.1,engConsPerCap:254.761,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:11455}],details:{consumption:{blackCoal:61.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9,Bagasse:0,refinery:0,petroleum:167,nulltgas:153,towngas:.1,electricity:41.2,solarHotwater:1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:41.2}}},{year:"1988",pop:1578434,gsp:null,engCons:427.7,engConsPerCap:270.965,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:12848}],details:{consumption:{blackCoal:78.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.1,Bagasse:0,refinery:0,petroleum:179.3,nulltgas:158.5,towngas:.1,electricity:46.3,solarHotwater:1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:46.3}}},{year:"1989",pop:1613049,gsp:79947,engCons:473,engConsPerCap:293.233,engInt:5916.42,engProd:169.021,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:14261}],details:{consumption:{blackCoal:93.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.8,Bagasse:0,refinery:0,petroleum:184.2,nulltgas:183.3,towngas:.1,electricity:51.3,solarHotwater:1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:51.3}}},{year:"1990",pop:1636067,gsp:80778,engCons:488.4,engConsPerCap:298.521,engInt:6046.201,engProd:165.393,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:14809}],details:{consumption:{blackCoal:109.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.2,Bagasse:0,refinery:0,petroleum:185.6,nulltgas:181.3,towngas:.1,electricity:53.3,solarHotwater:1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:53.3}}},{year:"1991",pop:1658544,gsp:83548,engCons:496.4,engConsPerCap:299.299,engInt:5941.495,engProd:168.308,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:15208}],details:{consumption:{blackCoal:111.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.5,Bagasse:0,refinery:0,petroleum:184.2,nulltgas:189,towngas:.1,electricity:54.8,solarHotwater:1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:54.7}}},{year:"1992",pop:1678722,gsp:87476,engCons:522,engConsPerCap:310.951,engInt:5967.351,engProd:167.579,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:15624}],details:{consumption:{blackCoal:114.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.7,Bagasse:0,refinery:0,petroleum:187.9,nulltgas:207.4,towngas:.1,electricity:56.2,solarHotwater:1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:56.2}}},{year:"1993",pop:1704649,gsp:93354,engCons:554.1,engConsPerCap:325.052,engInt:5935.471,engProd:168.479,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:16295}],details:{consumption:{blackCoal:110.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.5,Bagasse:0,refinery:0,petroleum:197.4,nulltgas:233.1,towngas:.1,electricity:58.7,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:58.6}}},{year:"1994",pop:1736066,gsp:98549,engCons:592.7,engConsPerCap:341.404,engInt:6014.267,engProd:166.271,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:17362}],details:{consumption:{blackCoal:105.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.7,Bagasse:0,refinery:0,petroleum:212.8,nulltgas:261.1,towngas:.1,electricity:62.5,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:62.5}}},{year:"1995",pop:1768206,gsp:103896,engCons:630.2,engConsPerCap:356.406,engInt:6065.681,engProd:164.862,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:18106}],details:{consumption:{blackCoal:122.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.8,Bagasse:0,refinery:0,petroleum:231.3,nulltgas:263.3,towngas:.1,electricity:65.2,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:65.1}}},{year:"1996",pop:1798341,gsp:107213,engCons:649.6,engConsPerCap:361.222,engInt:6058.967,engProd:165.045,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:18291}],details:{consumption:{blackCoal:117.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12,Bagasse:0,refinery:0,petroleum:231.5,nulltgas:285.1,towngas:.1,electricity:65.8,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:65.8}}},{year:"1997",pop:1826440,gsp:113268,engCons:662.6,engConsPerCap:362.782,engInt:5849.843,engProd:170.945,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:19542}],details:{consumption:{blackCoal:112.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12,Bagasse:0,refinery:0,petroleum:224.6,nulltgas:309.2,towngas:.1,electricity:70.4,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:70}}},{year:"1998",pop:1853936,gsp:116939,engCons:672.8,engConsPerCap:362.904,engInt:5753.427,engProd:173.809,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:21407}],details:{consumption:{blackCoal:111.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.1,Bagasse:0,refinery:0,petroleum:224,nulltgas:320.9,towngas:0,electricity:77.1,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:76.3}}},{year:"1999",pop:1879093,gsp:121137,engCons:688.5,engConsPerCap:366.4,engInt:5683.647,engProd:175.943,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:22869}],details:{consumption:{blackCoal:120,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.1,Bagasse:0,refinery:0,petroleum:223.3,nulltgas:328.6,towngas:0,electricity:82.3,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:83.3}}},{year:"2000",pop:1906274,gsp:122969,engCons:708.1,engConsPerCap:371.458,engInt:5758.362,engProd:173.66,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:23135}],details:{consumption:{blackCoal:118.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.2,Bagasse:0,refinery:0,petroleum:238.4,nulltgas:337.5,towngas:0,electricity:76.5,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:82.7}}},{year:"2001",pop:1928512,gsp:131200,engCons:722.9,engConsPerCap:374.849,engInt:5509.909,engProd:181.491,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:23378}],details:{consumption:{blackCoal:121.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.5,Bagasse:0,refinery:0,petroleum:245.9,nulltgas:345.1,towngas:0,electricity:77.6,solarHotwater:1.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:83.5}}},{year:"2002",pop:1952741,gsp:161209,engCons:721.297,engConsPerCap:369.377,engInt:4474.299,engProd:223.499,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:20489.788}],details:{consumption:{blackCoal:133.466,browncoal:0,coke:0,coalByProducts:0,biofuels:1.188,woodwaste:10.545,Bagasse:0,refinery:0,petroleum:244.669,nulltgas:316.126,towngas:0,electricity:73.763,solarHotwater:1.178},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:69.878}}},{year:"2003",pop:1979542,gsp:172997,engCons:731.723,engConsPerCap:369.642,engInt:4229.685,engProd:236.424,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:20759.706}],details:{consumption:{blackCoal:134.858,browncoal:0,coke:0,coalByProducts:0,biofuels:1.17,woodwaste:10.346,Bagasse:0,refinery:0,petroleum:256.288,nulltgas:329.459,towngas:0,electricity:74.735,solarHotwater:1.088},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:74.563}}},{year:"2004",pop:2011207,gsp:179367,engCons:749.66,engConsPerCap:372.741,engInt:4179.473,engProd:239.265,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:20937.755}],details:{consumption:{blackCoal:131.012,browncoal:0,coke:0,coalByProducts:0,biofuels:.588,woodwaste:10.09,Bagasse:0,refinery:0,petroleum:248.917,nulltgas:352.249,towngas:0,electricity:75.376,solarHotwater:1.087},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:71.022}}},{year:"2005",pop:2050581,gsp:188177,engCons:758.641,engConsPerCap:369.964,engInt:4031.528,engProd:248.045,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:22385.02}],details:{consumption:{blackCoal:127.936,browncoal:0,coke:0,coalByProducts:0,biofuels:.601,woodwaste:9.871,Bagasse:0,refinery:0,petroleum:250.256,nulltgas:364.31,towngas:0,electricity:80.586,solarHotwater:.983},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:71.422}}},{year:"2006",pop:2106139,gsp:200733,engCons:820.986,engConsPerCap:389.806,engInt:4089.942,engProd:244.502,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:23417.126}],details:{consumption:{blackCoal:128.311,browncoal:0,coke:0,coalByProducts:0,biofuels:.557,woodwaste:9.655,Bagasse:0,refinery:0,petroleum:258.331,nulltgas:401.134,towngas:0,electricity:84.302,solarHotwater:2.443},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:74.948}}},{year:"2007",pop:2171700,gsp:211060,engCons:828.191,engConsPerCap:381.356,engInt:3923.96,engProd:254.845,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:24370.37}],details:{consumption:{blackCoal:118.48,browncoal:0,coke:0,coalByProducts:0,biofuels:.919,woodwaste:9.483,Bagasse:0,refinery:0,petroleum:281.895,nulltgas:408.526,towngas:0,electricity:87.733,solarHotwater:2.47},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:81.563}}},{year:"2008",pop:2240250,gsp:216002,engCons:917.393,engConsPerCap:409.505,engInt:4247.151,engProd:235.452,fuel:[{cat:"coal",value:629.212},{cat:"oil",value:469.531},{cat:"gas",value:187.938},{cat:"renewables",value:77.402}],elec:[{cat:"elecCons",value:27632.528}],details:{consumption:{blackCoal:132.937,browncoal:0,coke:0,coalByProducts:0,biofuels:1.784,woodwaste:8.811,Bagasse:0,refinery:0,petroleum:288.766,nulltgas:474.847,towngas:0,electricity:99.477,solarHotwater:2.498},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:97.312}}},{year:"2009",pop:2290845,gsp:228873,engCons:905.876,engConsPerCap:395.433,engInt:3957.986,engProd:252.654,fuel:[{cat:"coal",value:547.51},{cat:"oil",value:466.869},{cat:"gas",value:195.803},{cat:"renewables",value:107.377}],elec:[{cat:"elecCons",value:29058.352}],details:{consumption:{blackCoal:125.47,browncoal:0,coke:0,coalByProducts:0,biofuels:1.547,woodwaste:7.72,Bagasse:0,refinery:0,petroleum:286.897,nulltgas:474.993,towngas:.096,electricity:104.61,solarHotwater:2.745},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:101.271}}},{year:"2010",pop:2353409,gsp:239627,engCons:980.385,engConsPerCap:416.581,engInt:4091.296,engProd:244.421,fuel:[{cat:"coal",value:497.209},{cat:"oil",value:483.317},{cat:"gas",value:190.552},{cat:"renewables",value:98.739}],elec:[{cat:"elecCons",value:31394.585}],details:{consumption:{blackCoal:130.526,browncoal:0,coke:0,coalByProducts:0,biofuels:1.634,woodwaste:7.452,Bagasse:0,refinery:0,petroleum:327.002,nulltgas:495.004,towngas:0,electricity:113.021,solarHotwater:2.885},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:111.682}}},{year:"2011",pop:2425507,gsp:259517,engCons:982.236,engConsPerCap:404.961,engInt:3784.86,engProd:264.211,fuel:[{cat:"coal",value:481.546},{cat:"oil",value:504.806},{cat:"gas",value:246.145},{cat:"renewables",value:99.737}],elec:[{cat:"elecCons",value:31548.566}],details:{consumption:{blackCoal:124.968,browncoal:0,coke:0,coalByProducts:0,biofuels:.858,woodwaste:7.38,Bagasse:0,refinery:0,petroleum:369.517,nulltgas:503.424,towngas:0,electricity:113.575,solarHotwater:3.009},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:110.487}}},{year:"2012",pop:2486944,gsp:275222,engCons:1019.5,engConsPerCap:409.941,engInt:3704.284,engProd:269.958,fuel:[{cat:"coal",value:473.41},{cat:"oil",value:514.669},{cat:"gas",value:239.824},{cat:"renewables",value:114.237}],elec:[{cat:"elecCons",value:33300.476}],details:{consumption:{blackCoal:129.064,browncoal:0,coke:0,coalByProducts:0,biofuels:.788,woodwaste:7.712,Bagasse:0,refinery:0,petroleum:389.906,nulltgas:515.489,towngas:0,electricity:119.882,solarHotwater:3.248},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:114.952}}},{year:"2013",pop:2517608,gsp:291130,engCons:1066.613,engConsPerCap:423.661,engInt:3663.7,engProd:272.948,fuel:[{cat:"coal",value:442.851},{cat:"oil",value:531.185},{cat:"gas",value:257.996},{cat:"renewables",value:109.563}],elec:[{cat:"elecCons",value:36691.708}],details:{consumption:{blackCoal:135.234,browncoal:0,coke:0,coalByProducts:0,biofuels:1.562,woodwaste:7.781,Bagasse:0,refinery:0,petroleum:406.915,nulltgas:536.077,towngas:.044,electricity:132.09,solarHotwater:3.287},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:123.751}}},{year:"2014",pop:2540672,gsp:297620,engCons:1045.368,engConsPerCap:411.453,engInt:3512.425,engProd:284.704,fuel:[{cat:"coal",value:485.277},{cat:"oil",value:555.492},{cat:"gas",value:294.916},{cat:"renewables",value:122.537}],elec:[{cat:"elecCons",value:37781.919}],details:{consumption:{blackCoal:126.858,browncoal:0,coke:0,coalByProducts:0,biofuels:1.552,woodwaste:8,Bagasse:0,refinery:0,petroleum:410.908,nulltgas:539.88,towngas:0,electricity:136.015,solarHotwater:3.757},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:127.032}}},{year:"2015",pop:2555978,gsp:300590,engCons:1123.914,engConsPerCap:439.72,engInt:3739.026,engProd:267.449,fuel:[{cat:"coal",value:517.791},{cat:"oil",value:542.481},{cat:"gas",value:296.399},{cat:"renewables",value:120.39}],elec:[{cat:"elecCons",value:38736.801}],details:{consumption:{blackCoal:135.794,browncoal:0,coke:0,coalByProducts:0,biofuels:1.185,woodwaste:8.005,Bagasse:0,refinery:0,petroleum:418.374,nulltgas:561.914,towngas:0,electricity:139.452,solarHotwater:3.767},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:130.515}}},{year:"2016",pop:2587577,gsp:297375,engCons:1177.02,engConsPerCap:454.873,engInt:3958.032,engProd:252.651,fuel:[{cat:"coal",value:544.167},{cat:"oil",value:563.642},{cat:"gas",value:309.582},{cat:"renewables",value:129.588}],elec:[{cat:"elecCons",value:40038.952}],details:{consumption:{blackCoal:145.223,browncoal:0,coke:0,coalByProducts:0,biofuels:1.613,woodwaste:9.055,Bagasse:0,refinery:0,petroleum:430.157,nulltgas:595.028,towngas:0,electricity:144.14,solarHotwater:3.986},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:134.043}}},{year:"2017",pop:2621052,gsp:304445,engCons:1209.878,engConsPerCap:461.6,engInt:3974.046,engProd:251.633,fuel:[{cat:"coal",value:570.59},{cat:"oil",value:578.55},{cat:"gas",value:302.269},{cat:"renewables",value:120.629}],elec:[{cat:"elecCons",value:41178.395}],details:{consumption:{blackCoal:135.615,browncoal:0,coke:0,coalByProducts:0,biofuels:1.771,woodwaste:8.051,Bagasse:0,refinery:0,petroleum:432.865,nulltgas:643.415,towngas:0,electricity:148.242,solarHotwater:4.197},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:137.263}}},{year:"2018",pop:2663795,gsp:309245,engCons:1264.682,engConsPerCap:474.767,engInt:4089.58,engProd:244.524,fuel:[{cat:"coal",value:554.049},{cat:"oil",value:568.129},{cat:"gas",value:294.018},{cat:"renewables",value:123.899}],elec:[{cat:"elecCons",value:41910.838}],details:{consumption:{blackCoal:126.273,browncoal:0,coke:0,coalByProducts:0,biofuels:1.562,woodwaste:8.248,Bagasse:0,refinery:0,petroleum:437.867,nulltgas:668.329,towngas:0,electricity:150.879,solarHotwater:4.413},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:137.813}}},{year:"2019",pop:2718400,gsp:312478,engCons:1268.129,engConsPerCap:466.498,engInt:4058.299,engProd:246.409,fuel:[{cat:"coal",value:524.279},{cat:"oil",value:536.258},{cat:"gas",value:312.968},{cat:"renewables",value:127.023}],elec:[{cat:"elecCons",value:43396.038}],details:{consumption:{blackCoal:118.978,browncoal:0,coke:0,coalByProducts:0,biofuels:1.406,woodwaste:7.397,Bagasse:0,refinery:0,petroleum:424.859,nulltgas:693.144,towngas:0,electricity:156.226,solarHotwater:4.634},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:140.609}}},{year:"2020",pop:2749864,gsp:320653,engCons:1246.486,engConsPerCap:453.29,engInt:3887.336,engProd:257.246,fuel:[{cat:"coal",value:505.971},{cat:"oil",value:503.914},{cat:"gas",value:313.412},{cat:"renewables",value:139.646}],elec:[{cat:"elecCons",value:43515.282}],details:{consumption:{blackCoal:114.077,browncoal:0,coke:0,coalByProducts:0,biofuels:1.434,woodwaste:7.272,Bagasse:0,refinery:0,petroleum:424.489,nulltgas:671.586,towngas:0,electricity:156.655,solarHotwater:4.884},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:134.862}}}],tas:[{year:"1960",pop:350340,gsp:null,engCons:39.1,engConsPerCap:111.606,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2567}],details:{consumption:{blackCoal:6.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.8,Bagasse:0,refinery:0,petroleum:12.9,nulltgas:0,towngas:null,electricity:9.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.1}}},{year:"1961",pop:355668,gsp:null,engCons:38.9,engConsPerCap:109.372,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2675}],details:{consumption:{blackCoal:6.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.5,Bagasse:0,refinery:0,petroleum:13.4,nulltgas:0,towngas:null,electricity:9.8,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.1}}},{year:"1962",pop:360727,gsp:null,engCons:42.3,engConsPerCap:117.263,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3145}],details:{consumption:{blackCoal:5.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.1,Bagasse:0,refinery:0,petroleum:16,nulltgas:0,towngas:null,electricity:11.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.1}}},{year:"1963",pop:364311,gsp:null,engCons:45.7,engConsPerCap:125.442,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3335}],details:{consumption:{blackCoal:4.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.9,Bagasse:0,refinery:0,petroleum:19.5,nulltgas:0,towngas:null,electricity:12.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.1}}},{year:"1964",pop:367905,gsp:null,engCons:47.3,engConsPerCap:128.566,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3708}],details:{consumption:{blackCoal:3.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.6,Bagasse:0,refinery:0,petroleum:21.6,nulltgas:0,towngas:null,electricity:13.8,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.1}}},{year:"1965",pop:371436,gsp:null,engCons:48.4,engConsPerCap:130.305,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3824}],details:{consumption:{blackCoal:2.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.3,Bagasse:0,refinery:0,petroleum:24,nulltgas:0,towngas:null,electricity:14.2,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.3}}},{year:"1966",pop:375244,gsp:null,engCons:50.7,engConsPerCap:135.112,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:4032}],details:{consumption:{blackCoal:1.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8,Bagasse:0,refinery:0,petroleum:26.2,nulltgas:0,towngas:null,electricity:14.8,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.2}}},{year:"1967",pop:379649,gsp:null,engCons:52.6,engConsPerCap:138.549,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3621}],details:{consumption:{blackCoal:1.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7.7,Bagasse:0,refinery:0,petroleum:29.9,nulltgas:0,towngas:null,electricity:13.6,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.5}}},{year:"1968",pop:384893,gsp:null,engCons:59.6,engConsPerCap:154.848,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:4611}],details:{consumption:{blackCoal:2.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7.5,Bagasse:0,refinery:0,petroleum:33.2,nulltgas:0,towngas:null,electricity:17,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.4}}},{year:"1969",pop:387720,gsp:null,engCons:61.2,engConsPerCap:157.846,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5025}],details:{consumption:{blackCoal:2.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7.2,Bagasse:0,refinery:0,petroleum:33.5,nulltgas:0,towngas:null,electricity:18.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.3}}},{year:"1970",pop:398073,gsp:null,engCons:65.5,engConsPerCap:164.543,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5329}],details:{consumption:{blackCoal:2.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7,Bagasse:0,refinery:0,petroleum:37.4,nulltgas:0,towngas:null,electricity:19.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.7}}},{year:"1971",pop:400308,gsp:null,engCons:65.7,engConsPerCap:164.124,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5625}],details:{consumption:{blackCoal:2.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.8,Bagasse:0,refinery:0,petroleum:36.1,nulltgas:0,towngas:null,electricity:20.3,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.1}}},{year:"1972",pop:403087,gsp:null,engCons:68.3,engConsPerCap:169.442,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5747}],details:{consumption:{blackCoal:2.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.6,Bagasse:0,refinery:0,petroleum:38.8,nulltgas:0,towngas:null,electricity:21,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:null,thermalelec:.4}}},{year:"1973",pop:406151,gsp:null,engCons:71.9,engConsPerCap:177.028,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:5989}],details:{consumption:{blackCoal:2.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.5,Bagasse:0,refinery:0,petroleum:41.1,nulltgas:0,towngas:.2,electricity:21.6,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:.4}}},{year:"1974",pop:410088,gsp:null,engCons:71.3,engConsPerCap:173.865,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6100}],details:{consumption:{blackCoal:2.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.3,Bagasse:0,refinery:0,petroleum:40.2,nulltgas:0,towngas:.2,electricity:22,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:.6}}},{year:"1975",pop:412314,gsp:null,engCons:71.9,engConsPerCap:174.382,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6034}],details:{consumption:{blackCoal:3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.1,Bagasse:0,refinery:0,petroleum:40.7,nulltgas:0,towngas:.2,electricity:21.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:.5}}},{year:"1976",pop:415032,gsp:null,engCons:77,engConsPerCap:185.528,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:6873}],details:{consumption:{blackCoal:4.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6,Bagasse:0,refinery:0,petroleum:41.3,nulltgas:0,towngas:.2,electricity:24.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:.3}}},{year:"1977",pop:417642,gsp:null,engCons:78.4,engConsPerCap:187.721,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7201}],details:{consumption:{blackCoal:4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:5.9,Bagasse:0,refinery:0,petroleum:41.2,nulltgas:0,towngas:.1,electricity:25.9,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.3}}},{year:"1978",pop:420756,gsp:null,engCons:82,engConsPerCap:194.887,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7787}],details:{consumption:{blackCoal:4.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6,Bagasse:0,refinery:0,petroleum:42.3,nulltgas:0,towngas:.1,electricity:28,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.7}}},{year:"1979",pop:423590,gsp:null,engCons:84.6,engConsPerCap:199.721,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:7950}],details:{consumption:{blackCoal:4.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.1,Bagasse:0,refinery:0,petroleum:43.5,nulltgas:0,towngas:.1,electricity:28.6,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.3}}},{year:"1980",pop:427224,gsp:null,engCons:83.3,engConsPerCap:194.98,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8096}],details:{consumption:{blackCoal:4.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.4,Bagasse:0,refinery:0,petroleum:41.7,nulltgas:0,towngas:.1,electricity:29.2,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.9}}},{year:"1981",pop:429845,gsp:null,engCons:84.5,engConsPerCap:196.582,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8173}],details:{consumption:{blackCoal:6.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:6.9,Bagasse:0,refinery:0,petroleum:42.1,nulltgas:0,towngas:.1,electricity:29.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:1.8}}},{year:"1982",pop:432805,gsp:null,engCons:82.3,engConsPerCap:190.155,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8006}],details:{consumption:{blackCoal:7.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:7,Bagasse:0,refinery:0,petroleum:38.4,nulltgas:0,towngas:.1,electricity:28.8,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:1.7}}},{year:"1983",pop:437760,gsp:null,engCons:83.3,engConsPerCap:190.287,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8173}],details:{consumption:{blackCoal:7.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8,Bagasse:0,refinery:0,petroleum:38.7,nulltgas:0,towngas:.1,electricity:29.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:1.7}}},{year:"1984",pop:442828,gsp:null,engCons:85,engConsPerCap:191.948,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8320}],details:{consumption:{blackCoal:8.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:8.5,Bagasse:0,refinery:0,petroleum:37.2,nulltgas:0,towngas:.1,electricity:30,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:1}}},{year:"1985",pop:446473,gsp:null,engCons:86.4,engConsPerCap:193.517,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8451}],details:{consumption:{blackCoal:9.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.1,Bagasse:0,refinery:0,petroleum:36,nulltgas:0,towngas:.1,electricity:30.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.3}}},{year:"1986",pop:449226,gsp:null,engCons:85.4,engConsPerCap:190.105,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8463}],details:{consumption:{blackCoal:8.9,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:9.5,Bagasse:0,refinery:0,petroleum:35,nulltgas:0,towngas:.1,electricity:30.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.3}}},{year:"1987",pop:451148,gsp:null,engCons:89.5,engConsPerCap:198.383,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9011}],details:{consumption:{blackCoal:9.5,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:10.4,Bagasse:0,refinery:0,petroleum:35.5,nulltgas:0,towngas:.1,electricity:32.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.8}}},{year:"1988",pop:455258,gsp:null,engCons:92,engConsPerCap:202.083,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9135}],details:{consumption:{blackCoal:10.4,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.2,Bagasse:0,refinery:0,petroleum:36.2,nulltgas:0,towngas:.1,electricity:32.9,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.9}}},{year:"1989",pop:462188,gsp:17665,engCons:96.6,engConsPerCap:209.006,engInt:5468.44,engProd:182.867,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9223}],details:{consumption:{blackCoal:10,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.4,Bagasse:0,refinery:0,petroleum:43,nulltgas:0,towngas:.1,electricity:33.2,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:3.1}}},{year:"1990",pop:466802,gsp:17603,engCons:97.6,engConsPerCap:209.082,engInt:5544.509,engProd:180.359,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9219}],details:{consumption:{blackCoal:10,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.7,Bagasse:0,refinery:0,petroleum:44.9,nulltgas:0,towngas:.1,electricity:33.2,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:4.1}}},{year:"1991",pop:469979,gsp:17984,engCons:89.3,engConsPerCap:190.008,engInt:4965.525,engProd:201.389,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9131}],details:{consumption:{blackCoal:9.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.2,Bagasse:0,refinery:0,petroleum:34.5,nulltgas:0,towngas:.1,electricity:32.9,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.6}}},{year:"1992",pop:471987,gsp:18632,engCons:90.1,engConsPerCap:190.895,engInt:4835.766,engProd:206.792,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9054}],details:{consumption:{blackCoal:8.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.5,Bagasse:0,refinery:0,petroleum:36.3,nulltgas:0,towngas:.1,electricity:32.6,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.5}}},{year:"1993",pop:473499,gsp:19053,engCons:92,engConsPerCap:194.298,engInt:4828.636,engProd:207.098,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9099}],details:{consumption:{blackCoal:9.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.1,Bagasse:0,refinery:0,petroleum:36.1,nulltgas:0,towngas:.1,electricity:32.8,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.6}}},{year:"1994",pop:474515,gsp:19390,engCons:92.4,engConsPerCap:194.725,engInt:4765.343,engProd:209.848,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:8877}],details:{consumption:{blackCoal:10.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.3,Bagasse:0,refinery:0,petroleum:36.8,nulltgas:0,towngas:.1,electricity:32,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.6}}},{year:"1995",pop:475605,gsp:19986,engCons:93,engConsPerCap:195.54,engInt:4653.257,engProd:214.903,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9277}],details:{consumption:{blackCoal:10.1,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.6,Bagasse:0,refinery:0,petroleum:36,nulltgas:0,towngas:.1,electricity:33.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.5}}},{year:"1996",pop:474908,gsp:20077,engCons:94.8,engConsPerCap:199.618,engInt:4721.821,engProd:211.783,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9783}],details:{consumption:{blackCoal:10.3,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.8,Bagasse:0,refinery:0,petroleum:35.6,nulltgas:0,towngas:.1,electricity:35.2,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.5}}},{year:"1997",pop:473430,gsp:20881,engCons:95.8,engConsPerCap:202.353,engInt:4587.903,engProd:217.965,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:9882}],details:{consumption:{blackCoal:10.2,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.8,Bagasse:0,refinery:0,petroleum:35.6,nulltgas:0,towngas:.1,electricity:35.6,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:.6}}},{year:"1998",pop:473030,gsp:21378,engCons:95.7,engConsPerCap:202.313,engInt:4476.565,engProd:223.386,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10027}],details:{consumption:{blackCoal:9.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.3,Bagasse:0,refinery:0,petroleum:35.6,nulltgas:0,towngas:.1,electricity:36.1,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:.4}}},{year:"1999",pop:473123,gsp:21414,engCons:95.8,engConsPerCap:202.484,engInt:4473.709,engProd:223.528,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10137}],details:{consumption:{blackCoal:9.8,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.2,Bagasse:0,refinery:0,petroleum:35.4,nulltgas:0,towngas:.1,electricity:36.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.2,thermalelec:1.7}}},{year:"2000",pop:473668,gsp:21192,engCons:93.6,engConsPerCap:197.607,engInt:4416.761,engProd:226.41,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10412}],details:{consumption:{blackCoal:9.7,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:11.5,Bagasse:0,refinery:0,petroleum:36.6,nulltgas:0,towngas:.1,electricity:36.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:1.8}}},{year:"2001",pop:474152,gsp:22129,engCons:97.2,engConsPerCap:204.998,engInt:4392.426,engProd:227.665,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10724}],details:{consumption:{blackCoal:9.6,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:12.7,Bagasse:0,refinery:0,petroleum:37.5,nulltgas:0,towngas:.1,electricity:37.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:1.9}}},{year:"2002",pop:478534,gsp:22437,engCons:99.5,engConsPerCap:207.927,engInt:4434.638,engProd:225.498,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:10963.086}],details:{consumption:{blackCoal:6.3,browncoal:0,coke:0,coalByProducts:0,biofuels:0,woodwaste:9.9,Bagasse:0,refinery:0,petroleum:39.3,nulltgas:4.5,towngas:.1,electricity:39.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:1.8}}},{year:"2003",pop:483178,gsp:23580,engCons:103.4,engConsPerCap:213.999,engInt:4385.061,engProd:228.047,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:11302.277}],details:{consumption:{blackCoal:6.9,browncoal:0,coke:0,coalByProducts:0,biofuels:0,woodwaste:9.8,Bagasse:0,refinery:0,petroleum:40.8,nulltgas:7.1,towngas:.1,electricity:40.7,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:3.7}}},{year:"2004",pop:486202,gsp:24205,engCons:107.395,engConsPerCap:220.885,engInt:4436.883,engProd:225.383,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:11777.857}],details:{consumption:{blackCoal:7.4,browncoal:0,coke:0,coalByProducts:0,biofuels:0,woodwaste:9.5,Bagasse:0,refinery:0,petroleum:41.4,nulltgas:8.6,towngas:.1,electricity:42.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:3.7}}},{year:"2005",pop:489302,gsp:25164,engCons:111.574,engConsPerCap:228.026,engInt:4433.862,engProd:225.537,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:11503.063}],details:{consumption:{blackCoal:8,browncoal:0,coke:0,coalByProducts:0,biofuels:0,woodwaste:8.9,Bagasse:0,refinery:0,petroleum:44.3,nulltgas:9.8,towngas:.1,electricity:41.4,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:2.2}}},{year:"2006",pop:493262,gsp:25832,engCons:113.322,engConsPerCap:229.741,engInt:4386.895,engProd:227.952,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:12180.149}],details:{consumption:{blackCoal:8.1,browncoal:0,coke:0,coalByProducts:0,biofuels:0,woodwaste:8.9,Bagasse:0,refinery:0,petroleum:43,nulltgas:11.1,towngas:.1,electricity:43.8,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:2.1}}},{year:"2007",pop:498568,gsp:26932,engCons:115.507,engConsPerCap:231.678,engInt:4288.851,engProd:233.163,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:12068.572}],details:{consumption:{blackCoal:8,browncoal:0,coke:0,coalByProducts:0,biofuels:.3,woodwaste:8.8,Bagasse:0,refinery:0,petroleum:44.8,nulltgas:14,towngas:.1,electricity:43.4,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:.1,thermalelec:4.5}}},{year:"2008",pop:504353,gsp:27684,engCons:113.795,engConsPerCap:225.625,engInt:4110.482,engProd:243.28,fuel:[{cat:"coal",value:12.4},{cat:"oil",value:41.6},{cat:"gas",value:11.2},{cat:"renewables",value:37.1}],elec:[{cat:"elecCons",value:11799.541}],details:{consumption:{blackCoal:9.7,browncoal:0,coke:0,coalByProducts:0,biofuels:.5,woodwaste:8.4,Bagasse:0,refinery:0,petroleum:41.6,nulltgas:11.2,towngas:0,electricity:42.5,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:2.9}}},{year:"2009",pop:508847,gsp:27905,engCons:113.744,engConsPerCap:223.533,engInt:4076.116,engProd:245.332,fuel:[{cat:"coal",value:11.5},{cat:"oil",value:41.5},{cat:"gas",value:13.6},{cat:"renewables",value:40}],elec:[{cat:"elecCons",value:12008.609}],details:{consumption:{blackCoal:8.8,browncoal:0,coke:0,coalByProducts:0,biofuels:.4,woodwaste:7.8,Bagasse:0,refinery:0,petroleum:41.5,nulltgas:13.6,towngas:0,electricity:43.2,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:4.4}}},{year:"2010",pop:511483,gsp:28590,engCons:113.825,engConsPerCap:222.54,engInt:3981.296,engProd:251.175,fuel:[{cat:"coal",value:10.1},{cat:"oil",value:39.2},{cat:"gas",value:17.7},{cat:"renewables",value:43.1}],elec:[{cat:"elecCons",value:12622.666}],details:{consumption:{blackCoal:6.5,browncoal:0,coke:0,coalByProducts:0,biofuels:.4,woodwaste:6.6,Bagasse:0,refinery:0,petroleum:39.2,nulltgas:17.7,towngas:0,electricity:45.4,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:5.9}}},{year:"2011",pop:511724,gsp:29156,engCons:106.97,engConsPerCap:209.039,engInt:3668.898,engProd:272.561,fuel:[{cat:"coal",value:8.9},{cat:"oil",value:38.1},{cat:"gas",value:16.2},{cat:"renewables",value:39.8}],elec:[{cat:"elecCons",value:11743.288}],details:{consumption:{blackCoal:6.2,browncoal:0,coke:0,coalByProducts:0,biofuels:.4,woodwaste:6.9,Bagasse:0,refinery:0,petroleum:38.1,nulltgas:16.2,towngas:0,electricity:42.3,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:6}}},{year:"2012",pop:512231,gsp:28999,engCons:112.322,engConsPerCap:219.28,engInt:3873.309,engProd:258.177,fuel:[{cat:"coal",value:12},{cat:"oil",value:38.5},{cat:"gas",value:17.7},{cat:"renewables",value:48.5}],elec:[{cat:"elecCons",value:11899.958}],details:{consumption:{blackCoal:8.7,browncoal:0,coke:0,coalByProducts:0,biofuels:.4,woodwaste:7.2,Bagasse:0,refinery:0,petroleum:38.5,nulltgas:17.7,towngas:0,electricity:42.8,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:6.6}}},{year:"2013",pop:513621,gsp:29368,engCons:108.002,engConsPerCap:210.276,engInt:3677.547,engProd:271.92,fuel:[{cat:"coal",value:11},{cat:"oil",value:38.2},{cat:"gas",value:12.4},{cat:"renewables",value:54.2}],elec:[{cat:"elecCons",value:11837.867}],details:{consumption:{blackCoal:7.2,browncoal:0,coke:0,coalByProducts:0,biofuels:.4,woodwaste:6.9,Bagasse:0,refinery:0,petroleum:38.2,nulltgas:12.4,towngas:0,electricity:42.6,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:3.7}}},{year:"2014",pop:515117,gsp:29710,engCons:104.927,engConsPerCap:203.696,engInt:3531.722,engProd:283.148,fuel:[{cat:"coal",value:11.3},{cat:"oil",value:37.9},{cat:"gas",value:6.6},{cat:"renewables",value:41.3}],elec:[{cat:"elecCons",value:11814.279}],details:{consumption:{blackCoal:7.1,browncoal:0,coke:0,coalByProducts:0,biofuels:.4,woodwaste:6.6,Bagasse:0,refinery:0,petroleum:37.9,nulltgas:6.6,towngas:0,electricity:42.5,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:.7}}},{year:"2015",pop:517514,gsp:30276,engCons:107.059,engConsPerCap:206.872,engInt:3536.113,engProd:282.796,fuel:[{cat:"coal",value:9.7},{cat:"oil",value:38.1},{cat:"gas",value:12.9},{cat:"renewables",value:40.9}],elec:[{cat:"elecCons",value:11855.406}],details:{consumption:{blackCoal:6.1,browncoal:0,coke:0,coalByProducts:0,biofuels:.4,woodwaste:6.5,Bagasse:0,refinery:0,petroleum:38.1,nulltgas:12.9,towngas:0,electricity:42.7,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:3.5}}},{year:"2016",pop:528324,gsp:30594,engCons:107.463,engConsPerCap:203.403,engInt:3512.549,engProd:284.694,fuel:[{cat:"coal",value:10.7},{cat:"oil",value:37},{cat:"gas",value:13.2},{cat:"renewables",value:41.9}],elec:[{cat:"elecCons",value:11892.117}],details:{consumption:{blackCoal:null,browncoal:0,coke:0,coalByProducts:0,biofuels:.3,woodwaste:6.5,Bagasse:0,refinery:0,petroleum:37,nulltgas:13.2,towngas:0,electricity:42.8,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:3.4}}},{year:"2017",pop:540112,gsp:31557,engCons:110.54,engConsPerCap:204.662,engInt:3502.88,engProd:285.479,fuel:[{cat:"coal",value:10.5},{cat:"oil",value:38.1},{cat:"gas",value:13.9},{cat:"renewables",value:45.9}],elec:[{cat:"elecCons",value:12332.052}],details:{consumption:{blackCoal:null,browncoal:0,coke:0,coalByProducts:0,biofuels:.3,woodwaste:6.7,Bagasse:0,refinery:0,petroleum:38.1,nulltgas:13.9,towngas:0,electricity:44.4,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:3.7}}},{year:"2018",pop:552310,gsp:32647,engCons:108.166,engConsPerCap:195.843,engInt:3313.205,engProd:301.823,fuel:[{cat:"coal",value:10},{cat:"oil",value:40.3},{cat:"gas",value:10.6},{cat:"renewables",value:46.6}],elec:[{cat:"elecCons",value:11983.033}],details:{consumption:{blackCoal:null,browncoal:0,coke:0,coalByProducts:0,biofuels:.3,woodwaste:5.8,Bagasse:0,refinery:0,petroleum:40.3,nulltgas:10.6,towngas:0,electricity:43.1,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:2.4}}},{year:"2019",pop:563507,gsp:32840,engCons:100.072,engConsPerCap:177.588,engInt:3047.265,engProd:328.163,fuel:[{cat:"coal",value:8.3},{cat:"oil",value:37.3},{cat:"gas",value:7.4},{cat:"renewables",value:47.4}],elec:[{cat:"elecCons",value:11589.168}],details:{consumption:{blackCoal:null,browncoal:0,coke:0,coalByProducts:0,biofuels:.3,woodwaste:5.5,Bagasse:0,refinery:0,petroleum:37.3,nulltgas:7.4,towngas:0,electricity:41.7,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:.9}}},{year:"2020",pop:567909,gsp:34083,engCons:102.995,engConsPerCap:181.358,engInt:3021.886,engProd:330.919,fuel:[{cat:"coal",value:8.1},{cat:"oil",value:39.8},{cat:"gas",value:7.3},{cat:"renewables",value:43.6}],elec:[{cat:"elecCons",value:11742.166}],details:{consumption:{blackCoal:null,browncoal:0,coke:0,coalByProducts:0,biofuels:.3,woodwaste:5.6,Bagasse:0,refinery:0,petroleum:39.8,nulltgas:7.3,towngas:0,electricity:42.3,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:.9}}}],nt:[{year:"1960",pop:44481,gsp:null,engCons:4.8,engConsPerCap:107.911,engInt:null,engProd:null,fuel:[{cat:"coal",value:null},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:null}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.6,Bagasse:0,refinery:0,petroleum:4.2,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1961",pop:46004,gsp:null,engCons:5.6,engConsPerCap:121.729,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:null}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.6,Bagasse:0,refinery:0,petroleum:5,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1962",pop:48461,gsp:null,engCons:4.7,engConsPerCap:96.985,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:null}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.6,Bagasse:0,refinery:0,petroleum:4.1,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1963",pop:51463,gsp:null,engCons:5.8,engConsPerCap:112.702,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:null}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.6,Bagasse:0,refinery:0,petroleum:5.2,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1964",pop:53858,gsp:null,engCons:6.4,engConsPerCap:118.831,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:75}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.5,Bagasse:0,refinery:0,petroleum:5.9,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1965",pop:56504,gsp:null,engCons:6.5,engConsPerCap:115.036,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:89}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.5,Bagasse:0,refinery:0,petroleum:6,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1966",pop:61836,gsp:null,engCons:6.9,engConsPerCap:111.585,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:101}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.5,Bagasse:0,refinery:0,petroleum:6.4,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1967",pop:67537,gsp:null,engCons:8.7,engConsPerCap:128.818,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:122}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.5,Bagasse:0,refinery:0,petroleum:8.2,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1968",pop:72962,gsp:null,engCons:12.3,engConsPerCap:168.581,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:145}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.5,Bagasse:0,refinery:0,petroleum:11.8,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1969",pop:78811,gsp:null,engCons:14,engConsPerCap:177.64,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:173}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:13.6,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1970",pop:85735,gsp:null,engCons:15.9,engConsPerCap:185.455,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:200}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:15.5,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1971",pop:92081,gsp:null,engCons:18.7,engConsPerCap:203.082,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:239}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:18.3,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1972",pop:97127,gsp:null,engCons:24.1,engConsPerCap:248.129,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:273}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:23.7,nulltgas:0,towngas:0,electricity:null,solarHotwater:null},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:null}}},{year:"1973",pop:102924,gsp:null,engCons:30.1,engConsPerCap:292.449,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:690}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:29.8,nulltgas:0,towngas:0,electricity:2.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:2.5}}},{year:"1974",pop:92869,gsp:null,engCons:32.8,engConsPerCap:353.186,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:646}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:32.5,nulltgas:0,towngas:0,electricity:2.3,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:2.3}}},{year:"1975",pop:98228,gsp:null,engCons:31.2,engConsPerCap:317.628,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:701}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:30.9,nulltgas:0,towngas:0,electricity:2.5,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:2.5}}},{year:"1976",pop:103938,gsp:null,engCons:33.6,engConsPerCap:323.27,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:729}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:33.2,nulltgas:0,towngas:0,electricity:2.6,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:2.6}}},{year:"1977",pop:109980,gsp:null,engCons:35.1,engConsPerCap:319.149,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:775}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:34.8,nulltgas:0,towngas:0,electricity:2.8,solarHotwater:0},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:2.8}}},{year:"1978",pop:114149,gsp:null,engCons:35.7,engConsPerCap:312.749,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:831}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:35.4,nulltgas:0,towngas:0,electricity:3,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:3}}},{year:"1979",pop:118245,gsp:null,engCons:40,engConsPerCap:338.281,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1100}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:39.6,nulltgas:0,towngas:0,electricity:4,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:4}}},{year:"1980",pop:122616,gsp:null,engCons:41.3,engConsPerCap:336.824,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1175}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:40.9,nulltgas:0,towngas:0,electricity:4.2,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:4.2}}},{year:"1981",pop:130314,gsp:null,engCons:38.6,engConsPerCap:296.208,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1183}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:38.2,nulltgas:0,towngas:0,electricity:4.3,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:4.3}}},{year:"1982",pop:135916,gsp:null,engCons:40.8,engConsPerCap:300.185,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1235}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:40.4,nulltgas:0,towngas:0,electricity:4.5,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:4.5}}},{year:"1983",pop:142154,gsp:null,engCons:43.8,engConsPerCap:308.117,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1296}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:43.3,nulltgas:.1,towngas:0,electricity:4.7,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:4.7}}},{year:"1984",pop:148536,gsp:null,engCons:45.8,engConsPerCap:308.343,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1368}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:44.3,nulltgas:1,towngas:0,electricity:4.9,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:4.9}}},{year:"1985",pop:154421,gsp:null,engCons:47,engConsPerCap:304.363,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1456}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:45.3,nulltgas:1.3,towngas:0,electricity:5.2,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:5.2}}},{year:"1986",pop:158205,gsp:null,engCons:49.3,engConsPerCap:311.621,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1494}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:43.8,nulltgas:5.1,towngas:0,electricity:5.4,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:5.4}}},{year:"1987",pop:159026,gsp:null,engCons:51.1,engConsPerCap:321.331,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1564}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:39.4,nulltgas:11.3,towngas:0,electricity:5.6,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:5.6}}},{year:"1988",pop:161179,gsp:null,engCons:51,engConsPerCap:316.418,engInt:null,engProd:null,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1705}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.3,Bagasse:0,refinery:0,petroleum:39.6,nulltgas:11,towngas:0,electricity:6.1,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:6.1}}},{year:"1989",pop:163728,gsp:10345,engCons:52.5,engConsPerCap:320.654,engInt:5074.915,engProd:197.048,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1828}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:39.5,nulltgas:12.5,towngas:0,electricity:6.6,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:6.6}}},{year:"1990",pop:165493,gsp:10647,engCons:55,engConsPerCap:332.34,engInt:5165.774,engProd:193.582,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1899}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:41.3,nulltgas:13.2,towngas:0,electricity:6.8,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:6.8}}},{year:"1991",pop:168546,gsp:10266,engCons:56.9,engConsPerCap:337.593,engInt:5542.568,engProd:180.422,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1966}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:42.8,nulltgas:13.6,towngas:0,electricity:7.1,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:7.1}}},{year:"1992",pop:171708,gsp:10278,engCons:57.2,engConsPerCap:333.124,engInt:5565.285,engProd:179.685,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1961}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:43,nulltgas:13.8,towngas:0,electricity:7.1,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:7.1}}},{year:"1993",pop:174908,gsp:10131,engCons:58.5,engConsPerCap:334.462,engInt:5774.356,engProd:173.179,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:1967}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:44.2,nulltgas:13.7,towngas:0,electricity:7.1,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:7.1}}},{year:"1994",pop:179602,gsp:10631,engCons:61.8,engConsPerCap:344.094,engInt:5813.188,engProd:172.023,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2095}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:46.3,nulltgas:15,towngas:0,electricity:7.5,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:7.5}}},{year:"1995",pop:184516,gsp:11395,engCons:67,engConsPerCap:363.112,engInt:5879.772,engProd:170.075,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2351}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:49.2,nulltgas:17.2,towngas:0,electricity:8.5,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:8.5}}},{year:"1996",pop:189755,gsp:11667,engCons:69.7,engConsPerCap:367.316,engInt:5974.115,engProd:167.389,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2463}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:51.1,nulltgas:18.1,towngas:0,electricity:8.9,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:8.9}}},{year:"1997",pop:192905,gsp:12601,engCons:70.4,engConsPerCap:364.946,engInt:5586.858,engProd:178.991,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2559}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:50.9,nulltgas:18.8,towngas:0,electricity:9.4,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:9.2}}},{year:"1998",pop:196012,gsp:14075,engCons:73.2,engConsPerCap:373.447,engInt:5200.71,engProd:192.281,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2585}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:51.8,nulltgas:20.2,towngas:0,electricity:9.3,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:9.3}}},{year:"1999",pop:199149,gsp:13885,engCons:76.4,engConsPerCap:383.632,engInt:5502.341,engProd:181.741,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2706}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.4,Bagasse:0,refinery:0,petroleum:53.5,nulltgas:21.9,towngas:0,electricity:9.7,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:9.7}}},{year:"2000",pop:201743,gsp:14361,engCons:73.2,engConsPerCap:362.838,engInt:5097.138,engProd:196.189,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2883}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.1,Bagasse:0,refinery:0,petroleum:51.7,nulltgas:21.9,towngas:0,electricity:9.5,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:10.4}}},{year:"2001",pop:202251,gsp:15378,engCons:73.4,engConsPerCap:362.915,engInt:4773.052,engProd:209.51,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2969}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:null,woodwaste:.1,Bagasse:0,refinery:0,petroleum:51.9,nulltgas:22.4,towngas:0,electricity:9.8,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:10.7}}},{year:"2002",pop:201725,gsp:14719,engCons:56.783,engConsPerCap:281.485,engInt:3857.77,engProd:259.217,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2361.742}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:49.4,nulltgas:14.1,towngas:0,electricity:8.5,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:15.5}}},{year:"2003",pop:202663,gsp:14829,engCons:58.655,engConsPerCap:289.422,engInt:3955.431,engProd:252.817,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2393.5}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:50.7,nulltgas:14.7,towngas:0,electricity:8.6,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:15.6}}},{year:"2004",pop:205905,gsp:15503,engCons:61.536,engConsPerCap:298.855,engInt:3969.282,engProd:251.935,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2388.038}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:53.4,nulltgas:15.4,towngas:0,electricity:8.6,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:16}}},{year:"2005",pop:209057,gsp:16513,engCons:72.998,engConsPerCap:349.179,engInt:4420.653,engProd:226.211,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:2536.031}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:59.6,nulltgas:18.6,towngas:0,electricity:9.1,solarHotwater:.1},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:14.5}}},{year:"2006",pop:213748,gsp:18564,engCons:82.787,engConsPerCap:387.313,engInt:4459.566,engProd:224.237,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3082.3}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:53.3,nulltgas:34.2,towngas:0,electricity:11.1,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:16.2}}},{year:"2007",pop:219874,gsp:18765,engCons:95.995,engConsPerCap:436.589,engInt:5115.616,engProd:195.48,fuel:[{cat:"coal",value:0},{cat:"oil",value:null},{cat:"gas",value:null},{cat:"renewables",value:null}],elec:[{cat:"elecCons",value:3060.495}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:63.6,nulltgas:31.2,towngas:0,electricity:11,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:10.2}}},{year:"2008",pop:226027,gsp:20356,engCons:95.044,engConsPerCap:420.5,engInt:4669.11,engProd:214.174,fuel:[{cat:"coal",value:0},{cat:"oil",value:54.8},{cat:"gas",value:39.9},{cat:"renewables",value:.4}],elec:[{cat:"elecCons",value:2923.024}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:54,nulltgas:39.9,towngas:0,electricity:10.5,solarHotwater:.2},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:10.5}}},{year:"2009",pop:229778,gsp:20250,engCons:94.174,engConsPerCap:409.847,engInt:4650.556,engProd:215.028,fuel:[{cat:"coal",value:0},{cat:"oil",value:51.9},{cat:"gas",value:42},{cat:"renewables",value:.5}],elec:[{cat:"elecCons",value:3235.662}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:51.3,nulltgas:42,towngas:0,electricity:11.6,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:11.7}}},{year:"2010",pop:231292,gsp:20852,engCons:99.786,engConsPerCap:431.428,engInt:4785.429,engProd:208.968,fuel:[{cat:"coal",value:0},{cat:"oil",value:54.9},{cat:"gas",value:44.1},{cat:"renewables",value:.5}],elec:[{cat:"elecCons",value:3158.662}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:54.6,nulltgas:44.1,towngas:0,electricity:11.4,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:11.1}}},{year:"2011",pop:235915,gsp:21698,engCons:98.194,engConsPerCap:416.225,engInt:4525.471,engProd:220.971,fuel:[{cat:"coal",value:0},{cat:"oil",value:55.7},{cat:"gas",value:42},{cat:"renewables",value:.5}],elec:[{cat:"elecCons",value:3160.099}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:55.2,nulltgas:42,towngas:0,electricity:11.4,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:11.3}}},{year:"2012",pop:241722,gsp:23197,engCons:100.156,engConsPerCap:414.344,engInt:4317.627,engProd:231.609,fuel:[{cat:"coal",value:0},{cat:"oil",value:54.2},{cat:"gas",value:45.3},{cat:"renewables",value:.5}],elec:[{cat:"elecCons",value:3362.306}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:53.7,nulltgas:45.3,towngas:0,electricity:12.1,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:11.9}}},{year:"2013",pop:242894,gsp:23490,engCons:99.141,engConsPerCap:408.168,engInt:4220.582,engProd:236.934,fuel:[{cat:"coal",value:0},{cat:"oil",value:51.2},{cat:"gas",value:47.4},{cat:"renewables",value:.6}],elec:[{cat:"elecCons",value:3465.815}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:50.7,nulltgas:47.4,towngas:0,electricity:12.5,solarHotwater:.3},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:12.4}}},{year:"2014",pop:244692,gsp:23796,engCons:83.987,engConsPerCap:343.237,engInt:3529.469,engProd:283.329,fuel:[{cat:"coal",value:0},{cat:"oil",value:38.4},{cat:"gas",value:44.9},{cat:"renewables",value:.6}],elec:[{cat:"elecCons",value:2997.004}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:37.7,nulltgas:44.9,towngas:0,electricity:10.8,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:10.7}}},{year:"2015",pop:245678,gsp:24286,engCons:83.919,engConsPerCap:341.581,engInt:3455.448,engProd:289.398,fuel:[{cat:"coal",value:0},{cat:"oil",value:33.4},{cat:"gas",value:49.8},{cat:"renewables",value:.7}],elec:[{cat:"elecCons",value:3065.994}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:32.7,nulltgas:49.8,towngas:0,electricity:11,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:10.9}}},{year:"2016",pop:248161,gsp:24653,engCons:83.32,engConsPerCap:335.748,engInt:3379.693,engProd:295.885,fuel:[{cat:"coal",value:0},{cat:"oil",value:34.4},{cat:"gas",value:48.1},{cat:"renewables",value:.8}],elec:[{cat:"elecCons",value:2991.226}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:33.6,nulltgas:48.1,towngas:0,electricity:10.8,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:10.5}}},{year:"2017",pop:248363,gsp:25125,engCons:90.161,engConsPerCap:363.022,engInt:3588.503,engProd:278.668,fuel:[{cat:"coal",value:0},{cat:"oil",value:42.3},{cat:"gas",value:46.9},{cat:"renewables",value:1}],elec:[{cat:"elecCons",value:3509.819}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:41.7,nulltgas:46.9,towngas:0,electricity:12.6,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:12.2}}},{year:"2018",pop:248153,gsp:24849,engCons:133.028,engConsPerCap:536.071,engInt:5353.436,engProd:186.796,fuel:[{cat:"coal",value:0},{cat:"oil",value:45.8},{cat:"gas",value:86.1},{cat:"renewables",value:1.1}],elec:[{cat:"elecCons",value:4457.525}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:44.9,nulltgas:86.1,towngas:0,electricity:16,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:15.5}}},{year:"2019",pop:248943,gsp:26339,engCons:146.485,engConsPerCap:588.427,engInt:5561.513,engProd:179.807,fuel:[{cat:"coal",value:0},{cat:"oil",value:36.5},{cat:"gas",value:108.7},{cat:"renewables",value:1.3}],elec:[{cat:"elecCons",value:4999.587}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:36.5,nulltgas:108.7,towngas:0,electricity:18,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:17.3}}},{year:"2020",pop:249200,gsp:26181,engCons:145.131,engConsPerCap:582.387,engInt:5543.367,engProd:180.396,fuel:[{cat:"coal",value:0},{cat:"oil",value:37.6},{cat:"gas",value:106.1},{cat:"renewables",value:1.5}],elec:[{cat:"elecCons",value:4901.608}],details:{consumption:{blackCoal:0,browncoal:0,coke:0,coalByProducts:0,biofuels:.1,woodwaste:.1,Bagasse:0,refinery:0,petroleum:37.6,nulltgas:106.1,towngas:0,electricity:17.6,solarHotwater:.4},production:{coke:0,cokeByProducts:0,petroleum:0,towngas:0,thermalelec:16.8}}}]}},ut={units:{all:"PJ"},values:{aus:[{industry:"Agriculture",category:"Black Coal",value:0},{industry:"Agriculture",category:"Natural Gas",value:1.23},{industry:"Agriculture",category:"Refined Products",value:110.016},{industry:"Agriculture",category:"Electricity",value:7.461},{industry:"Mining",category:"Black Coal",value:3.103},{industry:"Mining",category:"Natural Gas",value:406.785},{industry:"Mining",category:"Refined Products",value:280.951},{industry:"Mining",category:"Electricity",value:157.672},{industry:"Manufacturing",category:"Black Coal",value:199.166},{industry:"Manufacturing",category:"Natural Gas",value:391.186},{industry:"Manufacturing",category:"Refined Products",value:207.062},{industry:"Manufacturing",category:"Electricity",value:199.034},{industry:"Electricity generation",category:"Black Coal",value:1041.147},{industry:"Electricity generation",category:"Natural Gas",value:523.247},{industry:"Electricity generation",category:"Refined Products",value:47.527},{industry:"Electricity generation",category:"Electricity",value:94.988},{industry:"Construction",category:"Black Coal",value:0},{industry:"Construction",category:"Natural Gas",value:2.695},{industry:"Construction",category:"Refined Products",value:28.13},{industry:"Construction",category:"Electricity",value:7.731},{industry:"Transport",category:"Black Coal",value:0},{industry:"Transport",category:"Natural Gas",value:19.971},{industry:"Transport",category:"Refined Products",value:1374.349},{industry:"Transport",category:"Electricity",value:23.377},{industry:"Gas supply",category:"Black Coal",value:0},{industry:"Gas supply",category:"Natural Gas",value:12.669},{industry:"Gas supply",category:"Refined Products",value:.017},{industry:"Gas supply",category:"Electricity",value:.502},{industry:"Water and waste c",category:"Black Coal",value:0},{industry:"Water and waste c",category:"Natural Gas",value:1.419},{industry:"Water and waste c",category:"Refined Products",value:1.333},{industry:"Water and waste c",category:"Electricity",value:15.387},{industry:"Commercial and services d",category:"Black Coal",value:0},{industry:"Commercial and services d",category:"Natural Gas",value:43.267},{industry:"Commercial and services d",category:"Refined Products",value:30.113},{industry:"Commercial and services d",category:"Electricity",value:213.755},{industry:"Residential",category:"Black Coal",value:0},{industry:"Residential",category:"Natural Gas",value:165.754},{industry:"Residential",category:"Refined Products",value:15.769},{industry:"Residential",category:"Electricity",value:236.088},{industry:"Other e",category:"Black Coal",value:0},{industry:"Other e",category:"Natural Gas",value:0},{industry:"Other e",category:"Refined Products",value:45.994},{industry:"Other e",category:"Electricity",value:0},{industry:"Total",category:"Black Coal",value:1243.417},{industry:"Total",category:"Natural Gas",value:1568.223},{industry:"Total",category:"Refined Products",value:2141.26},{industry:"Total",category:"Electricity",value:955.996}],nsw:[{industry:"Agriculture",category:"Black Coal",value:0},{industry:"Agriculture",category:"Natural Gas",value:.3},{industry:"Agriculture",category:"Refined Products",value:31},{industry:"Agriculture",category:"Electricity",value:1.8},{industry:"Mining",category:"Black Coal",value:0},{industry:"Mining",category:"Natural Gas",value:.3},{industry:"Mining",category:"Refined Products",value:52.1},{industry:"Mining",category:"Electricity",value:17.3},{industry:"Manufacturing",category:"Black Coal",value:89.5},{industry:"Manufacturing",category:"Natural Gas",value:64.3},{industry:"Manufacturing",category:"Refined Products",value:44.9},{industry:"Manufacturing",category:"Electricity",value:59.2},{industry:"Electricity generation",category:"Black Coal",value:502.1},{industry:"Electricity generation",category:"Natural Gas",value:17.1},{industry:"Electricity generation",category:"Refined Products",value:3.6},{industry:"Electricity generation",category:"Electricity",value:28.9},{industry:"Construction",category:"Black Coal",value:0},{industry:"Construction",category:"Natural Gas",value:.1},{industry:"Construction",category:"Refined Products",value:10.3},{industry:"Construction",category:"Electricity",value:3},{industry:"Transport",category:"Black Coal",value:0},{industry:"Transport",category:"Natural Gas",value:2.2},{industry:"Transport",category:"Refined Products",value:414},{industry:"Transport",category:"Electricity",value:7.1},{industry:"Gas supply",category:"Black Coal",value:0},{industry:"Gas supply",category:"Natural Gas",value:1.4},{industry:"Gas supply",category:"Refined Products",value:0},{industry:"Gas supply",category:"Electricity",value:.1},{industry:"Water and waste c",category:"Black Coal",value:0},{industry:"Water and waste c",category:"Natural Gas",value:.2},{industry:"Water and waste c",category:"Refined Products",value:.4},{industry:"Water and waste c",category:"Electricity",value:2.8},{industry:"Commercial and services d",category:"Black Coal",value:0},{industry:"Commercial and services d",category:"Natural Gas",value:15.5},{industry:"Commercial and services d",category:"Refined Products",value:7.6},{industry:"Commercial and services d",category:"Electricity",value:69.7},{industry:"Residential",category:"Black Coal",value:0},{industry:"Residential",category:"Natural Gas",value:34.8},{industry:"Residential",category:"Refined Products",value:4},{industry:"Residential",category:"Electricity",value:81.9},{industry:"Other e",category:"Black Coal",value:0},{industry:"Other e",category:"Natural Gas",value:0},{industry:"Other e",category:"Refined Products",value:10.5},{industry:"Other e",category:"Electricity",value:0},{industry:"Total",category:"Black Coal",value:591.6},{industry:"Total",category:"Natural Gas",value:136.3},{industry:"Total",category:"Refined Products",value:578.6},{industry:"Total",category:"Electricity",value:271.7}],vic:[{industry:"Agriculture",category:"Black Coal",value:0},{industry:"Agriculture",category:"Natural Gas",value:.7},{industry:"Agriculture",category:"Refined Products",value:11.1},{industry:"Agriculture",category:"Electricity",value:2.4},{industry:"Mining",category:"Black Coal",value:0},{industry:"Mining",category:"Natural Gas",value:15.5},{industry:"Mining",category:"Refined Products",value:2.3},{industry:"Mining",category:"Electricity",value:2.5},{industry:"Manufacturing",category:"Black Coal",value:0},{industry:"Manufacturing",category:"Natural Gas",value:58.3},{industry:"Manufacturing",category:"Refined Products",value:98.6},{industry:"Manufacturing",category:"Electricity",value:37},{industry:"Electricity generation",category:"Black Coal",value:0},{industry:"Electricity generation",category:"Natural Gas",value:26.4},{industry:"Electricity generation",category:"Refined Products",value:1.7},{industry:"Electricity generation",category:"Electricity",value:23.6},{industry:"Construction",category:"Black Coal",value:0},{industry:"Construction",category:"Natural Gas",value:1.7},{industry:"Construction",category:"Refined Products",value:8.6},{industry:"Construction",category:"Electricity",value:2.4},{industry:"Transport",category:"Black Coal",value:0},{industry:"Transport",category:"Natural Gas",value:2.6},{industry:"Transport",category:"Refined Products",value:283.2},{industry:"Transport",category:"Electricity",value:3.1},{industry:"Gas supply",category:"Black Coal",value:0},{industry:"Gas supply",category:"Natural Gas",value:8.7},{industry:"Gas supply",category:"Refined Products",value:0},{industry:"Gas supply",category:"Electricity",value:.2},{industry:"Water and waste c",category:"Black Coal",value:0},{industry:"Water and waste c",category:"Natural Gas",value:.5},{industry:"Water and waste c",category:"Refined Products",value:.5},{industry:"Water and waste c",category:"Electricity",value:3.8},{industry:"Commercial and services d",category:"Black Coal",value:0},{industry:"Commercial and services d",category:"Natural Gas",value:18.8},{industry:"Commercial and services d",category:"Refined Products",value:.5},{industry:"Commercial and services d",category:"Electricity",value:49},{industry:"Residential",category:"Black Coal",value:0},{industry:"Residential",category:"Natural Gas",value:107.8},{industry:"Residential",category:"Refined Products",value:2.9},{industry:"Residential",category:"Electricity",value:52},{industry:"Other e",category:"Black Coal",value:0},{industry:"Other e",category:"Natural Gas",value:0},{industry:"Other e",category:"Refined Products",value:13},{industry:"Other e",category:"Electricity",value:0},{industry:"Total",category:"Black Coal",value:0},{industry:"Total",category:"Natural Gas",value:241},{industry:"Total",category:"Refined Products",value:422.3},{industry:"Total",category:"Electricity",value:176}],qld:[{industry:"Agriculture",category:"Black Coal",value:0},{industry:"Agriculture",category:"Natural Gas",value:0},{industry:"Agriculture",category:"Refined Products",value:28.1},{industry:"Agriculture",category:"Electricity",value:1.2},{industry:"Mining",category:"Black Coal",value:.6},{industry:"Mining",category:"Natural Gas",value:123.5},{industry:"Mining",category:"Refined Products",value:88.7},{industry:"Mining",category:"Electricity",value:50.5},{industry:"Manufacturing",category:"Black Coal",value:45},{industry:"Manufacturing",category:"Natural Gas",value:75.6},{industry:"Manufacturing",category:"Refined Products",value:31.6},{industry:"Manufacturing",category:"Electricity",value:49.6},{industry:"Electricity generation",category:"Black Coal",value:458.5},{industry:"Electricity generation",category:"Natural Gas",value:101.8},{industry:"Electricity generation",category:"Refined Products",value:10.2},{industry:"Electricity generation",category:"Electricity",value:26.5},{industry:"Construction",category:"Black Coal",value:0},{industry:"Construction",category:"Natural Gas",value:.2},{industry:"Construction",category:"Refined Products",value:5.4},{industry:"Construction",category:"Electricity",value:1.3},{industry:"Transport",category:"Black Coal",value:0},{industry:"Transport",category:"Natural Gas",value:5.4},{industry:"Transport",category:"Refined Products",value:322.9},{industry:"Transport",category:"Electricity",value:6.4},{industry:"Gas supply",category:"Black Coal",value:0},{industry:"Gas supply",category:"Natural Gas",value:.3},{industry:"Gas supply",category:"Refined Products",value:0},{industry:"Gas supply",category:"Electricity",value:.1},{industry:"Water and waste c",category:"Black Coal",value:0},{industry:"Water and waste c",category:"Natural Gas",value:.5},{industry:"Water and waste c",category:"Refined Products",value:.2},{industry:"Water and waste c",category:"Electricity",value:2.4},{industry:"Commercial and services d",category:"Black Coal",value:0},{industry:"Commercial and services d",category:"Natural Gas",value:1.1},{industry:"Commercial and services d",category:"Refined Products",value:9.2},{industry:"Commercial and services d",category:"Electricity",value:43.8},{industry:"Residential",category:"Black Coal",value:0},{industry:"Residential",category:"Natural Gas",value:4.8},{industry:"Residential",category:"Refined Products",value:4.1},{industry:"Residential",category:"Electricity",value:53.3},{industry:"Other e",category:"Black Coal",value:0},{industry:"Other e",category:"Natural Gas",value:0},{industry:"Other e",category:"Refined Products",value:12.6},{industry:"Other e",category:"Electricity",value:0},{industry:"Total",category:"Black Coal",value:504.2},{industry:"Total",category:"Natural Gas",value:313.4},{industry:"Total",category:"Refined Products",value:513},{industry:"Total",category:"Electricity",value:235}],wa:[{industry:"Agriculture",category:"Black Coal",value:0},{industry:"Agriculture",category:"Natural Gas",value:0},{industry:"Agriculture",category:"Refined Products",value:23.9},{industry:"Agriculture",category:"Electricity",value:.7},{industry:"Mining",category:"Black Coal",value:2.5},{industry:"Mining",category:"Natural Gas",value:200.7},{industry:"Mining",category:"Refined Products",value:116},{industry:"Mining",category:"Electricity",value:69.1},{industry:"Manufacturing",category:"Black Coal",value:31.1},{industry:"Manufacturing",category:"Natural Gas",value:167.9},{industry:"Manufacturing",category:"Refined Products",value:24.1},{industry:"Manufacturing",category:"Electricity",value:22.8},{industry:"Electricity generation",category:"Black Coal",value:80.4},{industry:"Electricity generation",category:"Natural Gas",value:280},{industry:"Electricity generation",category:"Refined Products",value:25.1},{industry:"Electricity generation",category:"Electricity",value:6.9},{industry:"Construction",category:"Black Coal",value:0},{industry:"Construction",category:"Natural Gas",value:.1},{industry:"Construction",category:"Refined Products",value:1.9},{industry:"Construction",category:"Electricity",value:.5},{industry:"Transport",category:"Black Coal",value:0},{industry:"Transport",category:"Natural Gas",value:6.9},{industry:"Transport",category:"Refined Products",value:216.9},{industry:"Transport",category:"Electricity",value:6.5},{industry:"Gas supply",category:"Black Coal",value:0},{industry:"Gas supply",category:"Natural Gas",value:1.4},{industry:"Gas supply",category:"Refined Products",value:0},{industry:"Gas supply",category:"Electricity",value:.2},{industry:"Water and waste c",category:"Black Coal",value:0},{industry:"Water and waste c",category:"Natural Gas",value:0},{industry:"Water and waste c",category:"Refined Products",value:.2},{industry:"Water and waste c",category:"Electricity",value:3.8},{industry:"Commercial and services d",category:"Black Coal",value:0},{industry:"Commercial and services d",category:"Natural Gas",value:4.2},{industry:"Commercial and services d",category:"Refined Products",value:9},{industry:"Commercial and services d",category:"Electricity",value:25.1},{industry:"Residential",category:"Black Coal",value:0},{industry:"Residential",category:"Natural Gas",value:10.3},{industry:"Residential",category:"Refined Products",value:2.1},{industry:"Residential",category:"Electricity",value:21},{industry:"Other e",category:"Black Coal",value:0},{industry:"Other e",category:"Natural Gas",value:0},{industry:"Other e",category:"Refined Products",value:5.5},{industry:"Other e",category:"Electricity",value:0},{industry:"Total",category:"Black Coal",value:114.1},{industry:"Total",category:"Natural Gas",value:671.6},{industry:"Total",category:"Refined Products",value:424.5},{industry:"Total",category:"Electricity",value:156.7}],sa:[{industry:"Agriculture",category:"Black Coal",value:0},{industry:"Agriculture",category:"Natural Gas",value:.1},{industry:"Agriculture",category:"Refined Products",value:9.4},{industry:"Agriculture",category:"Electricity",value:.8},{industry:"Mining",category:"Black Coal",value:0},{industry:"Mining",category:"Natural Gas",value:5.5},{industry:"Mining",category:"Refined Products",value:14.4},{industry:"Mining",category:"Electricity",value:7},{industry:"Manufacturing",category:"Black Coal",value:0},{industry:"Manufacturing",category:"Natural Gas",value:20.9},{industry:"Manufacturing",category:"Refined Products",value:2.8},{industry:"Manufacturing",category:"Electricity",value:8.3},{industry:"Electricity generation",category:"Black Coal",value:0},{industry:"Electricity generation",category:"Natural Gas",value:52.3},{industry:"Electricity generation",category:"Refined Products",value:1.3},{industry:"Electricity generation",category:"Electricity",value:6.1},{industry:"Construction",category:"Black Coal",value:0},{industry:"Construction",category:"Natural Gas",value:.6},{industry:"Construction",category:"Refined Products",value:1.4},{industry:"Construction",category:"Electricity",value:.4},{industry:"Transport",category:"Black Coal",value:0},{industry:"Transport",category:"Natural Gas",value:1.4},{industry:"Transport",category:"Refined Products",value:89.2},{industry:"Transport",category:"Electricity",value:.2},{industry:"Gas supply",category:"Black Coal",value:0},{industry:"Gas supply",category:"Natural Gas",value:.9},{industry:"Gas supply",category:"Refined Products",value:0},{industry:"Gas supply",category:"Electricity",value:0},{industry:"Water and waste c",category:"Black Coal",value:0},{industry:"Water and waste c",category:"Natural Gas",value:.1},{industry:"Water and waste c",category:"Refined Products",value:.1},{industry:"Water and waste c",category:"Electricity",value:2.1},{industry:"Commercial and services d",category:"Black Coal",value:0},{industry:"Commercial and services d",category:"Natural Gas",value:3.3},{industry:"Commercial and services d",category:"Refined Products",value:1.9},{industry:"Commercial and services d",category:"Electricity",value:14.8},{industry:"Residential",category:"Black Coal",value:0},{industry:"Residential",category:"Natural Gas",value:7.5},{industry:"Residential",category:"Refined Products",value:1.5},{industry:"Residential",category:"Electricity",value:16.9},{industry:"Other e",category:"Black Coal",value:0},{industry:"Other e",category:"Natural Gas",value:0},{industry:"Other e",category:"Refined Products",value:3.7},{industry:"Other e",category:"Electricity",value:0},{industry:"Total",category:"Black Coal",value:0},{industry:"Total",category:"Natural Gas",value:92.5},{industry:"Total",category:"Refined Products",value:125.6},{industry:"Total",category:"Electricity",value:56.7}],tas:[{industry:"Agriculture",category:"Black Coal",value:0},{industry:"Agriculture",category:"Natural Gas",value:0},{industry:"Agriculture",category:"Refined Products",value:4.4},{industry:"Agriculture",category:"Electricity",value:.4},{industry:"Mining",category:"Black Coal",value:0},{industry:"Mining",category:"Natural Gas",value:.1},{industry:"Mining",category:"Refined Products",value:1.8},{industry:"Mining",category:"Electricity",value:1.7},{industry:"Manufacturing",category:"Black Coal",value:0},{industry:"Manufacturing",category:"Natural Gas",value:4.2},{industry:"Manufacturing",category:"Refined Products",value:5},{industry:"Manufacturing",category:"Electricity",value:21.9},{industry:"Electricity generation",category:"Black Coal",value:0},{industry:"Electricity generation",category:"Natural Gas",value:2.2},{industry:"Electricity generation",category:"Refined Products",value:.2},{industry:"Electricity generation",category:"Electricity",value:2.3},{industry:"Construction",category:"Black Coal",value:0},{industry:"Construction",category:"Natural Gas",value:0},{industry:"Construction",category:"Refined Products",value:.3},{industry:"Construction",category:"Electricity",value:.1},{industry:"Transport",category:"Black Coal",value:0},{industry:"Transport",category:"Natural Gas",value:0},{industry:"Transport",category:"Refined Products",value:25.6},{industry:"Transport",category:"Electricity",value:0},{industry:"Gas supply",category:"Black Coal",value:0},{industry:"Gas supply",category:"Natural Gas",value:0},{industry:"Gas supply",category:"Refined Products",value:0},{industry:"Gas supply",category:"Electricity",value:0},{industry:"Water and waste c",category:"Black Coal",value:0},{industry:"Water and waste c",category:"Natural Gas",value:0},{industry:"Water and waste c",category:"Refined Products",value:0},{industry:"Water and waste c",category:"Electricity",value:.3},{industry:"Commercial and services d",category:"Black Coal",value:0},{industry:"Commercial and services d",category:"Natural Gas",value:.4},{industry:"Commercial and services d",category:"Refined Products",value:1},{industry:"Commercial and services d",category:"Electricity",value:7.3},{industry:"Residential",category:"Black Coal",value:0},{industry:"Residential",category:"Natural Gas",value:.4},{industry:"Residential",category:"Refined Products",value:.9},{industry:"Residential",category:"Electricity",value:8.1},{industry:"Other e",category:"Black Coal",value:0},{industry:"Other e",category:"Natural Gas",value:0},{industry:"Other e",category:"Refined Products",value:.6},{industry:"Other e",category:"Electricity",value:0},{industry:"Total",category:"Black Coal",value:0},{industry:"Total",category:"Natural Gas",value:7.3},{industry:"Total",category:"Refined Products",value:39.8},{industry:"Total",category:"Electricity",value:42.3}],nt:[{industry:"Agriculture",category:"Black Coal",value:0},{industry:"Agriculture",category:"Natural Gas",value:0},{industry:"Agriculture",category:"Refined Products",value:2.1},{industry:"Agriculture",category:"Electricity",value:.1},{industry:"Mining",category:"Black Coal",value:0},{industry:"Mining",category:"Natural Gas",value:61.2},{industry:"Mining",category:"Refined Products",value:5.7},{industry:"Mining",category:"Electricity",value:9.6},{industry:"Manufacturing",category:"Black Coal",value:0},{industry:"Manufacturing",category:"Natural Gas",value:0},{industry:"Manufacturing",category:"Refined Products",value:.1},{industry:"Manufacturing",category:"Electricity",value:.2},{industry:"Electricity generation",category:"Black Coal",value:0},{industry:"Electricity generation",category:"Natural Gas",value:43.3},{industry:"Electricity generation",category:"Refined Products",value:5.4},{industry:"Electricity generation",category:"Electricity",value:.6},{industry:"Construction",category:"Black Coal",value:0},{industry:"Construction",category:"Natural Gas",value:0},{industry:"Construction",category:"Refined Products",value:.2},{industry:"Construction",category:"Electricity",value:0},{industry:"Transport",category:"Black Coal",value:0},{industry:"Transport",category:"Natural Gas",value:1.5},{industry:"Transport",category:"Refined Products",value:22.6},{industry:"Transport",category:"Electricity",value:0},{industry:"Gas supply",category:"Black Coal",value:0},{industry:"Gas supply",category:"Natural Gas",value:0},{industry:"Gas supply",category:"Refined Products",value:0},{industry:"Gas supply",category:"Electricity",value:0},{industry:"Water and waste c",category:"Black Coal",value:0},{industry:"Water and waste c",category:"Natural Gas",value:0},{industry:"Water and waste c",category:"Refined Products",value:0},{industry:"Water and waste c",category:"Electricity",value:.1},{industry:"Commercial and services d",category:"Black Coal",value:0},{industry:"Commercial and services d",category:"Natural Gas",value:0},{industry:"Commercial and services d",category:"Refined Products",value:.9},{industry:"Commercial and services d",category:"Electricity",value:4},{industry:"Residential",category:"Black Coal",value:0},{industry:"Residential",category:"Natural Gas",value:-.1},{industry:"Residential",category:"Refined Products",value:.4},{industry:"Residential",category:"Electricity",value:2.8},{industry:"Other e",category:"Black Coal",value:0},{industry:"Other e",category:"Natural Gas",value:-.1},{industry:"Other e",category:"Refined Products",value:.1},{industry:"Other e",category:"Electricity",value:0},{industry:"Total",category:"Black Coal",value:0},{industry:"Total",category:"Natural Gas",value:106.1},{industry:"Total",category:"Refined Products",value:37.6},{industry:"Total",category:"Electricity",value:17.6}]}};function ct(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var st={};function ft(e,t){void 0===e&&(e=st),void 0===t&&(t=st);var n=Object.keys(e),a=Object.keys(t);return e===t||n.length===a.length&&n.every((function(n){return e[n]===t[n]}))}var dt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pt=Object.prototype.hasOwnProperty;function gt(e,t){return pt.call(e,t)}function ht(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var a=[];for(var r in e)gt(e,r)&&a.push(r);return a}function vt(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function mt(e){for(var t,n=0,a=e.length;n<a;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function yt(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function bt(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function wt(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(wt(e[t]))return!0}else if("object"===typeof e)for(var a=ht(e),r=a.length,o=0;o<r;o++)if(wt(e[a[o]]))return!0;return!1}function kt(e,t){var n=[e];for(var a in t){var r="object"===typeof t[a]?JSON.stringify(t[a],null,2):t[a];"undefined"!==typeof r&&n.push(a+": "+r)}return n.join("\n")}var Ct=function(e){function t(t,n,a,r,o){var l=this.constructor,i=e.call(this,kt(t,{name:n,index:a,operation:r,tree:o}))||this;return i.name=n,i.index=a,i.operation=r,i.tree=o,Object.setPrototypeOf(i,l.prototype),i.message=kt(t,{name:n,index:a,operation:r,tree:o}),i}return dt(t,e),t}(Error),xt=Ct,Pt=vt,_t={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var a=e[t];return delete e[t],{newDocument:n,removed:a}},replace:function(e,t,n){var a=e[t];return e[t]=this.value,{newDocument:n,removed:a}},move:function(e,t,n){var a=St(n,this.path);a&&(a=vt(a));var r=Bt(n,{op:"remove",path:this.from}).removed;return Bt(n,{op:"add",path:this.path,value:r}),{newDocument:n,removed:a}},copy:function(e,t,n){var a=St(n,this.from);return Bt(n,{op:"add",path:this.path,value:vt(a)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Nt(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Et={add:function(e,t,n){return mt(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var a=e[t];return e[t]=this.value,{newDocument:n,removed:a}},move:_t.move,copy:_t.copy,test:_t.test,_get:_t._get};function St(e,t){if(""==t)return e;var n={op:"_get",path:t};return Bt(e,n),n.value}function Bt(e,t,n,a,r,o){if(void 0===n&&(n=!1),void 0===a&&(a=!0),void 0===r&&(r=!0),void 0===o&&(o=0),n&&("function"==typeof n?n(t,0,e,t.path):Dt(t,0)),""===t.path){var l={newDocument:e};if("add"===t.op)return l.newDocument=t.value,l;if("replace"===t.op)return l.newDocument=t.value,l.removed=e,l;if("move"===t.op||"copy"===t.op)return l.newDocument=St(e,t.from),"move"===t.op&&(l.removed=e),l;if("test"===t.op){if(l.test=Nt(e,t.value),!1===l.test)throw new xt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return l.newDocument=e,l}if("remove"===t.op)return l.removed=e,l.newDocument=null,l;if("_get"===t.op)return t.value=e,l;if(n)throw new xt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return l}a||(e=vt(e));var i=(t.path||"").split("/"),u=e,c=1,s=i.length,f=void 0,d=void 0,p=void 0;for(p="function"==typeof n?n:Dt;;){if((d=i[c])&&-1!=d.indexOf("~")&&(d=bt(d)),r&&("__proto__"==d||"prototype"==d&&c>0&&"constructor"==i[c-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===u[d]?f=i.slice(0,c).join("/"):c==s-1&&(f=t.path),void 0!==f&&p(t,0,e,f)),c++,Array.isArray(u)){if("-"===d)d=u.length;else{if(n&&!mt(d))throw new xt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);mt(d)&&(d=~~d)}if(c>=s){if(n&&"add"===t.op&&d>u.length)throw new xt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);if(!1===(l=Et[t.op].call(t,u,d,e)).test)throw new xt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return l}}else if(c>=s){if(!1===(l=_t[t.op].call(t,u,d,e)).test)throw new xt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return l}if(u=u[d],n&&c<s&&(!u||"object"!==typeof u))throw new xt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}function Ot(e,t,n,a,r){if(void 0===a&&(a=!0),void 0===r&&(r=!0),n&&!Array.isArray(t))throw new xt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");a||(e=vt(e));for(var o=new Array(t.length),l=0,i=t.length;l<i;l++)o[l]=Bt(e,t[l],n,!0,r,l),e=o[l].newDocument;return o.newDocument=e,o}function At(e,t,n){var a=Bt(e,t);if(!1===a.test)throw new xt("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return a.newDocument}function Dt(e,t,n,a){if("object"!==typeof e||null===e||Array.isArray(e))throw new xt("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!_t[e.op])throw new xt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new xt("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new xt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new xt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new xt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&wt(e.value))throw new xt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var r=e.path.split("/").length,o=a.split("/").length;if(r!==o+1&&r!==o)throw new xt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==a)throw new xt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var l=Mt([{op:"_get",path:e.from,value:void 0}],n);if(l&&"OPERATION_PATH_UNRESOLVABLE"===l.name)throw new xt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function Mt(e,t,n){try{if(!Array.isArray(e))throw new xt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Ot(vt(t),vt(e),n||!0);else{n=n||Dt;for(var a=0;a<e.length;a++)n(e[a],a,t,void 0)}}catch(r){if(r instanceof xt)return r;throw r}}function Nt(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,a,r,o=Array.isArray(e),l=Array.isArray(t);if(o&&l){if((a=e.length)!=t.length)return!1;for(n=a;0!==n--;)if(!Nt(e[n],t[n]))return!1;return!0}if(o!=l)return!1;var i=Object.keys(e);if((a=i.length)!==Object.keys(t).length)return!1;for(n=a;0!==n--;)if(!t.hasOwnProperty(i[n]))return!1;for(n=a;0!==n--;)if(!Nt(e[r=i[n]],t[r]))return!1;return!0}return e!==e&&t!==t}var jt=new WeakMap,Tt=function(e){this.observers=new Map,this.obj=e},Ft=function(e,t){this.callback=e,this.observer=t};function It(e,t){t.unobserve()}function Rt(e,t){var n,a=function(e){return jt.get(e)}(e);if(a){var r=function(e,t){return e.observers.get(t)}(a,t);n=r&&r.observer}else a=new Tt(e),jt.set(e,a);if(n)return n;if(n={},a.value=vt(e),t){n.callback=t,n.next=null;var o=function(){zt(n)},l=function(){clearTimeout(n.next),n.next=setTimeout(o)};"undefined"!==typeof window&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return n.patches=[],n.object=e,n.unobserve=function(){zt(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(a,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},a.observers.set(t,new Ft(t,n)),n}function zt(e,t){void 0===t&&(t=!1);var n=jt.get(e.object);Lt(n.value,e.object,e.patches,"",t),e.patches.length&&Ot(n.value,e.patches);var a=e.patches;return a.length>0&&(e.patches=[],e.callback&&e.callback(a)),a}function Lt(e,t,n,a,r){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var o=ht(t),l=ht(e),i=!1,u=l.length-1;u>=0;u--){var c=e[f=l[u]];if(!gt(t,f)||void 0===t[f]&&void 0!==c&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(r&&n.push({op:"test",path:a+"/"+yt(f),value:vt(c)}),n.push({op:"remove",path:a+"/"+yt(f)}),i=!0):(r&&n.push({op:"test",path:a,value:e}),n.push({op:"replace",path:a,value:t}),!0);else{var s=t[f];"object"==typeof c&&null!=c&&"object"==typeof s&&null!=s&&Array.isArray(c)===Array.isArray(s)?Lt(c,s,n,a+"/"+yt(f),r):c!==s&&(!0,r&&n.push({op:"test",path:a+"/"+yt(f),value:vt(c)}),n.push({op:"replace",path:a+"/"+yt(f),value:vt(s)}))}}if(i||o.length!=l.length)for(u=0;u<o.length;u++){var f;gt(e,f=o[u])||void 0===t[f]||n.push({op:"add",path:a+"/"+yt(f),value:vt(t[f])})}}}function Ht(e,t,n){void 0===n&&(n=!1);var a=[];return Lt(e,t,a,"",n),a}Object.assign({},e,t,{JsonPatchError:Ct,deepClone:vt,escapePathComponent:yt,unescapePathComponent:bt});var Ut=n(662),Wt=n.n(Ut);function qt(e,t,n){return e.fields=t||[],e.fname=n,e}function Gt(e){return null==e?null:e.fname}function Vt(e){return null==e?null:e.fields}function $t(e){return 1===e.length?Yt(e[0]):Qt(e)}var Yt=function(e){return function(t){return t[e]}},Qt=function(e){var t=e.length;return function(n){for(var a=0;a<t;++a)n=n[e[a]];return n}};function Xt(e){throw Error(e)}function Kt(e){var t,n,a,r=[],o=e.length,l=null,i=0,u="";function c(){r.push(u+e.substring(t,n)),u="",t=n+1}for(e+="",t=n=0;n<o;++n)if("\\"===(a=e[n]))u+=e.substring(t,n),u+=e.substring(++n,++n),t=n;else if(a===l)c(),l=null,i=-1;else{if(l)continue;t===i&&'"'===a||t===i&&"'"===a?(t=n+1,l=a):"."!==a||i?"["===a?(n>t&&c(),i=t=n+1):"]"===a&&(i||Xt("Access path missing open bracket: "+e),i>0&&c(),i=0,t=n+1):n>t?c():t=n+1}return i&&Xt("Access path missing closing bracket: "+e),l&&Xt("Access path missing closing quote: "+e),n>t&&(n++,c()),r}function Jt(e,t,n){var a=Kt(e);return e=1===a.length?a[0]:e,qt((n&&n.get||$t)(a),[e],t||e)}var Zt=Jt("id"),en=qt((function(e){return e}),[],"identity"),tn=qt((function(){return 0}),[],"zero"),nn=qt((function(){return 1}),[],"one"),an=qt((function(){return!0}),[],"true"),rn=qt((function(){return!1}),[],"false");function on(e,t,n){var a=[t].concat([].slice.call(n));console[e].apply(console,a)}var ln=0,un=1,cn=2,sn=3,fn=4;function dn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:on,a=e||ln;return{level:function(e){return arguments.length?(a=+e,this):a},error:function(){return a>=un&&n(t||"error","ERROR",arguments),this},warn:function(){return a>=cn&&n(t||"warn","WARN",arguments),this},info:function(){return a>=sn&&n(t||"log","INFO",arguments),this},debug:function(){return a>=fn&&n(t||"log","DEBUG",arguments),this}}}var pn=Array.isArray;function gn(e){return e===Object(e)}var hn=function(e){return"__proto__"!==e};function vn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=yn(e.signals,t.signals);else{var a="legend"===n?{layout:1}:"style"===n||null;mn(e,n,t[n],a)}return e}),{})}function mn(e,t,n,a){var r,o;if(hn(t))if(gn(n)&&!pn(n))for(r in o=gn(e[t])?e[t]:e[t]={},n)a&&(!0===a||a[r])?mn(o,r,n[r]):hn(r)&&(o[r]=n[r]);else e[t]=n}function yn(e,t){if(null==e)return t;var n={},a=[];function r(e){n[e.name]||(n[e.name]=1,a.push(e))}return t.forEach(r),e.forEach(r),a}function bn(e){return e[e.length-1]}function wn(e){return null==e||""===e?null:+e}var kn=function(e){return function(t){return e*Math.exp(t)}},Cn=function(e){return function(t){return Math.log(e*t)}},xn=function(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}},Pn=function(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}},_n=function(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}};function En(e,t,n,a){var r=n(e[0]),o=n(bn(e)),l=(o-r)*t;return[a(r-l),a(o-l)]}function Sn(e,t){return En(e,t,wn,en)}function Bn(e,t){var n=Math.sign(e[0]);return En(e,t,Cn(n),kn(n))}function On(e,t,n){return En(e,t,_n(n),_n(1/n))}function An(e,t,n){return En(e,t,xn(n),Pn(n))}function Dn(e,t,n,a,r){var o=a(e[0]),l=a(bn(e)),i=null!=t?a(t):(o+l)/2;return[r(i+(o-i)*n),r(i+(l-i)*n)]}function Mn(e,t,n){return Dn(e,t,n,wn,en)}function Nn(e,t,n){var a=Math.sign(e[0]);return Dn(e,t,n,Cn(a),kn(a))}function jn(e,t,n,a){return Dn(e,t,n,_n(a),_n(1/a))}function Tn(e,t,n,a){return Dn(e,t,n,xn(a),Pn(a))}function Fn(e){return 1+~~(new Date(e).getMonth()/3)}function In(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Rn(e){return null!=e?pn(e)?e:[e]:[]}function zn(e,t,n){var a,r=e[0],o=e[1];return o<r&&(a=o,o=r,r=a),(a=o-r)>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-a),r+a]}function Ln(e){return"function"===typeof e}function Hn(e,t,n){n=n||{},t=Rn(t)||[];var a=[],r=[],o={},l=n.comparator||Wn;return Rn(e).forEach((function(e,l){null!=e&&(a.push("descending"===t[l]?-1:1),r.push(e=Ln(e)?e:Jt(e,null,n)),(Vt(e)||[]).forEach((function(e){return o[e]=1})))})),0===r.length?null:qt(l(r,a),Object.keys(o))}var Un=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)},Wn=function(e,t){return 1===e.length?qn(e[0],t[0]):Gn(e,t,e.length)},qn=function(e,t){return function(n,a){return Un(e(n),e(a))*t}},Gn=function(e,t,n){return t.push(0),function(a,r){for(var o,l=0,i=-1;0===l&&++i<n;)o=e[i],l=Un(o(a),o(r));return l*t[i]}};function Vn(e){return Ln(e)?e:function(){return e}}function $n(e,t){var n;return function(a){n&&clearTimeout(n),n=setTimeout((function(){return t(a),n=null}),e)}}function Yn(e){for(var t,n,a=1,r=arguments.length;a<r;++a)for(n in t=arguments[a])e[n]=t[n];return e}function Qn(e,t){var n,a,r,o,l=0;if(e&&(n=e.length))if(null==t){for(a=e[l];l<n&&(null==a||a!==a);a=e[++l]);for(r=o=a;l<n;++l)null!=(a=e[l])&&(a<r&&(r=a),a>o&&(o=a))}else{for(a=t(e[l]);l<n&&(null==a||a!==a);a=t(e[++l]));for(r=o=a;l<n;++l)null!=(a=t(e[l]))&&(a<r&&(r=a),a>o&&(o=a))}return[r,o]}function Xn(e,t){var n,a,r,o,l,i=e.length,u=-1;if(null==t){for(;++u<i;)if(null!=(a=e[u])&&a>=a){n=r=a;break}if(u===i)return[-1,-1];for(o=l=u;++u<i;)null!=(a=e[u])&&(n>a&&(n=a,o=u),r<a&&(r=a,l=u))}else{for(;++u<i;)if(null!=(a=t(e[u],u,e))&&a>=a){n=r=a;break}if(u===i)return[-1,-1];for(o=l=u;++u<i;)null!=(a=t(e[u],u,e))&&(n>a&&(n=a,o=u),r<a&&(r=a,l=u))}return[o,l]}var Kn=Object.prototype.hasOwnProperty;function Jn(e,t){return Kn.call(e,t)}var Zn={};function ea(e){var t,n={};function a(e){return Jn(n,e)&&n[e]!==Zn}var r={size:0,empty:0,object:n,has:a,get:function(e){return a(e)?n[e]:void 0},set:function(e,t){return a(e)||(++r.size,n[e]===Zn&&--r.empty),n[e]=t,this},delete:function(e){return a(e)&&(--r.size,++r.empty,n[e]=Zn),this},clear:function(){r.size=r.empty=0,r.object=n={}},test:function(e){return arguments.length?(t=e,r):t},clean:function(){var e={},a=0;for(var o in n){var l=n[o];l===Zn||t&&t(l)||(e[o]=l,++a)}r.size=a,r.empty=0,r.object=n=e}};return e&&Object.keys(e).forEach((function(t){r.set(t,e[t])})),r}function ta(e,t,n,a,r,o){if(!n&&0!==n)return o;var l,i=+n,u=e[0],c=bn(e);c<u&&(l=u,u=c,c=l),l=Math.abs(t-u);var s=Math.abs(c-t);return l<s&&l<=i?a:s<=i?r:o}function na(e,t,n){var a=e.prototype=Object.create(t.prototype);return Object.defineProperty(a,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Yn(a,n)}function aa(e,t,n,a){var r,o=t[0],l=t[t.length-1];return o>l&&(r=o,o=l,l=r),a=void 0===a||a,((n=void 0===n||n)?o<=e:o<e)&&(a?e<=l:e<l)}function ra(e){return"boolean"===typeof e}function oa(e){return"[object Date]"===Object.prototype.toString.call(e)}function la(e){return e&&Ln(e[Symbol.iterator])}function ia(e){return"number"===typeof e}function ua(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function ca(e){return"string"===typeof e}function sa(e,t,n){e&&(e=t?Rn(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):Rn(e));var a,r=e&&e.length,o=n&&n.get||$t,l=function(e){return o(t?[e]:Kt(e))};if(r)if(1===r){var i=l(e[0]);a=function(e){return""+i(e)}}else{var u=e.map(l);a=function(e){for(var t=""+u[0](e),n=0;++n<r;)t+="|"+u[n](e);return t}}else a=function(){return""};return qt(a,e,"key")}function fa(e,t){var n=e[0],a=bn(e),r=+t;return r?1===r?a:n+r*(a-n):n}function da(e){var t,n,a;e=+e||1e4;var r=function(){t={},n={},a=0},o=function(r,o){return++a>e&&(n=t,t={},a=1),t[r]=o};return r(),{clear:r,has:function(e){return Jn(t,e)||Jn(n,e)},get:function(e){return Jn(t,e)?t[e]:Jn(n,e)?o(e,n[e]):void 0},set:function(e,n){return Jn(t,e)?t[e]=n:o(e,n)}}}function pa(e,t,n,a){var r=t.length,o=n.length;if(!o)return t;if(!r)return n;for(var l=a||new t.constructor(r+o),i=0,u=0,c=0;i<r&&u<o;++c)l[c]=e(t[i],n[u])>0?n[u++]:t[i++];for(;i<r;++i,++c)l[c]=t[i];for(;u<o;++u,++c)l[c]=n[u];return l}function ga(e,t){for(var n="";--t>=0;)n+=e;return n}function ha(e,t,n,a){var r=n||" ",o=e+"",l=t-o.length;return l<=0?o:"left"===a?ga(r,l)+o:"center"===a?ga(r,~~(l/2))+o+ga(r,Math.ceil(l/2)):o+ga(r,l)}function va(e){return e&&bn(e)-e[0]||0}function ma(e){return pn(e)?"["+e.map(ma)+"]":gn(e)||ca(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function ya(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}var ba=function(e){return ia(e)||oa(e)?e:Date.parse(e)};function wa(e,t){return t=t||ba,null==e||""===e?null:t(e)}function ka(e){return null==e||""===e?null:e+""}function Ca(e){for(var t={},n=e.length,a=0;a<n;++a)t[e[a]]=!0;return t}function xa(e,t,n,a){var r=null!=a?a:"\u2026",o=e+"",l=o.length,i=Math.max(0,t-r.length);return l<=t?o:"left"===n?r+o.slice(l-i):"center"===n?o.slice(0,Math.ceil(i/2))+r+o.slice(l-~~(i/2)):o.slice(0,i)+r}function Pa(e,t,n){if(e)if(t)for(var a=e.length,r=0;r<a;++r){var o=t(e[r]);o&&n(o,r,e)}else e.forEach(n)}function _a(){_a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(E){i=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var r=t&&t.prototype instanceof f?t:f,o=Object.create(r.prototype),l=new x(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return _()}for(n.method=r,n.arg=o;;){var l=n.delegate;if(l){var i=w(l,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var u=c(e,t,n);if("normal"===u.type){if(a=n.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a="completed",n.method="throw",n.arg=u.arg)}}}(e,n,l),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var s={};function f(){}function d(){}function p(){}var g={};i(g,r,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(P([])));v&&v!==t&&n.call(v,r)&&(g=v);var m=p.prototype=f.prototype=Object.create(g);function y(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,l,i){var u=c(e[r],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==F(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,l,i)}),(function(e){a("throw",e,l,i)})):t.resolve(f).then((function(e){s.value=e,l(s)}),(function(e){return a("throw",e,l,i)}))}i(u.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){a(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,s;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,i(m,"constructor",p),i(p,"constructor",d),d.displayName=i(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,l,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(b.prototype),i(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var l=new b(u(t,n,a,r),o);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},y(m),i(m,l,"Generator"),i(m,r,(function(){return this})),i(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=P,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return l.type="throw",l.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function Ea(e,t,n,a,r,o,l){try{var i=e[o](l),u=i.value}catch(Xt){return void n(Xt)}i.done?t(u):Promise.resolve(u).then(a,r)}function Sa(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){Ea(o,a,r,l,i,"next",e)}function i(e){Ea(o,a,r,l,i,"throw",e)}l(void 0)}))}}var Ba={},Oa={};function Aa(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function Da(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var a in e)a in t||n.push(t[a]=a)})),n}function Ma(e,t){var n=e+"",a=n.length;return a<t?new Array(t-a+1).join(0)+n:n}function Na(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),a=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+Ma(-e,6):e>9999?"+"+Ma(e,6):Ma(e,4)}(e.getUTCFullYear())+"-"+Ma(e.getUTCMonth()+1,2)+"-"+Ma(e.getUTCDate(),2)+(r?"T"+Ma(t,2)+":"+Ma(n,2)+":"+Ma(a,2)+"."+Ma(r,3)+"Z":a?"T"+Ma(t,2)+":"+Ma(n,2)+":"+Ma(a,2)+"Z":n||t?"T"+Ma(t,2)+":"+Ma(n,2)+"Z":"")}function ja(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function a(e,t){var a,r=[],o=e.length,l=0,i=0,u=o<=0,c=!1;function s(){if(u)return Oa;if(c)return c=!1,Ba;var t,a,r=l;if(34===e.charCodeAt(r)){for(;l++<o&&34!==e.charCodeAt(l)||34===e.charCodeAt(++l););return(t=l)>=o?u=!0:10===(a=e.charCodeAt(l++))?c=!0:13===a&&(c=!0,10===e.charCodeAt(l)&&++l),e.slice(r+1,t-1).replace(/""/g,'"')}for(;l<o;){if(10===(a=e.charCodeAt(t=l++)))c=!0;else if(13===a)c=!0,10===e.charCodeAt(l)&&++l;else if(a!==n)continue;return e.slice(r,t)}return u=!0,e.slice(r,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(a=s())!==Oa;){for(var f=[];a!==Ba&&a!==Oa;)f.push(a),a=s();t&&null==(f=t(f,i++))||r.push(f)}return r}function r(t,n){return t.map((function(t){return n.map((function(e){return l(t[e])})).join(e)}))}function o(t){return t.map(l).join(e)}function l(e){return null==e?"":e instanceof Date?Na(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,o=a(e,(function(e,a){if(n)return n(e,a-1);r=e,n=t?function(e,t){var n=Aa(e);return function(a,r){return t(n(a),r,e)}}(e,t):Aa(e)}));return o.columns=r||[],o},parseRows:a,format:function(t,n){return null==n&&(n=Da(t)),[n.map(l).join(e)].concat(r(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Da(e)),r(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:l}}function Ta(e){return e}function Fa(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return Ia(e,t)}))}:Ia(e,t)}function Ia(e,t){var n=t.id,a=t.bbox,r=null==t.properties?{}:t.properties,o=Ra(e,t);return null==n&&null==a?{type:"Feature",properties:r,geometry:o}:null==a?{type:"Feature",id:n,properties:r,geometry:o}:{type:"Feature",id:n,bbox:a,properties:r,geometry:o}}function Ra(e,t){var n=function(e){if(null==e)return Ta;var t,n,a=e.scale[0],r=e.scale[1],o=e.translate[0],l=e.translate[1];return function(e,i){i||(t=n=0);var u=2,c=e.length,s=new Array(c);for(s[0]=(t+=e[0])*a+o,s[1]=(n+=e[1])*r+l;u<c;)s[u]=e[u],++u;return s}}(e.transform),a=e.arcs;function r(e,t){t.length&&t.pop();for(var r=a[e<0?~e:e],o=0,l=r.length;o<l;++o)t.push(n(r[o],o));e<0&&function(e,t){for(var n,a=e.length,r=a-t;r<--a;)n=e[r],e[r++]=e[a],e[a]=n}(t,l)}function o(e){return n(e)}function l(e){for(var t=[],n=0,a=e.length;n<a;++n)r(e[n],t);return t.length<2&&t.push(t[0]),t}function i(e){for(var t=l(e);t.length<4;)t.push(t[0]);return t}function u(e){return e.map(i)}return function e(t){var n,a=t.type;switch(a){case"GeometryCollection":return{type:a,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=l(t.arcs);break;case"MultiLineString":n=t.arcs.map(l);break;case"Polygon":n=u(t.arcs);break;case"MultiPolygon":n=t.arcs.map(u);break;default:return null}return{type:a,coordinates:n}}(t)}function za(e,t){var n={},a={},r={},o=[],l=-1;function i(e,t){for(var a in e){var r=e[a];delete t[r.start],delete r.start,delete r.end,r.forEach((function(e){n[e<0?~e:e]=1})),o.push(r)}}return t.forEach((function(n,a){var r,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=t[++l],t[l]=n,t[a]=r)})),t.forEach((function(t){var n,o,l=function(t){var n,a=e.arcs[t<0?~t:t],r=a[0];e.transform?(n=[0,0],a.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=a[a.length-1];return t<0?[n,r]:[r,n]}(t),i=l[0],u=l[1];if(n=r[i])if(delete r[n.end],n.push(t),n.end=u,o=a[u]){delete a[o.start];var c=o===n?n:n.concat(o);a[c.start=n.start]=r[c.end=o.end]=c}else a[n.start]=r[n.end]=n;else if(n=a[u])if(delete a[n.start],n.unshift(t),n.start=i,o=r[i]){delete r[o.end];var s=o===n?n:o.concat(n);a[s.start=o.start]=r[s.end=n.end]=s}else a[n.start]=r[n.end]=n;else a[(n=[t]).start=i]=r[n.end=u]=n})),i(r,a),i(a,r),t.forEach((function(e){n[e<0?~e:e]||o.push([e])})),o}function La(e){return Ra(e,Ha.apply(this,arguments))}function Ha(e,t,n){var a,r,o;if(arguments.length>1)a=Ua(e,t,n);else for(r=0,a=new Array(o=e.arcs.length);r<o;++r)a[r]=r;return{type:"MultiLineString",arcs:za(e,a)}}function Ua(e,t,n){var a,r=[],o=[];function l(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:a})}function i(e){e.forEach(l)}function u(e){e.forEach(i)}return function e(t){switch(a=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":i(t.arcs);break;case"MultiLineString":case"Polygon":u(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(u)}(t.arcs)}}(t),o.forEach(null==n?function(e){r.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&r.push(e[0].i)}),r}var Wa=Math.sqrt(50),qa=Math.sqrt(10),Ga=Math.sqrt(2);function Va(e,t,n){var a,r,o,l,i=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((a=t<e)&&(r=e,e=t,t=r),0===(l=$a(e,t,n))||!isFinite(l))return[];if(l>0){var u=Math.round(e/l),c=Math.round(t/l);for(u*l<e&&++u,c*l>t&&--c,o=new Array(r=c-u+1);++i<r;)o[i]=(u+i)*l}else{l=-l;var s=Math.round(e*l),f=Math.round(t*l);for(s/l<e&&++s,f/l>t&&--f,o=new Array(r=f-s+1);++i<r;)o[i]=(s+i)/l}return a&&o.reverse(),o}function $a(e,t,n){var a=(t-e)/Math.max(0,n),r=Math.floor(Math.log(a)/Math.LN10),o=a/Math.pow(10,r);return r>=0?(o>=Wa?10:o>=qa?5:o>=Ga?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=Wa?10:o>=qa?5:o>=Ga?2:1)}function Ya(e,t,n){var a=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),o=a/r;return o>=Wa?r*=10:o>=qa?r*=5:o>=Ga&&(r*=2),t<e?-r:r}var Qa,Xa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ka(e){if(!(t=Xa.exec(e)))throw new Error("invalid format: "+e);var t;return new Ja({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Ja(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Za(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function er(e){return(e=Za(Math.abs(e)))?e[1]:NaN}function tr(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(er(t)/3)))-er(Math.abs(e)))}function nr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,er(t)-er(e))+1}function ar(e){return Math.max(0,-er(Math.abs(e)))}function rr(e,t){var n=Za(e,t);if(!n)return e+"";var a=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}Ka.prototype=Ja.prototype,Ja.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var or={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return rr(100*e,t)},r:rr,s:function(e,t){var n=Za(e,t);if(!n)return e+"";var a=n[0],r=n[1],o=r-(Qa=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,l=a.length;return o===l?a:o>l?a+new Array(o-l+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+Za(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function lr(e){return e}var ir,ur,cr,sr=Array.prototype.map,fr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function dr(e){var t,n,a=void 0===e.grouping||void 0===e.thousands?lr:(t=sr.call(e.grouping,Number),n=e.thousands+"",function(e,a){for(var r=e.length,o=[],l=0,i=t[0],u=0;r>0&&i>0&&(u+i+1>a&&(i=Math.max(1,a-u)),o.push(e.substring(r-=i,r+i)),!((u+=i+1)>a));)i=t[l=(l+1)%t.length];return o.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",i=void 0===e.numerals?lr:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(sr.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",s=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Ka(e)).fill,n=e.align,f=e.sign,d=e.symbol,p=e.zero,g=e.width,h=e.comma,v=e.precision,m=e.trim,y=e.type;"n"===y?(h=!0,y="g"):or[y]||(void 0===v&&(v=12),m=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===d?r:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?o:/[%p]/.test(y)?u:"",k=or[y],C=/[defgprs%]/.test(y);function x(e){var r,o,u,d=b,x=w;if("c"===y)x=k(e)+x,e="";else{var P=(e=+e)<0||1/e<0;if(e=isNaN(e)?s:k(Math.abs(e),v),m&&(e=function(e){e:for(var t,n=e.length,a=1,r=-1;a<n;++a)switch(e[a]){case".":r=t=a;break;case"0":0===r&&(r=a),t=a;break;default:if(!+e[a])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),P&&0===+e&&"+"!==f&&(P=!1),d=(P?"("===f?f:c:"-"===f||"("===f?"":f)+d,x=("s"===y?fr[8+Qa/3]:"")+x+(P&&"("===f?")":""),C)for(r=-1,o=e.length;++r<o;)if(48>(u=e.charCodeAt(r))||u>57){x=(46===u?l+e.slice(r+1):e.slice(r))+x,e=e.slice(0,r);break}}h&&!p&&(e=a(e,1/0));var _=d.length+e.length+x.length,E=_<g?new Array(g-_+1).join(t):"";switch(h&&p&&(e=a(E+e,E.length?g-x.length:1/0),E=""),n){case"<":e=d+e+x+E;break;case"=":e=d+E+e+x;break;case"^":e=E.slice(0,_=E.length>>1)+d+e+x+E.slice(_);break;default:e=E+d+e+x}return i(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),x.toString=function(){return e+""},x}return{format:f,formatPrefix:function(e,t){var n=f(((e=Ka(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(er(t)/3))),r=Math.pow(10,-a),o=fr[8+a/3];return function(e){return n(r*e)+o}}}}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){ir=dr(e),ur=ir.format,cr=ir.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var gr=new Date,hr=new Date;function vr(e,t,n,a){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,a,o){var l,i=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<a)||!(o>0))return i;do{i.push(l=new Date(+n)),t(n,o),e(n)}while(l<n&&n<a);return i},r.filter=function(n){return vr((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,a){if(e>=e)if(a<0)for(;++a<=0;)for(;t(e,-1),!n(e););else for(;--a>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,a){return gr.setTime(+t),hr.setTime(+a),e(gr),e(hr),Math.floor(n(gr,hr))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(a?function(t){return a(t)%e===0}:function(t){return r.count(0,t)%e===0}):r:null}),r}var mr=1e3,yr=6e4,br=36e5,wr=864e5,kr=6048e5,Cr=2592e6,xr=31536e6,Pr=vr((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yr)/wr}),(function(e){return e.getDate()-1})),_r=Pr;Pr.range;function Er(e){return vr((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yr)/kr}))}var Sr=Er(0),Br=Er(1),Or=Er(2),Ar=Er(3),Dr=Er(4),Mr=Er(5),Nr=Er(6),jr=(Sr.range,Br.range,Or.range,Ar.range,Dr.range,Mr.range,Nr.range,vr((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/wr}),(function(e){return e.getUTCDate()-1}))),Tr=jr;jr.range;function Fr(e){return vr((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/kr}))}var Ir=Fr(0),Rr=Fr(1),zr=Fr(2),Lr=Fr(3),Hr=Fr(4),Ur=Fr(5),Wr=Fr(6),qr=(Ir.range,Rr.range,zr.range,Lr.range,Hr.range,Ur.range,Wr.range,vr((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));qr.every=function(e){return isFinite(e=Math.floor(e))&&e>0?vr((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Gr=qr,Vr=(qr.range,vr((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),$r=Vr,Yr=(Vr.range,vr((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*mr-e.getMinutes()*yr)}),(function(e,t){e.setTime(+e+t*br)}),(function(e,t){return(t-e)/br}),(function(e){return e.getHours()}))),Qr=Yr,Xr=(Yr.range,vr((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*mr)}),(function(e,t){e.setTime(+e+t*yr)}),(function(e,t){return(t-e)/yr}),(function(e){return e.getMinutes()}))),Kr=Xr,Jr=(Xr.range,vr((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*mr)}),(function(e,t){return(t-e)/mr}),(function(e){return e.getUTCSeconds()}))),Zr=Jr,eo=(Jr.range,vr((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));eo.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?vr((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):eo:null};var to=eo,no=(eo.range,vr((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));no.every=function(e){return isFinite(e=Math.floor(e))&&e>0?vr((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var ao,ro,oo,lo,io,uo,co,so=no,fo=(no.range,vr((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),po=fo,go=(fo.range,vr((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*br)}),(function(e,t){return(t-e)/br}),(function(e){return e.getUTCHours()}))),ho=go,vo=(go.range,vr((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*yr)}),(function(e,t){return(t-e)/yr}),(function(e){return e.getUTCMinutes()}))),mo=vo;vo.range;function yo(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bo(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wo(e){var t,n,a;function r(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<o){if(0!==t(a,a))return o;do{var l=r+o>>>1;n(e[l],a)<0?r=l+1:o=l}while(r<o)}return r}return 2!==e.length?(t=yo,n=function(t,n){return yo(e(t),n)},a=function(t,n){return e(t)-n}):(t=e===yo||e===bo?e:ko,n=e,a=e),{left:r,center:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,l=r(e,t,n,o-1);return l>n&&a(e[l-1],t)>-a(e[l],t)?l-1:l},right:function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<o){if(0!==t(a,a))return o;do{var l=r+o>>>1;n(e[l],a)<=0?r=l+1:o=l}while(r<o)}return r}}}function ko(){return 0}var Co="year",xo="quarter",Po="month",_o="week",Eo="date",So="day",Bo="dayofyear",Oo="hours",Ao="minutes",Do="seconds",Mo="milliseconds",No=[Co,xo,Po,_o,Eo,So,Bo,Oo,Ao,Do,Mo],jo=No.reduce((function(e,t,n){return e[t]=1+n,e}),{});function To(e){var t=Rn(e).slice(),n={};return t.length||Xt("Missing time unit."),t.forEach((function(e){Jn(jo,e)?n[e]=1:Xt("Invalid time unit: ".concat(e,"."))})),(n[_o]||n[So]?1:0)+(n[xo]||n[Po]||n[Eo]?1:0)+(n[Bo]?1:0)>1&&Xt("Incompatible time units: ".concat(e)),t.sort((function(e,t){return jo[e]-jo[t]})),t}var Fo=(pr(ao={},Co,"%Y "),pr(ao,xo,"Q%q "),pr(ao,Po,"%b "),pr(ao,Eo,"%d "),pr(ao,_o,"W%U "),pr(ao,So,"%a "),pr(ao,Bo,"%j "),pr(ao,Oo,"%H:00"),pr(ao,Ao,"00:%M"),pr(ao,Do,":%S"),pr(ao,Mo,".%L"),pr(ao,"".concat(Co,"-").concat(Po),"%Y-%m "),pr(ao,"".concat(Co,"-").concat(Po,"-").concat(Eo),"%Y-%m-%d "),pr(ao,"".concat(Oo,"-").concat(Ao),"%H:%M"),ao);function Io(e,t){var n,a,r=Yn({},Fo,t),o=To(e),l=o.length,i="",u=0;for(u=0;u<l;)for(n=o.length;n>u;--n)if(null!=r[a=o.slice(u,n).join("-")]){i+=r[a],u=n;break}return i.trim()}var Ro=new Date;function zo(e){return Ro.setFullYear(e),Ro.setMonth(0),Ro.setDate(1),Ro.setHours(0,0,0,0),Ro}function Lo(e){return Uo(new Date(e))}function Ho(e){return Wo(new Date(e))}function Uo(e){return _r.count(zo(e.getFullYear())-1,e)}function Wo(e){return Sr.count(zo(e.getFullYear())-1,e)}function qo(e){return zo(e).getDay()}function Go(e,t,n,a,r,o,l){if(0<=e&&e<100){var i=new Date(-1,t,n,a,r,o,l);return i.setFullYear(e),i}return new Date(e,t,n,a,r,o,l)}function Vo(e){return Yo(new Date(e))}function $o(e){return Qo(new Date(e))}function Yo(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return Tr.count(t-1,e)}function Qo(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return Ir.count(t-1,e)}function Xo(e){return Ro.setTime(Date.UTC(e,0,1)),Ro.getUTCDay()}function Ko(e,t,n,a,r,o,l){if(0<=e&&e<100){var i=new Date(Date.UTC(-1,t,n,a,r,o,l));return i.setUTCFullYear(n.y),i}return new Date(Date.UTC(e,t,n,a,r,o,l))}function Jo(e,t,n,a,r){var o=t||1,l=bn(e),i=function(e,t,r){return function(e,t,n,a){var r=n<=1?e:a?function(t,r){return a+n*Math.floor((e(t,r)-a)/n)}:function(t,a){return n*Math.floor(e(t,a)/n)};return t?function(e,n){return t(r(e,n),n)}:r}(n[r=r||e],a[r],e===l&&o,t)},u=new Date,c=Ca(e),s=c[Co]?i(Co):Vn(2012),f=c[Po]?i(Po):c[xo]?i(xo):tn,d=c[_o]&&c[So]?i(So,1,_o+So):c[_o]?i(_o,1):c[So]?i(So,1):c[Eo]?i(Eo,1):c[Bo]?i(Bo,1):nn,p=c[Oo]?i(Oo):tn,g=c[Ao]?i(Ao):tn,h=c[Do]?i(Do):tn,v=c[Mo]?i(Mo):tn;return function(e){u.setTime(+e);var t=s(u);return r(t,f(u),d(u,t),p(u),g(u),h(u),v(u))}}function Zo(e,t,n){return t+7*e-(n+6)%7}var el=(pr(ro={},Co,(function(e){return e.getFullYear()})),pr(ro,xo,(function(e){return Math.floor(e.getMonth()/3)})),pr(ro,Po,(function(e){return e.getMonth()})),pr(ro,Eo,(function(e){return e.getDate()})),pr(ro,Oo,(function(e){return e.getHours()})),pr(ro,Ao,(function(e){return e.getMinutes()})),pr(ro,Do,(function(e){return e.getSeconds()})),pr(ro,Mo,(function(e){return e.getMilliseconds()})),pr(ro,Bo,(function(e){return Uo(e)})),pr(ro,_o,(function(e){return Wo(e)})),pr(ro,_o+So,(function(e,t){return Zo(Wo(e),e.getDay(),qo(t))})),pr(ro,So,(function(e,t){return Zo(1,e.getDay(),qo(t))})),ro),tl=(pr(oo={},xo,(function(e){return 3*e})),pr(oo,_o,(function(e,t){return Zo(e,0,qo(t))})),oo);function nl(e,t){return Jo(e,t||1,el,tl,Go)}var al=(pr(lo={},Co,(function(e){return e.getUTCFullYear()})),pr(lo,xo,(function(e){return Math.floor(e.getUTCMonth()/3)})),pr(lo,Po,(function(e){return e.getUTCMonth()})),pr(lo,Eo,(function(e){return e.getUTCDate()})),pr(lo,Oo,(function(e){return e.getUTCHours()})),pr(lo,Ao,(function(e){return e.getUTCMinutes()})),pr(lo,Do,(function(e){return e.getUTCSeconds()})),pr(lo,Mo,(function(e){return e.getUTCMilliseconds()})),pr(lo,Bo,(function(e){return Yo(e)})),pr(lo,_o,(function(e){return Qo(e)})),pr(lo,So,(function(e,t){return Zo(1,e.getUTCDay(),Xo(t))})),pr(lo,_o+So,(function(e,t){return Zo(Qo(e),e.getUTCDay(),Xo(t))})),lo),rl=(pr(io={},xo,(function(e){return 3*e})),pr(io,_o,(function(e,t){return Zo(e,0,Xo(t))})),io);function ol(e,t){return Jo(e,t||1,al,rl,Ko)}var ll=(pr(uo={},Co,Gr),pr(uo,xo,$r.every(3)),pr(uo,Po,$r),pr(uo,_o,Sr),pr(uo,Eo,_r),pr(uo,So,_r),pr(uo,Bo,_r),pr(uo,Oo,Qr),pr(uo,Ao,Kr),pr(uo,Do,Zr),pr(uo,Mo,to),uo),il=(pr(co={},Co,so),pr(co,xo,po.every(3)),pr(co,Po,po),pr(co,_o,Ir),pr(co,Eo,Tr),pr(co,So,Tr),pr(co,Bo,Tr),pr(co,Oo,ho),pr(co,Ao,mo),pr(co,Do,Zr),pr(co,Mo,to),co);function ul(e){return ll[e]}function cl(e){return il[e]}function sl(e,t,n){return e?e.offset(t,n):void 0}function fl(e,t,n){return sl(ul(e),t,n)}function dl(e,t,n){return sl(cl(e),t,n)}function pl(e,t,n,a){return e?e.range(t,n,a):void 0}function gl(e,t,n,a){return pl(ul(e),t,n,a)}function hl(e,t,n,a){return pl(cl(e),t,n,a)}var vl=1e3,ml=6e4,yl=36e5,bl=864e5,wl=2592e6,kl=31536e6,Cl=[Co,Po,Eo,Oo,Ao,Do,Mo],xl=Cl.slice(0,-1),Pl=xl.slice(0,-1),_l=Pl.slice(0,-1),El=_l.slice(0,-1),Sl=[Co,Po],Bl=[Co],Ol=[[xl,1,vl],[xl,5,5e3],[xl,15,15e3],[xl,30,3e4],[Pl,1,ml],[Pl,5,3e5],[Pl,15,9e5],[Pl,30,18e5],[_l,1,yl],[_l,3,108e5],[_l,6,216e5],[_l,12,432e5],[El,1,bl],[[Co,_o],1,6048e5],[Sl,1,wl],[Sl,3,7776e6],[Bl,1,kl]];function Al(e){var t,n,a=e.extent,r=e.maxbins||40,o=Math.abs(va(a))/r,l=wo((function(e){return e[2]})).right(Ol,o);return l===Ol.length?(t=Bl,n=Ya(a[0]/kl,a[1]/kl,r)):l?(t=(l=Ol[o/Ol[l-1][2]<Ol[l][2]/o?l-1:l])[0],n=l[1]):(t=Cl,n=Math.max(Ya(a[0],a[1],r),1)),{units:t,step:n}}function Dl(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ml(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function jl(e){var t=e.dateTime,n=e.date,a=e.time,r=e.periods,o=e.days,l=e.shortDays,i=e.months,u=e.shortMonths,c=Yl(r),s=Ql(r),f=Yl(o),d=Ql(o),p=Yl(l),g=Ql(l),h=Yl(i),v=Ql(i),m=Yl(u),y=Ql(u),b={a:function(e){return l[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return i[e.getMonth()]},c:null,d:vi,e:vi,f:ki,g:Mi,G:ji,H:mi,I:yi,j:bi,L:wi,m:Ci,M:xi,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:au,s:ru,S:Pi,u:_i,U:Ei,V:Bi,w:Oi,W:Ai,x:null,X:null,y:Di,Y:Ni,Z:Ti,"%":nu},w={a:function(e){return l[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return i[e.getUTCMonth()]},c:null,d:Fi,e:Fi,f:Hi,g:Ji,G:eu,H:Ii,I:Ri,j:zi,L:Li,m:Ui,M:Wi,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:au,s:ru,S:qi,u:Gi,U:Vi,V:Yi,w:Qi,W:Xi,x:null,X:null,y:Ki,Y:Zi,Z:tu,"%":nu},k={a:function(e,t,n){var a=p.exec(t.slice(n));return a?(e.w=g.get(a[0].toLowerCase()),n+a[0].length):-1},A:function(e,t,n){var a=f.exec(t.slice(n));return a?(e.w=d.get(a[0].toLowerCase()),n+a[0].length):-1},b:function(e,t,n){var a=m.exec(t.slice(n));return a?(e.m=y.get(a[0].toLowerCase()),n+a[0].length):-1},B:function(e,t,n){var a=h.exec(t.slice(n));return a?(e.m=v.get(a[0].toLowerCase()),n+a[0].length):-1},c:function(e,n,a){return P(e,t,n,a)},d:li,e:li,f:di,g:ni,G:ti,H:ui,I:ui,j:ii,L:fi,m:oi,M:ci,p:function(e,t,n){var a=c.exec(t.slice(n));return a?(e.p=s.get(a[0].toLowerCase()),n+a[0].length):-1},q:ri,Q:gi,s:hi,S:si,u:Kl,U:Jl,V:Zl,w:Xl,W:ei,x:function(e,t,a){return P(e,n,t,a)},X:function(e,t,n){return P(e,a,t,n)},y:ni,Y:ti,Z:ai,"%":pi};function C(e,t){return function(n){var a,r,o,l=[],i=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++i<c;)37===e.charCodeAt(i)&&(l.push(e.slice(u,i)),null!=(r=Ul[a=e.charAt(++i)])?a=e.charAt(++i):r="e"===a?" ":"0",(o=t[a])&&(a=o(n,r)),l.push(a),u=i+1);return l.push(e.slice(u,i)),l.join("")}}function x(e,t){return function(n){var a,r,o=Nl(1900,void 0,1);if(P(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(a=Ml(Nl(o.y,0,1))).getUTCDay(),a=r>4||0===r?Rr.ceil(a):Rr(a),a=Tr.offset(a,7*(o.V-1)),o.y=a.getUTCFullYear(),o.m=a.getUTCMonth(),o.d=a.getUTCDate()+(o.w+6)%7):(r=(a=Dl(Nl(o.y,0,1))).getDay(),a=r>4||0===r?Br.ceil(a):Br(a),a=_r.offset(a,7*(o.V-1)),o.y=a.getFullYear(),o.m=a.getMonth(),o.d=a.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?Ml(Nl(o.y,0,1)).getUTCDay():Dl(Nl(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ml(o)):Dl(o)}}function P(e,t,n,a){for(var r,o,l=0,i=t.length,u=n.length;l<i;){if(a>=u)return-1;if(37===(r=t.charCodeAt(l++))){if(r=t.charAt(l++),!(o=k[r in Ul?t.charAt(l++):r])||(a=o(e,n,a))<0)return-1}else if(r!=n.charCodeAt(a++))return-1}return a}return b.x=C(n,b),b.X=C(a,b),b.c=C(t,b),w.x=C(n,w),w.X=C(a,w),w.c=C(t,w),{format:function(e){var t=C(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=C(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}var Tl,Fl,Il,Rl,zl,Ll,Hl,Ul={"-":"",_:" ",0:"0"},Wl=/^\s*\d+/,ql=/^%/,Gl=/[\\^$*+?|[\]().{}]/g;function Vl(e,t,n){var a=e<0?"-":"",r=(a?-e:e)+"",o=r.length;return a+(o<n?new Array(n-o+1).join(t)+r:r)}function $l(e){return e.replace(Gl,"\\$&")}function Yl(e){return new RegExp("^(?:"+e.map($l).join("|")+")","i")}function Ql(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function Xl(e,t,n){var a=Wl.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function Kl(e,t,n){var a=Wl.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function Jl(e,t,n){var a=Wl.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function Zl(e,t,n){var a=Wl.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function ei(e,t,n){var a=Wl.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function ti(e,t,n){var a=Wl.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function ni(e,t,n){var a=Wl.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function ai(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function ri(e,t,n){var a=Wl.exec(t.slice(n,n+1));return a?(e.q=3*a[0]-3,n+a[0].length):-1}function oi(e,t,n){var a=Wl.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function li(e,t,n){var a=Wl.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function ii(e,t,n){var a=Wl.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function ui(e,t,n){var a=Wl.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function ci(e,t,n){var a=Wl.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function si(e,t,n){var a=Wl.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function fi(e,t,n){var a=Wl.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function di(e,t,n){var a=Wl.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function pi(e,t,n){var a=ql.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function gi(e,t,n){var a=Wl.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function hi(e,t,n){var a=Wl.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function vi(e,t){return Vl(e.getDate(),t,2)}function mi(e,t){return Vl(e.getHours(),t,2)}function yi(e,t){return Vl(e.getHours()%12||12,t,2)}function bi(e,t){return Vl(1+_r.count(Gr(e),e),t,3)}function wi(e,t){return Vl(e.getMilliseconds(),t,3)}function ki(e,t){return wi(e,t)+"000"}function Ci(e,t){return Vl(e.getMonth()+1,t,2)}function xi(e,t){return Vl(e.getMinutes(),t,2)}function Pi(e,t){return Vl(e.getSeconds(),t,2)}function _i(e){var t=e.getDay();return 0===t?7:t}function Ei(e,t){return Vl(Sr.count(Gr(e)-1,e),t,2)}function Si(e){var t=e.getDay();return t>=4||0===t?Dr(e):Dr.ceil(e)}function Bi(e,t){return e=Si(e),Vl(Dr.count(Gr(e),e)+(4===Gr(e).getDay()),t,2)}function Oi(e){return e.getDay()}function Ai(e,t){return Vl(Br.count(Gr(e)-1,e),t,2)}function Di(e,t){return Vl(e.getFullYear()%100,t,2)}function Mi(e,t){return Vl((e=Si(e)).getFullYear()%100,t,2)}function Ni(e,t){return Vl(e.getFullYear()%1e4,t,4)}function ji(e,t){var n=e.getDay();return Vl((e=n>=4||0===n?Dr(e):Dr.ceil(e)).getFullYear()%1e4,t,4)}function Ti(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vl(t/60|0,"0",2)+Vl(t%60,"0",2)}function Fi(e,t){return Vl(e.getUTCDate(),t,2)}function Ii(e,t){return Vl(e.getUTCHours(),t,2)}function Ri(e,t){return Vl(e.getUTCHours()%12||12,t,2)}function zi(e,t){return Vl(1+Tr.count(so(e),e),t,3)}function Li(e,t){return Vl(e.getUTCMilliseconds(),t,3)}function Hi(e,t){return Li(e,t)+"000"}function Ui(e,t){return Vl(e.getUTCMonth()+1,t,2)}function Wi(e,t){return Vl(e.getUTCMinutes(),t,2)}function qi(e,t){return Vl(e.getUTCSeconds(),t,2)}function Gi(e){var t=e.getUTCDay();return 0===t?7:t}function Vi(e,t){return Vl(Ir.count(so(e)-1,e),t,2)}function $i(e){var t=e.getUTCDay();return t>=4||0===t?Hr(e):Hr.ceil(e)}function Yi(e,t){return e=$i(e),Vl(Hr.count(so(e),e)+(4===so(e).getUTCDay()),t,2)}function Qi(e){return e.getUTCDay()}function Xi(e,t){return Vl(Rr.count(so(e)-1,e),t,2)}function Ki(e,t){return Vl(e.getUTCFullYear()%100,t,2)}function Ji(e,t){return Vl((e=$i(e)).getUTCFullYear()%100,t,2)}function Zi(e,t){return Vl(e.getUTCFullYear()%1e4,t,4)}function eu(e,t){var n=e.getUTCDay();return Vl((e=n>=4||0===n?Hr(e):Hr.ceil(e)).getUTCFullYear()%1e4,t,4)}function tu(){return"+0000"}function nu(){return"%"}function au(e){return+e}function ru(e){return Math.floor(+e/1e3)}function ou(e){var t={};return function(n){return t[n]||(t[n]=e(n))}}function lu(e){var t=ou(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat:function(e){var n=Ka(e||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return function(e,t){return function(n){var a=e(n),r=a.indexOf(t);if(r<0)return a;for(var o=function(e,t){var n,a=e.lastIndexOf("e");if(a>0)return a;for(a=e.length;--a>t;)if((n=e.charCodeAt(a))>=48&&n<=57)return a+1}(a,r),l=o<a.length?a.slice(o):"";--o>r;)if("0"!==a[o]){++o;break}return a.slice(0,o)+l}}(t(n),t(".1f")(1)[1])}return t(n)},formatSpan:function(e,a,r,o){o=Ka(null==o?",f":o);var l,i=Ya(e,a,r),u=Math.max(Math.abs(e),Math.abs(a));if(null==o.precision)switch(o.type){case"s":return isNaN(l=tr(i,u))||(o.precision=l),n(o,u);case"":case"e":case"g":case"p":case"r":isNaN(l=nr(i,u))||(o.precision=l-("e"===o.type));break;case"f":case"%":isNaN(l=ar(i))||(o.precision=l-2*("%"===o.type))}return t(o)}}}function iu(){return Ll=lu({format:ur,formatPrefix:cr})}function uu(e){return lu(dr(e))}function cu(e){return arguments.length?Ll=uu(e):Ll}function su(e,t,n){gn(n=n||{})||Xt("Invalid time multi-format specifier: ".concat(n));var a=t(Do),r=t(Ao),o=t(Oo),l=t(Eo),i=t(_o),u=t(Po),c=t(xo),s=t(Co),f=e(n[Mo]||".%L"),d=e(n[Do]||":%S"),p=e(n[Ao]||"%I:%M"),g=e(n[Oo]||"%I %p"),h=e(n[Eo]||n[So]||"%a %d"),v=e(n[_o]||"%b %d"),m=e(n[Po]||"%B"),y=e(n[xo]||"%B"),b=e(n[Co]||"%Y");return function(e){return(a(e)<e?f:r(e)<e?d:o(e)<e?p:l(e)<e?g:u(e)<e?i(e)<e?h:v:s(e)<e?c(e)<e?m:y:b)(e)}}function fu(e){var t=ou(e.format),n=ou(e.utcFormat);return{timeFormat:function(e){return ca(e)?t(e):su(t,ul,e)},utcFormat:function(e){return ca(e)?n(e):su(n,cl,e)},timeParse:ou(e.parse),utcParse:ou(e.utcParse)}}function du(){return Hl=fu({format:Fl,parse:Il,utcFormat:Rl,utcParse:zl})}function pu(e){return fu(jl(e))}function gu(e){return arguments.length?Hl=pu(e):Hl}!function(e){Tl=jl(e),Fl=Tl.format,Il=Tl.parse,Rl=Tl.utcFormat,zl=Tl.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),iu(),du();var hu=function(e,t){return Yn({},e,t)};function vu(e,t){var n=e?uu(e):cu(),a=t?pu(t):gu();return hu(n,a)}function mu(e,t){var n=arguments.length;return n&&2!==n&&Xt("defaultLocale expects either zero or two arguments."),n?hu(cu(e),gu(t)):hu(cu(),gu())}function yu(){return iu(),du(),mu()}var bu=/^(data:|([A-Za-z]+:)?\/\/)/,wu=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ku=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Cu="file://";function xu(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=Sa(_a().mark((function e(t,n){var a,r;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return a=e.sent,r=a.href,e.abrupt("return",a.localFile?this.file(r):this.http(r,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function _u(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=Sa(_a().mark((function e(t,n){var a,r,o,l,i,u,c;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yn({},this.options,n),a=this.fileAccess,r={href:null},u=wu.test(t.replace(ku,"")),null!=t&&"string"===typeof t&&u||Xt("Sanitize failure, invalid URI: "+ma(t)),c=bu.test(t),(i=n.baseURL)&&!c&&(t.startsWith("/")||i.endsWith("/")||(t="/"+t),t=i+t),l=(o=t.startsWith(Cu))||"file"===n.mode||"http"!==n.mode&&!c&&a,o?t=t.slice(Cu.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),l=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!l}),r.href=t,n.target&&(r.target=n.target+""),n.rel&&(r.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(r.crossOrigin=n.crossOrigin+""),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)}))),Eu.apply(this,arguments)}function Su(e){return e?function(t){return new Promise((function(n,a){e.readFile(t,(function(e,t){e?a(e):n(t)}))}))}:Bu}function Bu(){return Ou.apply(this,arguments)}function Ou(){return(Ou=Sa(_a().mark((function e(){return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xt("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(e){return e?function(){var t=Sa(_a().mark((function t(n,a){var r,o,l;return _a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Yn({},this.options.http,a),o=a&&a.response,t.next=4,e(n,r);case 4:return l=t.sent,t.abrupt("return",l.ok?Ln(l[o])?l[o]():l.text():Xt(l.status+""+l.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():Du}function Du(){return Mu.apply(this,arguments)}function Mu(){return(Mu=Sa(_a().mark((function e(){return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xt("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nu=function(e){return!Number.isNaN(+e)&&!(e instanceof Date)},ju={boolean:ya,integer:wn,number:wn,date:wa,string:ka,unknown:en},Tu=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return Nu(e)&&Number.isInteger(+e)},Nu,function(e){return!Number.isNaN(Date.parse(e))}],Fu=["boolean","integer","number","date"];function Iu(e,t){if(!e||!e.length)return"unknown";for(var n,a,r,o=e.length,l=Tu.length,i=Tu.map((function(e,t){return t+1})),u=0,c=0;u<o;++u)for(a=t?e[u][t]:e[u],n=0;n<l;++n)if(i[n]&&(null!=(r=a)&&r===r)&&!Tu[n](a)&&(i[n]=0,++c===Tu.length))return"string";return Fu[i.reduce((function(e,t){return 0===e?t:e}),0)-1]}function Ru(e,t){return t.reduce((function(t,n){return t[n]=Iu(e,n),t}),{})}function zu(e){var t=function(t,n){var a={delimiter:e};return Lu(t,n?Yn(n,a):a)};return t.responseType="text",t}function Lu(e,t){return t.header&&(e=t.header.map(ma).join(t.delimiter)+"\n"+e),ja(t.delimiter).parse(e+"")}function Hu(e,t){var n,a=t&&t.property?Jt(t.property):en;return!gn(e)||(n=e,"function"===typeof Buffer&&Ln(Buffer.isBuffer)&&Buffer.isBuffer(n))?a(JSON.parse(e)):function(e,t){!pn(e)&&la(e)&&(e=B(e));return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(a(e),t)}Lu.responseType="text",Hu.responseType="json";var Uu={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function Wu(e,t){var n,a,r,o;return e=Hu(e,t),t&&t.feature?(n=Fa,r=t.feature):t&&t.mesh?(n=La,r=t.mesh,o=Uu[t.filter]):Xt("Missing TopoJSON feature or mesh parameter."),(a=(a=e.objects[r])?n(e,a,o):Xt("Invalid TopoJSON object: "+r))&&a.features||[a]}Wu.responseType="json";var qu={dsv:Lu,csv:zu(","),tsv:zu("\t"),json:Hu,topojson:Wu};function Gu(e,t){return arguments.length>1?(qu[e]=t,this):Jn(qu,e)?qu[e]:null}function Vu(e){var t=Gu(e);return t&&t.responseType||"text"}function $u(e,t,n,a){var r=Gu((t=t||{}).type||"json");return r||Xt("Unknown data format type: "+t.type),e=r(e,t),t.parse&&function(e,t,n,a){if(!e.length)return;var r=gu();n=n||r.timeParse,a=a||r.utcParse;var o,l,i,u,c,s,f=e.columns||Object.keys(e[0]);"auto"===t&&(t=Ru(e,f));var d=(f=Object.keys(t)).map((function(e){var r,o,l=t[e];if(l&&(l.startsWith("date:")||l.startsWith("utc:")))return("'"===(o=(r=l.split(/:(.+)?/,2))[1])[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1)),("utc"===r[0]?a:n)(o);if(!ju[l])throw Error("Illegal format pattern: "+e+":"+l);return ju[l]}));for(i=0,c=e.length,s=f.length;i<c;++i)for(o=e[i],u=0;u<s;++u)o[l=f[u]]=d[u](o[l])}(e,t.parse,n,a),Jn(e,"columns")&&delete e.columns,e}var Yu=function(e,t){return function(n){return{options:n||{},sanitize:_u,load:xu,fileAccess:!!t,file:Su(t),http:Au(e)}}}("undefined"!==typeof fetch&&fetch,null);function Qu(e){var t=e||en,n=[],a={};return n.add=function(e){var r=t(e);return a[r]||(a[r]=1,n.push(e)),n},n.remove=function(e){var r=t(e);if(a[r]){a[r]=0;var o=n.indexOf(e);o>=0&&n.splice(o,1)}return n},n}function Xu(e,t){return Ku.apply(this,arguments)}function Ku(){return Ku=Sa(_a().mark((function e(t,n){return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),Ku.apply(this,arguments)}var Ju=Symbol("vega_id"),Zu=1;function ec(e){return!(!e||!tc(e))}function tc(e){return e[Ju]}function nc(e,t){return e[Ju]=t,e}function ac(e){var t=e===Object(e)?e:{data:e};return tc(t)?t:nc(t,Zu++)}function rc(e){return oc(e,ac({}))}function oc(e,t){for(var n in e)t[n]=e[n];return t}function lc(e,t){return nc(t,tc(e))}function ic(e,t){return e?t?function(n,a){return e(n,a)||tc(t(n))-tc(t(a))}:function(t,n){return e(t,n)||tc(t)-tc(n)}:null}function uc(e){return e&&e.constructor===cc}function cc(){var e=[],t=[],n=[],a=[],r=[],o=null,l=!1;return{constructor:cc,insert:function(t){for(var n=Rn(t),a=n.length,r=0;r<a;++r)e.push(n[r]);return this},remove:function(e){for(var n=Ln(e)?a:t,r=Rn(e),o=r.length,l=0;l<o;++l)n.push(r[l]);return this},modify:function(e,t,a){var o={field:t,value:Vn(a)};return Ln(e)?(o.filter=e,r.push(o)):(o.tuple=e,n.push(o)),this},encode:function(e,t){return Ln(e)?r.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean:function(e){return o=e,this},reflow:function(){return l=!0,this},pulse:function(i,u){var c,s,f,d,p,g,h={},v={};for(c=0,s=u.length;c<s;++c)h[tc(u[c])]=1;for(c=0,s=t.length;c<s;++c)h[tc(p=t[c])]=-1;for(c=0,s=a.length;c<s;++c)d=a[c],u.forEach((function(e){d(e)&&(h[tc(e)]=-1)}));for(c=0,s=e.length;c<s;++c)g=tc(p=e[c]),h[g]?h[g]=1:i.add.push(ac(e[c]));for(c=0,s=u.length;c<s;++c)p=u[c],h[tc(p)]<0&&i.rem.push(p);function m(e,t,n){n?e[t]=n(e):i.encode=t,l||(v[tc(e)]=e)}for(c=0,s=n.length;c<s;++c)p=(f=n[c]).tuple,d=f.field,(g=h[tc(p)])>0&&(m(p,d,f.value),i.modifies(d));for(c=0,s=r.length;c<s;++c)f=r[c],d=f.filter,u.forEach((function(e){d(e)&&h[tc(e)]>0&&m(e,f.field,f.value)})),i.modifies(f.field);if(l)i.mod=t.length||a.length?u.filter((function(e){return h[tc(e)]>0})):u.slice();else for(g in v)i.mod.push(v[g]);return(o||null==o&&(t.length||a.length))&&i.clean(!0),i}}}var sc="_:mod:_";function fc(){Object.defineProperty(this,sc,{writable:!0,value:{}})}fc.prototype={set:function(e,t,n,a){var r=this,o=r[e],l=r[sc];return null!=t&&t>=0?(o[t]!==n||a)&&(o[t]=n,l[t+":"+e]=-1,l[e]=-1):(o!==n||a)&&(r[e]=n,l[e]=pn(n)?1+n.length:-1),r},modified:function(e,t){var n=this[sc];if(!arguments.length){for(var a in n)if(n[a])return!0;return!1}if(pn(e)){for(var r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear:function(){return this[sc]={},this}};var dc=0,pc=new fc;function gc(e,t,n,a){this.id=++dc,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,a)}function hc(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}gc.prototype={targets:function(){return this._targets||(this._targets=Qu(Zt))},set:function(e){return this.value!==e?(this.value=e,1):0},skip:hc(1),modified:hc(2),parameters:function(e,t,n){var a=this;t=!1!==t;var r,o,l,i,u=this._argval=this._argval||new fc,c=this._argops=this._argops||[],s=[],f=function(e,n,r){r instanceof gc?(r!==a&&(t&&r.targets().add(a),s.push(r)),c.push({op:r,name:e,index:n})):u.set(e,n,r)};for(r in e)if(o=e[r],"pulse"===r)Rn(o).forEach((function(e){e instanceof gc?e!==a&&(e.targets().add(a),s.push(e)):Xt("Pulse parameters must be operator instances.")})),this.source=o;else if(pn(o))for(u.set(r,-1,Array(l=o.length)),i=0;i<l;++i)f(r,i,o[i]);else f(r,-1,o);return this.marshall().clear(),n&&(c.initonly=!0),s},marshall:function(e){var t,n,a,r,o=this._argval||pc,l=this._argops;if(l){var i=l.length;for(n=0;n<i;++n)r=(a=(t=l[n]).op).modified()&&a.stamp===e,o.set(t.name,t.index,a.value,r);if(l.initonly){for(n=0;n<i;++n)(t=l[n]).op.targets().remove(this);this._argops=null,this._update=null}}return o},detach:function(){var e,t,n,a=this._argops;if(a)for(e=0,t=a.length;e<t;++e)(n=a[e].op)._targets&&n._targets.remove(this);this.pulse=null,this.source=null},evaluate:function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),a=t.call(this,n,e);if(n.clear(),a!==this.value)this.value=a;else if(!this.modified())return e.StopPropagation}},run:function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t}};var vc=0;function mc(e,t,n){this.id=++vc,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function yc(e,t,n){return new mc(e,t,n)}function bc(){return bc=Sa(_a().mark((function e(t,n){var a,r,o;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this,r=0,e.prev=2,e.next=5,a.loader().load(t,{context:"dataflow",response:Vu(n&&n.type)});case 5:o=e.sent;try{o=a.parse(o,n)}catch(l){r=-2,a.warn("Data ingestion failed",t,l)}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),r=-1,a.warn("Loading failed",t,e.t0);case 13:return e.abrupt("return",{data:o,status:r});case 14:case"end":return e.stop()}}),e,this,[[2,9]])}))),bc.apply(this,arguments)}function wc(){return wc=Sa(_a().mark((function e(t,n,a){var r,o,l;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=(r=this)._pending||kc(r)).requests+=1,e.next=4,r.request(n,a);case 4:return l=e.sent,r.pulse(t,r.changeset().remove(an).insert(l.data||[])),o.done(),e.abrupt("return",l);case 8:case"end":return e.stop()}}),e,this)}))),wc.apply(this,arguments)}function kc(e){var t,n=new Promise((function(e){return t=e}));return n.requests=0,n.done=function(){0===--n.requests&&(e._pending=null,t(e))},e._pending=n}mc.prototype={_filter:an,_apply:en,targets:function(){return this._targets||(this._targets=Qu(Zt))},consume:function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive:function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,a=n?n.length:0,r=0;r<a;++r)n[r].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter:function(e){var t=yc(e);return this.targets().add(t),t},apply:function(e){var t=yc(null,e);return this.targets().add(t),t},merge:function(){var e=yc();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle:function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},debounce:function(e){var t=yc();return this.targets().add(yc(null,null,$n(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between:function(e,t){var n=!1;return e.targets().add(yc(null,null,(function(){return n=!0}))),t.targets().add(yc(null,null,(function(){return n=!1}))),this.filter((function(){return n}))},detach:function(){this._filter=an,this._targets=null}};var Cc={skip:!0};function xc(e,t,n,a,r,o){var l,i,u=Yn({},o,Cc);Ln(n)||(n=Vn(n)),void 0===a?l=function(t){return e.touch(n(t))}:Ln(a)?(i=new gc(null,a,r,!1),l=function(t){i.evaluate(t);var a=n(t),r=i.value;uc(r)?e.pulse(a,r,o):e.update(a,r,u)}):l=function(t){return e.update(n(t),a,u)},t.apply(l)}function Pc(e,t,n,a,r,o){if(void 0===a)t.targets().add(n);else{var l=o||{},i=new gc(null,function(e,t){return t=Ln(t)?t:Vn(t),e?function(n,a){var r=t(n,a);return e.skip()||(e.skip(r!==this.value).value=r),r}:t}(n,a),r,!1);i.modified(l.force),i.rank=t.rank,t.targets().add(i),n&&(i.skip(!0),i.value=n.value,i.targets().add(n),e.connect(n,[i]))}}var _c={};function Ec(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Sc(e,t){var n=[];return Pa(e,t,(function(e){return n.push(e)})),n}function Bc(e,t){var n={};return e.visit(t,(function(e){n[tc(e)]=1})),function(e){return n[tc(e)]?null:e}}function Oc(e,t){return e?function(n,a){return e(n,a)&&t(n,a)}:t}function Ac(e,t,n,a){var r=this,o=n.length,l=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=a||null,this.pulses=n;for(var i=0;i<o;++i){var u=n[i];if(u.stamp===t){if(u.fields){var c=r.fields||(r.fields={});for(var s in u.fields)c[s]=1}u.changed(r.ADD)&&(l|=r.ADD),u.changed(r.REM)&&(l|=r.REM),u.changed(r.MOD)&&(l|=r.MOD)}}this.changes=l}function Dc(){return Dc=Sa(_a().mark((function e(t,n,a){var r,o,l,i,u,c,s,f,d;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=[],!(r=this)._pulse){e.next=3;break}return e.abrupt("return",Nc(r));case 3:if(!r._pending){e.next=6;break}return e.next=6,r._pending;case 6:if(!n){e.next=9;break}return e.next=9,Xu(r,n);case 9:if(r._touched.length){e.next=12;break}return r.debug("Dataflow invoked, but nothing to do."),e.abrupt("return",r);case 12:l=++r._clock,r._pulse=new Ec(r,l,t),r._touched.forEach((function(e){return r._enqueue(e,!0)})),r._touched=Qu(Zt),i=0,e.prev=17;case 18:if(!(r._heap.size()>0)){e.next=35;break}if((u=r._heap.pop()).rank===u.qrank){e.next=23;break}return r._enqueue(u,!0),e.abrupt("continue",18);case 23:if(!(c=u.run(r._getPulse(u,t))).then){e.next=30;break}return e.next=27,c;case 27:c=e.sent,e.next=31;break;case 30:c.async&&(o.push(c.async),c=_c);case 31:c!==_c&&u._targets&&u._targets.forEach((function(e){return r._enqueue(e)})),++i,e.next=18;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(17),r._heap.clear(),s=e.t0;case 41:if(r._input={},r._pulse=null,r.debug("Pulse ".concat(l,": ").concat(i," operators")),s&&(r._postrun=[],r.error(s)),!r._postrun.length){e.next=55;break}f=r._postrun.sort((function(e,t){return t.priority-e.priority})),r._postrun=[],d=0;case 49:if(!(d<f.length)){e.next=55;break}return e.next=52,Xu(r,f[d].callback);case 52:++d,e.next=49;break;case 55:if(!a){e.next=58;break}return e.next=58,Xu(r,a);case 58:return o.length&&Promise.all(o).then((function(e){return r.runAsync(null,(function(){e.forEach((function(e){try{e(r)}catch(t){r.error(t)}}))}))})),e.abrupt("return",r);case 60:case"end":return e.stop()}}),e,this,[[17,37]])}))),Dc.apply(this,arguments)}function Mc(){return Mc=Sa(_a().mark((function e(t,n,a){var r,o=this;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return r=function(){return o._running=null},(this._running=this.evaluate(t,n,a)).then(r,r),e.abrupt("return",this._running);case 8:case"end":return e.stop()}}),e,this)}))),Mc.apply(this,arguments)}function Nc(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}Ec.prototype={StopPropagation:_c,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork:function(e){return new Ec(this.dataflow).init(this,e)},clone:function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll:function(){var e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||((e=new Ec(this.dataflow).init(this)).add=e.source,e.rem=[]),e},init:function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter:function(e){this.dataflow.runAfter(e)},changed:function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow:function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,Bc(this,1))),this},clean:function(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies:function(e){var t=this.fields||(this.fields={});return pn(e)?e.forEach((function(e){return t[e]=!0})):t[e]=!0,this},modified:function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?pn(e)?e.some((function(e){return n[e]})):n[e]:!!n)},filter:function(e,t){var n=this;return 1&e&&(n.addF=Oc(n.addF,t)),2&e&&(n.remF=Oc(n.remF,t)),4&e&&(n.modF=Oc(n.modF,t)),16&e&&(n.srcF=Oc(n.srcF,t)),n},materialize:function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=Sc(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=Sc(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=Sc(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit:function(e,t){var n=this,a=t;if(16&e)return Pa(n.source,n.srcF,a),n;1&e&&Pa(n.add,n.addF,a),2&e&&Pa(n.rem,n.remF,a),4&e&&Pa(n.mod,n.modF,a);var r=n.source;if(8&e&&r){var o=n.add.length+n.mod.length;o===r.length||Pa(r,o?Bc(n,5):n.srcF,a)}return n}},na(Ac,Ec,{fork:function(e){var t=new Ec(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},changed:function(e){return this.changes&e},modified:function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?pn(e)?e.some((function(e){return n[e]})):n[e]:0},filter:function(){Xt("MultiPulse does not support filtering.")},materialize:function(){Xt("MultiPulse does not support materialization.")},visit:function(e,t){var n=this,a=n.pulses,r=a.length,o=0;if(e&n.SOURCE)for(;o<r;++o)a[o].visit(e,t);else for(;o<r;++o)a[o].stamp===n.stamp&&a[o].visit(e,t);return n}});var jc={skip:!1,force:!1};function Tc(e){var t=[];return{clear:function(){return t=[]},size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),Fc(t,0,t.length-1,e)},pop:function(){var n,a=t.pop();return t.length?(n=t[0],t[0]=a,function(e,t,n){var a,r=t,o=e.length,l=e[t],i=1+(t<<1);for(;i<o;)(a=i+1)<o&&n(e[i],e[a])>=0&&(i=a),e[t]=e[i],i=1+((t=i)<<1);e[t]=l,Fc(e,r,t,n)}(t,0,e)):n=a,n}}}function Fc(e,t,n,a){for(var r,o,l=e[n];n>t&&a(l,r=e[o=n-1>>1])<0;)e[n]=r,n=o;return e[n]=l}function Ic(){this.logger(dn()),this.logLevel(un),this._clock=0,this._rank=0,this._locale=mu();try{this._loader=Yu()}catch(e){}this._touched=Qu(Zt),this._input={},this._pulse=null,this._heap=Tc((function(e,t){return e.qrank-t.qrank})),this._postrun=[]}function Rc(e){return function(){return this._log[e].apply(this,arguments)}}function zc(e,t){gc.call(this,e,null,t)}Ic.prototype={stamp:function(){return this._clock},loader:function(e){return arguments.length?(this._loader=e,this):this._loader},locale:function(e){return arguments.length?(this._locale=e,this):this._locale},logger:function(e){return arguments.length?(this._log=e,this):this._log},error:Rc("error"),warn:Rc("warn"),info:Rc("info"),debug:Rc("debug"),logLevel:Rc("level"),cleanThreshold:1e4,add:function(e,t,n,a){var r,o=1;return e instanceof gc?r=e:e&&e.prototype instanceof gc?r=new e:Ln(e)?r=new gc(null,e):(o=0,r=new gc(e,t)),this.rank(r),o&&(a=n,n=t),n&&this.connect(r,r.parameters(n,a)),this.touch(r),r},connect:function(e,t){for(var n=e.rank,a=t.length,r=0;r<a;++r)if(n<t[r].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){for(var t,n,a,r=[e];r.length;)if(this.rank(t=r.pop()),n=t._targets)for(a=n.length;--a>=0;)r.push(t=n[a]),t===e&&Xt("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||jc);var a=new Ec(this,this._clock+(this._pulse?0:1)),r=e.pulse&&e.pulse.source||[];return a.target=e,this._input[e.id]=t.pulse(a,r),this},touch:function(e,t){var n=t||jc;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){var a=n||jc;return(e.set(t)||a.force)&&this.touch(e,a),this},changeset:cc,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){var n=this.locale();return $u(e,t,n.timeParse,n.utcParse)},preload:function(e,t,n){return wc.apply(this,arguments)},request:function(e,t){return bc.apply(this,arguments)},events:function(e,t,n,a){for(var r,o=this,l=yc(n,a),i=function(e){e.dataflow=o;try{l.receive(e)}catch(Xt){o.error(Xt)}finally{o.run()}},u=(r="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):Rn(e)).length,c=0;c<u;++c)r[c].addEventListener(t,i);return l},on:function(e,t,n,a,r){return(e instanceof gc?Pc:xc)(this,e,t,n,a,r),this},evaluate:function(e,t,n){return Dc.apply(this,arguments)},run:function(e,t,n){return this._pulse?Nc(this):(this.evaluate(e,t,n),this)},runAsync:function(e,t,n){return Mc.apply(this,arguments)},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(a){this.error(a)}},_enqueue:function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){var n=e.source,a=this._clock;return n&&pn(n)?new Ac(this,a,n.map((function(e){return e.pulse})),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==_c&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)}},na(zc,gc,{run:function(e){var t,n=this;return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then((function(e){return n.pulse=e})):t!==e.StopPropagation&&(this.pulse=t),t)},evaluate:function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform:function(){}});var Lc={};function Hc(e){var t=Uc(e);return t&&t.Definition||null}function Uc(e){return e=e&&e.toLowerCase(),Jn(Lc,e)?Lc[e]:null}function Wc(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}function qc(e,t){var n;if(void 0===t){var a,r=Wc(e);try{for(r.s();!(a=r.n()).done;){var o=a.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(s){r.e(s)}finally{r.f()}}else{var l,i=-1,u=Wc(e);try{for(u.s();!(l=u.n()).done;){var c=l.value;null!=(c=t(c,++i,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(s){u.e(s)}finally{u.f()}}return n}function Gc(e,t){var n;if(void 0===t){var a,r=Wc(e);try{for(r.s();!(a=r.n()).done;){var o=a.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(s){r.e(s)}finally{r.f()}}else{var l,i=-1,u=Wc(e);try{for(u.s();!(l=u.n()).done;){var c=l.value;null!=(c=t(c,++i,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(s){u.e(s)}finally{u.f()}}return n}function Vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;if(e===yo)return $c;if("function"!==typeof e)throw new TypeError("compare is not a function");return function(t,n){var a=e(t,n);return a||0===a?a:(0===e(n,n))-(0===e(t,t))}}function $c(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Yc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,r=arguments.length>4?arguments[4]:void 0;for(r=void 0===r?$c:Vc(r);a>n;){if(a-n>600){var o=a-n+1,l=t-n+1,i=Math.log(o),u=.5*Math.exp(2*i/3),c=.5*Math.sqrt(i*u*(o-u)/o)*(l-o/2<0?-1:1),s=Math.max(n,Math.floor(t-l*u/o+c)),f=Math.min(a,Math.floor(t+(o-l)*u/o+c));Yc(e,t,s,f,r)}var d=e[t],p=n,g=a;for(Qc(e,n,t),r(e[a],d)>0&&Qc(e,n,a);p<g;){for(Qc(e,p,g),++p,--g;r(e[p],d)<0;)++p;for(;r(e[g],d)>0;)--g}0===r(e[n],d)?Qc(e,n,g):Qc(e,++g,a),g<=t&&(n=g+1),t<=g&&(a=g-1)}return e}function Qc(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}var Xc=_a().mark(Jc);function Kc(e){return null===e?NaN:+e}function Jc(e,t){var n,a,r,o,l,i,u;return _a().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==t){c.next=21;break}n=Wc(e),c.prev=2,n.s();case 4:if((a=n.n()).done){c.next=11;break}if(!(null!=(r=a.value)&&(r=+r)>=r)){c.next=9;break}return c.next=9,r;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=40;break;case 21:o=-1,l=Wc(e),c.prev=23,l.s();case 25:if((i=l.n()).done){c.next=32;break}if(u=i.value,!(null!=(u=t(u,++o,e))&&(u=+u)>=u)){c.next=30;break}return c.next=30,u;case 30:c.next=25;break;case 32:c.next=37;break;case 34:c.prev=34,c.t1=c.catch(23),l.e(c.t1);case 37:return c.prev=37,l.f(),c.finish(37);case 40:case"end":return c.stop()}}),Xc,null,[[2,13,16,19],[23,34,37,40]])}function Zc(e,t,n){if(a=(e=Float64Array.from(Jc(e,n))).length){if((t=+t)<=0||a<2)return Gc(e);if(t>=1)return qc(e);var a,r=(a-1)*t,o=Math.floor(r),l=qc(Yc(e,o).subarray(0,o+1));return l+(Gc(e.subarray(o+1))-l)*(r-o)}}function es(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kc;if(a=e.length){if((t=+t)<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,r=(a-1)*t,o=Math.floor(r),l=+n(e[o],o,e),i=+n(e[o+1],o+1,e);return l+(i-l)*(r-o)}}function ts(e,t){var n=function(e,t){var n,a=0,r=0,o=0;if(void 0===t){var l,i=Wc(e);try{for(i.s();!(l=i.n()).done;){var u=l.value;null!=u&&(u=+u)>=u&&(o+=(n=u-r)*(u-(r+=n/++a)))}}catch(p){i.e(p)}finally{i.f()}}else{var c,s=-1,f=Wc(e);try{for(f.s();!(c=f.n()).done;){var d=c.value;null!=(d=t(d,++s,e))&&(d=+d)>=d&&(o+=(n=d-r)*(d-(r+=n/++a)))}}catch(p){f.e(p)}finally{f.f()}}if(a>1)return o/(a-1)}(e,t);return n?Math.sqrt(n):n}function ns(e,t){return Zc(e,.5,t)}var as=_a().mark(rs);function rs(e,t){var n,a,r,o,l,i,u;return _a().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(null!=t){c.next=21;break}n=Wc(e),c.prev=2,n.s();case 4:if((a=n.n()).done){c.next=11;break}if(!(null!=(r=a.value)&&""!==r&&(r=+r)>=r)){c.next=9;break}return c.next=9,r;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=41;break;case 21:o=-1,l=Wc(e),c.prev=23,l.s();case 25:if((i=l.n()).done){c.next=33;break}if(u=i.value,!(null!=(u=t(u,++o,e))&&""!==u&&(u=+u)>=u)){c.next=31;break}return c.next=31,u;case 31:c.next=25;break;case 33:c.next=38;break;case 35:c.prev=35,c.t1=c.catch(23),l.e(c.t1);case 38:return c.prev=38,l.f(),c.finish(38);case 41:case"end":return c.stop()}}),as,null,[[2,13,16,19],[23,35,38,41]])}function os(e,t,n){var a=Float64Array.from(rs(e,n));return a.sort(yo),t.map((function(e){return es(a,e)}))}function ls(e,t){return os(e,[.25,.5,.75],t)}function is(e,t){var n=e.length,a=ts(e,t),r=ls(e,t),o=(r[2]-r[0])/1.34;return 1.06*(Math.min(a,o)||a||Math.abs(r[0])||1)*Math.pow(n,-.2)}function us(e){var t,n,a,r,o,l,i=e.maxbins||20,u=e.base||10,c=Math.log(u),s=e.divide||[5,2],f=e.extent[0],d=e.extent[1],p=e.span||d-f||Math.abs(f)||1;if(e.step)t=e.step;else if(e.steps){for(r=p/i,o=0,l=e.steps.length;o<l&&e.steps[o]<r;++o);t=e.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(i)/c),a=e.minstep||0,t=Math.max(a,Math.pow(u,Math.round(Math.log(p)/c)-n));Math.ceil(p/t)>i;)t*=u;for(o=0,l=s.length;o<l;++o)(r=t/s[o])>=a&&p/r<=i&&(t=r)}var g=(r=Math.log(t))>=0?0:1+~~(-r/c),h=Math.pow(u,-g-1);return(e.nice||void 0===e.nice)&&(f=f<(r=Math.floor(f/t+h)*t)?r-t:r,d=Math.ceil(d/t)*t),{start:f,stop:d===f?f+t:d,step:t}}var cs=Math.random;function ss(e){cs=e}function fs(e,t,n,a){if(!e.length)return[void 0,void 0];var r,o,l,i,u=Float64Array.from(rs(e,a)),c=u.length,s=t;for(l=0,i=Array(s);l<s;++l){for(r=0,o=0;o<c;++o)r+=u[~~(cs()*c)];i[l]=r/c}return i.sort(yo),[Zc(i,n/2),Zc(i,1-n/2)]}function ds(e,t,n,a){a=a||function(e){return e};for(var r,o=e.length,l=new Float64Array(o),i=0,u=1,c=a(e[0]),s=c,f=c+t;u<o;++u){if((r=a(e[u]))>=f){for(s=(c+s)/2;i<u;++i)l[i]=s;f=r+t,c=r}s=r}for(s=(c+s)/2;i<u;++i)l[i]=s;return n?function(e,t){var n,a,r=e.length,o=0,l=1;for(;e[o]===e[l];)++l;for(;l<r;){for(n=l+1;e[l]===e[n];)++n;if(e[l]-e[l-1]<t){for(a=l+(o+n-l-l>>1);a<l;)e[a++]=e[l];for(;a>l;)e[a--]=e[o]}o=l,l=n}return e}(l,t+t/4):l}function ps(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function gs(e,t){var n,a,r;null==t&&(t=e,e=0);var o={min:function(e){return arguments.length?(r=a-(n=e||0),o):n},max:function(e){return arguments.length?(r=(a=e||0)-n,o):a},sample:function(){return n+Math.floor(r*cs())},pdf:function(e){return e===Math.floor(e)&&e>=n&&e<a?1/r:0},cdf:function(e){var t=Math.floor(e);return t<n?0:t>=a?1:(t-n+1)/r},icdf:function(e){return e>=0&&e<=1?n-1+Math.floor(e*r):NaN}};return o.min(e).max(t)}var hs=Math.sqrt(2*Math.PI),vs=Math.SQRT2,ms=NaN;function ys(e,t){e=e||0,t=null==t?1:t;var n,a,r=0,o=0;if(ms===ms)r=ms,ms=NaN;else{do{n=(r=2*cs()-1)*r+(o=2*cs()-1)*o}while(0===n||n>1);r*=a=Math.sqrt(-2*Math.log(n)/n),ms=o*a}return e+r*t}function bs(e,t,n){var a=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*a*a)/(n*hs)}function ws(e,t,n){var a,r=(e-(t=t||0))/(n=null==n?1:n),o=Math.abs(r);if(o>37)a=0;else{var l=Math.exp(-o*o/2);o<7.07106781186547?(a=l*((((((.0352624965998911*o+.700383064443688)*o+6.37396220353165)*o+33.912866078383)*o+112.079291497871)*o+221.213596169931)*o+220.206867912376),a/=((((((.0883883476483184*o+1.75566716318264)*o+16.064177579207)*o+86.7807322029461)*o+296.564248779674)*o+637.333633378831)*o+793.826512519948)*o+440.413735824752):a=l/(o+1/(o+2/(o+3/(o+4/(o+.65)))))/2.506628274631}return r>0?1-a:a}function ks(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*vs*function(e){var t,n=-Math.log((1-e)*(1+e));t=n<6.25?1.6536545626831027+(t=.24015818242558962+(t=(t=(t=.00018673420803405714+(t=(t=(t=4.2347877827932404e-7+(t=(t=(t=1.0512122733215323e-9+(t=(t=(t=26335093153082323e-28+(t=(t=(t=6637638134358324e-30+(t=20972767875968562e-33+(t=(t=11157877678025181e-33+(t=128584807152564e-32+(t=(t=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?3.0838856104922208+(t=1.0052589676941592+(t=.005370914553590064+(t=(t=.002491442096107851+(t=(t=.0009532893797373805+(t=(t=24031110387097894e-21+(t=6828485145957318e-20+(t=(t=12475304481671779e-21+(t=29234449089955446e-22+(t=(t=15027403968909828e-22+(t=1.8239629214389228e-8+(t=(t=9.075656193888539e-8+(t=2.2137376921775787e-9)*(n=Math.sqrt(n)-3.25))*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n:Number.isFinite(n)?4.849906401408584+(t=1.0103004648645344+(t=(t=(t=7599527703001776e-20+(t=(t=4526062597223154e-21+(t=(t=2.2900482228026655e-7+(t=(t=2.914795345090108e-8+(t=(t=7.61570120807834e-9+(t=(t=1.5076572693500548e-9+(t=(t=-27109920616438573e-27)*(n=Math.sqrt(n)-5)-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n:1/0;return t*e}(2*e-1)}function Cs(e,t){var n,a,r={mean:function(e){return arguments.length?(n=e||0,r):n},stdev:function(e){return arguments.length?(a=null==e?1:e,r):a},sample:function(){return ys(n,a)},pdf:function(e){return bs(e,n,a)},cdf:function(e){return ws(e,n,a)},icdf:function(e){return ks(e,n,a)}};return r.mean(e).stdev(t)}function xs(e,t){var n=Cs(),a=0,r={data:function(n){return arguments.length?(e=n,a=n?n.length:0,r.bandwidth(t)):e},bandwidth:function(n){return arguments.length?(!(t=n)&&e&&(t=is(e)),r):t},sample:function(){return e[~~(cs()*a)]+t*n.sample()},pdf:function(r){for(var o=0,l=0;l<a;++l)o+=n.pdf((r-e[l])/t);return o/t/a},cdf:function(r){for(var o=0,l=0;l<a;++l)o+=n.cdf((r-e[l])/t);return o/a},icdf:function(){throw Error("KDE icdf not supported.")}};return r.data(e)}function Ps(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+ys()*t)}function _s(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;var a=(Math.log(e)-t)/n;return Math.exp(-.5*a*a)/(n*hs*e)}function Es(e,t,n){return ws(Math.log(e),t,n)}function Ss(e,t,n){return Math.exp(ks(e,t,n))}function Bs(e,t){var n,a,r={mean:function(e){return arguments.length?(n=e||0,r):n},stdev:function(e){return arguments.length?(a=null==e?1:e,r):a},sample:function(){return Ps(n,a)},pdf:function(e){return _s(e,n,a)},cdf:function(e){return Es(e,n,a)},icdf:function(e){return Ss(e,n,a)}};return r.mean(e).stdev(t)}function Os(e,t){var n,a=0;function r(e){var t,n=[],r=0;for(t=0;t<a;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<a;++t)n[t]/=r;return n}var o={weights:function(e){return arguments.length?(n=r(t=e||[]),o):t},distributions:function(n){return arguments.length?(n?(a=n.length,e=n):(a=0,e=[]),o.weights(t)):e},sample:function(){for(var t=cs(),r=e[a-1],o=n[0],l=0;l<a-1;o+=n[++l])if(t<o){r=e[l];break}return r.sample()},pdf:function(t){for(var r=0,o=0;o<a;++o)r+=n[o]*e[o].pdf(t);return r},cdf:function(t){for(var r=0,o=0;o<a;++o)r+=n[o]*e[o].cdf(t);return r},icdf:function(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function As(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*cs()}function Ds(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function Ms(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Ns(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function js(e,t){var n,a,r={min:function(e){return arguments.length?(n=e||0,r):n},max:function(e){return arguments.length?(a=null==e?1:e,r):a},sample:function(){return As(n,a)},pdf:function(e){return Ds(e,n,a)},cdf:function(e){return Ms(e,n,a)},icdf:function(e){return Ns(e,n,a)}};return null==t&&(t=null==e?1:e,e=0),r.min(e).max(t)}function Ts(e,t,n,a){var r=a-e*e,o=Math.abs(r)<1e-24?0:(n-e*t)/r;return[t-o*e,o]}function Fs(e,t,n,a){e=e.filter((function(e){var a=t(e),r=n(e);return null!=a&&(a=+a)>=a&&null!=r&&(r=+r)>=r})),a&&e.sort((function(e,n){return t(e)-t(n)}));var r,o,l,i,u=e.length,c=new Float64Array(u),s=new Float64Array(u),f=0,d=0,p=0,g=Wc(e);try{for(g.s();!(i=g.n()).done;)l=i.value,c[f]=r=+t(l),s[f]=o=+n(l),d+=(r-d)/++f,p+=(o-p)/f}catch(h){g.e(h)}finally{g.f()}for(f=0;f<u;++f)c[f]-=d,s[f]-=p;return[c,s,d,p]}function Is(e,t,n,a){var r,o,l,i=-1,u=Wc(e);try{for(u.s();!(l=u.n()).done;){var c=l.value;r=t(c),o=n(c),null!=r&&(r=+r)>=r&&null!=o&&(o=+o)>=o&&a(r,o,++i)}}catch(s){u.e(s)}finally{u.f()}}function Rs(e,t,n,a,r){var o=0,l=0;return Is(e,t,n,(function(e,t){var n=t-r(e),i=t-a;o+=n*n,l+=i*i})),1-o/l}function zs(e,t,n){var a=0,r=0,o=0,l=0,i=0;Is(e,t,n,(function(e,t){++i,a+=(e-a)/i,r+=(t-r)/i,o+=(e*t-o)/i,l+=(e*e-l)/i}));var u=Ts(a,r,o,l),c=function(e){return u[0]+u[1]*e};return{coef:u,predict:c,rSquared:Rs(e,t,n,r,c)}}function Ls(e,t,n){var a=0,r=0,o=0,l=0,i=0;Is(e,t,n,(function(e,t){++i,e=Math.log(e),a+=(e-a)/i,r+=(t-r)/i,o+=(e*t-o)/i,l+=(e*e-l)/i}));var u=Ts(a,r,o,l),c=function(e){return u[0]+u[1]*Math.log(e)};return{coef:u,predict:c,rSquared:Rs(e,t,n,r,c)}}function Hs(e,t,n){var a,r,o,l=E(Fs(e,t,n),4),i=l[0],u=(l[1],l[2]),c=l[3],s=0,f=0,d=0,p=0,g=0;Is(e,t,n,(function(e,t){a=i[g++],r=Math.log(t),s+=(t*r-s)/g,f+=((o=a*t)-f)/g,d+=(o*r-d)/g,p+=(a*o-p)/g}));var h=E(Ts(f/c,s/c,d/c,p/c),2),v=h[0],m=h[1],y=function(e){return Math.exp(v+m*(e-u))};return{coef:[Math.exp(v-m*u),m],predict:y,rSquared:Rs(e,t,n,c,y)}}function Us(e,t,n){var a=0,r=0,o=0,l=0,i=0,u=0;Is(e,t,n,(function(e,t){var n=Math.log(e),c=Math.log(t);++u,a+=(n-a)/u,r+=(c-r)/u,o+=(n*c-o)/u,l+=(n*n-l)/u,i+=(t-i)/u}));var c=Ts(a,r,o,l),s=function(e){return c[0]*Math.pow(e,c[1])};return c[0]=Math.exp(c[0]),{coef:c,predict:s,rSquared:Rs(e,t,n,i,s)}}function Ws(e,t,n){var a,r,o,l,i=E(Fs(e,t,n),4),u=i[0],c=i[1],s=i[2],f=i[3],d=u.length,p=0,g=0,h=0,v=0,m=0;for(a=0;a<d;)r=u[a],o=c[a++],p+=((l=r*r)-p)/a,g+=(l*r-g)/a,h+=(l*l-h)/a,v+=(r*o-v)/a,m+=(l*o-m)/a;var y=h-p*p,b=p*y-g*g,w=(m*p-v*g)/b,k=(v*y-m*g)/b,C=-w*p,x=function(e){return w*(e-=s)*e+k*e+C+f};return{coef:[C-k*s+w*s*s+f,k-2*w*s,w],predict:x,rSquared:Rs(e,t,n,f,x)}}function qs(e,t,n,a){if(1===a)return zs(e,t,n);if(2===a)return Ws(e,t,n);var r,o,l,i,u,c=E(Fs(e,t,n),4),s=c[0],f=c[1],d=c[2],p=c[3],g=s.length,h=[],v=[],m=a+1;for(r=0;r<m;++r){for(l=0,i=0;l<g;++l)i+=Math.pow(s[l],r)*f[l];for(h.push(i),u=new Float64Array(m),o=0;o<m;++o){for(l=0,i=0;l<g;++l)i+=Math.pow(s[l],r+o);u[o]=i}v.push(u)}v.push(h);var y=function(e){var t,n,a,r,o,l=e.length-1,i=[];for(t=0;t<l;++t){for(r=t,n=t+1;n<l;++n)Math.abs(e[t][n])>Math.abs(e[t][r])&&(r=n);for(a=t;a<l+1;++a)o=e[a][t],e[a][t]=e[a][r],e[a][r]=o;for(n=t+1;n<l;++n)for(a=l;a>=t;a--)e[a][n]-=e[a][t]*e[t][n]/e[t][t]}for(n=l-1;n>=0;--n){for(o=0,a=n+1;a<l;++a)o+=e[a][n]*i[a];i[n]=(e[l][n]-o)/e[n][n]}return i}(v),b=function(e){e-=d;var t=p+y[0]+y[1]*e+y[2]*e*e;for(r=3;r<m;++r)t+=y[r]*Math.pow(e,r);return t};return{coef:Gs(m,y,-d,p),predict:b,rSquared:Rs(e,t,n,p,b)}}function Gs(e,t,n,a){var r,o,l,i,u=Array(e);for(r=0;r<e;++r)u[r]=0;for(r=e-1;r>=0;--r)for(l=t[r],i=1,u[r]+=l,o=1;o<=r;++o)i*=(r+1-o)/o,u[r-o]+=l*Math.pow(n,o)*i;return u[0]+=a,u}function Vs(e,t,n,a){for(var r=E(Fs(e,t,n,!0),4),o=r[0],l=r[1],i=r[2],u=r[3],c=o.length,s=Math.max(2,~~(a*c)),f=new Float64Array(c),d=new Float64Array(c),p=new Float64Array(c).fill(1),g=-1;++g<=2;){for(var h=[0,s-1],v=0;v<c;++v){for(var m=o[v],y=h[0],b=h[1],w=m-o[y]>o[b]-m?y:b,k=0,C=0,x=0,P=0,_=0,S=1/Math.abs(o[w]-m||1),B=y;B<=b;++B){var O=o[B],A=l[B],D=$s(Math.abs(m-O)*S)*p[B],M=O*D;k+=D,C+=M,x+=A*D,P+=A*M,_+=O*M}var N=E(Ts(C/k,x/k,P/k,_/k),2),j=N[0],T=N[1];f[v]=j+T*m,d[v]=Math.abs(l[v]-f[v]),Ys(o,v+1,h)}if(2===g)break;var F=ns(d);if(Math.abs(F)<1e-12)break;for(var I,R,z=0;z<c;++z)I=d[z]/(6*F),p[z]=I>=1?1e-12:(R=1-I*I)*R}return function(e,t,n,a){for(var r,o=e.length,l=[],i=0,u=0,c=[];i<o;++i)r=e[i]+n,c[0]===r?c[1]+=(t[i]-c[1])/++u:(u=0,c[1]+=a,c=[r,t[i]],l.push(c));return c[1]+=a,l}(o,f,i,u)}function $s(e){return(e=1-e*e*e)*e*e}function Ys(e,t,n){var a=e[t],r=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>r&&e[o]-a<=a-e[r];)n[0]=++r,n[1]=o,++o}var Qs=.5*Math.PI/180;function Xs(e,t,n,a){n=n||25,a=Math.max(n,a||200);var r=function(t){return[t,e(t)]},o=t[0],l=t[1],i=l-o,u=i/a,c=[r(o)],s=[];if(n===a){for(var f=1;f<a;++f)c.push(r(o+f/n*i));return c.push(r(l)),c}s.push(r(l));for(var d=n;--d>0;)s.push(r(o+d/n*i));for(var p=c[0],g=s[s.length-1],h=1/i,v=function(e,t){for(var n=e,a=e,r=t.length,o=0;o<r;++o){var l=t[o][1];l<n&&(n=l),l>a&&(a=l)}return 1/(a-n)}(p[1],s);g;){var m=r((p[0]+g[0])/2);m[0]-p[0]>=u&&Ks(p,m,g,h,v)>Qs?s.push(m):(p=g,c.push(g),s.pop()),g=s[s.length-1]}return c}function Ks(e,t,n,a,r){var o=Math.atan2(r*(n[1]-e[1]),a*(n[0]-e[0])),l=Math.atan2(r*(t[1]-e[1]),a*(t[0]-e[0]));return Math.abs(o-l)}function Js(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var a=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++a<r;)o[a]=e+a*n;return o}function Zs(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,a=1,r=String(t[0](e));a<n;++a)r+="|"+t[a](e);return r}):function(){return""};var t}function ef(e,t,n){return n||e+(t?"_"+t:"")}var tf=function(){},nf={init:tf,add:tf,rem:tf,idx:0},af={values:{init:function(e){return e.cell.store=!0},value:function(e){return e.cell.data.values()},idx:-1},count:{value:function(e){return e.cell.num}},__count__:{value:function(e){return e.missing+e.valid}},missing:{value:function(e){return e.missing}},valid:{value:function(e){return e.valid}},sum:{init:function(e){return e.sum=0},value:function(e){return e.sum},add:function(e,t){return e.sum+=+t},rem:function(e,t){return e.sum-=t}},product:{init:function(e){return e.product=1},value:function(e){return e.valid?e.product:void 0},add:function(e,t){return e.product*=t},rem:function(e,t){return e.product/=t}},mean:{init:function(e){return e.mean=0},value:function(e){return e.valid?e.mean:void 0},add:function(e,t){return e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:function(e,t){return e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}},average:{value:function(e){return e.valid?e.mean:void 0},req:["mean"],idx:1},variance:{init:function(e){return e.dev=0},value:function(e){return e.valid>1?e.dev/(e.valid-1):void 0},add:function(e,t){return e.dev+=e.mean_d*(t-e.mean)},rem:function(e,t){return e.dev-=e.mean_d*(t-e.mean)},req:["mean"],idx:1},variancep:{value:function(e){return e.valid>1?e.dev/e.valid:void 0},req:["variance"],idx:2},stdev:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(e){return e.valid>1?Math.sqrt(e.dev/e.valid):void 0},req:["variance"],idx:2},stderr:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(e){return e.cell.data.distinct(e.get)},req:["values"],idx:3},ci0:{value:function(e){return e.cell.data.ci0(e.get)},req:["values"],idx:3},ci1:{value:function(e){return e.cell.data.ci1(e.get)},req:["values"],idx:3},median:{value:function(e){return e.cell.data.q2(e.get)},req:["values"],idx:3},q1:{value:function(e){return e.cell.data.q1(e.get)},req:["values"],idx:3},q3:{value:function(e){return e.cell.data.q3(e.get)},req:["values"],idx:3},min:{init:function(e){return e.min=void 0},value:function(e){return e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min},add:function(e,t){(t<e.min||void 0===e.min)&&(e.min=t)},rem:function(e,t){t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:function(e){return e.max=void 0},value:function(e){return e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max},add:function(e,t){(t>e.max||void 0===e.max)&&(e.max=t)},rem:function(e,t){t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:function(e){return e.argmin=void 0},value:function(e){return e.argmin||e.cell.data.argmin(e.get)},add:function(e,t,n){t<e.min&&(e.argmin=n)},rem:function(e,t){t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(e){return e.argmax=void 0},value:function(e){return e.argmax||e.cell.data.argmax(e.get)},add:function(e,t,n){t>e.max&&(e.argmax=n)},rem:function(e,t){t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},rf=Object.keys(af);function of(e,t){return af[e](t)}function lf(e,t){return e.idx-t.idx}function uf(){var e=this;this.valid=0,this.missing=0,this._ops.forEach((function(t){return t.init(e)}))}function cf(e,t){var n=this;null!=e&&""!==e?e===e&&(++this.valid,this._ops.forEach((function(a){return a.add(n,e,t)}))):++this.missing}function sf(e,t){var n=this;null!=e&&""!==e?e===e&&(--this.valid,this._ops.forEach((function(a){return a.rem(n,e,t)}))):--this.missing}function ff(e){var t=this;return this._out.forEach((function(n){return e[n.out]=n.value(t)})),e}function df(e,t){var n=t||en,a=function(e){var t={};return e.forEach((function(e){return t[e.name]=e})),e.forEach((function e(n){n.req&&n.req.forEach((function(n){t[n]||e(t[n]=af[n]())}))})),Object.values(t).sort(lf)}(e),r=e.slice().sort(lf);function o(e){this._ops=a,this._out=r,this.cell=e,this.init()}return o.prototype.init=uf,o.prototype.add=cf,o.prototype.rem=sf,o.prototype.set=ff,o.prototype.get=n,o.fields=e.map((function(e){return e.out})),o}function pf(e){this._key=e?Jt(e):tc,this.reset()}rf.forEach((function(e){af[e]=function(e,t){return function(n){return Yn({name:e,out:n||e},nf,t)}}(e,af[e])}));var gf=pf.prototype;function hf(e){zc.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}gf.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},gf.add=function(e){this._add.push(e)},gf.rem=function(e){this._rem.push(e)},gf.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,a=this._add,r=this._rem,o=this._key,l=a.length,i=r.length,u=Array(l-i),c={};for(e=0;e<i;++e)c[o(r[e])]=1;for(e=0,t=0;e<l;++e)c[o(n=a[e])]?c[o(n)]=0:u[t++]=n;return this._rem=[],this._add=u},gf.distinct=function(e){for(var t,n=this.values(),a={},r=n.length,o=0;--r>=0;)Jn(a,t=e(n[r])+"")||(a[t]=1,++o);return o},gf.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Xn(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},gf.argmin=function(e){return this.extent(e)[0]||{}},gf.argmax=function(e){return this.extent(e)[1]||{}},gf.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},gf.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},gf.quartile=function(e){return this._get===e&&this._q||(this._q=ls(this.values(),e),this._get=e),this._q},gf.q1=function(e){return this.quartile(e)[0]},gf.q2=function(e){return this.quartile(e)[1]},gf.q3=function(e){return this.quartile(e)[2]},gf.ci=function(e){return this._get===e&&this._ci||(this._ci=fs(this.values(),1e3,.05,e),this._get=e),this._ci},gf.ci0=function(e){return this.ci(e)[0]},gf.ci1=function(e){return this.ci(e)[1]},hf.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:rf},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},na(hf,zc,{transform:function(e,t){var n=this,a=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.modified();return a.stamp=r.stamp,a.value&&(o||t.modified(a._inputs,!0))?(a._prev=a.value,a.value=o?a.init(e):{},t.visit(t.SOURCE,(function(e){return a.add(e)}))):(a.value=a.value||a.init(e),t.visit(t.REM,(function(e){return a.rem(e)})),t.visit(t.ADD,(function(e){return a.add(e)}))),r.modifies(a._outputs),a._drop=!1!==e.drop,e.cross&&a._dims.length>1&&(a._drop=!1,a.cross()),t.clean()&&a._drop&&r.clean(!0).runAfter((function(){return n.clean()})),a.changes(r)},cross:function(){var e=this,t=e.value,n=e._dnames,a=n.map((function(){return{}})),r=n.length;function o(e){var t,o,l,i;for(t in e)for(l=e[t].tuple,o=0;o<r;++o)a[o][i=l[n[o]]]=i}o(e._prev),o(t),function o(l,i,u){var c=n[u],s=a[u++];for(var f in s){var d=l?l+"|"+f:f;i[c]=s[f],u<r?o(d,i,u):t[d]||e.cell(d,i)}}("",{},0)},init:function(e){var t=this._inputs=[],n=this._outputs=[],a={};function r(e){for(var n,r=Rn(Vt(e)),o=r.length,l=0;l<o;++l)a[n=r[l]]||(a[n]=1,t.push(n))}this._dims=Rn(e.groupby),this._dnames=this._dims.map((function(e){var t=Gt(e);return r(e),n.push(t),t})),this.cellkey=e.key?e.key:Zs(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var o,l,i,u,c,s,f=e.fields||[null],d=e.ops||["count"],p=e.as||[],g=f.length,h={};for(g!==d.length&&Xt("Unmatched number of fields and aggregate ops."),s=0;s<g;++s)o=f[s],l=d[s],null==o&&"count"!==l&&Xt("Null aggregate field specified."),c=ef(l,u=Gt(o),p[s]),n.push(c),"count"!==l?((i=h[u])||(r(o),(i=h[u]=[]).field=o,this._measures.push(i)),"count"!==l&&(this._countOnly=!1),i.push(of(l,c))):this._counts.push(c);return this._measures=this._measures.map((function(e){return df(e,e.field)})),{}},cellkey:Zs(),cell:function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell:function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var a=this._measures,r=a.length;n.agg=Array(r);for(var o=0;o<r;++o)n.agg[o]=new a[o](n)}return n.store&&(n.data=new pf),n},newtuple:function(e,t){for(var n=this._dnames,a=this._dims,r=a.length,o={},l=0;l<r;++l)o[n[l]]=a[l](e);return t?lc(t.tuple,o):ac(o)},clean:function(){var e=this.value;for(var t in e)0===e[t].num&&delete e[t]},add:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,!this._countOnly){n.store&&n.data.add(e);for(var a=n.agg,r=0,o=a.length;r<o;++r)a[r].add(a[r].get(e),e)}},rem:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,!this._countOnly){n.store&&n.data.rem(e);for(var a=n.agg,r=0,o=a.length;r<o;++r)a[r].rem(a[r].get(e),e)}},celltuple:function(e){var t=e.tuple,n=this._counts;e.store&&e.data.values();for(var a=0,r=n.length;a<r;++a)t[n[a]]=e.num;if(!this._countOnly)for(var o=e.agg,l=0,i=o.length;l<i;++l)o[l].set(t);return t},changes:function(e){var t,n,a,r,o=this._adds,l=this._mods,i=this._prev,u=this._drop,c=e.add,s=e.rem,f=e.mod;if(i)for(n in i)t=i[n],u&&!t.num||s.push(t.tuple);for(a=0,r=this._alen;a<r;++a)c.push(this.celltuple(o[a])),o[a]=null;for(a=0,r=this._mlen;a<r;++a)(0===(t=l[a]).num&&u?s:f).push(this.celltuple(t)),l[a]=null;return this._alen=this._mlen=0,this._prev=null,e}});function vf(e){zc.call(this,null,e)}function mf(e,t,n){var a=e,r=t||[],o=n||[],l={},i=0;return{add:function(e){return o.push(e)},remove:function(e){return l[a(e)]=++i},size:function(){return r.length},data:function(e,t){return i&&(r=r.filter((function(e){return!l[a(e)]})),l={},i=0),t&&e&&r.sort(e),o.length&&(r=e?pa(e,r,o.sort(e)):r.concat(o),o=[]),r}}}function yf(e){zc.call(this,[],e)}function bf(e){gc.call(this,null,wf,e)}function wf(e){return this.value&&!e.modified()?this.value:Hn(e.fields,e.orders)}function kf(e){zc.call(this,null,e)}function Cf(e){zc.call(this,null,e)}vf.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},na(vf,zc,{transform:function(e,t){var n,a=!1!==e.interval,r=this._bins(e),o=r.start,l=r.step,i=e.as||["bin0","bin1"],u=i[0],c=i[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Vt(e.field))?t.ADD_MOD:t.ADD,t.visit(n,a?function(e){var t=r(e);e[u]=t,e[c]=null==t?null:o+l*(1+(t-o)/l)}:function(e){return e[u]=r(e)}),t.modifies(a?i:u)},_bins:function(e){if(this.value&&!e.modified())return this.value;var t,n,a=e.field,r=us(e),o=r.step,l=r.start,i=l+Math.ceil((r.stop-l)/o)*o;null!=(t=e.anchor)&&(n=t-(l+o*Math.floor((t-l)/o)),l+=n,i+=n);var u=function(e){var t=wn(a(e));return null==t?null:t<l?-1/0:t>i?1/0:(t=Math.max(l,Math.min(t,i-o)),l+o*Math.floor(1e-14+(t-l)/o))};return u.start=l,u.stop=r.stop,u.step=o,this.value=qt(u,Vt(a),e.name||"bin_"+Gt(a))}}),yf.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},na(yf,zc,{transform:function(e,t){var n=t.fork(t.ALL),a=mf(tc,this.value,n.materialize(n.ADD).add),r=e.sort,o=t.changed()||r&&(e.modified("sort")||t.modified(r.fields));return n.visit(n.REM,a.remove),this.modified(o),this.value=n.source=a.data(ic(r),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),na(bf,gc),kf.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},na(kf,zc,{transform:function(e,t){var n=function(t){return function(n){for(var a,r=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(i(n),e.case,o)||[],u=0,c=r.length;u<c;++u)l.test(a=r[u])||t(a)}},a=this._parameterCheck(e,t),r=this._counts,o=this._match,l=this._stop,i=e.field,u=e.as||["text","count"],c=n((function(e){return r[e]=1+(r[e]||0)})),s=n((function(e){return r[e]-=1}));return a?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,s)),this._finish(t,u)},_parameterCheck:function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish:function(e,t){var n,a,r,o=this._counts,l=this._tuples||(this._tuples={}),i=t[0],u=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in o)a=l[n],r=o[n]||0,!a&&r?(l[n]=a=ac({}),a[i]=n,a[u]=r,c.add.push(a)):0===r?(a&&c.rem.push(a),o[n]=null,l[n]=null):a[u]!==r&&(a[u]=r,c.mod.push(a));return c.modifies(t)}}),Cf.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},na(Cf,zc,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),a=e.as||["a","b"],r=a[0],o=a[1],l=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter"),i=this.value;return l?(i&&(n.rem=i),i=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,a){for(var r,o,l=[],i={},u=e.length,c=0;c<u;++c)for(i[t]=o=e[c],r=0;r<u;++r)i[n]=e[r],a(i)&&(l.push(ac(i)),(i={})[t]=o);return l}(i,r,o,e.filter||an)):n.mod=i,n.source=this.value,n.modifies(a)}});var xf={kde:xs,mixture:Os,normal:Cs,lognormal:Bs,uniform:js},Pf="function";function _f(e,t){var n=e.function;Jn(xf,n)||Xt("Unknown distribution function: "+n);var a=xf[n]();for(var r in e)"field"===r?a.data((e.from||t()).map(e[r])):"distributions"===r?a[r](e[r].map((function(e){return _f(e,t)}))):typeof a[r]===Pf&&a[r](e[r]);return a}function Ef(e){zc.call(this,null,e)}var Sf=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Bf={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Sf},{name:"weights",type:"number",array:!0}]};function Of(e,t){return e?e.map((function(e,n){return t[n]||Gt(e)})):null}function Af(e,t,n){var a,r,o,l,i,u,c=[],s=function(e){return e(l)};if(null==t)c.push(e.map(n));else for(a={},r=0,o=e.length;r<o;++r)l=e[r],(u=a[i=t.map(s)])||(a[i]=u=[],u.dims=i,c.push(u)),u.push(n(l));return c}Ef.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Sf.concat(Bf)},{name:"as",type:"string",array:!0,default:["value","density"]}]},na(Ef,zc,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var a=_f(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),r=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200,l=e.method||"pdf";"pdf"!==l&&"cdf"!==l&&Xt("Invalid density method: "+l),e.extent||a.data||Xt("Missing density extent parameter."),l=a[l];var i=e.as||["value","density"],u=Xs(l,e.extent||Qn(a.data()),r,o).map((function(e){var t={};return t[i[0]]=e[0],t[i[1]]=e[1],ac(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function Df(e){zc.call(this,null,e)}Df.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function Mf(e){gc.call(this,null,Nf,e),this.modified(!0)}function Nf(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:qt((function(n){return t(n,e)}),Vt(t),Gt(t))}function jf(e){zc.call(this,[void 0,void 0],e)}function Tf(e,t){gc.call(this,e),this.parent=t,this.count=0}function Ff(e){zc.call(this,{},e),this._keys=ea();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,a=t.active;n<a;++n)e(t[n],n,t)}}function If(e){gc.call(this,null,Rf,e)}function Rf(e){return this.value&&!e.modified()?this.value:pn(e.name)?Rn(e.name).map((function(e){return Jt(e)})):Jt(e.name,e.as)}function zf(e){zc.call(this,ea(),e)}function Lf(e){zc.call(this,[],e)}function Hf(e){zc.call(this,[],e)}function Uf(e){zc.call(this,null,e)}function Wf(e){zc.call(this,[],e)}na(Df,zc,{transform:function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;for(var n,a=t.materialize(t.SOURCE).source,r=Af(t.source,e.groupby,en),o=e.smooth||!1,l=e.field,i=e.step||function(e,t){return va(Qn(e,t))/30}(a,l),u=ic((function(e,t){return l(e)-l(t)})),c=e.as||"bin",s=r.length,f=1/0,d=-1/0,p=0;p<s;++p){var g=r[p].sort(u);n=-1;var h,v=Wc(ds(g,i,o,l));try{for(v.s();!(h=v.n()).done;){var m=h.value;m<f&&(f=m),m>d&&(d=m),g[++n][c]=m}}catch(y){v.e(y)}finally{v.f()}}return this.value={start:f,stop:d,step:i},t.reflow(!0).modifies(c)}}),na(Mf,gc),jf.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},na(jf,zc,{transform:function(e,t){var n=this.value,a=e.field,r=t.changed()||t.modified(a.fields)||e.modified("field"),o=n[0],l=n[1];if((r||null==o)&&(o=1/0,l=-1/0),t.visit(r?t.SOURCE:t.ADD,(function(e){var t=wn(a(e));null!=t&&(t<o&&(o=t),t>l&&(l=t))})),!Number.isFinite(o)||!Number.isFinite(l)){var i=Gt(a);i&&(i=' for field "'.concat(i,'"')),t.dataflow.warn("Infinite extent".concat(i,": [").concat(o,", ").concat(l,"]")),o=l=void 0}this.value=[o,l]}}),na(Tf,gc,{connect:function(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add:function(e){this.count+=1,this.value.add.push(e)},rem:function(e){this.count-=1,this.value.rem.push(e)},mod:function(e){this.value.mod.push(e)},init:function(e){this.value.init(e,e.NO_SOURCE)},evaluate:function(){return this.value}}),na(Ff,zc,{activate:function(e){this._targets[this._targets.active++]=e},subflow:function(e,t,n,a){var r,o,l=this.value,i=Jn(l,e)&&l[e];return i?i.value.stamp<n.stamp&&(i.init(n),this.activate(i)):(o=a||(o=this._group[e])&&o.tuple,r=n.dataflow,i=new Tf(n.fork(n.NO_SOURCE),this),r.add(i).connect(t(r,e,o)),l[e]=i,this.activate(i)),i},clean:function(){var e=this.value,t=0;for(var n in e)if(0===e[n].count){var a=e[n].detachSubflow;a&&a(),delete e[n],++t}if(t){var r=this._targets.filter((function(e){return e&&e.count>0}));this.initTargets(r)}},initTargets:function(e){for(var t=this._targets,n=t.length,a=e?e.length:0,r=0;r<a;++r)t[r]=e[r];for(;r<n&&null!=t[r];++r)t[r]=null;t.active=a},transform:function(e,t){var n=this,a=t.dataflow,r=e.key,o=e.subflow,l=this._keys,i=e.modified("key"),u=function(e){return n.subflow(e,o,t)};return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(function(e){var t=tc(e),n=l.get(t);void 0!==n&&(l.delete(t),u(n).rem(e))})),t.visit(t.ADD,(function(e){var t=r(e);l.set(tc(e),t),u(t).add(e)})),i||t.modified(r.fields)?t.visit(t.MOD,(function(e){var t=tc(e),n=l.get(t),a=r(e);n===a?u(a).mod(e):(l.set(t,a),u(n).rem(e),u(a).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){u(l.get(tc(e))).mod(e)})),i&&t.visit(t.REFLOW,(function(e){var t=tc(e),n=l.get(t),a=r(e);n!==a&&(l.set(t,a),u(n).rem(e),u(a).add(e))})),t.clean()?a.runAfter((function(){n.clean(),l.clean()})):l.empty>a.cleanThreshold&&a.runAfter(l.clean),t}}),na(If,gc),zf.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},na(zf,zc,{transform:function(e,t){var n=t.dataflow,a=this.value,r=t.fork(),o=r.add,l=r.rem,i=r.mod,u=e.expr,c=!0;function s(t){var n=tc(t),r=u(t,e),s=a.get(n);r&&s?(a.delete(n),o.push(t)):r||s?c&&r&&!s&&i.push(t):(a.set(n,1),l.push(t))}return t.visit(t.REM,(function(e){var t=tc(e);a.has(t)?a.delete(t):l.push(e)})),t.visit(t.ADD,(function(t){u(t,e)?o.push(t):a.set(tc(t),1)})),t.visit(t.MOD,s),e.modified()&&(c=!1,t.visit(t.REFLOW,s)),a.empty>n.cleanThreshold&&n.runAfter(a.clean),r}}),Lf.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},na(Lf,zc,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),a=e.fields,r=Of(a,e.as||[]),o=e.index||null,l=r.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,i,u,c=a.map((function(t){return t(e)})),s=c.reduce((function(e,t){return Math.max(e,t.length)}),0),f=0;f<s;++f){for(i=rc(e),t=0;t<l;++t)i[r[t]]=null==(u=c[t][f])?null:u;o&&(i[o]=f),n.add.push(i)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(r)}}),Hf.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},na(Hf,zc,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),a=e.fields,r=a.map(Gt),o=e.as||["key","value"],l=o[0],i=o[1],u=a.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,o=0;o<u;++o)(t=rc(e))[l]=r[o],t[i]=a[o](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(o)}}),Uf.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},na(Uf,zc,{transform:function(e,t){var n=e.expr,a=e.as,r=e.modified(),o=e.initonly?t.ADD:r?t.SOURCE:t.modified(n.fields)||t.modified(a)?t.ADD_MOD:t.ADD;return r&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(a),t.visit(o,(function(t){return t[a]=n(t,e)}))}}),na(Wf,zc,{transform:function(e,t){var n,a,r,o=t.fork(t.ALL),l=e.generator,i=this.value,u=e.size-i.length;if(u>0){for(n=[];--u>=0;)n.push(r=ac(l(e))),i.push(r);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else a=i.slice(0,-u),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(a):a,i=i.slice(-u);return o.source=this.value=i,o}});var qf={value:"value",median:ns,mean:function(e,t){var n=0,a=0;if(void 0===t){var r,o=Wc(e);try{for(o.s();!(r=o.n()).done;){var l=r.value;null!=l&&(l=+l)>=l&&(++n,a+=l)}}catch(f){o.e(f)}finally{o.f()}}else{var i,u=-1,c=Wc(e);try{for(c.s();!(i=c.n()).done;){var s=i.value;null!=(s=t(s,++u,e))&&(s=+s)>=s&&(++n,a+=s)}}catch(f){c.e(f)}finally{c.f()}}if(n)return a/n},min:Gc,max:qc},Gf=[];function Vf(e){zc.call(this,[],e)}function $f(e){hf.call(this,e)}function Yf(e){zc.call(this,null,e)}function Qf(e){gc.call(this,null,Xf,e)}function Xf(e){return this.value&&!e.modified()?this.value:sa(e.fields,e.flat)}function Kf(e){zc.call(this,[],e),this._pending=null}function Jf(e,t,n){n.forEach(ac);var a=t.fork(t.NO_FIELDS&t.NO_SOURCE);return a.rem=e.value,e.value=a.source=a.add=n,e._pending=null,a.rem.length&&a.clean(!0),a}function Zf(e){zc.call(this,{},e)}function ed(e){gc.call(this,null,td,e)}function td(e){if(this.value&&!e.modified())return this.value;var t,n,a=e.extents,r=a.length,o=1/0,l=-1/0;for(t=0;t<r;++t)(n=a[t])[0]<o&&(o=n[0]),n[1]>l&&(l=n[1]);return[o,l]}function nd(e){gc.call(this,null,ad,e)}function ad(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function rd(e){zc.call(this,null,e)}function od(e){hf.call(this,e)}function ld(e){Ff.call(this,e)}function id(e){zc.call(this,null,e)}function ud(e){zc.call(this,null,e)}function cd(e){zc.call(this,null,e)}Vf.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},na(Vf,zc,{transform:function(e,t){var n,a,r,o,l,i,u,c,s,f,d=t.fork(t.ALL),p=function(e){var t,n=e.method||qf.value;if(null!=qf[n])return n===qf.value?(t=void 0!==e.value?e.value:0,function(){return t}):qf[n];Xt("Unrecognized imputation method: "+n)}(e),g=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),h=Gt(e.field),v=Gt(e.key),m=(e.groupby||[]).map(Gt),y=function(e,t,n,a){var r,o,l,i,u,c,s,f,d=function(e){return e(f)},p=[],g=a?a.slice():[],h={},v={};for(g.forEach((function(e,t){return h[e]=t+1})),i=0,s=e.length;i<s;++i)c=n(f=e[i]),u=h[c]||(h[c]=g.push(c)),(l=v[o=(r=t?t.map(d):Gf)+""])||(l=v[o]=[],p.push(l),l.values=r),l[u-1]=f;return p.domain=g,p}(t.source,e.groupby,e.key,e.keyvals),b=[],w=this.value,k=y.domain.length;for(l=0,c=y.length;l<c;++l)for(r=(n=y[l]).values,a=NaN,u=0;u<k;++u)if(null==n[u]){for(o=y.domain[u],f={_impute:!0},i=0,s=r.length;i<s;++i)f[m[i]]=r[i];f[v]=o,f[h]=Number.isNaN(a)?a=p(n,g):a,b.push(ac(f))}return b.length&&(d.add=d.materialize(d.ADD).add.concat(b)),w.length&&(d.rem=d.materialize(d.REM).rem.concat(w)),this.value=b,d}}),$f.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:rf},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},na($f,hf,{transform:function(e,t){var n,a=this,r=e.modified();return a.value&&(r||t.modified(a._inputs,!0))?(n=a.value=r?a.init(e):{},t.visit(t.SOURCE,(function(e){return a.add(e)}))):(n=a.value=a.value||this.init(e),t.visit(t.REM,(function(e){return a.rem(e)})),t.visit(t.ADD,(function(e){return a.add(e)}))),a.changes(),t.visit(t.SOURCE,(function(e){Yn(e,n[a.cellkey(e)].tuple)})),t.reflow(r).modifies(this._outputs)},changes:function(){var e,t,n=this._adds,a=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(a[e]),a[e]=null;this._alen=this._mlen=0}}),Yf.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},na(Yf,zc,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var a=t.materialize(t.SOURCE).source,r=Af(a,e.groupby,e.field),o=(e.groupby||[]).map(Gt),l=e.bandwidth,i=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],c=[],s=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==i&&"cdf"!==i&&Xt("Invalid density method: "+i),"shared"===e.resolve&&(s||(s=Qn(a,e.field)),f=d=e.steps||d),r.forEach((function(t){var n=xs(t,l)[i],a=e.counts?t.length:1;Xs(n,s||Qn(t),f,d).forEach((function(e){for(var n={},r=0;r<o.length;++r)n[o[r]]=t.dims[r];n[u[0]]=e[0],n[u[1]]=e[1]*a,c.push(ac(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}}),na(Qf,gc),na(Kf,zc,{transform:function(e,t){var n=this,a=t.dataflow;if(this._pending)return Jf(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return Jf(this,t,a.parse(e.values,e.format));if(e.async){var r=a.request(e.url,e.format).then((function(e){return n._pending=Rn(e.data),function(e){return e.touch(n)}}));return{async:r}}return a.request(e.url,e.format).then((function(e){return Jf(n,t,Rn(e.data))}))}}),Zf.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},na(Zf,zc,{transform:function(e,t){var n,a,r,o=e.fields,l=e.index,i=e.values,u=null==e.default?null:e.default,c=e.modified(),s=o.length,f=c?t.SOURCE:t.ADD,d=t,p=e.as;return i?(a=i.length,s>1&&!p&&Xt('Multi-field lookup requires explicit "as" parameter.'),p&&p.length!==s*a&&Xt('The "as" parameter has too few output field names.'),p=p||i.map(Gt),n=function(e){for(var t,n,r=0,c=0;r<s;++r)if(null==(n=l.get(o[r](e))))for(t=0;t<a;++t,++c)e[p[c]]=u;else for(t=0;t<a;++t,++c)e[p[c]]=i[t](n)}):(p||Xt("Missing output field names."),n=function(e){for(var t,n=0;n<s;++n)t=l.get(o[n](e)),e[p[n]]=null==t?u:t}),c?d=t.reflow(!0):(r=o.some((function(e){return t.modified(e.fields)})),f|=r?t.MOD:0),t.visit(f,n),d.modifies(p)}}),na(ed,gc),na(nd,gc),na(rd,zc,{transform:function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),od.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:rf,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},na(od,hf,{_transform:hf.prototype.transform,transform:function(e,t){return this._transform(function(e,t){var n=e.field,a=e.value,r=("count"===e.op?"__count__":e.op)||"sum",o=Vt(n).concat(Vt(a)),l=function(e,t,n){var a={},r=[];return n.visit(n.SOURCE,(function(t){var n=e(t);a[n]||(a[n]=1,r.push(n))})),r.sort(Un),t?r.slice(0,t):r}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:l.map((function(){return r})),fields:l.map((function(e){return function(e,t,n,a){return qt((function(a){return t(a)===e?n(a):NaN}),a,e+"")}(e,n,a,o)})),as:l.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)}}),na(ld,Ff,{transform:function(e,t){var n=this,a=e.subflow,r=e.field,o=function(e){return n.subflow(tc(e),a,t,e)};return(e.modified("field")||r&&t.modified(Vt(r)))&&Xt("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,(function(e){var t=o(e);r(e).forEach((function(e){return t.mod(e)}))})),t.visit(t.ADD,(function(e){var t=o(e);r(e).forEach((function(e){return t.add(ac(e))}))})),t.visit(t.REM,(function(e){var t=o(e);r(e).forEach((function(e){return t.rem(e)}))}))):(t.visit(t.MOD,(function(e){return o(e).mod(e)})),t.visit(t.ADD,(function(e){return o(e).add(e)})),t.visit(t.REM,(function(e){return o(e).rem(e)}))),t.clean()&&t.runAfter((function(){return n.clean()})),t}}),id.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},na(id,zc,{transform:function(e,t){var n,a=t.fork(t.NO_SOURCE),r=e.fields,o=Of(e.fields,e.as||[]),l=r?function(e,t){return function(e,t,n,a){for(var r=0,o=n.length;r<o;++r)t[a[r]]=n[r](e);return t}(e,t,r,o)}:oc;return this.value?n=this.value:(t=t.addAll(),n=this.value={}),t.visit(t.REM,(function(e){var t=tc(e);a.rem.push(n[t]),n[t]=null})),t.visit(t.ADD,(function(e){var t=l(e,ac({}));n[tc(e)]=t,a.add.push(t)})),t.visit(t.MOD,(function(e){a.mod.push(l(e,n[tc(e)]))})),a}}),na(ud,zc,{transform:function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),cd.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function sd(e){zc.call(this,null,e)}function fd(e){zc.call(this,[],e),this.count=0}function dd(e){zc.call(this,null,e)}function pd(e){zc.call(this,null,e),this.modified(!0)}function gd(e){zc.call(this,null,e)}na(cd,zc,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;var r=Af(t.materialize(t.SOURCE).source,e.groupby,e.field),o=(e.groupby||[]).map(Gt),l=[],i=e.step||.01,u=e.probs||Js(i/2,1-1e-14,i),c=u.length;return r.forEach((function(e){for(var t=os(e,u),n=0;n<c;++n){for(var r={},i=0;i<o.length;++i)r[o[i]]=e.dims[i];r[a[0]]=u[n],r[a[1]]=t[n],l.push(ac(r))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l,n}}),na(sd,zc,{transform:function(e,t){var n,a;return this.value?a=this.value:(n=t=t.addAll(),a=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=tc(e);n.rem.push(a[t]),a[t]=null})),t.visit(t.ADD,(function(e){var t=rc(e);a[tc(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){var t=a[tc(e)];for(var r in e)t[r]=e[r],n.modifies(r);n.mod.push(t)}))),n}}),fd.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},na(fd,zc,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),a=e.modified("size"),r=e.size,o=this.value.reduce((function(e,t){return e[tc(t)]=1,e}),{}),l=this.value,i=this.count,u=0;function c(e){var t,a;l.length<r?l.push(e):(a=~~((i+1)*cs()))<l.length&&a>=u&&(t=l[a],o[tc(t)]&&n.rem.push(t),l[a]=e),++i}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=tc(e);o[t]&&(o[t]=-1,n.rem.push(e)),--i})),l=l.filter((function(e){return-1!==o[tc(e)]}))),(t.rem.length||a)&&l.length<r&&t.source&&(u=i=l.length,t.visit(t.SOURCE,(function(e){o[tc(e)]||c(e)})),u=-1),a&&l.length>r){for(var s=l.length-r,f=0;f<s;++f)o[tc(l[f])]=-1,n.rem.push(l[f]);l=l.slice(s)}return t.mod.length&&t.visit(t.MOD,(function(e){o[tc(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,c),(t.add.length||u<0)&&(n.add=l.filter((function(e){return!o[tc(e)]}))),this.count=i,this.value=n.source=l,n}}),dd.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},na(dd,zc,{transform:function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),a=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Js(e.start,e.stop,e.step||1).map((function(e){var t={};return t[a]=e,ac(t)})),n.add=t.add.concat(this.value),n}}}),na(pd,zc,{transform:function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});var hd=["unit0","unit1"];function vd(e){zc.call(this,ea(),e)}function md(e){zc.call(this,null,e)}gd.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:No,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:hd}]},na(gd,zc,{transform:function(e,t){var n=e.field,a=!1!==e.interval,r="utc"===e.timezone,o=this._floor(e,t),l=(r?cl:ul)(o.unit).offset,i=e.as||hd,u=i[0],c=i[1],s=o.step,f=o.start||1/0,d=o.stop||-1/0,p=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Vt(n)))&&(p=(t=t.reflow(!0)).SOURCE,f=1/0,d=-1/0),t.visit(p,(function(e){var t,r,i=n(e);null==i?(e[u]=null,a&&(e[c]=null)):(e[u]=t=r=o(i),a&&(e[c]=r=l(t,s)),t<f&&(f=t),r>d&&(d=r))})),o.start=f,o.stop=d,t.modifies(a?i:u)},_floor:function(e,t){var n="utc"===e.timezone,a=e.units?{units:e.units,step:e.step||1}:Al({extent:e.extent||Qn(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),r=a.units,o=a.step,l=To(r),i=this.value||{},u=(n?ol:nl)(l,o);return u.unit=bn(l),u.units=l,u.step=o,u.start=i.start,u.stop=i.stop,this.value=u}}),na(vd,zc,{transform:function(e,t){var n=t.dataflow,a=e.field,r=this.value,o=function(e){return r.set(a(e),e)},l=!0;return e.modified("field")||t.modified(a.fields)?(r.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,(function(e){return r.delete(a(e))})),t.visit(t.ADD,o)):l=!1,this.modified(l),r.empty>n.cleanThreshold&&n.runAfter(r.clean),t.fork()}}),na(md,zc,{transform:function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(ic(e.sort)):t.source).map(e.field))}});var yd={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,a=t.data;return n&&t.compare(a[n-1],a[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,a=t.data;return n&&t.compare(a[n-1],a[n])?++e:e}}},percent_rank:function(){var e=yd.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){return e=0},next:function(t){var n=t.data,a=t.compare,r=t.index;if(e<r){for(;r+1<n.length&&!a(n[r],n[r+1]);)++r;e=r}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||Xt("ntile num must be greater than zero.");var n=yd.cume_dist(),a=n.next;return{init:n.init,next:function(e){return Math.ceil(t*a(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var a=n.index-t;return a>=0?e(n.data[a]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var a=n.index+t,r=n.data;return a<r.length?e(r[a]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||Xt("nth_value nth must be greater than zero."),{next:function(n){var a=n.i0+(t-1);return a<n.i1?e(n.data[a]):null}}},prev_value:function(e){var t;return{init:function(){return t=null},next:function(n){var a=e(n.data[n.index]);return null!=a?t=a:t}}},next_value:function(e){var t,n;return{init:function(){return t=null,n=-1},next:function(a){var r=a.data;return a.index<=n?t:(n=function(e,t,n){for(var a=t.length;n<a;++n){if(null!=e(t[n]))return n}return-1}(e,r,a.index))<0?(n=r.length,t=null):t=e(r[n])}}}};var bd=Object.keys(yd);function wd(e){var t=Rn(e.ops),n=Rn(e.fields),a=Rn(e.params),r=Rn(e.as),o=this.outputs=[],l=this.windows=[],i={},u={},c=[],s=[],f=!0;function d(e){Rn(Vt(e)).forEach((function(e){return i[e]=1}))}d(e.sort),t.forEach((function(e,t){var i=n[t],p=Gt(i),g=ef(e,p,r[t]);if(d(i),o.push(g),Jn(yd,e))l.push(function(e,t,n,a){var r=yd[e](t,n);return{init:r.init||tn,update:function(e,t){t[a]=r.next(e)}}}(e,n[t],a[t],g));else{if(null==i&&"count"!==e&&Xt("Null aggregate field specified."),"count"===e)return void c.push(g);f=!1;var h=u[p];h||((h=u[p]=[]).field=i,s.push(h)),h.push(of(e,g))}})),(c.length||s.length)&&(this.cell=function(e,t,n){e=e.map((function(e){return df(e,e.field)}));var a={num:0,agg:null,store:!1,count:t};if(!n)for(var r=e.length,o=a.agg=Array(r),l=0;l<r;++l)o[l]=new e[l](a);if(a.store)var i=a.data=new pf;return a.add=function(e){if(a.num+=1,!n){i&&i.add(e);for(var t=0;t<r;++t)o[t].add(o[t].get(e),e)}},a.rem=function(e){if(a.num-=1,!n){i&&i.rem(e);for(var t=0;t<r;++t)o[t].rem(o[t].get(e),e)}},a.set=function(e){var r,l;for(i&&i.values(),r=0,l=t.length;r<l;++r)e[t[r]]=a.num;if(!n)for(r=0,l=o.length;r<l;++r)o[r].set(e)},a.init=function(){a.num=0,i&&i.reset();for(var e=0;e<r;++e)o[e].init()},a}(s,c,f)),this.inputs=Object.keys(i)}var kd=wd.prototype;function Cd(e){zc.call(this,{},e),this._mlen=0,this._mods=[]}function xd(e,t,n,a){var r=a.sort,o=r&&!a.ignorePeers,l=a.frame||[null,0],i=e.data(n),u=i.length,c=o?wo(r):null,s={i0:0,i1:0,p0:0,p1:0,index:0,data:i,compare:r||Vn(-1)};t.init();for(var f=0;f<u;++f)Pd(s,l,f,u),o&&_d(s,c),t.update(s,i[f])}function Pd(e,t,n,a){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?a:Math.min(a,n+Math.abs(t[1])+1),e.index=n}function _d(e,t){var n=e.i0,a=e.i1-1,r=e.compare,o=e.data,l=o.length-1;n>0&&!r(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),a<l&&!r(o[a],o[a+1])&&(e.i1=t.right(o,o[a]))}function Ed(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Sd(e){this._context=e}function Bd(){}function Od(e){this._context=e}function Ad(e){this._context=e}function Dd(e,t){this._basis=new Sd(e),this._beta=t}kd.init=function(){this.windows.forEach((function(e){return e.init()})),this.cell&&this.cell.init()},kd.update=function(e,t){var n,a=this.cell,r=this.windows,o=e.data,l=r&&r.length;if(a){for(n=e.p0;n<e.i0;++n)a.rem(o[n]);for(n=e.p1;n<e.i1;++n)a.add(o[n]);a.set(t)}for(n=0;n<l;++n)r[n].update(e,t)},Cd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:bd.concat(rf)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},na(Cd,zc,{transform:function(e,t){var n=this;this.stamp=t.stamp;var a=e.modified(),r=ic(e.sort),o=Zs(e.groupby),l=function(e){return n.group(o(e))},i=this.state;i&&!a||(i=this.state=new wd(e)),a||t.modified(i.inputs)?(this.value={},t.visit(t.SOURCE,(function(e){return l(e).add(e)}))):(t.visit(t.REM,(function(e){return l(e).remove(e)})),t.visit(t.ADD,(function(e){return l(e).add(e)})));for(var u=0,c=this._mlen;u<c;++u)xd(this._mods[u],i,r,e);return this._mlen=0,this._mods=[],t.reflow(a).modifies(i.outputs)},group:function(e){var t=this.value[e];return t||(t=this.value[e]=mf(tc),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ed(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ed(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Od.prototype={areaStart:Bd,areaEnd:Bd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ed(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ad.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:Ed(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Dd.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var a,r=e[0],o=t[0],l=e[n]-r,i=t[n]-o,u=-1;++u<=n;)a=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(r+a*l),this._beta*t[u]+(1-this._beta)*(o+a*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Md=function e(t){function n(e){return 1===t?new Sd(e):new Dd(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Nd(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function jd(e,t){this._context=e,this._k=(1-t)/6}jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Nd(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Nd(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Td=function e(t){function n(e){return new jd(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Fd(e,t){this._context=e,this._k=(1-t)/6}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Nd(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Id=function e(t){function n(e){return new Fd(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Rd(e,t){this._context=e,this._k=(1-t)/6}Rd.prototype={areaStart:Bd,areaEnd:Bd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Nd(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var zd=function e(t){function n(e){return new Rd(e,t)}return n.tension=function(t){return e(+t)},n}(0),Ld=Math.abs,Hd=Math.atan2,Ud=Math.cos,Wd=Math.max,qd=Math.min,Gd=Math.sin,Vd=Math.sqrt,$d=1e-12,Yd=Math.PI,Qd=Yd/2,Xd=2*Yd;function Kd(e){return e>1?0:e<-1?Yd:Math.acos(e)}function Jd(e){return e>=1?Qd:e<=-1?-Qd:Math.asin(e)}function Zd(e,t,n){var a=e._x1,r=e._y1,o=e._x2,l=e._y2;if(e._l01_a>$d){var i=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);a=(a*i-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,r=(r*i-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>$d){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,s=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/s,l=(l*c+e._y1*e._l23_2a-n*e._l12_2a)/s}e._context.bezierCurveTo(a,r,o,l,e._x2,e._y2)}function ep(e,t){this._context=e,this._alpha=t}ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,a=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Zd(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tp=function e(t){function n(e){return t?new ep(e,t):new jd(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function np(e,t){this._context=e,this._alpha=t}np.prototype={areaStart:Bd,areaEnd:Bd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,a=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Zd(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ap=function e(t){function n(e){return t?new np(e,t):new Rd(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function rp(e,t){this._context=e,this._alpha=t}rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,a=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zd(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var op=function e(t){function n(e){return t?new rp(e,t):new Fd(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function lp(e){this._context=e}function ip(e){return new lp(e)}function up(e){this._context=e}function cp(e){return e<0?-1:1}function sp(e,t,n){var a=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(a||r<0&&-0),l=(n-e._y1)/(r||a<0&&-0),i=(o*r+l*a)/(a+r);return(cp(o)+cp(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(i))||0}function fp(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function dp(e,t,n){var a=e._x0,r=e._y0,o=e._x1,l=e._y1,i=(o-a)/3;e._context.bezierCurveTo(a+i,r+i*t,o-i,l-i*n,o,l)}function pp(e){this._context=e}function gp(e){this._context=new hp(e)}function hp(e){this._context=e}function vp(e){this._context=e}function mp(e){var t,n,a=e.length-1,r=new Array(a),o=new Array(a),l=new Array(a);for(r[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<a-1;++t)r[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(r[a-1]=2,o[a-1]=7,l[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)n=r[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(r[a-1]=l[a-1]/o[a-1],t=a-2;t>=0;--t)r[t]=(l[t]-r[t+1])/o[t];for(o[a-1]=(e[a]+r[a-1])/2,t=0;t<a-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function yp(e,t){this._context=e,this._t=t}lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},up.prototype={areaStart:Bd,areaEnd:Bd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dp(this,this._t0,fp(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dp(this,fp(this,n=sp(this,e,t)),n);break;default:dp(this,this._t0,n=sp(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(gp.prototype=Object.create(pp.prototype)).point=function(e,t){pp.prototype.point.call(this,t,e)},hp.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,r,o){this._context.bezierCurveTo(t,e,a,n,o,r)}},vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var a=mp(e),r=mp(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(a[0][o],r[0][o],a[1][o],r[1][o],e[l],t[l]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var bp=Math.PI,wp=2*bp,kp=1e-6,Cp=wp-kp;function xp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Pp(){return new xp}xp.prototype=Pp.prototype={constructor:xp,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,a){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+a)},bezierCurveTo:function(e,t,n,a,r,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +a+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(e,t,n,a,r){e=+e,t=+t,n=+n,a=+a,r=+r;var o=this._x1,l=this._y1,i=n-e,u=a-t,c=o-e,s=l-t,f=c*c+s*s;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>kp)if(Math.abs(s*i-u*c)>kp&&r){var d=n-o,p=a-l,g=i*i+u*u,h=d*d+p*p,v=Math.sqrt(g),m=Math.sqrt(f),y=r*Math.tan((bp-Math.acos((g+f-h)/(2*v*m)))/2),b=y/m,w=y/v;Math.abs(b-1)>kp&&(this._+="L"+(e+b*c)+","+(t+b*s)),this._+="A"+r+","+r+",0,0,"+ +(s*d>c*p)+","+(this._x1=e+w*i)+","+(this._y1=t+w*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,a,r,o){e=+e,t=+t,o=!!o;var l=(n=+n)*Math.cos(a),i=n*Math.sin(a),u=e+l,c=t+i,s=1^o,f=o?a-r:r-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>kp||Math.abs(this._y1-c)>kp)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%wp+wp),f>Cp?this._+="A"+n+","+n+",0,1,"+s+","+(e-l)+","+(t-i)+"A"+n+","+n+",0,1,"+s+","+(this._x1=u)+","+(this._y1=c):f>kp&&(this._+="A"+n+","+n+",0,"+ +(f>=bp)+","+s+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,a){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +a+"h"+-n+"Z"},toString:function(){return this._}};var _p=Pp;function Ep(e){return function(){return e}}function Sp(e){return e.innerRadius}function Bp(e){return e.outerRadius}function Op(e){return e.startAngle}function Ap(e){return e.endAngle}function Dp(e){return e&&e.padAngle}function Mp(e,t,n,a,r,o,l,i){var u=n-e,c=a-t,s=l-r,f=i-o,d=f*u-s*c;if(!(d*d<$d))return[e+(d=(s*(t-o)-f*(e-r))/d)*u,t+d*c]}function Np(e,t,n,a,r,o,l){var i=e-n,u=t-a,c=(l?o:-o)/Vd(i*i+u*u),s=c*u,f=-c*i,d=e+s,p=t+f,g=n+s,h=a+f,v=(d+g)/2,m=(p+h)/2,y=g-d,b=h-p,w=y*y+b*b,k=r-o,C=d*h-g*p,x=(b<0?-1:1)*Vd(Wd(0,k*k*w-C*C)),P=(C*b-y*x)/w,_=(-C*y-b*x)/w,E=(C*b+y*x)/w,S=(-C*y+b*x)/w,B=P-v,O=_-m,A=E-v,D=S-m;return B*B+O*O>A*A+D*D&&(P=E,_=S),{cx:P,cy:_,x01:-s,y01:-f,x11:P*(r/k-1),y11:_*(r/k-1)}}Array.prototype.slice;function jp(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Tp(e){return e[0]}function Fp(e){return e[1]}function Ip(e,t){var n=Ep(!0),a=null,r=ip,o=null;function l(l){var i,u,c,s=(l=jp(l)).length,f=!1;for(null==a&&(o=r(c=_p())),i=0;i<=s;++i)!(i<s&&n(u=l[i],i,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(u,i,l),+t(u,i,l));if(c)return o=null,c+""||null}return e="function"===typeof e?e:void 0===e?Tp:Ep(e),t="function"===typeof t?t:void 0===t?Fp:Ep(t),l.x=function(t){return arguments.length?(e="function"===typeof t?t:Ep(+t),l):e},l.y=function(e){return arguments.length?(t="function"===typeof e?e:Ep(+e),l):t},l.defined=function(e){return arguments.length?(n="function"===typeof e?e:Ep(!!e),l):n},l.curve=function(e){return arguments.length?(r=e,null!=a&&(o=r(a)),l):r},l.context=function(e){return arguments.length?(null==e?a=o=null:o=r(a=e),l):a},l}function Rp(e,t,n){var a=null,r=Ep(!0),o=null,l=ip,i=null;function u(u){var c,s,f,d,p,g=(u=jp(u)).length,h=!1,v=new Array(g),m=new Array(g);for(null==o&&(i=l(p=_p())),c=0;c<=g;++c){if(!(c<g&&r(d=u[c],c,u))===h)if(h=!h)s=c,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),f=c-1;f>=s;--f)i.point(v[f],m[f]);i.lineEnd(),i.areaEnd()}h&&(v[c]=+e(d,c,u),m[c]=+t(d,c,u),i.point(a?+a(d,c,u):v[c],n?+n(d,c,u):m[c]))}if(p)return i=null,p+""||null}function c(){return Ip().defined(r).curve(l).context(o)}return e="function"===typeof e?e:void 0===e?Tp:Ep(+e),t="function"===typeof t?t:Ep(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Fp:Ep(+n),u.x=function(t){return arguments.length?(e="function"===typeof t?t:Ep(+t),a=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:Ep(+t),u):e},u.x1=function(e){return arguments.length?(a=null==e?null:"function"===typeof e?e:Ep(+e),u):a},u.y=function(e){return arguments.length?(t="function"===typeof e?e:Ep(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"===typeof e?e:Ep(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Ep(+e),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(a).y(t)},u.defined=function(e){return arguments.length?(r="function"===typeof e?e:Ep(!!e),u):r},u.curve=function(e){return arguments.length?(l=e,null!=o&&(i=l(o)),u):l},u.context=function(e){return arguments.length?(null==e?o=i=null:i=l(o=e),u):o},u}Vd(3);var zp={draw:function(e,t){var n=Vd(t/Yd);e.moveTo(n,0),e.arc(0,0,n,0,Xd)}},Lp=(Vd(1/3),Gd(Yd/10)/Gd(7*Yd/10));Gd(Xd/10),Ud(Xd/10),Vd(3),Vd(3),Vd(3),Vd(12);function Hp(e,t){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}var Up=function(){return"undefined"!==typeof Image?Image:null},Wp=wo(yo),qp=Wp.right,Gp=Wp.left,Vp=(wo(Kc).center,qp);function $p(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yp(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Qp(){}var Xp=.7,Kp=1/Xp,Jp="\\s*([+-]?\\d+)\\s*",Zp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tg=/^#([0-9a-f]{3,8})$/,ng=new RegExp("^rgb\\(".concat(Jp,",").concat(Jp,",").concat(Jp,"\\)$")),ag=new RegExp("^rgb\\(".concat(eg,",").concat(eg,",").concat(eg,"\\)$")),rg=new RegExp("^rgba\\(".concat(Jp,",").concat(Jp,",").concat(Jp,",").concat(Zp,"\\)$")),og=new RegExp("^rgba\\(".concat(eg,",").concat(eg,",").concat(eg,",").concat(Zp,"\\)$")),lg=new RegExp("^hsl\\(".concat(Zp,",").concat(eg,",").concat(eg,"\\)$")),ig=new RegExp("^hsla\\(".concat(Zp,",").concat(eg,",").concat(eg,",").concat(Zp,"\\)$")),ug={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cg(){return this.rgb().formatHex()}function sg(){return this.rgb().formatRgb()}function fg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tg.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?dg(t):3===n?new vg(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?pg(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?pg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ng.exec(e))?new vg(t[1],t[2],t[3],1):(t=ag.exec(e))?new vg(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=rg.exec(e))?pg(t[1],t[2],t[3],t[4]):(t=og.exec(e))?pg(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=lg.exec(e))?Cg(t[1],t[2]/100,t[3]/100,1):(t=ig.exec(e))?Cg(t[1],t[2]/100,t[3]/100,t[4]):ug.hasOwnProperty(e)?dg(ug[e]):"transparent"===e?new vg(NaN,NaN,NaN,0):null}function dg(e){return new vg(e>>16&255,e>>8&255,255&e,1)}function pg(e,t,n,a){return a<=0&&(e=t=n=NaN),new vg(e,t,n,a)}function gg(e){return e instanceof Qp||(e=fg(e)),e?new vg((e=e.rgb()).r,e.g,e.b,e.opacity):new vg}function hg(e,t,n,a){return 1===arguments.length?gg(e):new vg(e,t,n,null==a?1:a)}function vg(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function mg(){return"#".concat(kg(this.r)).concat(kg(this.g)).concat(kg(this.b))}function yg(){var e=bg(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(wg(this.r),", ").concat(wg(this.g),", ").concat(wg(this.b)).concat(1===e?")":", ".concat(e,")"))}function bg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kg(e){return((e=wg(e))<16?"0":"")+e.toString(16)}function Cg(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _g(e,t,n,a)}function xg(e){if(e instanceof _g)return new _g(e.h,e.s,e.l,e.opacity);if(e instanceof Qp||(e=fg(e)),!e)return new _g;if(e instanceof _g)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),o=Math.max(t,n,a),l=NaN,i=o-r,u=(o+r)/2;return i?(l=t===o?(n-a)/i+6*(n<a):n===o?(a-t)/i+2:(t-n)/i+4,i/=u<.5?o+r:2-o-r,l*=60):i=u>0&&u<1?0:l,new _g(l,i,u,e.opacity)}function Pg(e,t,n,a){return 1===arguments.length?xg(e):new _g(e,t,n,null==a?1:a)}function _g(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function Eg(e){return(e=(e||0)%360)<0?e+360:e}function Sg(e){return Math.max(0,Math.min(1,e||0))}function Bg(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Og(e,t,n,a,r){var o=e*e,l=o*e;return((1-3*e+3*o-l)*t+(4-6*o+3*l)*n+(1+3*e+3*o-3*l)*a+l*r)/6}function Ag(e){var t=e.length-1;return function(n){var a=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[a],o=e[a+1],l=a>0?e[a-1]:2*r-o,i=a<t-1?e[a+2]:2*o-r;return Og((n-a/t)*t,l,r,o,i)}}function Dg(e){var t=e.length;return function(n){var a=Math.floor(((n%=1)<0?++n:n)*t),r=e[(a+t-1)%t],o=e[a%t],l=e[(a+1)%t],i=e[(a+2)%t];return Og((n-a/t)*t,r,o,l,i)}}$p(Qp,fg,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:cg,formatHex:cg,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return xg(this).formatHsl()},formatRgb:sg,toString:sg}),$p(vg,hg,Yp(Qp,{brighter:function(e){return e=null==e?Kp:Math.pow(Kp,e),new vg(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Xp:Math.pow(Xp,e),new vg(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new vg(wg(this.r),wg(this.g),wg(this.b),bg(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mg,formatHex:mg,formatHex8:function(){return"#".concat(kg(this.r)).concat(kg(this.g)).concat(kg(this.b)).concat(kg(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:yg,toString:yg})),$p(_g,Pg,Yp(Qp,{brighter:function(e){return e=null==e?Kp:Math.pow(Kp,e),new _g(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Xp:Math.pow(Xp,e),new _g(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new vg(Bg(e>=240?e-240:e+120,r,a),Bg(e,r,a),Bg(e<120?e+240:e-120,r,a),this.opacity)},clamp:function(){return new _g(Eg(this.h),Sg(this.s),Sg(this.l),bg(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=bg(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Eg(this.h),", ").concat(100*Sg(this.s),"%, ").concat(100*Sg(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var Mg=function(e){return function(){return e}};function Ng(e,t){return function(n){return e+n*t}}function jg(e,t){var n=t-e;return n?Ng(e,n>180||n<-180?n-360*Math.round(n/360):n):Mg(isNaN(e)?t:e)}function Tg(e){return 1===(e=+e)?Fg:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}(t,n,e):Mg(isNaN(t)?n:t)}}function Fg(e,t){var n=t-e;return n?Ng(e,n):Mg(isNaN(e)?t:e)}var Ig=function e(t){var n=Tg(t);function a(e,t){var a=n((e=hg(e)).r,(t=hg(t)).r),r=n(e.g,t.g),o=n(e.b,t.b),l=Fg(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=r(t),e.b=o(t),e.opacity=l(t),e+""}}return a.gamma=e,a}(1);function Rg(e){return function(t){var n,a,r=t.length,o=new Array(r),l=new Array(r),i=new Array(r);for(n=0;n<r;++n)a=hg(t[n]),o[n]=a.r||0,l[n]=a.g||0,i[n]=a.b||0;return o=e(o),l=e(l),i=e(i),a.opacity=1,function(e){return a.r=o(e),a.g=l(e),a.b=i(e),a+""}}}var zg=Rg(Ag),Lg=Rg(Dg);function Hg(e,t){t||(t=[]);var n,a=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<a;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}}function Ug(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wg(e,t){return(Ug(t)?Hg:qg)(e,t)}function qg(e,t){var n,a=t?t.length:0,r=e?Math.min(a,e.length):0,o=new Array(r),l=new Array(a);for(n=0;n<r;++n)o[n]=Kg(e[n],t[n]);for(;n<a;++n)l[n]=t[n];return function(e){for(n=0;n<r;++n)l[n]=o[n](e);return l}}function Gg(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function Vg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $g(e,t){var n,a={},r={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?a[n]=Kg(e[n],t[n]):r[n]=t[n];return function(e){for(n in a)r[n]=a[n](e);return r}}var Yg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qg=new RegExp(Yg.source,"g");function Xg(e,t){var n,a,r,o=Yg.lastIndex=Qg.lastIndex=0,l=-1,i=[],u=[];for(e+="",t+="";(n=Yg.exec(e))&&(a=Qg.exec(t));)(r=a.index)>o&&(r=t.slice(o,r),i[l]?i[l]+=r:i[++l]=r),(n=n[0])===(a=a[0])?i[l]?i[l]+=a:i[++l]=a:(i[++l]=null,u.push({i:l,x:Vg(n,a)})),o=Qg.lastIndex;return o<t.length&&(r=t.slice(o),i[l]?i[l]+=r:i[++l]=r),i.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,a=0;a<t;++a)i[(n=u[a]).i]=n.x(e);return i.join("")})}function Kg(e,t){var n,a=typeof t;return null==t||"boolean"===a?Mg(t):("number"===a?Vg:"string"===a?(n=fg(t))?(t=n,Ig):Xg:t instanceof fg?Ig:t instanceof Date?Gg:Ug(t)?Hg:Array.isArray(t)?qg:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?$g:Vg)(e,t)}function Jg(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Zg(e){return+e}var eh=[0,1];function th(e){return e}function nh(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function ah(e,t,n){var a=e[0],r=e[1],o=t[0],l=t[1];return r<a?(a=nh(r,a),o=n(l,o)):(a=nh(a,r),o=n(o,l)),function(e){return o(a(e))}}function rh(e,t,n){var a=Math.min(e.length,t.length)-1,r=new Array(a),o=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)r[l]=nh(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(t){var n=Vp(e,t,1,a)-1;return o[n](r[n](t))}}function oh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lh(){var e,t,n,a,r,o,l=eh,i=eh,u=Kg,c=th;function s(){var e=Math.min(l.length,i.length);return c!==th&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(l[0],l[e-1])),a=e>2?rh:ah,r=o=null,f}function f(t){return null==t||isNaN(t=+t)?n:(r||(r=a(l.map(e),i,u)))(e(c(t)))}return f.invert=function(n){return c(t((o||(o=a(i,l.map(e),Vg)))(n)))},f.domain=function(e){return arguments.length?(l=Array.from(e,Zg),s()):l.slice()},f.range=function(e){return arguments.length?(i=Array.from(e),s()):i.slice()},f.rangeRound=function(e){return i=Array.from(e),u=Jg,s()},f.clamp=function(e){return arguments.length?(c=!!e||th,s()):c!==th},f.interpolate=function(e){return arguments.length?(u=e,s()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,a){return e=n,t=a,s()}}function ih(){return lh()(th,th)}function uh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function ch(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}function sh(e,t,n,a){var r,o=Ya(e,t,n);switch((a=Ka(null==a?",f":a)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(r=tr(o,l))||(a.precision=r),cr(a,l);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(r=nr(o,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=r-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(r=ar(o))||(a.precision=r-2*("%"===a.type))}return ur(a)}function fh(e){var t=e.domain;return e.ticks=function(e){var n=t();return Va(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var a=t();return sh(a[0],a[a.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var a,r,o=t(),l=0,i=o.length-1,u=o[l],c=o[i],s=10;for(c<u&&(r=u,u=c,c=r,r=l,l=i,i=r);s-- >0;){if((r=$a(u,c,n))===a)return o[l]=u,o[i]=c,t(o);if(r>0)u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r}a=r}return e},e}function dh(e,t){var n,a=0,r=(e=e.slice()).length-1,o=e[a],l=e[r];return l<o&&(n=a,a=r,r=n,n=o,o=l,l=n),e[a]=t.floor(o),e[r]=t.ceil(l),e}function ph(e){return Math.log(e)}function gh(e){return Math.exp(e)}function hh(e){return-Math.log(-e)}function vh(e){return-Math.exp(-e)}function mh(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yh(e){return function(t,n){return-e(-t,n)}}function bh(e){var t,n,a=e(ph,gh),r=a.domain,o=10;function l(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?mh:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),r()[0]<0?(t=yh(t),n=yh(n),e(hh,vh)):e(ph,gh),a}return a.base=function(e){return arguments.length?(o=+e,l()):o},a.domain=function(e){return arguments.length?(r(e),l()):r()},a.ticks=function(e){var a=r(),l=a[0],i=a[a.length-1],u=i<l;if(u){var c=[i,l];l=c[0],i=c[1]}var s,f,d=t(l),p=t(i),g=null==e?10:+e,h=[];if(!(o%1)&&p-d<g){if(d=Math.floor(d),p=Math.ceil(p),l>0){for(;d<=p;++d)for(s=1;s<o;++s)if(!((f=d<0?s/n(-d):s*n(d))<l)){if(f>i)break;h.push(f)}}else for(;d<=p;++d)for(s=o-1;s>=1;--s)if(!((f=d>0?s/n(-d):s*n(d))<l)){if(f>i)break;h.push(f)}2*h.length<g&&(h=Va(l,i,g))}else h=Va(d,p,Math.min(p-d,g)).map(n);return u?h.reverse():h},a.tickFormat=function(e,r){if(null==e&&(e=10),null==r&&(r=10===o?"s":","),"function"!==typeof r&&(o%1||null!=(r=Ka(r)).precision||(r.trim=!0),r=ur(r)),e===1/0)return r;var l=Math.max(1,o*e/a.ticks().length);return function(e){var a=e/n(Math.round(t(e)));return a*o<o-.5&&(a*=o),a<=l?r(e):""}},a.nice=function(){return r(dh(r(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},a}function wh(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kh(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ch(e){return e<0?-e*e:e*e}function xh(e){var t=e(th,th),n=1;function a(){return 1===n?e(th,th):.5===n?e(kh,Ch):e(wh(n),wh(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,a()):n},fh(t)}function Ph(){var e=xh(lh());return e.copy=function(){return oh(e,Ph()).exponent(e.exponent())},uh.apply(e,arguments),e}function _h(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Eh(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sh(e){var t=1,n=e(_h(t),Eh(t));return n.constant=function(n){return arguments.length?e(_h(t=+n),Eh(t)):t},fh(n)}function Bh(e,t,n,a,r,o){var l=[[Zr,1,mr],[Zr,5,5e3],[Zr,15,15e3],[Zr,30,3e4],[o,1,yr],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,br],[r,3,108e5],[r,6,216e5],[r,12,432e5],[a,1,wr],[a,2,1728e5],[n,1,kr],[t,1,Cr],[t,3,7776e6],[e,1,xr]];function i(t,n,a){var r=Math.abs(n-t)/a,o=wo((function(e){return E(e,3)[2]})).right(l,r);if(o===l.length)return e.every(Ya(t/xr,n/xr,a));if(0===o)return to.every(Math.max(Ya(t,n,a),1));var i=E(l[r/l[o-1][2]<l[o][2]/r?o-1:o],2),u=i[0],c=i[1];return u.every(c)}return[function(e,t,n){var a=t<e;if(a){var r=[t,e];e=r[0],t=r[1]}var o=n&&"function"===typeof n.range?n:i(e,t,n),l=o?o.range(e,+t+1):[];return a?l.reverse():l},i]}var Oh=E(Bh(so,po,Ir,Tr,ho,mo),2),Ah=Oh[0],Dh=Oh[1],Mh=E(Bh(Gr,$r,Sr,_r,Qr,Kr),2),Nh=Mh[0],jh=Mh[1];function Th(e){return new Date(e)}function Fh(e){return e instanceof Date?+e:+new Date(+e)}function Ih(e,t,n,a,r,o,l,i,u,c){var s=ih(),f=s.invert,d=s.domain,p=c(".%L"),g=c(":%S"),h=c("%I:%M"),v=c("%I %p"),m=c("%a %d"),y=c("%b %d"),b=c("%B"),w=c("%Y");function k(e){return(u(e)<e?p:i(e)<e?g:l(e)<e?h:o(e)<e?v:a(e)<e?r(e)<e?m:y:n(e)<e?b:w)(e)}return s.invert=function(e){return new Date(f(e))},s.domain=function(e){return arguments.length?d(Array.from(e,Fh)):d().map(Th)},s.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},s.tickFormat=function(e,t){return null==t?k:c(t)},s.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(dh(n,e)):s},s.copy=function(){return oh(s,Ih(e,t,n,a,r,o,l,i,u,c))},s}function Rh(){var e,t,n,a,r,o=0,l=1,i=th,u=!1;function c(t){return null==t||isNaN(t=+t)?r:i(0===n?.5:(t=(a(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function s(e){return function(t){var n,a,r;return arguments.length?(a=(n=E(t,2))[0],r=n[1],i=e(a,r),c):[i(0),i(1)]}}return c.domain=function(r){var i;return arguments.length?(i=E(r,2),o=i[0],l=i[1],e=a(o=+o),t=a(l=+l),n=e===t?0:1/(t-e),c):[o,l]},c.clamp=function(e){return arguments.length?(u=!!e,c):u},c.interpolator=function(e){return arguments.length?(i=e,c):i},c.range=s(Kg),c.rangeRound=s(Jg),c.unknown=function(e){return arguments.length?(r=e,c):r},function(r){return a=r,e=r(o),t=r(l),n=e===t?0:1/(t-e),c}}function zh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Lh(){var e=fh(Rh()(th));return e.copy=function(){return zh(e,Lh())},ch.apply(e,arguments)}function Hh(){var e=xh(Rh());return e.copy=function(){return zh(e,Hh()).exponent(e.exponent())},ch.apply(e,arguments)}function Uh(e,t){void 0===t&&(t=e,e=Kg);for(var n=0,a=t.length-1,r=t[0],o=new Array(a<0?0:a);n<a;)o[n]=e(r,r=t[++n]);return function(e){var t=Math.max(0,Math.min(a-1,Math.floor(e*=a)));return o[t](e-t)}}function Wh(){var e,t,n,a,r,o,l,i=0,u=.5,c=1,s=1,f=th,d=!1;function p(e){return isNaN(e=+e)?l:(e=.5+((e=+o(e))-t)*(s*e<s*t?a:r),f(d?Math.max(0,Math.min(1,e)):e))}function g(e){return function(t){var n,a,r,o;return arguments.length?(a=(n=E(t,3))[0],r=n[1],o=n[2],f=Uh(e,[a,r,o]),p):[f(0),f(.5),f(1)]}}return p.domain=function(l){var f;return arguments.length?(f=E(l,3),i=f[0],u=f[1],c=f[2],e=o(i=+i),t=o(u=+u),n=o(c=+c),a=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),s=t<e?-1:1,p):[i,u,c]},p.clamp=function(e){return arguments.length?(d=!!e,p):d},p.interpolator=function(e){return arguments.length?(f=e,p):f},p.range=g(Kg),p.rangeRound=g(Jg),p.unknown=function(e){return arguments.length?(l=e,p):l},function(l){return o=l,e=l(i),t=l(u),n=l(c),a=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),s=t<e?-1:1,p}}function qh(){var e=xh(Wh());return e.copy=function(){return zh(e,qh()).exponent(e.exponent())},ch.apply(e,arguments)}function Gh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function Vh(){return Vh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var a=Gh(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Vh.apply(this,arguments)}var $h=function(e){N(n,e);var t=z(n);function n(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jh;if(O(this,n),a=t.call(this),Object.defineProperties(I(a),{_intern:{value:new Map},_key:{value:r}}),null!=e){var o,l=Wc(e);try{for(l.s();!(o=l.n()).done;){var i=E(o.value,2),u=i[0],c=i[1];a.set(u,c)}}catch(s){l.e(s)}finally{l.f()}}return a}return D(n,[{key:"get",value:function(e){return Vh(j(n.prototype),"get",this).call(this,Qh(this,e))}},{key:"has",value:function(e){return Vh(j(n.prototype),"has",this).call(this,Qh(this,e))}},{key:"set",value:function(e,t){return Vh(j(n.prototype),"set",this).call(this,Xh(this,e),t)}},{key:"delete",value:function(e){return Vh(j(n.prototype),"delete",this).call(this,Kh(this,e))}}]),n}(H(Map)),Yh=function(e){N(n,e);var t=z(n);function n(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jh;if(O(this,n),a=t.call(this),Object.defineProperties(I(a),{_intern:{value:new Map},_key:{value:r}}),null!=e){var o,l=Wc(e);try{for(l.s();!(o=l.n()).done;){var i=o.value;a.add(i)}}catch(u){l.e(u)}finally{l.f()}}return a}return D(n,[{key:"has",value:function(e){return Vh(j(n.prototype),"has",this).call(this,Qh(this,e))}},{key:"add",value:function(e){return Vh(j(n.prototype),"add",this).call(this,Xh(this,e))}},{key:"delete",value:function(e){return Vh(j(n.prototype),"delete",this).call(this,Kh(this,e))}}]),n}(H(Set));function Qh(e,t){var n=e._intern,a=(0,e._key)(t);return n.has(a)?n.get(a):t}function Xh(e,t){var n=e._intern,a=(0,e._key)(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function Kh(e,t){var n=e._intern,a=(0,e._key)(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function Jh(e){return null!==e&&"object"===typeof e?e.valueOf():e}var Zh=Symbol("implicit");function ev(){var e=new $h,t=[],n=[],a=Zh;function r(r){var o=e.get(r);if(void 0===o){if(a!==Zh)return a;e.set(r,o=t.push(r)-1)}return n[o%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new $h;var a,o=Wc(n);try{for(o.s();!(a=o.n()).done;){var l=a.value;e.has(l)||e.set(l,t.push(l)-1)}}catch(i){o.e(i)}finally{o.f()}return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(a=e,r):a},r.copy=function(){return ev(t,n).unknown(a)},uh.apply(r,arguments),r}function tv(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function nv(e,t){var n=jg(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}var av,rv=180/Math.PI,ov={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lv(e,t,n,a,r,o){var l,i,u;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(u=e*n+t*a)&&(n-=e*u,a-=t*u),(i=Math.sqrt(n*n+a*a))&&(n/=i,a/=i,u/=i),e*a<t*n&&(e=-e,t=-t,u=-u,l=-l),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*rv,skewX:Math.atan(u)*rv,scaleX:l,scaleY:i}}function iv(e,t,n,a){function r(e){return e.length?e.pop()+" ":""}return function(o,l){var i=[],u=[];return o=e(o),l=e(l),function(e,a,r,o,l,i){if(e!==r||a!==o){var u=l.push("translate(",null,t,null,n);i.push({i:u-4,x:Vg(e,r)},{i:u-2,x:Vg(a,o)})}else(r||o)&&l.push("translate("+r+t+o+n)}(o.translateX,o.translateY,l.translateX,l.translateY,i,u),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(r(n)+"rotate(",null,a)-2,x:Vg(e,t)})):t&&n.push(r(n)+"rotate("+t+a)}(o.rotate,l.rotate,i,u),function(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,a)-2,x:Vg(e,t)}):t&&n.push(r(n)+"skewX("+t+a)}(o.skewX,l.skewX,i,u),function(e,t,n,a,o,l){if(e!==n||t!==a){var i=o.push(r(o)+"scale(",null,",",null,")");l.push({i:i-4,x:Vg(e,n)},{i:i-2,x:Vg(t,a)})}else 1===n&&1===a||o.push(r(o)+"scale("+n+","+a+")")}(o.scaleX,o.scaleY,l.scaleX,l.scaleY,i,u),o=l=null,function(e){for(var t,n=-1,a=u.length;++n<a;)i[(t=u[n]).i]=t.x(e);return i.join("")}}}var uv=iv((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ov:lv(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),cv=iv((function(e){return null==e?ov:(av||(av=document.createElementNS("http://www.w3.org/2000/svg","g")),av.setAttribute("transform",e),(e=av.transform.baseVal.consolidate())?lv((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):ov)}),", ",")",")");function sv(e){return((e=Math.exp(e))+1/e)/2}var fv=function e(t,n,a){function r(e,r){var o,l,i=e[0],u=e[1],c=e[2],s=r[0],f=r[1],d=r[2],p=s-i,g=f-u,h=p*p+g*g;if(h<1e-12)l=Math.log(d/c)/t,o=function(e){return[i+e*p,u+e*g,c*Math.exp(t*e*l)]};else{var v=Math.sqrt(h),m=(d*d-c*c+a*h)/(2*c*n*v),y=(d*d-c*c-a*h)/(2*d*n*v),b=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(y*y+1)-y);l=(w-b)/t,o=function(e){var a=e*l,r=sv(b),o=c/(n*v)*(r*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*a+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[i+o*p,u+o*g,c*r/sv(t*a+b)]}}return o.duration=1e3*l*t/Math.SQRT2,o}return r.rho=function(t){var n=Math.max(.001,+t),a=n*n;return e(n,a,a*a)},r}(Math.SQRT2,2,4);function dv(e){return function(t,n){var a=e((t=Pg(t)).h,(n=Pg(n)).h),r=Fg(t.s,n.s),o=Fg(t.l,n.l),l=Fg(t.opacity,n.opacity);return function(e){return t.h=a(e),t.s=r(e),t.l=o(e),t.opacity=l(e),t+""}}}var pv=dv(jg),gv=dv(Fg),hv=Math.PI/180,vv=180/Math.PI,mv=.96422,yv=.82521,bv=4/29,wv=6/29,kv=3*wv*wv;function Cv(e){if(e instanceof Pv)return new Pv(e.l,e.a,e.b,e.opacity);if(e instanceof Dv)return Mv(e);e instanceof vg||(e=gg(e));var t,n,a=Bv(e.r),r=Bv(e.g),o=Bv(e.b),l=_v((.2225045*a+.7168786*r+.0606169*o)/1);return a===r&&r===o?t=n=l:(t=_v((.4360747*a+.3850649*r+.1430804*o)/mv),n=_v((.0139322*a+.0971045*r+.7141733*o)/yv)),new Pv(116*l-16,500*(t-l),200*(l-n),e.opacity)}function xv(e,t,n,a){return 1===arguments.length?Cv(e):new Pv(e,t,n,null==a?1:a)}function Pv(e,t,n,a){this.l=+e,this.a=+t,this.b=+n,this.opacity=+a}function _v(e){return e>.008856451679035631?Math.pow(e,1/3):e/kv+bv}function Ev(e){return e>wv?e*e*e:kv*(e-bv)}function Sv(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Bv(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ov(e){if(e instanceof Dv)return new Dv(e.h,e.c,e.l,e.opacity);if(e instanceof Pv||(e=Cv(e)),0===e.a&&0===e.b)return new Dv(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*vv;return new Dv(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Av(e,t,n,a){return 1===arguments.length?Ov(e):new Dv(e,t,n,null==a?1:a)}function Dv(e,t,n,a){this.h=+e,this.c=+t,this.l=+n,this.opacity=+a}function Mv(e){if(isNaN(e.h))return new Pv(e.l,0,0,e.opacity);var t=e.h*hv;return new Pv(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Nv(e,t){var n=Fg((e=xv(e)).l,(t=xv(t)).l),a=Fg(e.a,t.a),r=Fg(e.b,t.b),o=Fg(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=a(t),e.b=r(t),e.opacity=o(t),e+""}}function jv(e){return function(t,n){var a=e((t=Av(t)).h,(n=Av(n)).h),r=Fg(t.c,n.c),o=Fg(t.l,n.l),l=Fg(t.opacity,n.opacity);return function(e){return t.h=a(e),t.c=r(e),t.l=o(e),t.opacity=l(e),t+""}}}$p(Pv,xv,Yp(Qp,{brighter:function(e){return new Pv(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Pv(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new vg(Sv(3.1338561*(t=mv*Ev(t))-1.6168667*(e=1*Ev(e))-.4906146*(n=yv*Ev(n))),Sv(-.9787684*t+1.9161415*e+.033454*n),Sv(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),$p(Dv,Av,Yp(Qp,{brighter:function(e){return new Dv(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Dv(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Mv(this).rgb()}}));var Tv=jv(jg),Fv=jv(Fg),Iv=-.14861,Rv=1.78277,zv=-.29227,Lv=-.90649,Hv=1.97294,Uv=Hv*Lv,Wv=Hv*Rv,qv=Rv*zv-Lv*Iv;function Gv(e){if(e instanceof $v)return new $v(e.h,e.s,e.l,e.opacity);e instanceof vg||(e=gg(e));var t=e.r/255,n=e.g/255,a=e.b/255,r=(qv*a+Uv*t-Wv*n)/(qv+Uv-Wv),o=a-r,l=(Hv*(n-r)-zv*o)/Lv,i=Math.sqrt(l*l+o*o)/(Hv*r*(1-r)),u=i?Math.atan2(l,o)*vv-120:NaN;return new $v(u<0?u+360:u,i,r,e.opacity)}function Vv(e,t,n,a){return 1===arguments.length?Gv(e):new $v(e,t,n,null==a?1:a)}function $v(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function Yv(e){return function t(n){function a(t,a){var r=e((t=Vv(t)).h,(a=Vv(a)).h),o=Fg(t.s,a.s),l=Fg(t.l,a.l),i=Fg(t.opacity,a.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=l(Math.pow(e,n)),t.opacity=i(e),t+""}}return n=+n,a.gamma=t,a}(1)}$p($v,Vv,Yp(Qp,{brighter:function(e){return e=null==e?Kp:Math.pow(Kp,e),new $v(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Xp:Math.pow(Xp,e),new $v(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*hv,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Math.cos(e),r=Math.sin(e);return new vg(255*(t+n*(Iv*a+Rv*r)),255*(t+n*(zv*a+Lv*r)),255*(t+n*(Hv*a)),this.opacity)}}));var Qv,Xv,Kv=Yv(jg),Jv=Yv(Fg);function Zv(e,t){for(var n=new Array(t),a=0;a<t;++a)n[a]=e(a/(t-1));return n}function em(e,t,n){var a=e-t+2*n;return e?a>0?a:1:0}var tm="linear",nm="log",am="pow",rm="sqrt",om="symlog",lm="time",im="utc",um="sequential",cm="diverging",sm="quantile",fm="quantize",dm="threshold",pm="ordinal",gm="point",hm="band",vm="bin-ordinal",mm="continuous",ym="discrete",bm="discretizing",wm="interpolating",km="temporal";function Cm(){var e,t,n=ev().unknown(void 0),a=n.domain,r=n.range,o=[0,1],l=!1,i=0,u=0,c=.5;function s(){var n=a().length,s=o[1]<o[0],f=o[1-s],d=em(n,i,u),p=o[s-0];e=(f-p)/(d||1),l&&(e=Math.floor(e)),p+=(f-p-e*(n-i))*c,t=e*(1-i),l&&(p=Math.round(p),t=Math.round(t));var g=Js(n).map((function(t){return p+e*t}));return r(s?g.reverse():g)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),s()):a()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],s()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],l=!0,s()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(l=!!e,s()):l},n.padding=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),i=u,s()):i},n.paddingInner=function(e){return arguments.length?(i=Math.max(0,Math.min(1,e)),s()):i},n.paddingOuter=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),s()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),s()):c},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,l,i,u=o[1]<o[0],c=u?r().reverse():r(),s=c.length-1,f=+e[0],d=+e[1];if(f===f&&d===d&&(d<f&&(i=f,f=d,d=i),!(d<c[0]||f>o[1-u])))return n=Math.max(0,qp(c,f)-1),l=f===d?n:qp(c,d)-1,f-c[n]>t+1e-10&&++n,u&&(i=n,n=s-l,l=s-i),n>l?void 0:a().slice(n,l+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return Cm().domain(a()).range(o).round(l).paddingInner(i).paddingOuter(u).align(c)},s()}function xm(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return xm(t())},e}var Pm=Array.prototype.map;function _m(e){return Pm.call(e,wn)}var Em=Array.prototype.slice;var Sm={};function Bm(e,t,n){var a=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,a=t[0],r=t[1];return r<a&&(n=a,a=r,r=n),[e.invert(a),e.invert(r)]}}(n):n.invertExtent?function(e){return function(t){var n,a,r,o,l=e.range(),i=t[0],u=t[1],c=-1;for(u<i&&(a=i,i=u,u=a),r=0,o=l.length;r<o;++r)l[r]>=i&&l[r]<=u&&(c<0&&(c=r),n=r);if(!(c<0))return i=e.invertExtent(l[c]),u=e.invertExtent(l[n]),[void 0===i[0]?i[1]:i[0],void 0===u[1]?u[0]:u[1]]}}(n):void 0),n.type=e,n};return a.metadata=Ca(Rn(n)),a}function Om(e,t,n){return arguments.length>1?(Sm[e]=Bm(e,t,n),this):Am(e)?Sm[e]:void 0}function Am(e){return Jn(Sm,e)}function Dm(e,t){var n=Sm[e];return n&&n.metadata[t]}function Mm(e){return Dm(e,mm)}function Nm(e){return Dm(e,ym)}function jm(e){return Dm(e,bm)}function Tm(e){return Dm(e,nm)}function Fm(e){return Dm(e,wm)}function Im(e){return Dm(e,sm)}Om("identity",(function e(t){var n;function a(e){return null==e||isNaN(e=+e)?n:e}return a.invert=a,a.domain=a.range=function(e){return arguments.length?(t=Array.from(e,Zg),a):t.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Zg):[0,1],fh(a)})),Om(tm,(function e(){var t=ih();return t.copy=function(){return oh(t,e())},uh.apply(t,arguments),fh(t)}),mm),Om(nm,(function e(){var t=bh(lh()).domain([1,10]);return t.copy=function(){return oh(t,e()).base(t.base())},uh.apply(t,arguments),t}),[mm,nm]),Om(am,Ph,mm),Om(rm,(function(){return Ph.apply(null,arguments).exponent(.5)}),mm),Om(om,(function e(){var t=Sh(lh());return t.copy=function(){return oh(t,e()).constant(t.constant())},uh.apply(t,arguments)}),mm),Om(lm,(function(){return uh.apply(Ih(Nh,jh,Gr,$r,Sr,_r,Qr,Kr,Zr,Fl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[mm,km]),Om(im,(function(){return uh.apply(Ih(Ah,Dh,so,po,Ir,Tr,ho,mo,Zr,Rl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[mm,km]),Om(um,Lh,[mm,wm]),Om("".concat(um,"-").concat(tm),Lh,[mm,wm]),Om("".concat(um,"-").concat(nm),(function e(){var t=bh(Rh()).domain([1,10]);return t.copy=function(){return zh(t,e()).base(t.base())},ch.apply(t,arguments)}),[mm,wm,nm]),Om("".concat(um,"-").concat(am),Hh,[mm,wm]),Om("".concat(um,"-").concat(rm),(function(){return Hh.apply(null,arguments).exponent(.5)}),[mm,wm]),Om("".concat(um,"-").concat(om),(function e(){var t=Sh(Rh());return t.copy=function(){return zh(t,e()).constant(t.constant())},ch.apply(t,arguments)}),[mm,wm]),Om("".concat(cm,"-").concat(tm),(function e(){var t=fh(Wh()(th));return t.copy=function(){return zh(t,e())},ch.apply(t,arguments)}),[mm,wm]),Om("".concat(cm,"-").concat(nm),(function e(){var t=bh(Wh()).domain([.1,1,10]);return t.copy=function(){return zh(t,e()).base(t.base())},ch.apply(t,arguments)}),[mm,wm,nm]),Om("".concat(cm,"-").concat(am),qh,[mm,wm]),Om("".concat(cm,"-").concat(rm),(function(){return qh.apply(null,arguments).exponent(.5)}),[mm,wm]),Om("".concat(cm,"-").concat(om),(function e(){var t=Sh(Wh());return t.copy=function(){return zh(t,e()).constant(t.constant())},ch.apply(t,arguments)}),[mm,wm]),Om(sm,(function e(){var t,n=[],a=[],r=[];function o(){var e=0,t=Math.max(1,a.length);for(r=new Array(t-1);++e<t;)r[e-1]=es(n,e/t);return l}function l(e){return null==e||isNaN(e=+e)?t:a[Vp(r,e)]}return l.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]},l.domain=function(e){if(!arguments.length)return n.slice();n=[];var t,a=Wc(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;null==r||isNaN(r=+r)||n.push(r)}}catch(l){a.e(l)}finally{a.f()}return n.sort(yo),o()},l.range=function(e){return arguments.length?(a=Array.from(e),o()):a.slice()},l.unknown=function(e){return arguments.length?(t=e,l):t},l.quantiles=function(){return r.slice()},l.copy=function(){return e().domain(n).range(a).unknown(t)},uh.apply(l,arguments)}),[bm,sm]),Om(fm,(function e(){var t,n=0,a=1,r=1,o=[.5],l=[0,1];function i(e){return null!=e&&e<=e?l[Vp(o,e,0,r)]:t}function u(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*a-(e-r)*n)/(r+1);return i}return i.domain=function(e){var t;return arguments.length?(t=E(e,2),n=t[0],a=t[1],n=+n,a=+a,u()):[n,a]},i.range=function(e){return arguments.length?(r=(l=Array.from(e)).length-1,u()):l.slice()},i.invertExtent=function(e){var t=l.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=r?[o[r-1],a]:[o[t-1],o[t]]},i.unknown=function(e){return arguments.length?(t=e,i):i},i.thresholds=function(){return o.slice()},i.copy=function(){return e().domain([n,a]).range(l).unknown(t)},uh.apply(fh(i),arguments)}),bm),Om(dm,(function e(){var t,n=[.5],a=[0,1],r=1;function o(e){return null!=e&&e<=e?a[Vp(n,e,0,r)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),r=Math.min(n.length,a.length-1),o):n.slice()},o.range=function(e){return arguments.length?(a=Array.from(e),r=Math.min(n.length,a.length-1),o):a.slice()},o.invertExtent=function(e){var t=a.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(a).unknown(t)},uh.apply(o,arguments)}),bm),Om(vm,(function e(){var t=[],n=[];function a(e){return null==e||e!==e?void 0:n[(Vp(t,e)-1)%n.length]}return a.domain=function(e){return arguments.length?(t=_m(e),a):t.slice()},a.range=function(e){return arguments.length?(n=Em.call(e),a):n.slice()},a.tickFormat=function(e,n){return sh(t[0],bn(t),null==e?10:e,n)},a.copy=function(){return e().domain(a.domain()).range(a.range())},a}),[ym,bm]),Om(pm,ev,ym),Om(hm,Cm,ym),Om(gm,(function(){return xm(Cm().paddingInner(1))}),ym);var Rm=["clamp","base","constant","exponent"];function zm(e,t){var n=t[0],a=bn(t)-n;return function(t){return e(n+t*a)}}function Lm(e,t,n){return Uh(Wm(t||"rgb",n),e)}function Hm(e,t){for(var n=new Array(t),a=t+1,r=0;r<t;)n[r]=e(++r/a);return n}function Um(e,t,n){var a,r,o,l=n-t;return l&&Number.isFinite(l)?(a=(r=e.type).indexOf("-"),r=a<0?r:r.slice(a+1),o=Om(r)().domain([t,n]).range([0,1]),Rm.forEach((function(t){return e[t]?o[t](e[t]()):0})),o):Vn(.5)}function Wm(e,t){var n=r[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function qm(e){for(var t=e.length/6|0,n=new Array(t),a=0;a<t;)n[a]="#"+e.slice(6*a,6*++a);return n}function Gm(e,t){for(var n in e)$m(n,t(e[n]))}var Vm={};function $m(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Vm[e]=t,this):Vm[e]}Gm({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},qm),Gm({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return Lm(qm(e))}));var Ym="symbol",Qm=function(e){return pn(e)?e.map((function(e){return String(e)})):String(e)},Xm=function(e,t){return e[1]-t[1]},Km=function(e,t){return t[1]-e[1]};function Jm(e,t,n){var a;return ia(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(va(e.domain())/n||1)))),gn(t)&&(a=t.step,t=t.interval),ca(t)&&(t=e.type===lm?ul(t):e.type==im?cl(t):Xt("Only time and utc scales accept interval strings."),a&&(t=t.every(a))),t}function Zm(e,t,n){var a=e.range(),r=a[0],o=bn(a),l=Xm;if(r>o&&(a=o,o=r,r=a,l=Km),r=Math.floor(r),o=Math.ceil(o),t=t.map((function(t){return[t,e(t)]})).filter((function(e){return r<=e[1]&&e[1]<=o})).sort(l).map((function(e){return e[0]})),n>0&&t.length>1){for(var i=[t[0],bn(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=i)}return t}function ey(e,t){return e.bins?Zm(e,e.bins):e.ticks?e.ticks(t):e.domain()}function ty(e,t,n,a,r,o){var l=t.type,i=Qm;if(l===lm||r===lm)i=e.timeFormat(a);else if(l===im||r===im)i=e.utcFormat(a);else if(Tm(l)){var u=e.formatFloat(a);if(o||t.bins)i=u;else{var c=ny(t,n,!1);i=function(e){return c(e)?u(e):""}}}else if(t.tickFormat){var s=t.domain();i=e.formatSpan(s[0],s[s.length-1],n,a)}else a&&(i=e.format(a));return i}function ny(e,t,n){var a=ey(e,t),r=e.base(),o=Math.log(r),l=Math.max(1,r*t/a.length),i=function(e){var t=e/Math.pow(r,Math.round(Math.log(e)/o));return t*r<r-.5&&(t*=r),t<=l};return n?a.filter(i):i}var ay=(pr(Qv={},sm,"quantiles"),pr(Qv,fm,"thresholds"),pr(Qv,dm,"domain"),Qv),ry=(pr(Xv={},sm,"quantiles"),pr(Xv,fm,"domain"),Xv);function oy(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=bn(e),t}(e.bins):e.type===nm?ny(e,t,!0):ay[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[ay[e.type]]()):ey(e,t)}function ly(e,t,n,a,r,o,l){var i=ry[t.type]&&o!==lm&&o!==im?function(e,t,n){var a,r=t[ry[t.type]](),o=r.length,l=o>1?r[1]-r[0]:r[0];for(a=1;a<o;++a)l=Math.min(l,r[a]-r[a-1]);return e.formatSpan(0,l,30,n)}(e,t,r):ty(e,t,n,r,o,l);return a===Ym&&function(e){return ay[e.type]||e.bins}(t)?iy(i):"discrete"===a?cy(i):sy(i)}var iy=function(e){return function(t,n,a){var r=uy(a[n+1],uy(a.max,1/0)),o=fy(t,e),l=fy(r,e);return o&&l?o+" \u2013 "+l:l?"< "+l:"\u2265 "+o}},uy=function(e,t){return null!=e?e:t},cy=function(e){return function(t,n){return n?e(t):null}},sy=function(e){return function(t){return e(t)}},fy=function(e,t){return Number.isFinite(e)?t(e):null};function dy(e,t,n,a){var r=a||t.type;return ca(n)&&function(e){return Dm(e,km)}(r)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||r!==lm?n||r!==im?ly(e,t,5,null,n,a,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function py(e,t,n){n=n||{};var a=Math.max(3,n.maxlen||7),r=dy(e,t,n.format,n.formatType);if(jm(t.type)){var o=oy(t).slice(1).map(r),l=o.length;return"".concat(l," boundar").concat(1===l?"y":"ies",": ").concat(o.join(", "))}if(Nm(t.type)){var i=t.domain(),u=i.length,c=u>a?i.slice(0,a-2).map(r).join(", ")+", ending with "+i.slice(-1).map(r):i.map(r).join(", ");return"".concat(u," value").concat(1===u?"":"s",": ").concat(c)}var s=t.domain();return"values from ".concat(r(s[0])," to ").concat(r(bn(s)))}var gy=0;var hy="p_";function vy(e){return e&&e.gradient}function my(e,t,n){var a=e.gradient,r=e.id,o="radial"===a?hy:"";return r||(r=e.id="gradient_"+gy++,"radial"===a?(e.x1=yy(e.x1,.5),e.y1=yy(e.y1,.5),e.r1=yy(e.r1,0),e.x2=yy(e.x2,.5),e.y2=yy(e.y2,.5),e.r2=yy(e.r2,.5),o=hy):(e.x1=yy(e.x1,0),e.y1=yy(e.y1,0),e.x2=yy(e.x2,1),e.y2=yy(e.y2,0))),t[r]=e,"url("+(n||"")+"#"+o+r+")"}function yy(e,t){return null!=e?e:t}function by(e,t){var n,a=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:a,stop:function(e,t){return a.push({offset:e,color:t}),n}}}var wy={basis:{curve:function(e){return new Sd(e)}},"basis-closed":{curve:function(e){return new Od(e)}},"basis-open":{curve:function(e){return new Ad(e)}},bundle:{curve:Md,tension:"beta",value:.85},cardinal:{curve:Td,tension:"tension",value:0},"cardinal-open":{curve:Id,tension:"tension",value:0},"cardinal-closed":{curve:zd,tension:"tension",value:0},"catmull-rom":{curve:tp,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ap,tension:"alpha",value:.5},"catmull-rom-open":{curve:op,tension:"alpha",value:.5},linear:{curve:ip},"linear-closed":{curve:function(e){return new up(e)}},monotone:{horizontal:function(e){return new gp(e)},vertical:function(e){return new pp(e)}},natural:{curve:function(e){return new vp(e)}},step:{curve:function(e){return new yp(e,.5)}},"step-after":{curve:function(e){return new yp(e,1)}},"step-before":{curve:function(e){return new yp(e,0)}}};function ky(e,t,n){var a=Jn(wy,e)&&wy[e],r=null;return a&&(r=a.curve||a[t||"vertical"],a.tension&&null!=n&&(r=r[a.tension](n))),r}var Cy={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},xy=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Py=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,_y=/^((\s+,?\s*)|(,\s*))/,Ey=/^[01]/;function Sy(e){var t=[];return(e.match(xy)||[]).forEach((function(e){var n=e[0],a=n.toLowerCase(),r=Cy[a],o=function(e,t,n){for(var a=[],r=0;t&&r<n.length;)for(var o=0;o<t;++o){var l="a"!==e||3!==o&&4!==o?Py:Ey,i=n.slice(r).match(l);if(null===i)throw Error("Invalid SVG path, incorrect parameter type");r+=i[0].length,a.push(+i[0]);var u=n.slice(r).match(_y);null!==u&&(r+=u[0].length)}return a}(a,r,e.slice(1).trim()),l=o.length;if(l<r||l&&l%r!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([n].concat(B(o.slice(0,r)))),l!==r){"m"===a&&(n="M"===n?"L":"l");for(var i=r;i<l;i+=r)t.push([n].concat(B(o.slice(i,i+r))))}})),t}var By=Math.PI/180,Oy=Math.PI/2,Ay=2*Math.PI,Dy=Math.sqrt(3)/2,My={},Ny={},jy=[].join;function Ty(e){var t=jy.call(e);if(Ny[t])return Ny[t];var n=e[0],a=e[1],r=e[2],o=e[3],l=e[4],i=e[5],u=e[6],c=e[7],s=c*l,f=-u*i,d=u*l,p=c*i,g=Math.cos(r),h=Math.sin(r),v=Math.cos(o),m=Math.sin(o),y=.5*(o-r),b=Math.sin(.5*y),w=8/3*b*b/Math.sin(y),k=n+g-w*h,C=a+h+w*g,x=n+v,P=a+m,_=x+w*m,E=P-w*v;return Ny[t]=[s*k+f*C,d*k+p*C,s*_+f*E,d*_+p*E,s*x+f*P,d*x+p*P]}var Fy=["l",0,0,0,0,0,0,0];function Iy(e,t,n){var a=Fy[0]=e[0];if("a"===a||"A"===a)Fy[1]=t*e[1],Fy[2]=n*e[2],Fy[3]=e[3],Fy[4]=e[4],Fy[5]=e[5],Fy[6]=t*e[6],Fy[7]=n*e[7];else if("h"===a||"H"===a)Fy[1]=t*e[1];else if("v"===a||"V"===a)Fy[1]=n*e[1];else for(var r=1,o=e.length;r<o;++r)Fy[r]=(r%2==1?t:n)*e[r];return Fy}function Ry(e,t,n,a,r,o){var l,i,u,c,s,f=null,d=0,p=0,g=0,h=0,v=0,m=0;null==n&&(n=0),null==a&&(a=0),null==r&&(r=1),null==o&&(o=r),e.beginPath&&e.beginPath();for(var y=0,b=t.length;y<b;++y){switch(l=t[y],1===r&&1===o||(l=Iy(l,r,o)),l[0]){case"l":d+=l[1],p+=l[2],e.lineTo(d+n,p+a);break;case"L":d=l[1],p=l[2],e.lineTo(d+n,p+a);break;case"h":d+=l[1],e.lineTo(d+n,p+a);break;case"H":d=l[1],e.lineTo(d+n,p+a);break;case"v":p+=l[1],e.lineTo(d+n,p+a);break;case"V":p=l[1],e.lineTo(d+n,p+a);break;case"m":v=d+=l[1],m=p+=l[2],e.moveTo(d+n,p+a);break;case"M":v=d=l[1],m=p=l[2],e.moveTo(d+n,p+a);break;case"c":i=d+l[5],u=p+l[6],g=d+l[3],h=p+l[4],e.bezierCurveTo(d+l[1]+n,p+l[2]+a,g+n,h+a,i+n,u+a),d=i,p=u;break;case"C":d=l[5],p=l[6],g=l[3],h=l[4],e.bezierCurveTo(l[1]+n,l[2]+a,g+n,h+a,d+n,p+a);break;case"s":i=d+l[3],u=p+l[4],g=2*d-g,h=2*p-h,e.bezierCurveTo(g+n,h+a,d+l[1]+n,p+l[2]+a,i+n,u+a),g=d+l[1],h=p+l[2],d=i,p=u;break;case"S":i=l[3],u=l[4],g=2*d-g,h=2*p-h,e.bezierCurveTo(g+n,h+a,l[1]+n,l[2]+a,i+n,u+a),d=i,p=u,g=l[1],h=l[2];break;case"q":i=d+l[3],u=p+l[4],g=d+l[1],h=p+l[2],e.quadraticCurveTo(g+n,h+a,i+n,u+a),d=i,p=u;break;case"Q":i=l[3],u=l[4],e.quadraticCurveTo(l[1]+n,l[2]+a,i+n,u+a),d=i,p=u,g=l[1],h=l[2];break;case"t":i=d+l[1],u=p+l[2],null===f[0].match(/[QqTt]/)?(g=d,h=p):"t"===f[0]?(g=2*d-c,h=2*p-s):"q"===f[0]&&(g=2*d-g,h=2*p-h),c=g,s=h,e.quadraticCurveTo(g+n,h+a,i+n,u+a),p=u,g=(d=i)+l[1],h=p+l[2];break;case"T":i=l[1],u=l[2],g=2*d-g,h=2*p-h,e.quadraticCurveTo(g+n,h+a,i+n,u+a),d=i,p=u;break;case"a":zy(e,d+n,p+a,[l[1],l[2],l[3],l[4],l[5],l[6]+d+n,l[7]+p+a]),d+=l[6],p+=l[7];break;case"A":zy(e,d+n,p+a,[l[1],l[2],l[3],l[4],l[5],l[6]+n,l[7]+a]),d=l[6],p=l[7];break;case"z":case"Z":d=v,p=m,e.closePath()}f=l}}function zy(e,t,n,a){for(var r=function(e,t,n,a,r,o,l,i,u){var c=jy.call(arguments);if(My[c])return My[c];var s=l*By,f=Math.sin(s),d=Math.cos(s),p=d*(i-e)*.5+f*(u-t)*.5,g=d*(u-t)*.5-f*(i-e)*.5,h=p*p/((n=Math.abs(n))*n)+g*g/((a=Math.abs(a))*a);h>1&&(n*=h=Math.sqrt(h),a*=h);var v=d/n,m=f/n,y=-f/a,b=d/a,w=v*i+m*u,k=y*i+b*u,C=v*e+m*t,x=y*e+b*t,P=1/((C-w)*(C-w)+(x-k)*(x-k))-.25;P<0&&(P=0);var _=Math.sqrt(P);o==r&&(_=-_);var E=.5*(w+C)-_*(x-k),S=.5*(k+x)+_*(C-w),B=Math.atan2(k-S,w-E),O=Math.atan2(x-S,C-E)-B;O<0&&1===o?O+=Ay:O>0&&0===o&&(O-=Ay);for(var A=Math.ceil(Math.abs(O/(Oy+.001))),D=[],M=0;M<A;++M){var N=B+M*O/A,j=B+(M+1)*O/A;D[M]=[E,S,N,j,n,a,f,d]}return My[c]=D}(a[5],a[6],a[0],a[1],a[3],a[4],a[2],t,n),o=0;o<r.length;++o){var l=Ty(r[o]);e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5])}}var Ly=.5773502691896257,Hy={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Ay)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,a=n/2.5;e.moveTo(-n,-a),e.lineTo(-n,a),e.lineTo(-a,a),e.lineTo(-a,n),e.lineTo(a,n),e.lineTo(a,a),e.lineTo(n,a),e.lineTo(n,-a),e.lineTo(a,-a),e.lineTo(a,-n),e.lineTo(-a,-n),e.lineTo(-a,-a),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),a=-n/2;e.rect(a,a,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,a=n/7,r=n/2.5,o=n/8;e.moveTo(-a,n),e.lineTo(a,n),e.lineTo(a,-o),e.lineTo(r,-o),e.lineTo(0,-n),e.lineTo(-r,-o),e.lineTo(-a,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,a=Dy*n,r=a-n*Ly,o=n/4;e.moveTo(0,-a-r),e.lineTo(-o,a-r),e.lineTo(o,a-r),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,a=Dy*n,r=a-n*Ly;e.moveTo(0,-a-r),e.lineTo(-n,a-r),e.lineTo(n,a-r),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,a=Dy*n;e.moveTo(0,-a),e.lineTo(-n,a),e.lineTo(n,a),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,a=Dy*n;e.moveTo(0,a),e.lineTo(-n,-a),e.lineTo(n,-a),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,a=Dy*n;e.moveTo(a,0),e.lineTo(-a,-n),e.lineTo(-a,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,a=Dy*n;e.moveTo(-a,0),e.lineTo(a,-n),e.lineTo(a,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Uy(e){return Jn(Hy,e)?Hy[e]:function(e){if(!Jn(Wy,e)){var t=Sy(e);Wy[e]={draw:function(e,n){Ry(e,t,0,0,Math.sqrt(n)/2)}}}return Wy[e]}(e)}var Wy={};var qy=.448084975506;function Gy(e){return e.x}function Vy(e){return e.y}function $y(e){return e.width}function Yy(e){return e.height}function Qy(e){return"function"===typeof e?e:function(){return+e}}function Xy(e,t,n){return Math.max(t,Math.min(e,n))}function Ky(){var e=Gy,t=Vy,n=$y,a=Yy,r=Qy(0),o=r,l=r,i=r,u=null;function c(c,s,f){var d,p=null!=s?s:+e.call(this,c),g=null!=f?f:+t.call(this,c),h=+n.call(this,c),v=+a.call(this,c),m=Math.min(h,v)/2,y=Xy(+r.call(this,c),0,m),b=Xy(+o.call(this,c),0,m),w=Xy(+l.call(this,c),0,m),k=Xy(+i.call(this,c),0,m);if(u||(u=d=_p()),y<=0&&b<=0&&w<=0&&k<=0)u.rect(p,g,h,v);else{var C=p+h,x=g+v;u.moveTo(p+y,g),u.lineTo(C-b,g),u.bezierCurveTo(C-qy*b,g,C,g+qy*b,C,g+b),u.lineTo(C,x-k),u.bezierCurveTo(C,x-qy*k,C-qy*k,x,C-k,x),u.lineTo(p+w,x),u.bezierCurveTo(p+qy*w,x,p,x-qy*w,p,x-w),u.lineTo(p,g+y),u.bezierCurveTo(p,g+qy*y,p+qy*y,g,p+y,g),u.closePath()}if(d)return u=null,d+""||null}return c.x=function(t){return arguments.length?(e=Qy(t),c):e},c.y=function(e){return arguments.length?(t=Qy(e),c):t},c.width=function(e){return arguments.length?(n=Qy(e),c):n},c.height=function(e){return arguments.length?(a=Qy(e),c):a},c.cornerRadius=function(e,t,n,a){return arguments.length?(r=Qy(e),o=null!=t?Qy(t):r,i=null!=n?Qy(n):r,l=null!=a?Qy(a):o,c):r},c.context=function(e){return arguments.length?(u=null==e?null:e,c):u},c}function Jy(){var e,t,n,a,r,o,l,i,u=null;function c(e,t,n){var a=n/2;if(r){var c=l-t,s=e-o;if(c||s){var f=Math.sqrt(c*c+s*s),d=(c/=f)*i,p=(s/=f)*i,g=Math.atan2(s,c);u.moveTo(o-d,l-p),u.lineTo(e-c*a,t-s*a),u.arc(e,t,a,g-Math.PI,g),u.lineTo(o+d,l+p),u.arc(o,l,i,g,g+Math.PI)}else u.arc(e,t,a,0,Ay);u.closePath()}else r=1;o=e,l=t,i=a}function s(o){var l,i,s,f=o.length,d=!1;for(null==u&&(u=s=_p()),l=0;l<=f;++l)!(l<f&&a(i=o[l],l,o))===d&&(d=!d)&&(r=0),d&&c(+e(i,l,o),+t(i,l,o),+n(i,l,o));if(s)return u=null,s+""||null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(e){return arguments.length?(t=e,s):t},s.size=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(a=e,s):a},s.context=function(e){return arguments.length?(u=null==e?null:e,s):u},s}function Zy(e,t){return null!=e?e:t}var eb=function(e){return e.x||0},tb=function(e){return e.y||0},nb=function(e){return!(!1===e.defined)},ab=function(){var e=Sp,t=Bp,n=Ep(0),a=null,r=Op,o=Ap,l=Dp,i=null;function u(){var u,c,s=+e.apply(this,arguments),f=+t.apply(this,arguments),d=r.apply(this,arguments)-Qd,p=o.apply(this,arguments)-Qd,g=Ld(p-d),h=p>d;if(i||(i=u=_p()),f<s&&(c=f,f=s,s=c),f>$d)if(g>Xd-$d)i.moveTo(f*Ud(d),f*Gd(d)),i.arc(0,0,f,d,p,!h),s>$d&&(i.moveTo(s*Ud(p),s*Gd(p)),i.arc(0,0,s,p,d,h));else{var v,m,y=d,b=p,w=d,k=p,C=g,x=g,P=l.apply(this,arguments)/2,_=P>$d&&(a?+a.apply(this,arguments):Vd(s*s+f*f)),E=qd(Ld(f-s)/2,+n.apply(this,arguments)),S=E,B=E;if(_>$d){var O=Jd(_/s*Gd(P)),A=Jd(_/f*Gd(P));(C-=2*O)>$d?(w+=O*=h?1:-1,k-=O):(C=0,w=k=(d+p)/2),(x-=2*A)>$d?(y+=A*=h?1:-1,b-=A):(x=0,y=b=(d+p)/2)}var D=f*Ud(y),M=f*Gd(y),N=s*Ud(k),j=s*Gd(k);if(E>$d){var T,F=f*Ud(b),I=f*Gd(b),R=s*Ud(w),z=s*Gd(w);if(g<Yd&&(T=Mp(D,M,R,z,F,I,N,j))){var L=D-T[0],H=M-T[1],U=F-T[0],W=I-T[1],q=1/Gd(Kd((L*U+H*W)/(Vd(L*L+H*H)*Vd(U*U+W*W)))/2),G=Vd(T[0]*T[0]+T[1]*T[1]);S=qd(E,(s-G)/(q-1)),B=qd(E,(f-G)/(q+1))}}x>$d?B>$d?(v=Np(R,z,D,M,f,B,h),m=Np(F,I,N,j,f,B,h),i.moveTo(v.cx+v.x01,v.cy+v.y01),B<E?i.arc(v.cx,v.cy,B,Hd(v.y01,v.x01),Hd(m.y01,m.x01),!h):(i.arc(v.cx,v.cy,B,Hd(v.y01,v.x01),Hd(v.y11,v.x11),!h),i.arc(0,0,f,Hd(v.cy+v.y11,v.cx+v.x11),Hd(m.cy+m.y11,m.cx+m.x11),!h),i.arc(m.cx,m.cy,B,Hd(m.y11,m.x11),Hd(m.y01,m.x01),!h))):(i.moveTo(D,M),i.arc(0,0,f,y,b,!h)):i.moveTo(D,M),s>$d&&C>$d?S>$d?(v=Np(N,j,F,I,s,-S,h),m=Np(D,M,R,z,s,-S,h),i.lineTo(v.cx+v.x01,v.cy+v.y01),S<E?i.arc(v.cx,v.cy,S,Hd(v.y01,v.x01),Hd(m.y01,m.x01),!h):(i.arc(v.cx,v.cy,S,Hd(v.y01,v.x01),Hd(v.y11,v.x11),!h),i.arc(0,0,s,Hd(v.cy+v.y11,v.cx+v.x11),Hd(m.cy+m.y11,m.cx+m.x11),h),i.arc(m.cx,m.cy,S,Hd(m.y11,m.x11),Hd(m.y01,m.x01),!h))):i.arc(0,0,s,k,w,h):i.lineTo(N,j)}else i.moveTo(0,0);if(i.closePath(),u)return i=null,u+""||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,a=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Yd/2;return[Ud(a)*n,Gd(a)*n]},u.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:Ep(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:Ep(+e),u):t},u.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:Ep(+e),u):n},u.padRadius=function(e){return arguments.length?(a=null==e?null:"function"===typeof e?e:Ep(+e),u):a},u.startAngle=function(e){return arguments.length?(r="function"===typeof e?e:Ep(+e),u):r},u.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:Ep(+e),u):o},u.padAngle=function(e){return arguments.length?(l="function"===typeof e?e:Ep(+e),u):l},u.context=function(e){return arguments.length?(i=null==e?null:e,u):i},u}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),rb=Rp().x(eb).y1(tb).y0((function(e){return(e.y||0)+(e.height||0)})).defined(nb),ob=Rp().y(tb).x1(eb).x0((function(e){return(e.x||0)+(e.width||0)})).defined(nb),lb=Ip().x(eb).y(tb).defined(nb),ib=Ky().x(eb).y(tb).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return Zy(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return Zy(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return Zy(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return Zy(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),ub=function(e,t){var n=null;function a(){var a;if(n||(n=a=_p()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:Ep(e||zp),t="function"===typeof t?t:Ep(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Ep(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Ep(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type((function(e){return Uy(e.shape||"circle")})).size((function(e){return Zy(e.size,64)})),cb=Jy().x(eb).y(tb).defined(nb).size((function(e){return e.size||1}));function sb(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function fb(e,t,n,a){return ib.context(e)(t,n,a)}var db=1;function pb(){db=1}function gb(e,t,n){var a=t.clip,r=e._defs,o=t.clip_id||(t.clip_id="clip"+db++),l=r.clipping[o]||(r.clipping[o]={id:o});return Ln(a)?l.path=a(null):sb(n)?l.path=fb(null,n,0,0):(l.width=n.width||0,l.height=n.height||0),"url(#"+o+")"}function hb(e){this.clear(),e&&this.union(e)}function vb(e){this.mark=e,this.bounds=this.bounds||new hb}function mb(e){vb.call(this,e),this.items=this.items||[]}function yb(e){this._pending=0,this._loader=e||Yu()}function bb(e){e._pending+=1}function wb(e){e._pending-=1}function kb(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var a=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(a+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,a):0))}return e}hb.prototype={clone:function(){return new hb(this)},clear:function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals:function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set:function(e,t,n,a){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),a<t?(this.y2=t,this.y1=a):(this.y1=t,this.y2=a),this},add:function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand:function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round:function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale:function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate:function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate:function(e,t,n){var a=this.rotatedPoints(e,t,n);return this.clear().add(a[0],a[1]).add(a[2],a[3]).add(a[4],a[5]).add(a[6],a[7])},rotatedPoints:function(e,t,n){var a=this.x1,r=this.y1,o=this.x2,l=this.y2,i=Math.cos(e),u=Math.sin(e),c=t-t*i+n*u,s=n-t*u-n*i;return[i*a-u*r+c,u*a+i*r+s,i*a-u*l+c,u*a+i*l+s,i*o-u*r+c,u*o+i*r+s,i*o-u*l+c,u*o+i*l+s]},union:function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect:function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses:function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith:function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects:function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains:function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}},na(mb,vb),yb.prototype={pending:function(){return this._pending},sanitizeURL:function(e){var t=this;return bb(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return wb(t),e})).catch((function(){return wb(t),null}))},loadImage:function(e){var t=this,n=Up();return bb(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var a=e.href;if(!a||!n)throw{url:a};var r=new n,o=Jn(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(r.crossOrigin=o),r.onload=function(){return wb(t)},r.onerror=function(){return wb(t)},r.src=a,r})).catch((function(e){return wb(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},ready:function(){var e=this;return new Promise((function(t){!function n(a){e.pending()?setTimeout((function(){n(!0)}),10):t(a)}(!1)}))}};var Cb,xb,Pb,_b,Eb,Sb,Bb,Ob,Ab=Ay-1e-8,Db=function(e,t){return Cb.add(e,t)},Mb=function(e,t){return Db(xb=e,Pb=t)},Nb=function(e){return Db(e,Cb.y1)},jb=function(e){return Db(Cb.x1,e)},Tb=function(e,t){return Eb*e+Bb*t},Fb=function(e,t){return Sb*e+Ob*t},Ib=function(e,t){return Db(Tb(e,t),Fb(e,t))},Rb=function(e,t){return Mb(Tb(e,t),Fb(e,t))};function zb(e,t){return Cb=e,t?(_b=t*By,Eb=Ob=Math.cos(_b),Sb=Math.sin(_b),Bb=-Sb):(Eb=Ob=1,_b=Sb=Bb=0),Lb}var Lb={beginPath:function(){},closePath:function(){},moveTo:Rb,lineTo:Rb,rect:function(e,t,n,a){_b?(Ib(e+n,t),Ib(e+n,t+a),Ib(e,t+a),Rb(e,t)):(Db(e+n,t+a),Mb(e,t))},quadraticCurveTo:function(e,t,n,a){var r=Tb(e,t),o=Fb(e,t),l=Tb(n,a),i=Fb(n,a);Hb(xb,r,l,Nb),Hb(Pb,o,i,jb),Mb(l,i)},bezierCurveTo:function(e,t,n,a,r,o){var l=Tb(e,t),i=Fb(e,t),u=Tb(n,a),c=Fb(n,a),s=Tb(r,o),f=Fb(r,o);Ub(xb,l,u,s,Nb),Ub(Pb,i,c,f,jb),Mb(s,f)},arc:function(e,t,n,a,r,o){if(a+=_b,r+=_b,xb=n*Math.cos(r)+e,Pb=n*Math.sin(r)+t,Math.abs(r-a)>Ab)Db(e-n,t-n),Db(e+n,t+n);else{var l,i,u=function(a){return Db(n*Math.cos(a)+e,n*Math.sin(a)+t)};if(u(a),u(r),r!==a)if((a%=Ay)<0&&(a+=Ay),(r%=Ay)<0&&(r+=Ay),r<a&&(o=!o,l=a,a=r,r=l),o)for(r-=Ay,l=a-a%Oy,i=0;i<4&&l>r;++i,l-=Oy)u(l);else for(l=a-a%Oy+Oy,i=0;i<4&&l<r;++i,l+=Oy)u(l)}}};function Hb(e,t,n,a){var r=(e-t)/(e+n-2*t);0<r&&r<1&&a(e+(t-e)*r)}function Ub(e,t,n,a,r){var o,l=a-e+3*t-3*n,i=e+n-2*t,u=e-t,c=0,s=0;Math.abs(l)>1e-14?(o=i*i+u*l)>=0&&(c=(-i+(o=Math.sqrt(o)))/l,s=(-i-o)/l):c=.5*u/i,0<c&&c<1&&r(Wb(c,e,t,n,a)),0<s&&s<1&&r(Wb(s,e,t,n,a))}function Wb(e,t,n,a,r){var o=1-e,l=o*o,i=e*e;return l*o*t+3*l*e*n+3*o*i*a+i*e*r}var qb=(qb=Hp(1,1))?qb.getContext("2d"):null,Gb=new hb;function Vb(e){return function(t,n){if(!qb)return!0;e(qb,t),Gb.clear().union(t.bounds).intersect(n).round();for(var a=Gb.x1,r=Gb.y1,o=Gb.x2,l=Gb.y2,i=r;i<=l;++i)for(var u=a;u<=o;++u)if(qb.isPointInPath(u,i))return!0;return!1}}function $b(e,t){return t.contains(e.x||0,e.y||0)}function Yb(e,t){var n=e.x||0,a=e.y||0,r=e.width||0,o=e.height||0;return t.intersects(Gb.set(n,a,n+r,a+o))}function Qb(e,t){var n=e.x||0,a=e.y||0;return Xb(t,n,a,null!=e.x2?e.x2:n,null!=e.y2?e.y2:a)}function Xb(e,t,n,a,r){var o,l,i,u,c=e.x1,s=e.y1,f=e.x2,d=e.y2,p=a-t,g=r-n,h=0,v=1;for(u=0;u<4;++u){if(0===u&&(o=-p,l=-(c-t)),1===u&&(o=p,l=f-t),2===u&&(o=-g,l=-(s-n)),3===u&&(o=g,l=d-n),Math.abs(o)<1e-10&&l<0)return!1;if(i=l/o,o<0){if(i>v)return!1;i>h&&(h=i)}else if(o>0){if(i<h)return!1;i<v&&(v=i)}}return!0}function Kb(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Jb(e,t){return null==e?t:e}function Zb(e,t){for(var n=t.length,a=0;a<n;++a)e.addColorStop(t[a].offset,t[a].color);return e}function ew(e,t,n){return vy(n)?function(e,t,n){var a,r=n.width(),o=n.height();if("radial"===t.gradient)a=e.createRadialGradient(n.x1+Jb(t.x1,.5)*r,n.y1+Jb(t.y1,.5)*o,Math.max(r,o)*Jb(t.r1,0),n.x1+Jb(t.x2,.5)*r,n.y1+Jb(t.y2,.5)*o,Math.max(r,o)*Jb(t.r2,.5));else{var l=Jb(t.x1,0),i=Jb(t.y1,0),u=Jb(t.x2,1),c=Jb(t.y2,0);if(l!==u&&i!==c&&r!==o){var s=Hp(Math.ceil(r),Math.ceil(o)),f=s.getContext("2d");return f.scale(r,o),f.fillStyle=Zb(f.createLinearGradient(l,i,u,c),t.stops),f.fillRect(0,0,r,o),e.createPattern(s,"no-repeat")}a=e.createLinearGradient(n.x1+l*r,n.y1+i*o,n.x1+u*r,n.y1+c*o)}return Zb(a,t.stops)}(e,n,t.bounds):n}function tw(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=ew(e,t,t.fill),!0)}var nw=[];function aw(e,t,n){var a=null!=(a=t.strokeWidth)?a:1;return!(a<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=ew(e,t,t.stroke),e.lineWidth=a,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||nw),e.lineDashOffset=t.strokeDashOffset||0),!0))}function rw(e,t){return e.zindex-t.zindex||e.index-t.index}function ow(e){if(!e.zdirty)return e.zitems;var t,n,a,r=e.items,o=[];for(n=0,a=r.length;n<a;++n)(t=r[n]).index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(rw)}function lw(e,t){var n,a,r=e.items;if(r&&r.length){var o=ow(e);if(o&&o.length){for(n=0,a=r.length;n<a;++n)r[n].zindex||t(r[n]);r=o}for(n=0,a=r.length;n<a;++n)t(r[n])}}function iw(e,t){var n,a,r=e.items;if(!r||!r.length)return null;var o=ow(e);for(o&&o.length&&(r=o),a=r.length;--a>=0;)if(n=t(r[a]))return n;if(r===o)for(a=(r=e.items).length;--a>=0;)if(!r[a].zindex&&(n=t(r[a])))return n;return null}function uw(e){return function(t,n,a){lw(n,(function(n){a&&!a.intersects(n.bounds)||sw(e,t,n,n)}))}}function cw(e){return function(t,n,a){!n.items.length||a&&!a.intersects(n.bounds)||sw(e,t,n.items[0],n.items)}}function sw(e,t,n,a){var r=null==n.opacity?1:n.opacity;0!==r&&(e(t,a)||(Kb(t,n),n.fill&&tw(t,n,r)&&t.fill(),n.stroke&&aw(t,n,r)&&t.stroke()))}function fw(e){return e=e||an,function(t,n,a,r,o,l){return a*=t.pixelRatio,r*=t.pixelRatio,iw(n,(function(n){var i=n.bounds;if((!i||i.contains(o,l))&&i)return e(t,n,a,r,o,l)?n:void 0}))}}function dw(e,t){return function(n,a,r,o){var l,i,u=Array.isArray(a)?a[0]:a,c=null==t?u.fill:t,s=u.stroke&&n.isPointInStroke;return s&&(l=u.strokeWidth,i=u.strokeCap,n.lineWidth=null!=l?l:1,n.lineCap=null!=i?i:"butt"),!e(n,a)&&(c&&n.isPointInPath(r,o)||s&&n.isPointInStroke(r,o))}}function pw(e){return fw(dw(e))}function gw(e,t){return"translate("+e+","+t+")"}function hw(e){return"rotate("+e+")"}function vw(e){return gw(e.x||0,e.y||0)}function mw(e,t,n){function a(e,n){var a=n.x||0,r=n.y||0,o=n.angle||0;e.translate(a,r),o&&e.rotate(o*=By),e.beginPath(),t(e,n),o&&e.rotate(-o),e.translate(-a,-r)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return gw(e.x||0,e.y||0)+(e.angle?" "+hw(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(zb(e,n.angle),n),kb(e,n).translate(n.x||0,n.y||0)},draw:uw(a),pick:pw(a),isect:n||Vb(a)}}var yw=mw("arc",(function(e,t){return ab.context(e)(t)}));function bw(e,t,n){function a(e,n){e.beginPath(),t(e,n)}var r=dw(a);return{type:e,tag:"path",nested:!0,attr:function(e,n){var a=n.mark.items;a.length&&e("d",t(null,a))},bound:function(e,n){var a=n.items;return 0===a.length?e:(t(zb(e),a),kb(e,a[0]))},draw:cw(a),pick:function(e,t,n,a,o,l){var i=t.items,u=t.bounds;return!i||!i.length||u&&!u.contains(o,l)?null:(n*=e.pixelRatio,a*=e.pixelRatio,r(e,i,n,a)?i[0]:null)},isect:$b,tip:n}}var ww=bw("area",(function(e,t){var n=t[0],a=n.interpolate||"linear";return("horizontal"===n.orient?ob:rb).curve(ky(a,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,a,r="horizontal"===e[0].orient?t[1]:t[0],o="horizontal"===e[0].orient?"y":"x",l=e.length,i=1/0;--l>=0;)!1!==e[l].defined&&(a=Math.abs(e[l][o]-r))<i&&(i=a,n=e[l]);return n}));function kw(e,t){e.beginPath(),sb(t)?fb(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Cw(e){var t=Jb(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function xw(e,t){var n=Cw(t);e("d",fb(null,t,n,n))}function Pw(e,t,n,a){var r=Cw(t);e.beginPath(),fb(e,t,(n||0)+r,(a||0)+r)}var _w=dw(Pw),Ew=dw(Pw,!1),Sw=dw(Pw,!0);var Bw={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",vw(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,a=n.length,r=0;r<a;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),kb(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var a=this;lw(t,(function(t){var r=t.x||0,o=t.y||0,l=t.strokeForeground,i=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&i&&(Pw(e,t,r,o),Kb(e,t),t.fill&&tw(e,t,i)&&e.fill(),t.stroke&&!l&&aw(e,t,i)&&e.stroke()),e.save(),e.translate(r,o),t.clip&&kw(e,t),n&&n.translate(-r,-o),lw(t,(function(t){a.draw(e,t,n)})),n&&n.translate(r,o),e.restore(),l&&t.stroke&&i&&(Pw(e,t,r,o),Kb(e,t),aw(e,t,i)&&e.stroke())}))},pick:function(e,t,n,a,r,o){var l=this;if(t.bounds&&!t.bounds.contains(r,o)||!t.items)return null;var i=n*e.pixelRatio,u=a*e.pixelRatio;return iw(t,(function(c){var s,f,d,p=c.bounds;if(!p||p.contains(r,o)){f=c.x||0,d=c.y||0;var g=f+(c.width||0),h=d+(c.height||0),v=c.clip;if(!v||!(r<f||r>g||o<d||o>h)){if(e.save(),e.translate(f,d),f=r-f,d=o-d,v&&sb(c)&&!Sw(e,c,i,u))return e.restore(),null;var m=c.strokeForeground,y=!1!==t.interactive;return y&&m&&c.stroke&&Ew(e,c,i,u)?(e.restore(),c):(s=iw(c,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,f,d)?l.pick(e,n,a,f,d):null})),!s&&y&&(c.fill||!m&&c.stroke)&&_w(e,c,i,u)&&(s=c),e.restore(),s||null)}}}))},isect:Yb,content:function(e,t,n){e("clip-path",t.clip?gb(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),xw(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?xw(e,t):e("d","")}},Ow={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Aw(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function Dw(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function Mw(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function Nw(e,t){return"center"===e?t/2:"right"===e?t:0}function jw(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Tw={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var a=Aw(t,n),r=Dw(t,a),o=Mw(t,a),l=(t.x||0)-Nw(t.align,r),i=(t.y||0)-jw(t.baseline,o);e("href",!a.src&&a.toDataURL?a.toDataURL():a.src||"",Ow["xmlns:xlink"],"xlink:href"),e("transform",gw(l,i)),e("width",r),e("height",o),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){var n=t.image,a=Dw(t,n),r=Mw(t,n),o=(t.x||0)-Nw(t.align,a),l=(t.y||0)-jw(t.baseline,r);return e.set(o,l,o+a,l+r)},draw:function(e,t,n){var a=this;lw(t,(function(t){if(!n||n.intersects(t.bounds)){var r=Aw(t,a),o=Dw(t,r),l=Mw(t,r);if(0!==o&&0!==l){var i,u,c,s,f=(t.x||0)-Nw(t.align,o),d=(t.y||0)-jw(t.baseline,l);!1!==t.aspect&&(u=r.width/r.height,c=t.width/t.height,u===u&&c===c&&u!==c&&(c<u?(d+=(l-(s=o/u))/2,l=s):(f+=(o-(s=l*u))/2,o=s))),(r.complete||r.toDataURL)&&(Kb(e,t),e.globalAlpha=null!=(i=t.opacity)?i:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(r,f,d,o,l))}}}))},pick:fw(),isect:an,get:Aw,xOffset:Nw,yOffset:jw},Fw=bw("line",(function(e,t){var n=t[0],a=n.interpolate||"linear";return lb.curve(ky(a,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,a,r=Math.pow(e[0].strokeWidth||1,2),o=e.length;--o>=0;)if(!1!==e[o].defined&&(n=e[o].x-t[0])*n+(a=e[o].y-t[1])*a<r)return e[o];return null}));function Iw(e,t){var n=t.path;if(null==n)return!0;var a=t.x||0,r=t.y||0,o=t.scaleX||1,l=t.scaleY||1,i=(t.angle||0)*By,u=t.pathCache;u&&u.path===n||((t.pathCache=u=Sy(n)).path=n),i&&e.rotate&&e.translate?(e.translate(a,r),e.rotate(i),Ry(e,u,0,0,o,l),e.rotate(-i),e.translate(-a,-r)):Ry(e,u,a,r,o,l)}var Rw={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,a=t.scaleY||1;1===n&&1===a||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return gw(e.x||0,e.y||0)+(e.angle?" "+hw(e.angle):"")+(e.scaleX||e.scaleY?" "+function(e,t){return"scale("+e+","+t+")"}(e.scaleX||1,e.scaleY||1):"")}(t)),e("d",t.path)},bound:function(e,t){return Iw(zb(e,t.angle),t)?e.set(0,0,0,0):kb(e,t,!0)},draw:uw(Iw),pick:pw(Iw),isect:Vb(Iw)};function zw(e,t){e.beginPath(),fb(e,t)}var Lw={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",fb(null,t))},bound:function(e,t){var n,a;return kb(e.set(n=t.x||0,a=t.y||0,n+t.width||0,a+t.height||0),t)},draw:uw(zw),pick:pw(zw),isect:Yb};function Hw(e,t,n){var a,r,o,l;return!(!t.stroke||!aw(e,t,n))&&(a=t.x||0,r=t.y||0,o=null!=t.x2?t.x2:a,l=null!=t.y2?t.y2:r,e.beginPath(),e.moveTo(a,r),e.lineTo(o,l),!0)}var Uw={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",vw(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,a;return kb(e.set(n=t.x||0,a=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:a),t)},draw:function(e,t,n){lw(t,(function(t){if(!n||n.intersects(t.bounds)){var a=null==t.opacity?1:t.opacity;a&&Hw(e,t,a)&&(Kb(e,t),e.stroke())}}))},pick:fw((function(e,t,n,a){return!!e.isPointInStroke&&(Hw(e,t,1)&&e.isPointInStroke(n,a))})),isect:Qb},Ww=mw("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),qw=mw("symbol",(function(e,t){return ub.context(e)(t)}),$b),Gw=da(),Vw={height:Jw,measureWidth:Xw,estimateWidth:Yw,width:Yw,canvas:$w};function $w(e){Vw.width=e&&qb?Xw:Yw}function Yw(e,t){return Qw(nk(e,t),Jw(e))}function Qw(e,t){return~~(.8*e.length*t)}function Xw(e,t){return Jw(e)<=0||!(t=nk(e,t))?0:Kw(t,rk(e))}function Kw(e,t){var n="(".concat(t,") ").concat(e),a=Gw.get(n);return void 0===a&&(qb.font=t,a=qb.measureText(e).width,Gw.set(n,a)),a}function Jw(e){return null!=e.fontSize?+e.fontSize||0:11}function Zw(e){return null!=e.lineHeight?e.lineHeight:Jw(e)+2}function ek(e){return t=e.lineBreak&&e.text&&!pn(e.text)?e.text.split(e.lineBreak):e.text,pn(t)?t.length>1?t:t[0]:t;var t}function tk(e){var t=ek(e);return(pn(t)?t.length-1:0)*Zw(e)}function nk(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,a=function(e){if(Vw.width===Xw){var t=rk(e);return function(e){return Kw(e,t)}}var n=Jw(e);return function(e){return Qw(e,n)}}(e);if(a(t)<n)return t;var r,o=e.ellipsis||"\u2026",l="rtl"===e.dir,i=0,u=t.length;if(n-=a(o),l){for(;i<u;)r=i+u>>>1,a(t.slice(r))>n?i=r+1:u=r;return o+t.slice(i)}for(;i<u;)r=1+(i+u>>>1),a(t.slice(0,r))<n?i=r:u=r-1;return t.slice(0,i)+o}(e,n):n}function ak(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function rk(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Jw(e)+"px "+ak(e,t)}function ok(e){var t=e.baseline,n=Jw(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*Zw(e):"line-bottom"===t?.29*n-.5*Zw(e):0)}$w(!0);var lk={left:"start",center:"middle",right:"end"},ik=new hb;function uk(e){var t,n=e.x||0,a=e.y||0,r=e.radius||0;return r&&(t=(e.theta||0)-Oy,n+=r*Math.cos(t),a+=r*Math.sin(t)),ik.x1=n,ik.y1=a,ik}function ck(e,t,n){var a,r=Vw.height(t),o=t.align,l=uk(t),i=l.x1,u=l.y1,c=t.dx||0,s=(t.dy||0)+ok(t)-Math.round(.8*r),f=ek(t);if(pn(f)?(r+=Zw(t)*(f.length-1),a=f.reduce((function(e,n){return Math.max(e,Vw.width(t,n))}),0)):a=Vw.width(t,f),"center"===o?c-=a/2:"right"===o&&(c-=a),e.set(c+=i,s+=u,c+a,s+r),t.angle&&!n)e.rotate(t.angle*By,i,u);else if(2===n)return e.rotatedPoints(t.angle*By,i,u);return e}var sk={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,a=t.dx||0,r=(t.dy||0)+ok(t),o=uk(t),l=o.x1,i=o.y1,u=t.angle||0;e("text-anchor",lk[t.align]||"start"),u?(n=gw(l,i)+" "+hw(u),(a||r)&&(n+=" "+gw(a,r))):n=gw(l+a,i+r),e("transform",n)},bound:ck,draw:function(e,t,n){lw(t,(function(t){var a,r,o,l,i,u,c,s=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===s||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=rk(t),e.textAlign=t.align||"left",r=(a=uk(t)).x1,o=a.y1,t.angle&&(e.save(),e.translate(r,o),e.rotate(t.angle*By),r=o=0),r+=t.dx||0,o+=(t.dy||0)+ok(t),u=ek(t),Kb(e,t),pn(u))for(i=Zw(t),l=0;l<u.length;++l)c=nk(t,u[l]),t.fill&&tw(e,t,s)&&e.fillText(c,r,o),t.stroke&&aw(e,t,s)&&e.strokeText(c,r,o),o+=i;else c=nk(t,u),t.fill&&tw(e,t,s)&&e.fillText(c,r,o),t.stroke&&aw(e,t,s)&&e.strokeText(c,r,o);t.angle&&e.restore()}}))},pick:fw((function(e,t,n,a,r,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var l=uk(t),i=l.x1,u=l.y1,c=ck(ik,t,1),s=-t.angle*By,f=Math.cos(s),d=Math.sin(s),p=f*r-d*o+(i-f*i+d*u),g=d*r+f*o+(u-d*i-f*u);return c.contains(p,g)})),isect:function(e,t){var n=ck(ik,e,2);return Xb(t,n[0],n[1],n[2],n[3])||Xb(t,n[0],n[1],n[4],n[5])||Xb(t,n[4],n[5],n[6],n[7])||Xb(t,n[2],n[3],n[6],n[7])}},fk=bw("trail",(function(e,t){return cb.context(e)(t)}),(function(e,t){for(var n,a,r=e.length;--r>=0;)if(!1!==e[r].defined&&(n=e[r].x-t[0])*n+(a=e[r].y-t[1])*a<(n=e[r].size||1)*n)return e[r];return null})),dk={arc:yw,area:ww,group:Bw,image:Tw,line:Fw,path:Rw,rect:Lw,rule:Uw,shape:Ww,symbol:qw,text:sk,trail:fk};function pk(e,t,n){var a=dk[e.mark.marktype],r=t||a.bound;return a.nested&&(e=e.mark),r(e.bounds||(e.bounds=new hb),e,n)}var gk={mark:null};function hk(e,t,n){var a,r,o,l,i=dk[e.marktype],u=i.bound,c=e.items,s=c&&c.length;if(i.nested)return s?o=c[0]:(gk.mark=e,o=gk),l=pk(o,u,n),t=t&&t.union(l)||l;if(t=t||e.bounds&&e.bounds.clear()||new hb,s)for(a=0,r=c.length;a<r;++a)t.union(pk(c[a],u,n));return e.bounds=t}var vk=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function mk(e,t){return JSON.stringify(e,vk,t)}function yk(e){return bk("string"===typeof e?JSON.parse(e):e)}function bk(e){var t,n,a,r=e.marktype,o=e.items;if(o)for(n=0,a=o.length;n<a;++n)t=r?"mark":"group",o[n][t]=e,o[n].zindex&&(o[n][t].zdirty=!0),"group"===(r||t)&&bk(o[n]);return r&&hk(e),e}function wk(e){arguments.length?this.root=yk(e):(this.root=kk({marktype:"group",name:"root",role:"frame"}),this.root.items=[new mb(this.root)])}function kk(e,t){var n={bounds:new hb,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Ck(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function xk(e,t){t=t.toLowerCase();for(var n=e.childNodes,a=0,r=n.length;a<r;++a)if(n[a].tagName.toLowerCase()===t)return n[a]}function Pk(e,t,n,a){var r,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(r=o||null,o=Ck(e.ownerDocument,n,a),e.insertBefore(o,r)),o}function _k(e,t){for(var n=e.childNodes,a=n.length;a>t;)e.removeChild(n[--a]);return e}function Ek(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function Sk(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function Bk(e,t){this._active=null,this._handlers={},this._loader=e||Yu(),this._tooltip=t||Ok}function Ok(e,t,n,a){e.element().setAttribute("title",a||"")}function Ak(e){this._el=null,this._bgcolor=null,this._loader=new yb(e)}wk.prototype={toJSON:function(e){return mk(this.root,e||0)},mark:function(e,t,n){var a=kk(e,t=t||this.root.items[0]);return t.items[n]=a,a.zindex&&(a.group.zdirty=!0),a}},Bk.prototype={initialize:function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene:function(e){return arguments.length?(this._scene=e,this):this._scene},on:function(){},off:function(){},_handlerIndex:function(e,t,n){for(var a=e?e.length:0;--a>=0;)if(e[a].type===t&&(!n||e[a].handler===n))return a;return-1},handlers:function(e){var t=this._handlers,n=[];if(e)n.push.apply(n,B(t[this.eventName(e)]));else for(var a in t)n.push.apply(n,B(t[a]));return n},eventName:function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref:function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),a=Ck(null,"a");for(var r in t)a.setAttribute(r,t[r]);a.dispatchEvent(n)})).catch((function(){}))},handleTooltip:function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,a){var r,o,l=e&&e.mark;if(l&&(r=dk[l.marktype]).tip){for((o=Sk(t,n))[0]-=a[0],o[1]-=a[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=r.tip(l.items,o)}return e}(t,e,this.canvas(),this._origin);var a=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,a)}},getItemBoundingClientRect:function(e){var t=this.canvas();if(t){for(var n=t.getBoundingClientRect(),a=this._origin,r=e.bounds,o=r.width(),l=r.height(),i=r.x1+a[0]+n.left,u=r.y1+a[1]+n.top;e.mark&&(e=e.mark.group);)i+=e.x||0,u+=e.y||0;return{x:i,y:u,width:o,height:l,left:i,top:u,right:i+o,bottom:u+l}}}},Ak.prototype={initialize:function(e,t,n,a,r){return this._el=e,this.resize(t,n,a,r)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize:function(e,t,n,a){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=a||1,this},dirty:function(){},render:function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render:function(){},renderAsync:function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},_load:function(e,t){var n=this,a=n._loader[e](t);if(!n._ready){var r=n._call;n._ready=n._loader.ready().then((function(e){e&&r(),n._ready=null}))}return a},sanitizeURL:function(e){return this._load("sanitizeURL",e)},loadImage:function(e){return this._load("loadImage",e)}};var Dk="dragenter",Mk="dragleave",Nk="dragover",jk="mousedown",Tk="mousemove",Fk="mouseout",Ik="mouseover",Rk="click",zk="mousewheel",Lk="touchstart",Hk="touchmove",Uk="touchend",Wk=Tk,qk=Fk,Gk=Rk;function Vk(e,t){Bk.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function $k(e,t){(function(e){return e===Lk||e===Hk||e===Uk?[Lk,Hk,Uk]:[e]})(t).forEach((function(t){return function(e,t){var n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?function(n){return e[t](n)}:function(n){return e.fire(t,n)}))}(e,t)}))}function Yk(e,t,n){return function(a){var r=this._active,o=this.pickEvent(a);o===r||(r&&r.exit||this.fire(n,a),this._active=o,this.fire(t,a)),this.fire(e,a)}}function Qk(e){return function(t){this.fire(e,t),this._active=null}}na(Vk,Bk,{initialize:function(e,t,n){var a=this;return this._canvas=e&&xk(e,"canvas"),[Rk,jk,Tk,Fk,Mk].forEach((function(e){return $k(a,e)})),Bk.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",Dk,Mk,Nk,jk,"mouseup",Tk,Fk,Ik,Rk,"dblclick","wheel",zk,Lk,Hk,Uk],DOMMouseScroll:function(e){this.fire(zk,e)},mousemove:Yk(Tk,Ik,Fk),dragover:Yk(Nk,Dk,Mk),mouseout:Qk(Fk),dragleave:Qk(Mk),mousedown:function(e){this._down=this._active,this.fire(jk,e)},click:function(e){this._down===this._active&&(this.fire(Rk,e),this._down=null)},touchstart:function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Lk,e,!0)},touchmove:function(e){this.fire(Hk,e,!0)},touchend:function(e){this.fire(Uk,e,!0),this._touch=null},fire:function(e,t,n){var a=n?this._touch:this._active,r=this._handlers[e];if(t.vegaType=e,e===Gk&&a&&a.href?this.handleHref(t,a,a.href):e!==Wk&&e!==qk||this.handleTooltip(t,a,e!==qk),r)for(var o=0,l=r.length;o<l;++o)r[o].handler.call(this._obj,t,a)},on:function(e,t){var n=this.eventName(e),a=this._handlers;return this._handlerIndex(a[n],e,t)<0&&($k(this,e),(a[n]||(a[n]=[])).push({type:e,handler:t})),this},off:function(e,t){var n=this.eventName(e),a=this._handlers[n],r=this._handlerIndex(a,e,t);return r>=0&&a.splice(r,1),this},pickEvent:function(e){var t=Sk(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick:function(e,t,n,a,r){var o=this.context();return dk[e.marktype].pick.call(this,o,e,t,n,a,r)}});var Xk="undefined"!==typeof window&&window.devicePixelRatio||1;function Kk(e){Ak.call(this,e),this._options={},this._redraw=!1,this._dirty=new hb,this._tempb=new hb}var Jk=Ak.prototype;function Zk(e,t){Bk.call(this,e,t);var n=this;n._hrefHandler=eC(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=eC(n,(function(e,t){n.handleTooltip(e,t,e.type!==qk)}))}na(Kk,Ak,{initialize:function(e,t,n,a,r,o){return this._options=o||{},this._canvas=this._options.externalContext?null:Hp(1,1,this._options.type),e&&this._canvas&&(_k(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Jk.initialize.call(this,e,t,n,a,r)},resize:function(e,t,n,a){if(Jk.resize.call(this,e,t,n,a),this._canvas)!function(e,t,n,a,r,o){var l="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,i=e.getContext("2d"),u=l?Xk:r;for(var c in e.width=t*u,e.height=n*u,o)i[c]=o[c];l&&1!==u&&(e.style.width=t+"px",e.style.height=n+"px"),i.pixelRatio=u,i.setTransform(u,0,0,u,u*a[0],u*a[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var r=this._options.externalContext;r||Xt("CanvasRenderer is missing a valid canvas or context"),r.scale(this._scale,this._scale),r.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(e){for(var t=this._tempb.clear().union(e.bounds),n=e.mark.group;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render:function(e){var t=this.context(),n=this._origin,a=this._width,r=this._height,o=this._dirty,l=function(e,t,n){return(new hb).set(0,0,t,n).translate(-e[0],-e[1])}(n,a,r);t.save();var i=this._redraw||o.empty()?(this._redraw=!1,l.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,l.intersect(o),n);return this.clear(-n[0],-n[1],a,r),this.draw(t,e,i),t.restore(),o.clear(),this},draw:function(e,t,n){var a=dk[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Ln(n)?(e.beginPath(),n(e),e.clip()):kw(e,t.group)}(e,t),a.draw.call(this,e,t,n),t.clip&&e.restore()},clear:function(e,t,n,a){var r=this._options,o=this.context();"pdf"===r.type||r.externalContext||o.clearRect(e,t,n,a),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,a))}});var eC=function(e,t){return function(n){var a=n.target.__data__;a=Array.isArray(a)?a[0]:a,n.vegaType=n.type,t.call(e._obj,n,a)}};na(Zk,Bk,{initialize:function(e,t,n){var a=this._svg;return a&&(a.removeEventListener(Gk,this._hrefHandler),a.removeEventListener(Wk,this._tooltipHandler),a.removeEventListener(qk,this._tooltipHandler)),this._svg=a=e&&xk(e,"svg"),a&&(a.addEventListener(Gk,this._hrefHandler),a.addEventListener(Wk,this._tooltipHandler),a.addEventListener(qk,this._tooltipHandler)),Bk.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._svg},on:function(e,t){var n=this.eventName(e),a=this._handlers;if(this._handlerIndex(a[n],e,t)<0){var r={type:e,handler:t,listener:eC(this,t)};(a[n]||(a[n]=[])).push(r),this._svg&&this._svg.addEventListener(n,r.listener)}return this},off:function(e,t){var n=this.eventName(e),a=this._handlers[n],r=this._handlerIndex(a,e,t);return r>=0&&(this._svg&&this._svg.removeEventListener(n,a[r].listener),a.splice(r,1)),this}});var tC="aria-hidden",nC="aria-label",aC="role",rC="aria-roledescription",oC="graphics-object",lC="graphics-symbol",iC=function(e,t,n){var a;return pr(a={},aC,e),pr(a,rC,t),pr(a,nC,n||void 0),a},uC=Ca(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),cC={axis:{desc:"axis",caption:function(e){var t=e.datum,n=e.orient,a=t.title?gC(e):null,r=e.context,o=r.scales[t.scale].value,l=r.dataflow.locale(),i=o.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(a?" titled '".concat(a,"'"):"")+" for a ".concat(Nm(i)?"discrete":i," scale")+" with ".concat(py(l,o,e))}},legend:{desc:"legend",caption:function(e){var t=e.datum,n=t.title?gC(e):null,a="".concat(t.type||""," legend").trim(),r=t.scales,o=Object.keys(r),l=e.context,i=l.scales[r[o[0]]].value,u=l.dataflow.locale();return function(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(a)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")})),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+bn(e)}(o))+" with ".concat(py(u,i,e))}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(pC(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(pC(e),"'")}}},sC={ariaRole:aC,ariaRoleDescription:rC,description:nC};function fC(e,t){var n=!1===t.aria;if(e(tC,n||void 0),n||null==t.description)for(var a in sC)e(sC[a],void 0);else{var r=t.mark.marktype;e(nC,t.description),e(aC,t.ariaRole||("group"===r?oC:lC)),e(rC,t.ariaRoleDescription||"".concat(r," mark"))}}function dC(e){return!1===e.aria?pr({},tC,!0):uC[e.role]?null:cC[e.role]?function(e,t){try{var n=e.items[0],a=t.caption||function(){return""};return iC(t.role||lC,t.desc,n.description||a(n))}catch(r){return null}}(e,cC[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return iC(n?oC:lC,"".concat(t," mark container"),e.description)}(e)}function pC(e){return Rn(e.text).join(" ")}function gC(e){try{return Rn(bn(e.items).items[0].text).join(" ")}catch(t){return null}}var hC=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};function vC(){var e="",t="",n="",a=[],r=function(){return t=n=""},o=function(o){t&&(e+="".concat(t,">").concat(n),r()),a.push(o)},l=function(e,n){return null!=n&&(t+=" ".concat(e,'="').concat(hC(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),i},i={open:function(e){o(e),t="<"+e;for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];for(var u=0,c=a;u<c.length;u++){var s=c[u];for(var f in s)l(f,s[f])}return i},close:function(){var o=a.pop();return e+=t?t+(n?">".concat(n,"</").concat(o,">"):"/>"):"</".concat(o,">"),r(),i},attr:l,text:function(e){return n+=hC(e),i},toString:function(){return e}};return i}var mC=function(e){return yC(vC(),e)+""};function yC(e,t){if(e.open(t.tagName),t.hasAttributes())for(var n=t.attributes,a=n.length,r=0;r<a;++r)e.attr(n[r].name,n[r].value);if(t.hasChildNodes()){var o,l=Wc(t.childNodes);try{for(l.s();!(o=l.n()).done;){var i=o.value;3===i.nodeType?e.text(i.nodeValue):yC(e,i)}}catch(u){l.e(u)}finally{l.f()}}return e.close()}var bC={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},wC={blend:"mix-blend-mode"},kC={fill:"none","stroke-miterlimit":10},CC="http://www.w3.org/2000/xmlns/",xC=Ow.xmlns;function PC(e){Ak.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var _C=Ak.prototype;function EC(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function SC(e,t,n){var a,r,o;if("radial"===t.gradient){var l=Pk(e,n++,"pattern",xC);TC(l,{id:hy+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),TC(l=Pk(l,0,"rect",xC),{width:1,height:1,fill:"url(".concat(IC(),"#").concat(t.id,")")}),TC(e=Pk(e,n++,"radialGradient",xC),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else TC(e=Pk(e,n++,"linearGradient",xC),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(a=0,r=t.stops.length;a<r;++a)(o=Pk(e,a,"stop",xC)).setAttribute("offset",t.stops[a].offset),o.setAttribute("stop-color",t.stops[a].color);return _k(e,a),n}function BC(e,t,n){return(e=Pk(e,n,"clipPath",xC)).setAttribute("id",t.id),t.path?Pk(e,0,"path",xC).setAttribute("d",t.path):TC(Pk(e,0,"rect",xC),{x:0,y:0,width:t.width,height:t.height}),_k(e,1),n+1}function OC(e,t,n,a,r){var o,l=e._svg;if(!l&&(l=Ck(o=t.ownerDocument,a,xC),e._svg=l,e.mark&&(l.__data__=e,l.__values__={fill:"default"},"g"===a))){var i=Ck(o,"path",xC);l.appendChild(i),i.__data__=e;var u=Ck(o,"g",xC);l.appendChild(u),u.__data__=e;var c=Ck(o,"path",xC);l.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(l.ownerSVGElement!==r||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(l,n))&&t.insertBefore(l,n?n.nextSibling:t.firstChild),l}na(PC,Ak,{initialize:function(e,t,n,a,r){return this._defs={},this._clearDefs(),e&&(this._svg=Pk(e,0,"svg",xC),this._svg.setAttributeNS(CC,"xmlns",xC),this._svg.setAttributeNS(CC,"xmlns:xlink",Ow["xmlns:xlink"]),this._svg.setAttribute("version",Ow.version),this._svg.setAttribute("class","marks"),_k(e,1),this._root=Pk(this._svg,0,"g",xC),TC(this._root,kC),_k(this._svg,1)),this.background(this._bgcolor),_C.initialize.call(this,e,t,n,a,r)},background:function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),_C.background.apply(this,arguments)},resize:function(e,t,n,a){return _C.resize.call(this,e,t,n,a),this._svg&&(TC(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas:function(){return this._svg},svg:function(){var e,t=this._svg,n=this._bgcolor;if(!t)return null;n&&(t.removeAttribute("style"),TC(e=Pk(t,0,"rect",xC),{width:this._width,height:this._height,fill:n}));var a=mC(t);return n&&(t.removeChild(e),this._svg.style.setProperty("background-color",n)),a},_render:function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),_k(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty:function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty:function(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,a,r,o,l,i,u=++this._dirtyID;for(o=0,l=e.length;o<l;++o)(n=(t=e[o]).mark).marktype!==a&&(a=n.marktype,r=dk[a]),n.zdirty&&n.dirty!==u&&(this._dirtyAll=!1,EC(t,u),n.items.forEach((function(e){e.dirty=u}))),n.zdirty||(t.exit?(r.nested&&n.items.length?(i=n.items[0])._svg&&this._update(r,i._svg,i):t._svg&&(i=t._svg.parentNode)&&i.removeChild(t._svg),t._svg=null):(t=r.nested?n.items[0]:t)._update!==u&&(t._svg&&t._svg.ownerSVGElement?this._update(r,t._svg,t):(this._dirtyAll=!1,EC(t,u)),t._update=u));return!this._dirtyAll},mark:function(e,t,n){var a=this;if(!this.isDirty(t))return t._svg;var r=this._svg,o=dk[t.marktype],l=!1===t.interactive?"none":null,i="g"===o.tag,u=OC(t,e,n,"g",r);u.setAttribute("class",Ek(t));var c=dC(t);for(var s in c)FC(u,s,c[s]);i||FC(u,"pointer-events",l),FC(u,"clip-path",t.clip?gb(this,t,t.group):null);var f=null,d=0,p=function(e){var t=a.isDirty(e),n=OC(e,u,f,o.tag,r);t&&(a._update(o,n,e),i&&function(e,t,n){t=t.lastChild.previousSibling;var a,r=0;lw(n,(function(n){a=e.mark(t,n,a),++r})),_k(t,1+r)}(a,n,e)),f=n,++d};return o.nested?t.items.length&&p(t.items[0]):lw(t,p),_k(u,d),u},_update:function(e,t,n){AC=t,DC=t.__values__,fC(NC,n),e.attr(NC,n,this);var a=MC[e.type];a&&a.call(this,e,t,n),AC&&this.style(AC,n)},style:function(e,t){if(null!=t){for(var n in bC){var a="font"===n?ak(t):t[n];if(a!==DC[n]){var r=bC[n];null==a?e.removeAttribute(r):(vy(a)&&(a=my(a,this._defs.gradient,IC())),e.setAttribute(r,a+"")),DC[n]=a}}for(var o in wC)jC(e,wC[o],t[o])}},defs:function(){var e=this._svg,t=this._defs,n=t.el,a=0;for(var r in t.gradient)n||(t.el=n=Pk(e,1,"defs",xC)),a=SC(n,t.gradient[r],a);for(var o in t.clipping)n||(t.el=n=Pk(e,1,"defs",xC)),a=BC(n,t.clipping[o],a);n&&(0===a?(e.removeChild(n),t.el=null):_k(n,a))},_clearDefs:function(){var e=this._defs;e.gradient={},e.clipping={}}});var AC=null,DC=null,MC={group:function(e,t,n){var a=AC=t.childNodes[2];DC=a.__values__,e.foreground(NC,n,this),DC=t.__values__,AC=t.childNodes[1],e.content(NC,n,this);var r=AC=t.childNodes[0];e.background(NC,n,this);var o=!1===n.mark.interactive?"none":null;if(o!==DC.events&&(FC(a,"pointer-events",o),FC(r,"pointer-events",o),DC.events=o),n.strokeForeground&&n.stroke){var l=n.fill;FC(a,"display",null),this.style(r,n),FC(r,"stroke",null),l&&(n.fill=null),DC=a.__values__,this.style(a,n),l&&(n.fill=l),AC=null}else FC(a,"display","none")},image:function(e,t,n){!1===n.smooth?(jC(t,"image-rendering","optimizeSpeed"),jC(t,"image-rendering","pixelated")):jC(t,"image-rendering",null)},text:function(e,t,n){var a,r,o,l,i=ek(n);pn(i)?(a=(r=i.map((function(e){return nk(n,e)}))).join("\n"))!==DC.text&&(_k(t,0),o=t.ownerDocument,l=Zw(n),r.forEach((function(e,a){var r=Ck(o,"tspan",xC);r.__data__=n,r.textContent=e,a&&(r.setAttribute("x",0),r.setAttribute("dy",l)),t.appendChild(r)})),DC.text=a):(r=nk(n,i))!==DC.text&&(t.textContent=r,DC.text=r),FC(t,"font-family",ak(n)),FC(t,"font-size",Jw(n)+"px"),FC(t,"font-style",n.fontStyle),FC(t,"font-variant",n.fontVariant),FC(t,"font-weight",n.fontWeight)}};function NC(e,t,n){t!==DC[e]&&(n?function(e,t,n,a){null!=n?e.setAttributeNS(a,t,n):e.removeAttributeNS(a,t)}(AC,e,t,n):FC(AC,e,t),DC[e]=t)}function jC(e,t,n){n!==DC[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),DC[t]=n)}function TC(e,t){for(var n in t)FC(e,n,t[n])}function FC(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function IC(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function RC(e){Ak.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}na(RC,Ak,{svg:function(){return this._text},_render:function(e){var t=vC();t.open("svg",Yn({},Ow,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));var n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",kC,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark:function(e,t){var n=this,a=dk[t.marktype],r=a.tag,o=[fC,a.attr];e.open("g",{class:Ek(t),"clip-path":t.clip?gb(this,t,t.group):null},dC(t),{"pointer-events":"g"!==r&&!1===t.interactive?"none":null});var l=function(l){var i=n.href(l);if(i&&e.open("a",i),e.open(r,n.attr(t,l,o,"g"!==r?r:null)),"text"===r){var u=ek(l);if(pn(u))for(var c={x:0,dy:Zw(l)},s=0;s<u.length;++s)e.open("tspan",s?c:null).text(nk(l,u[s])).close();else e.text(nk(l,u))}else if("g"===r){var f=l.strokeForeground,d=l.fill,p=l.stroke;f&&p&&(l.stroke=null),e.open("path",n.attr(t,l,a.background,"bgrect")).close(),e.open("g",n.attr(t,l,a.content)),lw(l,(function(t){return n.mark(e,t)})),e.close(),f&&p?(d&&(l.fill=null),l.stroke=p,e.open("path",n.attr(t,l,a.foreground,"bgrect")).close(),d&&(l.fill=d)):e.open("path",n.attr(t,l,a.foreground,"bgfore")).close()}e.close(),i&&e.close()};return a.nested?t.items&&t.items.length&&l(t.items[0]):lw(t,l),e.close()},href:function(e){var t,n=this,a=e.href;if(a){if(t=this._hrefs&&this._hrefs[a])return t;this.sanitizeURL(a).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[a]=e}))}return null},attr:function(e,t,n,a){var r=this,o={},l=function(e,t,n,a){o[a||e]=t};return Array.isArray(n)?n.forEach((function(e){return e(l,t,r)})):n(l,t,this),a&&function(e,t,n,a,r){var o;if(null==t)return e;"bgrect"===a&&!1===n.interactive&&(e["pointer-events"]="none");if("bgfore"===a&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===a&&!1===t.smooth&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===a&&(e["font-family"]=ak(t),e["font-size"]=Jw(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(var l in bC){var i=t[l],u=bC[l];("transparent"!==i||"fill"!==u&&"stroke"!==u)&&null!=i&&(vy(i)&&(i=my(i,r.gradient,"")),e[u]=i)}for(var c in wC){var s=t[c];null!=s&&(o=o||[]).push("".concat(wC[c],": ").concat(s,";"))}o&&(e.style=o.join(" "))}(o,t,e,a,this._defs),o},defs:function(e){var t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){for(var a in e.open("defs"),t){var r=t[a],o=r.stops;"radial"===r.gradient?(e.open("pattern",{id:hy+a,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+a+")"}).close(),e.close(),e.open("radialGradient",{id:a,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):e.open("linearGradient",{id:a,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(var l=0;l<o.length;++l)e.open("stop",{offset:o[l].offset,"stop-color":o[l].color}).close();e.close()}for(var i in n){var u=n[i];e.open("clipPath",{id:i}),u.path?e.open("path",{d:u.path}).close():e.open("rect",{x:0,y:0,width:u.width,height:u.height}).close(),e.close()}e.close()}}});var zC="canvas",LC="none",HC={Canvas:zC,PNG:"png",SVG:"svg",None:LC},UC={};function WC(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(UC[e]=t,this):UC[e]}function qC(e,t,n){var a=[],r=(new hb).union(t),o=e.marktype;return o?GC(e,r,n,a):"group"===o?VC(e,r,n,a):Xt("Intersect scene must be mark node or group item.")}function GC(e,t,n,a){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var r=e.items,o=e.marktype,l=r.length,i=0;if("group"===o)for(;i<l;++i)VC(r[i],t,n,a);else for(var u=dk[o].isect;i<l;++i){var c=r[i];$C(c,t,u)&&a.push(c)}}return a}function VC(e,t,n,a){n&&n(e.mark)&&$C(e,t,dk.group.isect)&&a.push(e);var r=e.items,o=r&&r.length;if(o){var l=e.x||0,i=e.y||0;t.translate(-l,-i);for(var u=0;u<o;++u)GC(r[u],t,n,a);t.translate(l,i)}return a}function $C(e,t,n){var a=e.bounds;return t.encloses(a)||t.intersects(a)&&n(e,t)}UC.canvas=UC.png={renderer:Kk,headless:Kk,handler:Vk},UC.svg={renderer:PC,headless:RC,handler:Zk},UC.none={};var YC=new hb;function QC(e){var t=e.clip;if(Ln(t))t(zb(YC.clear()));else{if(!t)return;YC.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(YC)}function XC(e,t,n){return e===t||("path"===n?KC(e,t):e instanceof Date&&t instanceof Date?+e===+t:ia(e)&&ia(t)?Math.abs(e-t)<=1e-9:e&&t&&(gn(e)||gn(t))?function(e,t){var n,a,r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(r.sort(),o.sort(),a=r.length-1;a>=0;a--)if(r[a]!=o[a])return!1;for(a=r.length-1;a>=0;a--)if(!XC(e[n=r[a]],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function KC(e,t){return XC(Sy(e),Sy(t))}function JC(){pb(),gy=0}var ZC="top",ex="left",tx="right",nx="bottom",ax="start",rx="middle",ox="end",lx="group",ix="axis",ux="title",cx="frame",sx="scope",fx="legend",dx="row-header",px="row-footer",gx="row-title",hx="column-header",vx="column-footer",mx="column-title",yx="padding",bx="fit",wx="fit-x",kx="fit-y",Cx="none",xx="all",Px="each",_x="flush",Ex="column",Sx="row";function Bx(e){zc.call(this,null,e)}function Ox(e,t,n){return t(e.bounds.clear(),e,n)}na(Bx,zc,{transform:function(e,t){var n,a=t.dataflow,r=e.mark,o=r.marktype,l=dk[o],i=l.bound,u=r.bounds;if(l.nested)r.items.length&&a.dirty(r.items[0]),u=Ox(r,i),r.items.forEach((function(e){e.bounds.clear().union(u)}));else if(o===lx||e.modified())switch(t.visit(t.MOD,(function(e){return a.dirty(e)})),u.clear(),r.items.forEach((function(e){return u.union(Ox(e,i))})),r.role){case ix:case fx:case ux:t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,(function(e){u.union(Ox(e,i))})),t.visit(t.MOD,(function(e){n=n||u.alignsWith(e.bounds),a.dirty(e),u.union(Ox(e,i))})),n&&(u.clear(),r.items.forEach((function(e){return u.union(e.bounds)})));return QC(r),t.modifies("bounds")}});var Ax=":vega_identifier:";function Dx(e){zc.call(this,0,e)}function Mx(e){zc.call(this,null,e)}function Nx(e){zc.call(this,null,e)}Dx.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},na(Dx,zc,{transform:function(e,t){var n,a=(n=t.dataflow)._signals[Ax]||(n._signals[Ax]=n.add(0)),r=e.as,o=a.value;return t.visit(t.ADD,(function(e){return e[r]=e[r]||++o})),a.set(this.value=o),t}}),na(Mx,zc,{transform:function(e,t){var n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var a=n.marktype===lx?mb:vb;return t.visit(t.ADD,(function(e){return a.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});var jx={parity:function(e){return e.filter((function(e,t){return t%2?e.opacity=0:1}))},greedy:function(e,t){var n;return e.filter((function(e,a){return a&&Tx(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)}))}},Tx=function(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)},Fx=function(e,t){for(var n,a=1,r=e.length,o=e[0].bounds;a<r;o=n,++a)if(Tx(o,n=e[a].bounds,t))return!0},Ix=function(e){var t=e.bounds;return t.width()>1&&t.height()>1},Rx=function(e){return e.forEach((function(e){return e.opacity=1})),e},zx=function(e,t){return e.reflow(t.modified()).modifies("opacity")};function Lx(e){zc.call(this,null,e)}na(Nx,zc,{transform:function(e,t){var n,a,r=jx[e.method]||jx.parity,o=e.separation||0,l=t.materialize(t.SOURCE).source;if(l&&l.length){if(!e.method)return e.modified("method")&&(Rx(l),t=zx(t,e)),t;if((l=l.filter(Ix)).length){if(e.sort&&(l=l.slice().sort(e.sort)),n=Rx(l),t=zx(t,e),n.length>=3&&Fx(n,o)){do{n=r(n,o)}while(n.length>=3&&Fx(n,o));n.length<3&&!bn(l).opacity&&(n.length>1&&(bn(n).opacity=0),bn(l).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(a=function(e,t,n){var a=e.range(),r=new hb;return t===ZC||t===nx?r.set(a[0],-1/0,a[1],1/0):r.set(-1/0,a[0],1/0,a[1]),r.expand(n||1),function(e){return r.encloses(e.bounds)}}(e.boundScale,e.boundOrient,+e.boundTolerance),l.forEach((function(e){a(e)||(e.opacity=0)})));var i=n[0].mark.bounds.clear();return l.forEach((function(e){e.opacity&&i.union(e.bounds)})),t}}}}),na(Lx,zc,{transform:function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){return n.dirty(e)})),t.fields&&t.fields.zindex){var a=t.source&&t.source[0];a&&(a.mark.zdirty=!0)}}});var Hx=new hb;function Ux(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Wx(e){var t=e.items[0].orient;return t===ex||t===tx}function qx(e,t,n,a){var r,o,l=t.items[0],i=l.datum,u=null!=l.translate?l.translate:.5,c=l.orient,s=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(i),f=l.range,d=l.offset,p=l.position,g=l.minExtent,h=l.maxExtent,v=i.title&&l.items[s[2]].items[0],m=l.titlePadding,y=l.bounds,b=v&&tk(v),w=0,k=0;switch(Hx.clear().union(y),y.clear(),(r=s[0])>-1&&y.union(l.items[r].bounds),(r=s[1])>-1&&y.union(l.items[r].bounds),c){case ZC:w=p||0,k=-d,o=Math.max(g,Math.min(h,-y.y1)),y.add(0,-o).add(f,0),v&&Gx(e,v,o,m,b,0,-1,y);break;case ex:w=-d,k=p||0,o=Math.max(g,Math.min(h,-y.x1)),y.add(-o,0).add(0,f),v&&Gx(e,v,o,m,b,1,-1,y);break;case tx:w=n+d,k=p||0,o=Math.max(g,Math.min(h,y.x2)),y.add(0,0).add(o,f),v&&Gx(e,v,o,m,b,1,1,y);break;case nx:w=p||0,k=a+d,o=Math.max(g,Math.min(h,y.y2)),y.add(0,0).add(f,o),v&&Gx(e,v,o,m,0,0,1,y);break;default:w=l.x,k=l.y}return kb(y.translate(w,k),l),Ux(l,"x",w+u)|Ux(l,"y",k+u)&&(l.bounds=Hx,e.dirty(l),l.bounds=y,e.dirty(l)),l.mark.bounds.clear().union(y)}function Gx(e,t,n,a,r,o,l,i){var u=t.bounds;if(t.auto){var c=l*(n+r+a),s=0,f=0;e.dirty(t),o?s=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(u.translate(-s,-f)),e.dirty(t)}i.union(u)}var Vx=function(e,t){return Math.floor(Math.min(e,t))},$x=function(e,t){return Math.ceil(Math.max(e,t))};function Yx(e){return(new hb).set(0,0,e.width||0,e.height||0)}function Qx(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Xx(e,t,n){var a=gn(e)?e[t]:e;return null!=a?a:void 0!==n?n:0}function Kx(e){return e<0?Math.ceil(-e):0}function Jx(e,t,n){var a,r,o,l,i,u,c,s,f,d,p,g=!n.nodirty,h=n.bounds===_x?Yx:Qx,v=Hx.set(0,0,0,0),m=Xx(n.align,Ex),y=Xx(n.align,Sx),b=Xx(n.padding,Ex),w=Xx(n.padding,Sx),k=n.columns||t.length,C=k<=0?1:Math.ceil(t.length/k),x=t.length,P=Array(x),_=Array(k),E=0,S=Array(x),B=Array(C),O=0,A=Array(x),D=Array(x),M=Array(x);for(r=0;r<k;++r)_[r]=0;for(r=0;r<C;++r)B[r]=0;for(r=0;r<x;++r)u=t[r],i=M[r]=h(u),u.x=u.x||0,A[r]=0,u.y=u.y||0,D[r]=0,o=r%k,l=~~(r/k),E=Math.max(E,c=Math.ceil(i.x2)),O=Math.max(O,s=Math.ceil(i.y2)),_[o]=Math.max(_[o],c),B[l]=Math.max(B[l],s),P[r]=b+Kx(i.x1),S[r]=w+Kx(i.y1),g&&e.dirty(t[r]);for(r=0;r<x;++r)r%k===0&&(P[r]=0),r<k&&(S[r]=0);if(m===Px)for(o=1;o<k;++o){for(p=0,r=o;r<x;r+=k)p<P[r]&&(p=P[r]);for(r=o;r<x;r+=k)P[r]=p+_[o-1]}else if(m===xx){for(p=0,r=0;r<x;++r)r%k&&p<P[r]&&(p=P[r]);for(r=0;r<x;++r)r%k&&(P[r]=p+E)}else for(m=!1,o=1;o<k;++o)for(r=o;r<x;r+=k)P[r]+=_[o-1];if(y===Px)for(l=1;l<C;++l){for(p=0,a=(r=l*k)+k;r<a;++r)p<S[r]&&(p=S[r]);for(r=l*k;r<a;++r)S[r]=p+B[l-1]}else if(y===xx){for(p=0,r=k;r<x;++r)p<S[r]&&(p=S[r]);for(r=k;r<x;++r)S[r]=p+O}else for(y=!1,l=1;l<C;++l)for(a=(r=l*k)+k;r<a;++r)S[r]+=B[l-1];for(f=0,r=0;r<x;++r)f=P[r]+(r%k?f:0),A[r]+=f-t[r].x;for(o=0;o<k;++o)for(d=0,r=o;r<x;r+=k)d+=S[r],D[r]+=d-t[r].y;if(m&&Xx(n.center,Ex)&&C>1)for(r=0;r<x;++r)(f=(i=m===xx?E:_[r%k])-M[r].x2-t[r].x-A[r])>0&&(A[r]+=f/2);if(y&&Xx(n.center,Sx)&&1!==k)for(r=0;r<x;++r)(d=(i=y===xx?O:B[~~(r/k)])-M[r].y2-t[r].y-D[r])>0&&(D[r]+=d/2);for(r=0;r<x;++r)v.union(M[r].translate(A[r],D[r]));switch(f=Xx(n.anchor,"x"),d=Xx(n.anchor,"y"),Xx(n.anchor,Ex)){case ox:f-=v.width();break;case rx:f-=v.width()/2}switch(Xx(n.anchor,Sx)){case ox:d-=v.height();break;case rx:d-=v.height()/2}for(f=Math.round(f),d=Math.round(d),v.clear(),r=0;r<x;++r)t[r].mark.bounds.clear();for(r=0;r<x;++r)(u=t[r]).x+=A[r]+=f,u.y+=D[r]+=d,v.union(u.mark.bounds.union(u.bounds.translate(A[r],D[r]))),g&&e.dirty(u);return v}function Zx(e,t,n){var a,r,o,l,i,u,c,s=function(e){for(var t,n,a,r,o,l,i,u=e.items,c=u.length,s=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};s<c;++s)if(i=(l=u[s]).items,l.marktype===lx)switch(l.role){case ix:case fx:case ux:break;case dx:(t=f.rowheaders).push.apply(t,B(i));break;case px:(n=f.rowfooters).push.apply(n,B(i));break;case hx:(a=f.colheaders).push.apply(a,B(i));break;case vx:(r=f.colfooters).push.apply(r,B(i));break;case gx:f.rowtitle=i[0];break;case mx:f.coltitle=i[0];break;default:(o=f.marks).push.apply(o,B(i))}return f}(t),f=s.marks,d=n.bounds===_x?eP:tP,p=n.offset,g=n.columns||f.length,h=g<=0?1:Math.ceil(f.length/g),v=h*g,m=Jx(e,f,n);m.empty()&&m.set(0,0,0,0),s.rowheaders&&(u=Xx(n.headerBand,Sx,null),a=nP(e,s.rowheaders,f,g,h,-Xx(p,"rowHeader"),Vx,0,d,"x1",0,g,1,u)),s.colheaders&&(u=Xx(n.headerBand,Ex,null),r=nP(e,s.colheaders,f,g,g,-Xx(p,"columnHeader"),Vx,1,d,"y1",0,1,g,u)),s.rowfooters&&(u=Xx(n.footerBand,Sx,null),o=nP(e,s.rowfooters,f,g,h,Xx(p,"rowFooter"),$x,0,d,"x2",g-1,g,1,u)),s.colfooters&&(u=Xx(n.footerBand,Ex,null),l=nP(e,s.colfooters,f,g,g,Xx(p,"columnFooter"),$x,1,d,"y2",v-g,1,g,u)),s.rowtitle&&(i=Xx(n.titleAnchor,Sx),c=Xx(p,"rowTitle"),c=i===ox?o+c:a-c,u=Xx(n.titleBand,Sx,.5),aP(e,s.rowtitle,c,0,m,u)),s.coltitle&&(i=Xx(n.titleAnchor,Ex),c=Xx(p,"columnTitle"),c=i===ox?l+c:r-c,u=Xx(n.titleBand,Ex,.5),aP(e,s.coltitle,c,1,m,u))}function eP(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function tP(e,t){return e.bounds[t]}function nP(e,t,n,a,r,o,l,i,u,c,s,f,d,p){var g,h,v,m,y,b,w,k,C,x=n.length,P=0,_=0;if(!x)return P;for(g=s;g<x;g+=f)n[g]&&(P=l(P,u(n[g],c)));if(!t.length)return P;for(t.length>r&&(e.warn("Grid headers exceed limit: "+r),t=t.slice(0,r)),P+=o,h=0,m=t.length;h<m;++h)e.dirty(t[h]),t[h].mark.bounds.clear();for(g=s,h=0,m=t.length;h<m;++h,g+=f){for(y=(b=t[h]).mark.bounds,v=g;v>=0&&null==(w=n[v]);v-=d);i?(k=null==p?w.x:Math.round(w.bounds.x1+p*w.bounds.width()),C=P):(k=P,C=null==p?w.y:Math.round(w.bounds.y1+p*w.bounds.height())),y.union(b.bounds.translate(k-(b.x||0),C-(b.y||0))),b.x=k,b.y=C,e.dirty(b),_=l(_,y[c])}return _}function aP(e,t,n,a,r,o){if(t){e.dirty(t);var l=n,i=n;a?l=Math.round(r.x1+o*r.width()):i=Math.round(r.y1+o*r.height()),t.bounds.translate(l-(t.x||0),i-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=l,t.y=i,e.dirty(t)}}function rP(e,t,n,a,r,o,l){var i=function(e,t){var n=e[t]||{};return function(t,a){return null!=n[t]?n[t]:null!=e[t]?e[t]:a}}(n,t),u=function(e,t){var n=-1/0;return e.forEach((function(e){null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,i("offset",0)),c=i("anchor",ax),s=c===ox?1:c===rx?.5:0,f={align:Px,bounds:i("bounds",_x),columns:"vertical"===i("direction")?1:e.length,padding:i("margin",8),center:i("center"),nodirty:!0};switch(t){case ex:f.anchor={x:Math.floor(a.x1)-u,column:ox,y:s*(l||a.height()+2*a.y1),row:c};break;case tx:f.anchor={x:Math.ceil(a.x2)+u,y:s*(l||a.height()+2*a.y1),row:c};break;case ZC:f.anchor={y:Math.floor(r.y1)-u,row:ox,x:s*(o||r.width()+2*r.x1),column:c};break;case nx:f.anchor={y:Math.ceil(r.y2)+u,x:s*(o||r.width()+2*r.x1),column:c};break;case"top-left":f.anchor={x:u,y:u};break;case"top-right":f.anchor={x:o-u,y:u,column:ox};break;case"bottom-left":f.anchor={x:u,y:l-u,row:ox};break;case"bottom-right":f.anchor={x:o-u,y:l-u,column:ox,row:ox}}return f}function oP(e,t){var n,a,r=t.items[0],o=r.datum,l=r.orient,i=r.bounds,u=r.x,c=r.y;return r._bounds?r._bounds.clear().union(i):r._bounds=i.clone(),i.clear(),function(e,t,n){var a=t.padding,r=a-n.x,o=a-n.y;if(t.datum.title){var l=t.items[1].items[0],i=l.anchor,u=t.titlePadding||0,c=a-l.x,s=a-l.y;switch(l.orient){case ex:r+=Math.ceil(l.bounds.width())+u;break;case tx:case nx:break;default:o+=l.bounds.height()+u}switch((r||o)&&iP(e,n,r,o),l.orient){case ex:s+=lP(t,n,l,i,1,1);break;case tx:c+=lP(t,n,l,ox,0,0)+u,s+=lP(t,n,l,i,1,1);break;case nx:c+=lP(t,n,l,i,0,0),s+=lP(t,n,l,ox,-1,0,1)+u;break;default:c+=lP(t,n,l,i,0,0)}(c||s)&&iP(e,l,c,s),(c=Math.round(l.bounds.x1-a))<0&&(iP(e,n,-c,0),iP(e,l,-c,0))}else(r||o)&&iP(e,n,r,o)}(e,r,r.items[0].items[0]),i=function(e,t){return e.items.forEach((function(e){return t.union(e.bounds)})),t.x1=e.padding,t.y1=e.padding,t}(r,i),n=2*r.padding,a=2*r.padding,i.empty()||(n=Math.ceil(i.width()+n),a=Math.ceil(i.height()+a)),"symbol"===o.type&&function(e){var t=e.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{});e.forEach((function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(r.items[0].items[0].items[0].items),l!==Cx&&(r.x=u=0,r.y=c=0),r.width=n,r.height=a,kb(i.set(u,c,u+n,c+a),r),r.mark.bounds.clear().union(i),r}function lP(e,t,n,a,r,o,l){var i="symbol"!==e.datum.type,u=n.datum.vgrad,c=(!i||!o&&u||l?t:t.items[0]).bounds[r?"y2":"x2"]-e.padding,s=u&&o?c:0,f=u&&o?0:c,d=r<=0?0:tk(n);return Math.round(a===ax?s:a===ox?f-d:.5*(c-d))}function iP(e,t,n,a){t.x+=n,t.y+=a,t.bounds.translate(n,a),t.mark.bounds.translate(n,a),e.dirty(t)}function uP(e){zc.call(this,null,e)}function cP(e,t){var n=0;if(void 0===t){var a,r=Wc(e);try{for(r.s();!(a=r.n()).done;){var o=a.value;(o=+o)&&(n+=o)}}catch(s){r.e(s)}finally{r.f()}}else{var l,i=-1,u=Wc(e);try{for(u.s();!(l=u.n()).done;){var c=l.value;(c=+t(c,++i,e))&&(n+=c)}}catch(s){u.e(s)}finally{u.f()}}return n}function sP(e){zc.call(this,null,e)}function fP(e){zc.call(this,null,e)}function dP(){return ac({})}function pP(e){zc.call(this,null,e)}function gP(e){zc.call(this,[],e)}na(uP,zc,{transform:function(e,t){var n=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&Zx(n,t,e.layout),function(e,t,n){var a,r,o,l,i,u=t.items,c=Math.max(0,t.width||0),s=Math.max(0,t.height||0),f=(new hb).set(0,0,c,s),d=f.clone(),p=f.clone(),g=[];for(l=0,i=u.length;l<i;++l)switch((r=u[l]).role){case ix:(Wx(r)?d:p).union(qx(e,r,c,s));break;case ux:a=r;break;case fx:g.push(oP(e,r));break;case cx:case sx:case dx:case px:case gx:case hx:case vx:case mx:d.union(r.bounds),p.union(r.bounds);break;default:f.union(r.bounds)}if(g.length){var h={};for(var v in g.forEach((function(e){(o=e.orient||tx)!==Cx&&(h[o]||(h[o]=[])).push(e)})),h){var m=h[v];Jx(e,m,rP(m,v,n.legends,d,p,c,s))}g.forEach((function(t){var a=t.bounds;if(a.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=a,e.dirty(t)),n.autosize&&n.autosize.type===bx)switch(t.orient){case ex:case tx:f.add(a.x1,0).add(a.x2,0);break;case ZC:case nx:f.add(0,a.y1).add(0,a.y2)}else f.union(a)}))}f.union(d).union(p),a&&f.union(function(e,t,n,a,r){var o,l=t.items[0],i=l.frame,u=l.orient,c=l.anchor,s=l.offset,f=l.padding,d=l.items[0].items[0],p=l.items[1]&&l.items[1].items[0],g=u===ex||u===tx?a:n,h=0,v=0,m=0,y=0,b=0;if(i!==lx?u===ex?(h=r.y2,g=r.y1):u===tx?(h=r.y1,g=r.y2):(h=r.x1,g=r.x2):u===ex&&(h=a,g=0),o=c===ax?h:c===ox?g:(h+g)/2,p&&p.text){switch(u){case ZC:case nx:b=d.bounds.height()+f;break;case ex:y=d.bounds.width()+f;break;case tx:y=-d.bounds.width()-f}Hx.clear().union(p.bounds),Hx.translate(y-(p.x||0),b-(p.y||0)),Ux(p,"x",y)|Ux(p,"y",b)&&(e.dirty(p),p.bounds.clear().union(Hx),p.mark.bounds.clear().union(Hx),e.dirty(p)),Hx.clear().union(p.bounds)}else Hx.clear();switch(Hx.union(d.bounds),u){case ZC:v=o,m=r.y1-Hx.height()-s;break;case ex:v=r.x1-Hx.width()-s,m=o;break;case tx:v=r.x2+Hx.width()+s,m=o;break;case nx:v=o,m=r.y2+s;break;default:v=l.x,m=l.y}return Ux(l,"x",v)|Ux(l,"y",m)&&(Hx.translate(v,m),e.dirty(l),l.bounds.clear().union(Hx),t.bounds.clear().union(Hx),e.dirty(l)),l.bounds}(e,a,c,s,f));t.clip&&f.set(0,0,t.width||0,t.height||0);!function(e,t,n,a){var r=a.autosize||{},o=r.type;if(e._autosize<1||!o)return;var l=e._width,i=e._height,u=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),s=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1)),d=Math.max(0,Math.ceil(n.x2-u)),p=Math.max(0,Math.ceil(n.y2-s));if(r.contains===yx){var g=e.padding();l-=g.left+g.right,i-=g.top+g.bottom}o===Cx?(c=0,f=0,u=l,s=i):o===bx?(u=Math.max(0,l-c-d),s=Math.max(0,i-f-p)):o===wx?(u=Math.max(0,l-c-d),i=s+f+p):o===kx?(l=u+c+d,s=Math.max(0,i-f-p)):"pad"===o&&(l=u+c+d,i=s+f+p);e._resizeView(l,i,u,s,[c,f],r.resize)}(e,t,f,n)}(n,t,e)})),function(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?t.reflow():t}}),na(sP,zc,{transform:function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),a=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,o=e.scale,l=Jm(o,null==e.count?e.values?e.values.length:10:e.count,e.minstep),i=e.format||ty(n,o,l,e.formatSpecifier,e.formatType,!!e.values),u=e.values?Zm(o,e.values,l):ey(o,l);return r&&(a.rem=r),r=u.map((function(e,t){return ac({index:t/(u.length-1||1),value:e,label:i(e)})})),e.extra&&r.length&&r.push(ac({index:-1,extra:{value:r[0].value},label:""})),a.source=r,a.add=r,this.value=r,a}}),na(fP,zc,{transform:function(e,t){var n=t.dataflow,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.item||dP,o=e.key||tc,l=this.value;return pn(a.encode)&&(a.encode=null),l&&(e.modified("key")||t.modified(o))&&Xt("DataJoin does not support modified key function or fields."),l||(t=t.addAll(),this.value=l=function(e){var t=ea().test((function(e){return e.exit}));return t.lookup=function(n){return t.get(e(n))},t}(o)),t.visit(t.ADD,(function(e){var t=o(e),n=l.get(t);n?n.exit?(l.empty--,a.add.push(n)):a.mod.push(n):(n=r(e),l.set(t,n),a.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=o(e),n=l.get(t);n&&(n.datum=e,a.mod.push(n))})),t.visit(t.REM,(function(e){var t=o(e),n=l.get(t);e!==n.datum||n.exit||(a.rem.push(n),n.exit=!0,++l.empty)})),t.changed(t.ADD_MOD)&&a.modifies("datum"),(t.clean()||e.clean&&l.empty>n.cleanThreshold)&&n.runAfter(l.clean),a}}),na(pP,zc,{transform:function(e,t){var n=t.fork(t.ADD_REM),a=e.mod||!1,r=e.encoders,o=t.encode;if(pn(o)){if(!n.changed()&&!o.every((function(e){return r[e]})))return t.StopPropagation;o=o[0],n.encode=null}var l="enter"===o,i=r.update||rn,u=r.enter||rn,c=r.exit||rn,s=(o&&!l?r[o]:i)||rn;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){u(t,e),i(t,e)})),n.modifies(u.output),n.modifies(i.output),s!==rn&&s!==i&&(t.visit(t.ADD,(function(t){s(t,e)})),n.modifies(s.output))),t.changed(t.REM)&&c!==rn&&(t.visit(t.REM,(function(t){c(t,e)})),n.modifies(c.output)),l||s!==rn){var f=t.MOD|(e.modified()?t.REFLOW:0);l?(t.visit(f,(function(t){var r=u(t,e)||a;(s(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(u.output)):t.visit(f,(function(t){(s(t,e)||a)&&n.mod.push(t)})),n.mod.length&&n.modifies(s.output)}return n.changed()?n:t.StopPropagation}}),na(gP,zc,{transform:function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,a,r,o,l,i=t.dataflow.locale(),u=t.fork(t.NO_SOURCE|t.NO_FIELDS),c=this.value,s=e.type||Ym,f=e.scale,d=+e.limit,p=Jm(f,null==e.count?5:e.count,e.minstep),g=!!e.values||s===Ym,h=e.format||ly(i,f,p,s,e.formatSpecifier,e.formatType,g),v=e.values||oy(f,p);return c&&(u.rem=c),s===Ym?(d&&v.length>d?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),c=v.slice(0,d-1),l=!0):c=v,Ln(r=e.size)?(e.values||0!==f(c[0])||(c=c.slice(1)),o=c.reduce((function(t,n){return Math.max(t,r(n,e))}),0)):r=Vn(o=r||8),c=c.map((function(t,n){return ac({index:n,label:h(t,n,c),value:t,offset:o,size:r(t,e)})})),l&&(l=v[c.length],c.push(ac({index:c.length,label:"\u2026".concat(v.length-c.length," entries"),value:l,offset:o,size:r(l,e)})))):"gradient"===s?(n=f.domain(),a=Um(f,n[0],bn(n)),v.length<3&&!e.values&&n[0]!==bn(n)&&(v=[n[0],bn(n)]),c=v.map((function(e,t){return ac({index:t,label:h(e,t,v),value:e,perc:a(e)})}))):(r=v.length-1,a=function(e){var t=e.domain(),n=t.length-1,a=+t[0],r=+bn(t),o=r-a;if(e.type===dm){var l=n?o/n:.1;o=(r+=l)-(a-=l)}return function(e){return(e-a)/o}}(f),c=v.map((function(e,t){return ac({index:t,label:h(e,t,v),value:e,perc:t?a(e):0,perc2:t===r?1:a(v[t+1])})}))),u.source=c,u.add=c,this.value=c,u}});var hP=function(e){return e.source.x},vP=function(e){return e.source.y},mP=function(e){return e.target.x},yP=function(e){return e.target.y};function bP(e){zc.call(this,{},e)}bP.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},na(bP,zc,{transform:function(e,t){var n=e.sourceX||hP,a=e.sourceY||vP,r=e.targetX||mP,o=e.targetY||yP,l=e.as||"path",i=e.orient||"vertical",u=e.shape||"line",c=xP.get(u+"-"+i)||xP.get(u);return c||Xt("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[l]=c(n(e),a(e),r(e),o(e))})),t.reflow(e.modified()).modifies(l)}});var wP=function(e,t,n,a){return"M"+e+","+t+"L"+n+","+a},kP=function(e,t,n,a){var r=n-e,o=a-t,l=Math.sqrt(r*r+o*o)/2;return"M"+e+","+t+"A"+l+","+l+" "+180*Math.atan2(o,r)/Math.PI+" 0 1 "+n+","+a},CP=function(e,t,n,a){var r=n-e,o=a-t,l=.2*(r+o),i=.2*(o-r);return"M"+e+","+t+"C"+(e+l)+","+(t+i)+" "+(n+i)+","+(a-l)+" "+n+","+a},xP=ea({line:wP,"line-radial":function(e,t,n,a){return wP(t*Math.cos(e),t*Math.sin(e),a*Math.cos(n),a*Math.sin(n))},arc:kP,"arc-radial":function(e,t,n,a){return kP(t*Math.cos(e),t*Math.sin(e),a*Math.cos(n),a*Math.sin(n))},curve:CP,"curve-radial":function(e,t,n,a){return CP(t*Math.cos(e),t*Math.sin(e),a*Math.cos(n),a*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,a){return"M"+e+","+t+"V"+a+"H"+n},"orthogonal-vertical":function(e,t,n,a){return"M"+e+","+t+"H"+n+"V"+a},"orthogonal-radial":function(e,t,n,a){var r=Math.cos(e),o=Math.sin(e),l=Math.cos(n),i=Math.sin(n);return"M"+t*r+","+t*o+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*l+","+t*i+"L"+a*l+","+a*i},"diagonal-horizontal":function(e,t,n,a){var r=(e+n)/2;return"M"+e+","+t+"C"+r+","+t+" "+r+","+a+" "+n+","+a},"diagonal-vertical":function(e,t,n,a){var r=(t+a)/2;return"M"+e+","+t+"C"+e+","+r+" "+n+","+r+" "+n+","+a},"diagonal-radial":function(e,t,n,a){var r=Math.cos(e),o=Math.sin(e),l=Math.cos(n),i=Math.sin(n),u=(t+a)/2;return"M"+t*r+","+t*o+"C"+u*r+","+u*o+" "+u*l+","+u*i+" "+a*l+","+a*i}});function PP(e){zc.call(this,null,e)}PP.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},na(PP,zc,{transform:function(e,t){var n,a,r,o=e.as||["startAngle","endAngle"],l=o[0],i=o[1],u=e.field||nn,c=e.startAngle||0,s=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(u),p=d.length,g=c,h=(s-c)/cP(d),v=Js(p);for(e.sort&&v.sort((function(e,t){return d[e]-d[t]})),n=0;n<p;++n)r=d[v[n]],(a=f[v[n]])[l]=g,a[i]=g+=r*h;return this.value=d,t.reflow(e.modified()).modifies(o)}});function _P(e){return Mm(e)&&e!==um}var EP=Ca(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function SP(e){zc.call(this,null,e),this.modified(!0)}function BP(e,t,n){if(Tm(e)){var a=Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0));a!==t.length&&n.warn("Log scale domain includes zero: "+ma(t))}return t}function OP(e,t,n){return Ln(e)&&(t||n)?zm(e,AP(t||[0,1],n)):e}function AP(e,t){return t?e.slice().reverse():e}function DP(e){zc.call(this,null,e)}na(SP,zc,{transform:function(e,t){var n=t.dataflow,a=this.value,r=function(e){var t,n=e.type,a="";if(n===um)return"sequential-linear";(function(e){var t=e.type;return Mm(t)&&t!==lm&&t!==im&&(e.scheme||e.range&&e.range.length&&e.range.every(ca))})(e)&&(a=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?"sequential-":3===t?"diverging-":"");return(a+n||tm).toLowerCase()}(e);for(r in a&&r===a.type||(this.value=a=Om(r)()),e)if(!EP[r]){if("padding"===r&&_P(a.type))continue;Ln(a[r])?a[r](e[r]):n.warn("Unsupported scale property: "+r)}return function(e,t,n){var a=e.type,r=t.round||!1,o=t.range;if(null!=t.rangeStep)o=function(e,t,n){e!==hm&&e!==gm&&Xt("Only band and point scales support rangeStep.");var a=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,r=e===gm?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*em(n,r,a)]}(a,t,n);else if(t.scheme&&(o=function(e,t,n){var a,r=t.schemeExtent;pn(t.scheme)?a=Lm(t.scheme,t.interpolate,t.interpolateGamma):(a=$m(t.scheme.toLowerCase()))||Xt("Unrecognized scheme name: ".concat(t.scheme));return n=e===dm?n+1:e===vm?n-1:e===sm||e===fm?+t.schemeCount||5:n,Fm(e)?OP(a,r,t.reverse):Ln(a)?Hm(OP(a,r),n):e===pm?a:a.slice(0,n)}(a,t,n),Ln(o))){if(e.interpolator)return e.interpolator(o);Xt("Scale type ".concat(a," does not support interpolating color schemes."))}if(o&&Fm(a))return e.interpolator(Lm(AP(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(Wm(t.interpolate,t.interpolateGamma)):Ln(e.round)?e.round(r):Ln(e.rangeRound)&&e.interpolate(r?Jg:Kg);o&&e.range(AP(o,t.reverse))}(a,e,function(e,t,n){var a=t.bins;if(a&&!pn(a)){var r=e.domain(),o=r[0],l=bn(r),i=a.step,u=null==a.start?o:a.start,c=null==a.stop?l:a.stop;i||Xt("Scale bins parameter missing step property."),u<o&&(u=i*Math.ceil(o/i)),c>l&&(c=i*Math.floor(l/i)),a=Js(u,c+i/2,i)}a?e.bins=a:e.bins&&delete e.bins;e.type===vm&&(a?t.domain||t.domainRaw||(e.domain(a),n=a.length):e.bins=e.domain());return n}(a,e,function(e,t,n){var a=function(e,t,n){return t?(e.domain(BP(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(a>-1)return a;var r,o,l=t.domain,i=e.type,u=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&(t===tm||t===am||t===rm)}(e);if(!l)return 0;_P(i)&&t.padding&&l[0]!==bn(l)&&(l=function(e,t,n,a,r,o){var l=Math.abs(bn(n)-n[0]),i=l/(l-2*a),u=e===nm?Nn(t,null,i):e===rm?jn(t,null,i,.5):e===am?jn(t,null,i,r||1):e===om?Tn(t,null,i,o||1):Mn(t,null,i);return(t=t.slice())[0]=u[0],t[t.length-1]=u[1],t}(i,l,t.range,t.padding,t.exponent,t.constant));if((u||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(r=(l=l.slice()).length-1||1,u&&(l[0]>0&&(l[0]=0),l[r]<0&&(l[r]=0)),null!=t.domainMin&&(l[0]=t.domainMin),null!=t.domainMax&&(l[r]=t.domainMax),null!=t.domainMid)){var c=(o=t.domainMid)>l[r]?r+1:o<l[0]?0:r;c!==r&&n.warn("Scale domainMid exceeds domain min or max.",o),l.splice(c,0,o)}e.domain(BP(i,l,n)),i===pm&&e.unknown(t.domainImplicit?Zh:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&Jm(e,t.nice)||null);return l.length}(a,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),na(DP,zc,{transform:function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(ic(e.sort)),this.modified(n),t}});var MP="zero",NP="center",jP="normalize",TP=["y0","y1"];function FP(e){zc.call(this,null,e)}function IP(e,t,n,a,r){for(var o,l=(t-e.sum)/2,i=e.length,u=0;u<i;++u)(o=e[u])[a]=l,o[r]=l+=Math.abs(n(o))}function RP(e,t,n,a,r){for(var o,l=1/e.sum,i=0,u=e.length,c=0,s=0;c<u;++c)(o=e[c])[a]=i,o[r]=i=l*(s+=Math.abs(n(o)))}function zP(e,t,n,a,r){for(var o,l,i=0,u=0,c=e.length,s=0;s<c;++s)(o=+n(l=e[s]))<0?(l[a]=u,l[r]=u+=o):(l[a]=i,l[r]=i+=o)}FP.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:MP,values:[MP,NP,jP]},{name:"as",type:"string",array:!0,length:2,default:TP}]},na(FP,zc,{transform:function(e,t){var n,a,r,o,l=e.as||TP,i=l[0],u=l[1],c=ic(e.sort),s=e.field||nn,f=e.offset===NP?IP:e.offset===jP?RP:zP;for(n=function(e,t,n,a){var r,o,l,i,u,c,s,f,d,p=[],g=function(e){return e(u)};if(null==t)p.push(e.slice());else for(r={},o=0,l=e.length;o<l;++o)u=e[o],(s=r[c=t.map(g)])||(r[c]=s=[],p.push(s)),s.push(u);for(c=0,d=0,i=p.length;c<i;++c){for(o=0,f=0,l=(s=p[c]).length;o<l;++o)f+=Math.abs(a(s[o]));s.sum=f,f>d&&(d=f),n&&s.sort(n)}return p.max=d,p}(t.source,e.groupby,c,s),a=0,r=n.length,o=n.max;a<r;++a)f(n[a],o,s,i,u);return t.reflow(e.modified()).modifies(l)}});var LP=function(e){return e};function HP(e,t){e&&WP.hasOwnProperty(e.type)&&WP[e.type](e,t)}var UP={Feature:function(e,t){HP(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,a=-1,r=n.length;++a<r;)HP(n[a].geometry,t)}},WP={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)e=n[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){qP(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)qP(n[a],t,0)},Polygon:function(e,t){GP(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)GP(n[a],t)},GeometryCollection:function(e,t){for(var n=e.geometries,a=-1,r=n.length;++a<r;)HP(n[a],t)}};function qP(e,t,n){var a,r=-1,o=e.length-n;for(t.lineStart();++r<o;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function GP(e,t){var n=-1,a=e.length;for(t.polygonStart();++n<a;)qP(e[n],t,1);t.polygonEnd()}function VP(e,t){e&&UP.hasOwnProperty(e.type)?UP[e.type](e,t):HP(e,t)}var $P=function(){function e(){O(this,e),this._partials=new Float64Array(32),this._n=0}return D(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,a=0;a<this._n&&a<32;a++){var r=t[a],o=e+r,l=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);l&&(t[n++]=l),e=o}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,a=this._partials,r=this._n,o=0;if(r>0){for(o=a[--r];r>0&&(e=o,!(n=(t=a[--r])-((o=e+t)-e))););r>0&&(n<0&&a[r-1]<0||n>0&&a[r-1]>0)&&(t=2*n)==(e=o+t)-o&&(o=e)}return o}}]),e}();var YP=1e-6,QP=1e-12,XP=Math.PI,KP=XP/2,JP=XP/4,ZP=2*XP,e_=180/XP,t_=XP/180,n_=Math.abs,a_=Math.atan,r_=Math.atan2,o_=Math.cos,l_=Math.ceil,i_=Math.exp,u_=(Math.floor,Math.hypot),c_=Math.log,s_=Math.pow,f_=Math.sin,d_=Math.sign||function(e){return e>0?1:e<0?-1:0},p_=Math.sqrt,g_=Math.tan;function h_(e){return e>1?0:e<-1?XP:Math.acos(e)}function v_(e){return e>1?KP:e<-1?-KP:Math.asin(e)}function m_(){}var y_,b_,w_,k_,C_=new $P,x_=new $P,P_={point:m_,lineStart:m_,lineEnd:m_,polygonStart:function(){P_.lineStart=__,P_.lineEnd=B_},polygonEnd:function(){P_.lineStart=P_.lineEnd=P_.point=m_,C_.add(n_(x_)),x_=new $P},result:function(){var e=C_/2;return C_=new $P,e}};function __(){P_.point=E_}function E_(e,t){P_.point=S_,y_=w_=e,b_=k_=t}function S_(e,t){x_.add(k_*e-w_*t),w_=e,k_=t}function B_(){S_(y_,b_)}var O_=P_,A_=1/0,D_=A_,M_=-A_,N_=M_,j_={point:function(e,t){e<A_&&(A_=e);e>M_&&(M_=e);t<D_&&(D_=t);t>N_&&(N_=t)},lineStart:m_,lineEnd:m_,polygonStart:m_,polygonEnd:m_,result:function(){var e=[[A_,D_],[M_,N_]];return M_=N_=-(D_=A_=1/0),e}};var T_,F_,I_,R_,z_=j_,L_=0,H_=0,U_=0,W_=0,q_=0,G_=0,V_=0,$_=0,Y_=0,Q_={point:X_,lineStart:K_,lineEnd:eE,polygonStart:function(){Q_.lineStart=tE,Q_.lineEnd=nE},polygonEnd:function(){Q_.point=X_,Q_.lineStart=K_,Q_.lineEnd=eE},result:function(){var e=Y_?[V_/Y_,$_/Y_]:G_?[W_/G_,q_/G_]:U_?[L_/U_,H_/U_]:[NaN,NaN];return L_=H_=U_=W_=q_=G_=V_=$_=Y_=0,e}};function X_(e,t){L_+=e,H_+=t,++U_}function K_(){Q_.point=J_}function J_(e,t){Q_.point=Z_,X_(I_=e,R_=t)}function Z_(e,t){var n=e-I_,a=t-R_,r=p_(n*n+a*a);W_+=r*(I_+e)/2,q_+=r*(R_+t)/2,G_+=r,X_(I_=e,R_=t)}function eE(){Q_.point=X_}function tE(){Q_.point=aE}function nE(){rE(T_,F_)}function aE(e,t){Q_.point=rE,X_(T_=I_=e,F_=R_=t)}function rE(e,t){var n=e-I_,a=t-R_,r=p_(n*n+a*a);W_+=r*(I_+e)/2,q_+=r*(R_+t)/2,G_+=r,V_+=(r=R_*e-I_*t)*(I_+e),$_+=r*(R_+t),Y_+=3*r,X_(I_=e,R_=t)}var oE=Q_;function lE(e){this._context=e}lE.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ZP)}},result:m_};var iE,uE,cE,sE,fE,dE=new $P,pE={point:m_,lineStart:function(){pE.point=gE},lineEnd:function(){iE&&hE(uE,cE),pE.point=m_},polygonStart:function(){iE=!0},polygonEnd:function(){iE=null},result:function(){var e=+dE;return dE=new $P,e}};function gE(e,t){pE.point=hE,uE=sE=e,cE=fE=t}function hE(e,t){sE-=e,fE-=t,dE.add(p_(sE*sE+fE*fE)),sE=e,fE=t}var vE=pE;function mE(){this._string=[]}function yE(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function bE(e,t){var n,a,r=4.5;function o(e){return e&&("function"===typeof r&&a.pointRadius(+r.apply(this,arguments)),VP(e,n(a))),a.result()}return o.area=function(e){return VP(e,n(O_)),O_.result()},o.measure=function(e){return VP(e,n(vE)),vE.result()},o.bounds=function(e){return VP(e,n(z_)),z_.result()},o.centroid=function(e){return VP(e,n(oE)),oE.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,LP):(e=t).stream,o):e},o.context=function(e){return arguments.length?(a=null==e?(t=null,new mE):new lE(t=e),"function"!==typeof r&&a.pointRadius(r),o):t},o.pointRadius=function(e){return arguments.length?(r="function"===typeof e?e:(a.pointRadius(+e),+e),o):r},o.projection(e).context(t)}function wE(){var e,t=[];return{point:function(t,n,a){e.push([t,n,a])},lineStart:function(){t.push(e=[])},lineEnd:m_,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function kE(e,t){return n_(e[0]-t[0])<YP&&n_(e[1]-t[1])<YP}function CE(e,t,n,a){this.x=e,this.z=t,this.o=n,this.e=a,this.v=!1,this.n=this.p=null}function xE(e,t,n,a,r){var o,l,i=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,a=e[0],l=e[t];if(kE(a,l)){if(!a[2]&&!l[2]){for(r.lineStart(),o=0;o<t;++o)r.point((a=e[o])[0],a[1]);return void r.lineEnd()}l[0]+=2e-6}i.push(n=new CE(a,e,null,!0)),u.push(n.o=new CE(a,null,n,!1)),i.push(n=new CE(l,e,null,!1)),u.push(n.o=new CE(l,null,n,!0))}})),i.length){for(u.sort(t),PE(i),PE(u),o=0,l=u.length;o<l;++o)u[o].e=n=!n;for(var c,s,f=i[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(o=0,l=c.length;o<l;++o)r.point((s=c[o])[0],s[1]);else a(d.x,d.n.x,1,r);d=d.n}else{if(p)for(c=d.p.z,o=c.length-1;o>=0;--o)r.point((s=c[o])[0],s[1]);else a(d.x,d.p.x,-1,r);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);r.lineEnd()}}}function PE(e){if(t=e.length){for(var t,n,a=0,r=e[0];++a<t;)r.n=n=e[a],n.p=r,r=n;r.n=n=e[0],n.p=r}}function _E(e){return[r_(e[1],e[0]),v_(e[2])]}function EE(e){var t=e[0],n=e[1],a=o_(n);return[a*o_(t),a*f_(t),f_(n)]}function SE(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function BE(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function OE(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function AE(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function DE(e){var t=p_(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ME(e){return n_(e[0])<=XP?e[0]:d_(e[0])*((n_(e[0])+XP)%ZP-XP)}mE.prototype={_radius:4.5,_circle:yE(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=yE(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var NE=_a().mark(jE);function jE(e){var t,n,a;return _a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=Wc(e),r.prev=1,t.s();case 3:if((n=t.n()).done){r.next=8;break}return a=n.value,r.delegateYield(a,"t0",6);case 6:r.next=3;break;case 8:r.next=13;break;case 10:r.prev=10,r.t1=r.catch(1),t.e(r.t1);case 13:return r.prev=13,t.f(),r.finish(13);case 16:case"end":return r.stop()}}),NE,null,[[1,10,13,16]])}function TE(e){return Array.from(jE(e))}function FE(e,t,n,a){return function(r){var o,l,i,u=t(r),c=wE(),s=t(c),f=!1,d={point:p,lineStart:h,lineEnd:v,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=b,l=[],o=[]},polygonEnd:function(){d.point=p,d.lineStart=h,d.lineEnd=v,l=TE(l);var e=function(e,t){var n=ME(t),a=t[1],r=f_(a),o=[f_(n),-o_(n),0],l=0,i=0,u=new $P;1===r?a=KP+YP:-1===r&&(a=-KP-YP);for(var c=0,s=e.length;c<s;++c)if(d=(f=e[c]).length)for(var f,d,p=f[d-1],g=ME(p),h=p[1]/2+JP,v=f_(h),m=o_(h),y=0;y<d;++y,g=w,v=C,m=x,p=b){var b=f[y],w=ME(b),k=b[1]/2+JP,C=f_(k),x=o_(k),P=w-g,_=P>=0?1:-1,E=_*P,S=E>XP,B=v*C;if(u.add(r_(B*_*f_(E),m*x+B*o_(E))),l+=S?P+_*ZP:P,S^g>=n^w>=n){var O=BE(EE(p),EE(b));DE(O);var A=BE(o,O);DE(A);var D=(S^P>=0?-1:1)*v_(A[2]);(a>D||a===D&&(O[0]||O[1]))&&(i+=S^P>=0?1:-1)}}return(l<-1e-6||l<YP&&u<-1e-12)^1&i}(o,a);l.length?(f||(r.polygonStart(),f=!0),xE(l,RE,e,n,r)):e&&(f||(r.polygonStart(),f=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),l=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(t,n){e(t,n)&&r.point(t,n)}function g(e,t){u.point(e,t)}function h(){d.point=g,u.lineStart()}function v(){d.point=p,u.lineEnd()}function m(e,t){i.push([e,t]),s.point(e,t)}function y(){s.lineStart(),i=[]}function b(){m(i[0][0],i[0][1]),s.lineEnd();var e,t,n,a,u=s.clean(),d=c.result(),p=d.length;if(i.pop(),o.push(i),i=null,p)if(1&u){if((t=(n=d[0]).length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),e=0;e<t;++e)r.point((a=n[e])[0],a[1]);r.lineEnd()}}else p>1&&2&u&&d.push(d.pop().concat(d.shift())),l.push(d.filter(IE))}return d}}function IE(e){return e.length>1}function RE(e,t){return((e=e.x)[0]<0?e[1]-KP-YP:KP-e[1])-((t=t.x)[0]<0?t[1]-KP-YP:KP-t[1])}var zE=FE((function(){return!0}),(function(e){var t,n=NaN,a=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,l){var i=o>0?XP:-XP,u=n_(o-n);n_(u-XP)<YP?(e.point(n,a=(a+l)/2>0?KP:-KP),e.point(r,a),e.lineEnd(),e.lineStart(),e.point(i,a),e.point(o,a),t=0):r!==i&&u>=XP&&(n_(n-r)<YP&&(n-=r*YP),n_(o-i)<YP&&(o-=i*YP),a=function(e,t,n,a){var r,o,l=f_(e-n);return n_(l)>YP?a_((f_(t)*(o=o_(a))*f_(n)-f_(a)*(r=o_(t))*f_(e))/(r*o*l)):(t+a)/2}(n,a,o,l),e.point(r,a),e.lineEnd(),e.lineStart(),e.point(i,a),t=0),e.point(n=o,a=l),r=i},lineEnd:function(){e.lineEnd(),n=a=NaN},clean:function(){return 2-t}}}),(function(e,t,n,a){var r;if(null==e)r=n*KP,a.point(-XP,r),a.point(0,r),a.point(XP,r),a.point(XP,0),a.point(XP,-r),a.point(0,-r),a.point(-XP,-r),a.point(-XP,0),a.point(-XP,r);else if(n_(e[0]-t[0])>YP){var o=e[0]<t[0]?XP:-XP;r=n*o/2,a.point(-o,r),a.point(0,r),a.point(o,r)}else a.point(t[0],t[1])}),[-XP,-KP]);function LE(e,t,n,a,r,o){if(n){var l=o_(t),i=f_(t),u=a*n;null==r?(r=t+a*ZP,o=t-u/2):(r=HE(l,r),o=HE(l,o),(a>0?r<o:r>o)&&(r+=a*ZP));for(var c,s=r;a>0?s>o:s<o;s-=u)c=_E([l,-i*o_(s),-i*f_(s)]),e.point(c[0],c[1])}}function HE(e,t){(t=EE(t))[0]-=e,DE(t);var n=h_(-t[1]);return((-t[2]<0?-n:n)+ZP-YP)%ZP}function UE(e){var t=o_(e),n=6*t_,a=t>0,r=n_(t)>YP;function o(e,n){return o_(e)*o_(n)>t}function l(e,n,a){var r=[1,0,0],o=BE(EE(e),EE(n)),l=SE(o,o),i=o[0],u=l-i*i;if(!u)return!a&&e;var c=t*l/u,s=-t*i/u,f=BE(r,o),d=AE(r,c);OE(d,AE(o,s));var p=f,g=SE(d,p),h=SE(p,p),v=g*g-h*(SE(d,d)-1);if(!(v<0)){var m=p_(v),y=AE(p,(-g-m)/h);if(OE(y,d),y=_E(y),!a)return y;var b,w=e[0],k=n[0],C=e[1],x=n[1];k<w&&(b=w,w=k,k=b);var P=k-w,_=n_(P-XP)<YP;if(!_&&x<C&&(b=C,C=x,x=b),_||P<YP?_?C+x>0^y[1]<(n_(y[0]-w)<YP?C:x):C<=y[1]&&y[1]<=x:P>XP^(w<=y[0]&&y[0]<=k)){var E=AE(p,(-g+m)/h);return OE(E,d),[y,_E(E)]}}}function i(t,n){var r=a?e:XP-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return FE(o,(function(e){var t,n,u,c,s;return{lineStart:function(){c=u=!1,s=1},point:function(f,d){var p,g=[f,d],h=o(f,d),v=a?h?0:i(f,d):h?i(f+(f<0?XP:-XP),d):0;if(!t&&(c=u=h)&&e.lineStart(),h!==u&&(!(p=l(t,g))||kE(t,p)||kE(g,p))&&(g[2]=1),h!==u)s=0,h?(e.lineStart(),p=l(g,t),e.point(p[0],p[1])):(p=l(t,g),e.point(p[0],p[1],2),e.lineEnd()),t=p;else if(r&&t&&a^h){var m;v&n||!(m=l(g,t,!0))||(s=0,a?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1],3)))}!h||t&&kE(t,g)||e.point(g[0],g[1]),t=g,u=h,n=v},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return s|(c&&u)<<1}}}),(function(t,a,r,o){LE(o,e,n,r,t,a)}),a?[0,-e]:[-XP,e-XP])}var WE=1e9,qE=-WE;function GE(e,t,n,a){function r(r,o){return e<=r&&r<=n&&t<=o&&o<=a}function o(r,o,i,c){var s=0,f=0;if(null==r||(s=l(r,i))!==(f=l(o,i))||u(r,o)<0^i>0)do{c.point(0===s||3===s?e:n,s>1?a:t)}while((s=(s+i+4)%4)!==f);else c.point(o[0],o[1])}function l(a,r){return n_(a[0]-e)<YP?r>0?0:3:n_(a[0]-n)<YP?r>0?2:1:n_(a[1]-t)<YP?r>0?1:0:r>0?3:2}function i(e,t){return u(e.x,t.x)}function u(e,t){var n=l(e,1),a=l(t,1);return n!==a?n-a:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(l){var u,c,s,f,d,p,g,h,v,m,y,b=l,w=wE(),k={point:C,lineStart:function(){k.point=x,c&&c.push(s=[]);m=!0,v=!1,g=h=NaN},lineEnd:function(){u&&(x(f,d),p&&v&&w.rejoin(),u.push(w.result()));k.point=C,v&&b.lineEnd()},polygonStart:function(){b=w,u=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,r=c.length;n<r;++n)for(var o,l,i=c[n],u=1,s=i.length,f=i[0],d=f[0],p=f[1];u<s;++u)o=d,l=p,d=(f=i[u])[0],p=f[1],l<=a?p>a&&(d-o)*(a-l)>(p-l)*(e-o)&&++t:p<=a&&(d-o)*(a-l)<(p-l)*(e-o)&&--t;return t}(),n=y&&t,r=(u=TE(u)).length;(n||r)&&(l.polygonStart(),n&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),r&&xE(u,i,t,o,l),l.polygonEnd());b=l,u=c=s=null}};function C(e,t){r(e,t)&&b.point(e,t)}function x(o,l){var i=r(o,l);if(c&&s.push([o,l]),m)f=o,d=l,p=i,m=!1,i&&(b.lineStart(),b.point(o,l));else if(i&&v)b.point(o,l);else{var u=[g=Math.max(qE,Math.min(WE,g)),h=Math.max(qE,Math.min(WE,h))],w=[o=Math.max(qE,Math.min(WE,o)),l=Math.max(qE,Math.min(WE,l))];!function(e,t,n,a,r,o){var l,i=e[0],u=e[1],c=0,s=1,f=t[0]-i,d=t[1]-u;if(l=n-i,f||!(l>0)){if(l/=f,f<0){if(l<c)return;l<s&&(s=l)}else if(f>0){if(l>s)return;l>c&&(c=l)}if(l=r-i,f||!(l<0)){if(l/=f,f<0){if(l>s)return;l>c&&(c=l)}else if(f>0){if(l<c)return;l<s&&(s=l)}if(l=a-u,d||!(l>0)){if(l/=d,d<0){if(l<c)return;l<s&&(s=l)}else if(d>0){if(l>s)return;l>c&&(c=l)}if(l=o-u,d||!(l<0)){if(l/=d,d<0){if(l>s)return;l>c&&(c=l)}else if(d>0){if(l<c)return;l<s&&(s=l)}return c>0&&(e[0]=i+c*f,e[1]=u+c*d),s<1&&(t[0]=i+s*f,t[1]=u+s*d),!0}}}}}(u,w,e,t,n,a)?i&&(b.lineStart(),b.point(o,l),y=!1):(v||(b.lineStart(),b.point(u[0],u[1])),b.point(w[0],w[1]),i||b.lineEnd(),y=!1)}g=o,h=l,v=i}return k}}function VE(e,t){function n(n,a){return n=e(n,a),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,a){return(n=t.invert(n,a))&&e.invert(n[0],n[1])}),n}function $E(e,t){return[n_(e)>XP?e+Math.round(-e/ZP)*ZP:e,t]}function YE(e,t,n){return(e%=ZP)?t||n?VE(XE(e),KE(t,n)):XE(e):t||n?KE(t,n):$E}function QE(e){return function(t,n){return[(t+=e)>XP?t-ZP:t<-XP?t+ZP:t,n]}}function XE(e){var t=QE(e);return t.invert=QE(-e),t}function KE(e,t){var n=o_(e),a=f_(e),r=o_(t),o=f_(t);function l(e,t){var l=o_(t),i=o_(e)*l,u=f_(e)*l,c=f_(t),s=c*n+i*a;return[r_(u*r-s*o,i*n-c*a),v_(s*r+u*o)]}return l.invert=function(e,t){var l=o_(t),i=o_(e)*l,u=f_(e)*l,c=f_(t),s=c*r-u*o;return[r_(u*r+c*o,i*n+s*a),v_(s*n-i*a)]},l}function JE(e){return function(t){var n=new ZE;for(var a in e)n[a]=e[a];return n.stream=t,n}}function ZE(){}function eS(e,t,n){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),VP(n,e.stream(z_)),t(z_.result()),null!=a&&e.clipExtent(a),e}function tS(e,t,n){return eS(e,(function(n){var a=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=Math.min(a/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),l=+t[0][0]+(a-o*(n[1][0]+n[0][0]))/2,i=+t[0][1]+(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([l,i])}),n)}function nS(e,t,n){return tS(e,[[0,0],t],n)}function aS(e,t,n){return eS(e,(function(n){var a=+t,r=a/(n[1][0]-n[0][0]),o=(a-r*(n[1][0]+n[0][0]))/2,l=-r*n[0][1];e.scale(150*r).translate([o,l])}),n)}function rS(e,t,n){return eS(e,(function(n){var a=+t,r=a/(n[1][1]-n[0][1]),o=-r*n[0][0],l=(a-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([o,l])}),n)}$E.invert=$E,ZE.prototype={constructor:ZE,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var oS=o_(30*t_);function lS(e,t){return+t?function(e,t){function n(a,r,o,l,i,u,c,s,f,d,p,g,h,v){var m=c-a,y=s-r,b=m*m+y*y;if(b>4*t&&h--){var w=l+d,k=i+p,C=u+g,x=p_(w*w+k*k+C*C),P=v_(C/=x),_=n_(n_(C)-1)<YP||n_(o-f)<YP?(o+f)/2:r_(k,w),E=e(_,P),S=E[0],B=E[1],O=S-a,A=B-r,D=y*O-m*A;(D*D/b>t||n_((m*O+y*A)/b-.5)>.3||l*d+i*p+u*g<oS)&&(n(a,r,o,l,i,u,S,B,_,w/=x,k/=x,C,h,v),v.point(S,B),n(S,B,_,w,k,C,c,s,f,d,p,g,h,v))}}return function(t){var a,r,o,l,i,u,c,s,f,d,p,g,h={point:v,lineStart:m,lineEnd:b,polygonStart:function(){t.polygonStart(),h.lineStart=w},polygonEnd:function(){t.polygonEnd(),h.lineStart=m}};function v(n,a){n=e(n,a),t.point(n[0],n[1])}function m(){s=NaN,h.point=y,t.lineStart()}function y(a,r){var o=EE([a,r]),l=e(a,r);n(s,f,c,d,p,g,s=l[0],f=l[1],c=a,d=o[0],p=o[1],g=o[2],16,t),t.point(s,f)}function b(){h.point=v,t.lineEnd()}function w(){m(),h.point=k,h.lineEnd=C}function k(e,t){y(a=e,t),r=s,o=f,l=d,i=p,u=g,h.point=y}function C(){n(s,f,c,d,p,g,r,o,a,l,i,u,16,t),h.lineEnd=b,b()}return h}}(e,t):function(e){return JE({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var iS=JE({point:function(e,t){this.stream.point(e*t_,t*t_)}});function uS(e,t,n,a,r,o){if(!o)return function(e,t,n,a,r){function o(o,l){return[t+e*(o*=a),n-e*(l*=r)]}return o.invert=function(o,l){return[(o-t)/e*a,(n-l)/e*r]},o}(e,t,n,a,r);var l=o_(o),i=f_(o),u=l*e,c=i*e,s=l/e,f=i/e,d=(i*n-l*t)/e,p=(i*t+l*n)/e;function g(e,o){return[u*(e*=a)-c*(o*=r)+t,n-c*e-u*o]}return g.invert=function(e,t){return[a*(s*e-f*t+d),r*(p-f*e-s*t)]},g}function cS(e){return sS((function(){return e}))()}function sS(e){var t,n,a,r,o,l,i,u,c,s,f=150,d=480,p=250,g=0,h=0,v=0,m=0,y=0,b=0,w=1,k=1,C=null,x=zE,P=null,_=LP,E=.5;function S(e){return u(e[0]*t_,e[1]*t_)}function B(e){return(e=u.invert(e[0],e[1]))&&[e[0]*e_,e[1]*e_]}function O(){var e=uS(f,0,0,w,k,b).apply(null,t(g,h)),a=uS(f,d-e[0],p-e[1],w,k,b);return n=YE(v,m,y),i=VE(t,a),u=VE(n,i),l=lS(i,E),A()}function A(){return c=s=null,S}return S.stream=function(e){return c&&s===e?c:c=iS(function(e){return JE({point:function(t,n){var a=e(t,n);return this.stream.point(a[0],a[1])}})}(n)(x(l(_(s=e)))))},S.preclip=function(e){return arguments.length?(x=e,C=void 0,A()):x},S.postclip=function(e){return arguments.length?(_=e,P=a=r=o=null,A()):_},S.clipAngle=function(e){return arguments.length?(x=+e?UE(C=e*t_):(C=null,zE),A()):C*e_},S.clipExtent=function(e){return arguments.length?(_=null==e?(P=a=r=o=null,LP):GE(P=+e[0][0],a=+e[0][1],r=+e[1][0],o=+e[1][1]),A()):null==P?null:[[P,a],[r,o]]},S.scale=function(e){return arguments.length?(f=+e,O()):f},S.translate=function(e){return arguments.length?(d=+e[0],p=+e[1],O()):[d,p]},S.center=function(e){return arguments.length?(g=e[0]%360*t_,h=e[1]%360*t_,O()):[g*e_,h*e_]},S.rotate=function(e){return arguments.length?(v=e[0]%360*t_,m=e[1]%360*t_,y=e.length>2?e[2]%360*t_:0,O()):[v*e_,m*e_,y*e_]},S.angle=function(e){return arguments.length?(b=e%360*t_,O()):b*e_},S.reflectX=function(e){return arguments.length?(w=e?-1:1,O()):w<0},S.reflectY=function(e){return arguments.length?(k=e?-1:1,O()):k<0},S.precision=function(e){return arguments.length?(l=lS(i,E=e*e),A()):p_(E)},S.fitExtent=function(e,t){return tS(S,e,t)},S.fitSize=function(e,t){return nS(S,e,t)},S.fitWidth=function(e,t){return aS(S,e,t)},S.fitHeight=function(e,t){return rS(S,e,t)},function(){return t=e.apply(this,arguments),S.invert=t.invert&&B,O()}}function fS(e){var t=0,n=XP/3,a=sS(e),r=a(t,n);return r.parallels=function(e){return arguments.length?a(t=e[0]*t_,n=e[1]*t_):[t*e_,n*e_]},r}function dS(e,t){var n=f_(e),a=(n+f_(t))/2;if(n_(a)<YP)return function(e){var t=o_(e);function n(e,n){return[e*t,f_(n)/t]}return n.invert=function(e,n){return[e/t,v_(n*t)]},n}(e);var r=1+n*(2*a-n),o=p_(r)/a;function l(e,t){var n=p_(r-2*a*f_(t))/a;return[n*f_(e*=a),o-n*o_(e)]}return l.invert=function(e,t){var n=o-t,l=r_(e,n_(n))*d_(n);return n*a<0&&(l-=XP*d_(e)*d_(n)),[l/a,v_((r-(e*e+n*n)*a*a)/(2*a))]},l}function pS(){return fS(dS).scale(155.424).center([0,33.6442])}function gS(){return pS().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function hS(e){return function(t,n){var a=o_(t),r=o_(n),o=e(a*r);return o===1/0?[2,0]:[o*r*f_(t),o*f_(n)]}}function vS(e){return function(t,n){var a=p_(t*t+n*n),r=e(a),o=f_(r),l=o_(r);return[r_(t*o,a*l),v_(a&&n*o/a)]}}var mS=hS((function(e){return p_(2/(1+e))}));mS.invert=vS((function(e){return 2*v_(e/2)}));var yS=hS((function(e){return(e=h_(e))&&e/f_(e)}));function bS(e,t){return[e,c_(g_((KP+t)/2))]}function wS(e){var t,n,a,r=cS(e),o=r.center,l=r.scale,i=r.translate,u=r.clipExtent,c=null;function s(){var o=XP*l(),i=r(function(e){function t(t){return(t=e(t[0]*t_,t[1]*t_))[0]*=e_,t[1]*=e_,t}return e=YE(e[0]*t_,e[1]*t_,e.length>2?e[2]*t_:0),t.invert=function(t){return(t=e.invert(t[0]*t_,t[1]*t_))[0]*=e_,t[1]*=e_,t},t}(r.rotate()).invert([0,0]));return u(null==c?[[i[0]-o,i[1]-o],[i[0]+o,i[1]+o]]:e===bS?[[Math.max(i[0]-o,c),t],[Math.min(i[0]+o,n),a]]:[[c,Math.max(i[1]-o,t)],[n,Math.min(i[1]+o,a)]])}return r.scale=function(e){return arguments.length?(l(e),s()):l()},r.translate=function(e){return arguments.length?(i(e),s()):i()},r.center=function(e){return arguments.length?(o(e),s()):o()},r.clipExtent=function(e){return arguments.length?(null==e?c=t=n=a=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],a=+e[1][1]),s()):null==c?null:[[c,t],[n,a]]},s()}function kS(e){return g_((KP+e)/2)}function CS(e,t){var n=o_(e),a=e===t?f_(e):c_(n/o_(t))/c_(kS(t)/kS(e)),r=n*s_(kS(e),a)/a;if(!a)return bS;function o(e,t){r>0?t<-KP+YP&&(t=-KP+YP):t>KP-YP&&(t=KP-YP);var n=r/s_(kS(t),a);return[n*f_(a*e),r-n*o_(a*e)]}return o.invert=function(e,t){var n=r-t,o=d_(a)*p_(e*e+n*n),l=r_(e,n_(n))*d_(n);return n*a<0&&(l-=XP*d_(e)*d_(n)),[l/a,2*a_(s_(r/o,1/a))-KP]},o}function xS(e,t){return[e,t]}function PS(e,t){var n=o_(e),a=e===t?f_(e):(n-o_(t))/(t-e),r=n/a+e;if(n_(a)<YP)return xS;function o(e,t){var n=r-t,o=a*e;return[n*f_(o),r-n*o_(o)]}return o.invert=function(e,t){var n=r-t,o=r_(e,n_(n))*d_(n);return n*a<0&&(o-=XP*d_(e)*d_(n)),[o/a,r-d_(a)*p_(e*e+n*n)]},o}yS.invert=vS((function(e){return e})),bS.invert=function(e,t){return[e,2*a_(i_(t))-KP]},xS.invert=xS;var _S=1.340264,ES=-.081106,SS=893e-6,BS=.003796,OS=p_(3)/2;function AS(e,t){var n=v_(OS*f_(t)),a=n*n,r=a*a*a;return[e*o_(n)/(OS*(_S+3*ES*a+r*(7*SS+9*BS*a))),n*(_S+ES*a+r*(SS+BS*a))]}function DS(e,t){var n=o_(t),a=o_(e)*n;return[n*f_(e)/a,f_(t)/a]}function MS(e,t){var n=t*t,a=n*n;return[e*(.8707-.131979*n+a*(a*(.003971*n-.001529*a)-.013791)),t*(1.007226+n*(.015085+a*(.028874*n-.044475-.005916*a)))]}function NS(e,t){return[o_(t)*f_(e),f_(t)]}function jS(e,t){var n=o_(t),a=1+o_(e)*n;return[n*f_(e)/a,f_(t)/a]}function TS(e,t){return[c_(g_((KP+t)/2)),-e]}AS.invert=function(e,t){for(var n,a=t,r=a*a,o=r*r*r,l=0;l<12&&(o=(r=(a-=n=(a*(_S+ES*r+o*(SS+BS*r))-t)/(_S+3*ES*r+o*(7*SS+9*BS*r)))*a)*r*r,!(n_(n)<QP));++l);return[OS*e*(_S+3*ES*r+o*(7*SS+9*BS*r))/o_(a),v_(f_(a)/OS)]},DS.invert=vS(a_),MS.invert=function(e,t){var n,a=t,r=25;do{var o=a*a,l=o*o;a-=n=(a*(1.007226+o*(.015085+l*(.028874*o-.044475-.005916*l)))-t)/(1.007226+o*(.045255+l*(.259866*o-.311325-.005916*11*l)))}while(n_(n)>YP&&--r>0);return[e/(.8707+(o=a*a)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),a]},NS.invert=vS(v_),jS.invert=vS((function(e){return 2*a_(e)})),TS.invert=function(e,t){return[-t,2*a_(i_(e))-KP]};var FS=Math.abs,IS=(Math.atan,Math.atan2,Math.ceil,Math.cos),RS=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),zS=(Math.tan,Math.PI),LS=zS/2,HS=(Math.SQRT1_2,WS(2));WS(zS);function US(e){return e>1?LS:e<-1?-LS:Math.asin(e)}function WS(e){return e>0?Math.sqrt(e):0}function qS(e,t){var n,a=e*RS(t),r=30;do{t-=n=(t+RS(t)-a)/(1+IS(t))}while(FS(n)>1e-6&&--r>0);return t/2}var GS=function(e,t,n){function a(a,r){return[e*a*IS(r=qS(n,r)),t*RS(r)]}return a.invert=function(a,r){return r=US(r/t),[a/(e*IS(r)),US((2*r+RS(2*r))/n)]},a}(HS/LS,HS,zS);var VS=bE(),$S=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function YS(e,t){return function n(){var a=t();return a.type=e,a.path=bE().projection(a),a.copy=a.copy||function(){var e=n();return $S.forEach((function(t){a[t]&&e[t](a[t]())})),e.path.pointRadius(a.path.pointRadius()),e},a}}function QS(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(KS[e]=YS(e,t),this):KS[e]||null}function XS(e){return e&&e.path||VS}var KS={albers:gS,albersusa:function(){var e,t,n,a,r,o,l=gS(),i=pS().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=pS().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function s(e){var t=e[0],l=e[1];return o=null,n.point(t,l),o||(a.point(t,l),o)||(r.point(t,l),o)}function f(){return e=t=null,s}return s.invert=function(e){var t=l.scale(),n=l.translate(),a=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&a>=-.425&&a<-.214?i:r>=.166&&r<.234&&a>=-.214&&a<-.115?u:l).invert(e)},s.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,a){for(var r=-1;++r<t;)e[r].point(n,a)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([l.stream(t=n),i.stream(n),u.stream(n)])},s.precision=function(e){return arguments.length?(l.precision(e),i.precision(e),u.precision(e),f()):l.precision()},s.scale=function(e){return arguments.length?(l.scale(e),i.scale(.35*e),u.scale(e),s.translate(l.translate())):l.scale()},s.translate=function(e){if(!arguments.length)return l.translate();var t=l.scale(),o=+e[0],s=+e[1];return n=l.translate(e).clipExtent([[o-.455*t,s-.238*t],[o+.455*t,s+.238*t]]).stream(c),a=i.translate([o-.307*t,s+.201*t]).clipExtent([[o-.425*t+YP,s+.12*t+YP],[o-.214*t-YP,s+.234*t-YP]]).stream(c),r=u.translate([o-.205*t,s+.212*t]).clipExtent([[o-.214*t+YP,s+.166*t+YP],[o-.115*t-YP,s+.234*t-YP]]).stream(c),f()},s.fitExtent=function(e,t){return tS(s,e,t)},s.fitSize=function(e,t){return nS(s,e,t)},s.fitWidth=function(e,t){return aS(s,e,t)},s.fitHeight=function(e,t){return rS(s,e,t)},s.scale(1070)},azimuthalequalarea:function(){return cS(mS).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return cS(yS).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return fS(CS).scale(109.5).parallels([30,30])},conicequalarea:pS,conicequidistant:function(){return fS(PS).scale(131.154).center([0,13.9389])},equalEarth:function(){return cS(AS).scale(177.158)},equirectangular:function(){return cS(xS).scale(152.63)},gnomonic:function(){return cS(DS).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,a,r,o,l,i=1,u=0,c=0,s=1,f=1,d=0,p=null,g=1,h=1,v=JE({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),m=LP;function y(){return g=i*s,h=i*f,o=l=null,b}function b(n){var a=n[0]*g,r=n[1]*h;if(d){var o=r*e-a*t;a=a*e+r*t,r=o}return[a+u,r+c]}return b.invert=function(n){var a=n[0]-u,r=n[1]-c;if(d){var o=r*e+a*t;a=a*e-r*t,r=o}return[a/g,r/h]},b.stream=function(e){return o&&l===e?o:o=v(m(l=e))},b.postclip=function(e){return arguments.length?(m=e,p=n=a=r=null,y()):m},b.clipExtent=function(e){return arguments.length?(m=null==e?(p=n=a=r=null,LP):GE(p=+e[0][0],n=+e[0][1],a=+e[1][0],r=+e[1][1]),y()):null==p?null:[[p,n],[a,r]]},b.scale=function(e){return arguments.length?(i=+e,y()):i},b.translate=function(e){return arguments.length?(u=+e[0],c=+e[1],y()):[u,c]},b.angle=function(n){return arguments.length?(t=f_(d=n%360*t_),e=o_(d),y()):d*e_},b.reflectX=function(e){return arguments.length?(s=e?-1:1,y()):s<0},b.reflectY=function(e){return arguments.length?(f=e?-1:1,y()):f<0},b.fitExtent=function(e,t){return tS(b,e,t)},b.fitSize=function(e,t){return nS(b,e,t)},b.fitWidth=function(e,t){return aS(b,e,t)},b.fitHeight=function(e,t){return rS(b,e,t)},b},mercator:function(){return wS(bS).scale(961/ZP)},mollweide:function(){return cS(GS).scale(169.529)},naturalEarth1:function(){return cS(MS).scale(175.295)},orthographic:function(){return cS(NS).scale(249.5).clipAngle(90.000001)},stereographic:function(){return cS(jS).scale(250).clipAngle(142)},transversemercator:function(){var e=wS(TS),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(var JS in KS)QS(JS,KS[JS]);function ZS(e,t,n){var a=Js(e,t-YP,n).concat(t);return function(e){return a.map((function(t){return[e,t]}))}}function eB(e,t,n){var a=Js(e,t-YP,n).concat(t);return function(e){return a.map((function(t){return[t,e]}))}}function tB(){var e,t,n,a,r,o,l,i,u,c,s,f,d=10,p=d,g=90,h=360,v=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return Js(l_(a/g)*g,n,g).map(s).concat(Js(l_(i/h)*h,l,h).map(f)).concat(Js(l_(t/d)*d,e,d).filter((function(e){return n_(e%g)>YP})).map(u)).concat(Js(l_(o/p)*p,r,p).filter((function(e){return n_(e%h)>YP})).map(c))}return m.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},m.outline=function(){return{type:"Polygon",coordinates:[s(a).concat(f(l).slice(1),s(n).reverse().slice(1),f(i).reverse().slice(1))]}},m.extent=function(e){return arguments.length?m.extentMajor(e).extentMinor(e):m.extentMinor()},m.extentMajor=function(e){return arguments.length?(a=+e[0][0],n=+e[1][0],i=+e[0][1],l=+e[1][1],a>n&&(e=a,a=n,n=e),i>l&&(e=i,i=l,l=e),m.precision(v)):[[a,i],[n,l]]},m.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),o>r&&(n=o,o=r,r=n),m.precision(v)):[[t,o],[e,r]]},m.step=function(e){return arguments.length?m.stepMajor(e).stepMinor(e):m.stepMinor()},m.stepMajor=function(e){return arguments.length?(g=+e[0],h=+e[1],m):[g,h]},m.stepMinor=function(e){return arguments.length?(d=+e[0],p=+e[1],m):[d,p]},m.precision=function(d){return arguments.length?(v=+d,u=ZS(o,r,90),c=eB(t,e,v),s=ZS(i,l,90),f=eB(a,n,v),m):v},m.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function nB(){}var aB=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function rB(){var e=1,t=1,n=l;function a(e,t){return t.map((function(t){return r(e,t)}))}function r(a,r){var l=[],i=[];return function(n,a,r){var l,i,u,c,s,f,d=new Array,p=new Array;l=i=-1,c=n[0]>=a,aB[c<<1].forEach(g);for(;++l<e-1;)u=c,c=n[l+1]>=a,aB[u|c<<1].forEach(g);aB[c<<0].forEach(g);for(;++i<t-1;){for(l=-1,c=n[i*e+e]>=a,s=n[i*e]>=a,aB[c<<1|s<<2].forEach(g);++l<e-1;)u=c,c=n[i*e+e+l+1]>=a,f=s,s=n[i*e+l+1]>=a,aB[u|c<<1|s<<2|f<<3].forEach(g);aB[c|s<<3].forEach(g)}l=-1,s=n[i*e]>=a,aB[s<<2].forEach(g);for(;++l<e-1;)f=s,s=n[i*e+l+1]>=a,aB[s<<2|f<<3].forEach(g);function g(e){var t,n,a=[e[0][0]+l,e[0][1]+i],u=[e[1][0]+l,e[1][1]+i],c=o(a),s=o(u);(t=p[c])?(n=d[s])?(delete p[t.end],delete d[n.start],t===n?(t.ring.push(u),r(t.ring)):d[t.start]=p[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete p[t.end],t.ring.push(u),p[t.end=s]=t):(t=d[s])?(n=p[c])?(delete d[t.start],delete p[n.end],t===n?(t.ring.push(u),r(t.ring)):d[n.start]=p[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(a),d[t.start=c]=t):d[c]=p[s]={start:c,end:s,ring:[a,u]}}aB[s<<3].forEach(g)}(a,r,(function(e){n(e,a,r),function(e){var t=0,n=e.length,a=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)a+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return a}(e)>0?l.push([e]):i.push(e)})),i.forEach((function(e){for(var t,n=0,a=l.length;n<a;++n)if(-1!==oB((t=l[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:r,coordinates:l}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function l(n,a,r){n.forEach((function(n){var o,l=n[0],i=n[1],u=0|l,c=0|i,s=a[c*e+u];l>0&&l<e&&u===l&&(o=a[c*e+u-1],n[0]=l+(r-o)/(s-o)-.5),i>0&&i<t&&c===i&&(o=a[(c-1)*e+u],n[1]=i+(r-o)/(s-o)-.5)}))}return a.contour=r,a.size=function(n){if(!arguments.length)return[e,t];var r=Math.floor(n[0]),o=Math.floor(n[1]);return r>=0&&o>=0||Xt("invalid size"),e=r,t=o,a},a.smooth=function(e){return arguments.length?(n=e?l:nB,a):n===l},a}function oB(e,t){for(var n,a=-1,r=t.length;++a<r;)if(n=lB(e,t[a]))return n;return 0}function lB(e,t){for(var n=t[0],a=t[1],r=-1,o=0,l=e.length,i=l-1;o<l;i=o++){var u=e[o],c=u[0],s=u[1],f=e[i],d=f[0],p=f[1];if(iB(u,f,t))return 0;s>a!==p>a&&n<(d-c)*(a-s)/(p-s)+c&&(r=-r)}return r}function iB(e,t,n){var a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&function(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}(e[a=+(e[0]===t[0])],n[a],t[a])}function uB(e,t,n){return function(a){var r=Qn(a),o=n?Math.min(r[0],0):r[0],l=r[1],i=l-o,u=t?Ya(o,l,e):i/(e+1);return Js(o+u,l,u)}}function cB(e){zc.call(this,null,e)}function sB(e,t,n,a,r){var o=e.x1||0,l=e.y1||0,i=t*n<0;function u(e){e.forEach(c)}function c(e){i&&e.reverse(),e.forEach(s)}function s(e){e[0]=(e[0]-o)*t+a,e[1]=(e[1]-l)*n+r}return function(e){return e.coordinates.forEach(u),e}}function fB(e,t,n){var a=e>=0?e:is(t,n);return Math.round((Math.sqrt(4*a*a+1)-1)/2)}function dB(e){return Ln(e)?e:Vn(+e)}function pB(){var e=function(e){return e[0]},t=function(e){return e[1]},n=nn,a=[-1,-1],r=960,o=500,l=2;function i(i,u){var c=fB(a[0],i,e)>>l,s=fB(a[1],i,t)>>l,f=c?c+2:0,d=s?s+2:0,p=2*f+(r>>l),g=2*d+(o>>l),h=new Float32Array(p*g),v=new Float32Array(p*g),m=h;i.forEach((function(a){var r=f+(+e(a)>>l),o=d+(+t(a)>>l);r>=0&&r<p&&o>=0&&o<g&&(h[r+o*p]+=+n(a))})),c>0&&s>0?(gB(p,g,h,v,c),hB(p,g,v,h,s),gB(p,g,h,v,c),hB(p,g,v,h,s),gB(p,g,h,v,c),hB(p,g,v,h,s)):c>0?(gB(p,g,h,v,c),gB(p,g,v,h,c),gB(p,g,h,v,c),m=v):s>0&&(hB(p,g,h,v,s),hB(p,g,v,h,s),hB(p,g,h,v,s),m=v);for(var y=u?Math.pow(2,-2*l):1/cP(m),b=0,w=p*g;b<w;++b)m[b]*=y;return{values:m,scale:1<<l,width:p,height:g,x1:f,y1:d,x2:f+(r>>l),y2:d+(o>>l)}}return i.x=function(t){return arguments.length?(e=dB(t),i):e},i.y=function(e){return arguments.length?(t=dB(e),i):t},i.weight=function(e){return arguments.length?(n=dB(e),i):n},i.size=function(e){if(!arguments.length)return[r,o];var t=+e[0],n=+e[1];return t>=0&&n>=0||Xt("invalid size"),r=t,o=n,i},i.cellSize=function(e){return arguments.length?((e=+e)>=1||Xt("invalid cell size"),l=Math.floor(Math.log(e)/Math.LN2),i):1<<l},i.bandwidth=function(e){return arguments.length?(1===(e=Rn(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Xt("invalid bandwidth"),a=e,i):a},i}function gB(e,t,n,a,r){for(var o=1+(r<<1),l=0;l<t;++l)for(var i=0,u=0;i<e+r;++i)i<e&&(u+=n[i+l*e]),i>=r&&(i>=o&&(u-=n[i-o+l*e]),a[i-r+l*e]=u/Math.min(i+1,e-1+o-i,o))}function hB(e,t,n,a,r){for(var o=1+(r<<1),l=0;l<e;++l)for(var i=0,u=0;i<t+r;++i)i<t&&(u+=n[l+i*e]),i>=r&&(i>=o&&(u-=n[l+(i-o)*e]),a[l+(i-r)*e]=u/Math.min(i+1,t-1+o-i,o))}function vB(e){zc.call(this,null,e)}cB.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},na(cB,zc,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=t.materialize(t.SOURCE).source,r=e.field||en,o=rB().smooth(!1!==e.smooth),l=e.thresholds||function(e,t,n){var a=uB(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?a:a(e.map((function(e){return qc(t(e).values)})))}(a,r,e),i=null===e.as?null:e.as||"contour",u=[];return a.forEach((function(t){var n=r(t),a=o.size([n.width,n.height])(n.values,pn(l)?l:l(n.values));!function(e,t,n,a){var r=a.scale||t.scale,o=a.translate||t.translate;Ln(r)&&(r=r(n,a));Ln(o)&&(o=o(n,a));if((1===r||null==r)&&!o)return;var l=(ia(r)?r:r[0])||1,i=(ia(r)?r:r[1])||1,u=o&&o[0]||0,c=o&&o[1]||0;e.forEach(sB(t,l,i,u,c))}(a,n,t,e),a.forEach((function(e){u.push(oc(t,ac(null!=i?pr({},i,e):e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}}),vB.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var mB=["x","y","weight","size","cellSize","bandwidth"];function yB(e,t){return mB.forEach((function(n){return null!=t[n]?e[n](t[n]):0})),e}function bB(e){zc.call(this,null,e)}na(vB,zc,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=function(e,t){var n,a,r,o,l,i,u=[],c=function(e){return e(o)};if(null==t)u.push(e);else for(n={},a=0,r=e.length;a<r;++a)o=e[a],(i=n[l=t.map(c)])||(n[l]=i=[],i.dims=l,u.push(i)),i.push(o);return u}(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(Gt),l=yB(pB(),e),i=e.as||"grid";return n=r.map((function(t){return ac(function(e,t){for(var n=0;n<o.length;++n)e[o[n]]=t[n];return e}(pr({},i,l(t,e.counts)),t.dims))})),this.value&&(a.rem=this.value),this.value=a.source=a.add=n,a}}),bB.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},na(bB,zc,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,a,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=rB().smooth(!1!==e.smooth),l=e.values,i=e.thresholds||uB(e.count||10,e.nice,!!l),u=e.size;return l||(l=t.materialize(t.SOURCE).source,a=sB(n=yB(pB(),e)(l,!0),n.scale||1,n.scale||1,0,0),u=[n.width,n.height],l=n.values),i=pn(i)?i:i(l),l=o.size(u)(l,i),a&&l.forEach(a),this.value&&(r.rem=this.value),this.value=r.source=r.add=(l||[]).map(ac),r}});var wB="Feature",kB="FeatureCollection";function CB(e){zc.call(this,null,e)}function xB(e){zc.call(this,null,e)}function PB(e){zc.call(this,null,e)}function _B(e){zc.call(this,null,e)}function EB(e){zc.call(this,[],e),this.generator=tB()}function SB(e){zc.call(this,null,e)}function BB(e){if(!Ln(e))return!1;var t=Ca(Vt(e));return t.$x||t.$y||t.$value||t.$max}function OB(e){zc.call(this,null,e),this.modified(!0)}function AB(e,t,n){Ln(e[t])&&e[t](n)}function DB(e,t,n,a){if(isNaN(t)||isNaN(n))return e;var r,o,l,i,u,c,s,f,d,p=e._root,g={data:a},h=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!p)return e._root=g,e;for(;p.length;)if((c=t>=(o=(h+m)/2))?h=o:m=o,(s=n>=(l=(v+y)/2))?v=l:y=l,r=p,!(p=p[f=s<<1|c]))return r[f]=g,e;if(i=+e._x.call(null,p.data),u=+e._y.call(null,p.data),t===i&&n===u)return g.next=p,r?r[f]=g:e._root=g,e;do{r=r?r[f]=new Array(4):e._root=new Array(4),(c=t>=(o=(h+m)/2))?h=o:m=o,(s=n>=(l=(v+y)/2))?v=l:y=l}while((f=s<<1|c)===(d=(u>=l)<<1|i>=o));return r[d]=p,r[f]=g,e}function MB(e,t,n,a,r){this.node=e,this.x0=t,this.y0=n,this.x1=a,this.y1=r}function NB(e){return e[0]}function jB(e){return e[1]}function TB(e,t,n){var a=new FB(null==t?NB:t,null==n?jB:n,NaN,NaN,NaN,NaN);return null==e?a:a.addAll(e)}function FB(e,t,n,a,r,o){this._x=e,this._y=t,this._x0=n,this._y0=a,this._x1=r,this._y1=o,this._root=void 0}function IB(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}CB.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},na(CB,zc,{transform:function(e,t){var n,a=this._features,r=this._points,o=e.fields,l=o&&o[0],i=o&&o[1],u=e.geojson||!o&&en,c=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Vt(u))||l&&t.modified(Vt(l))||i&&t.modified(Vt(i)),this.value&&!n||(c=t.SOURCE,this._features=a=[],this._points=r=[]),u&&t.visit(c,(function(e){return a.push(u(e))})),l&&i&&(t.visit(c,(function(e){var t=l(e),n=i(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&r.push([t,n])})),a=a.concat({type:wB,geometry:{type:"MultiPoint",coordinates:r}})),this.value={type:kB,features:a}}}),xB.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},na(xB,zc,{transform:function(e,t){var n=t.fork(t.ALL),a=this.value,r=e.field||en,o=e.as||"path",l=n.SOURCE;!a||e.modified()?(this.value=a=XS(e.projection),n.materialize().reflow()):l=r===en||t.modified(r.fields)?n.ADD_MOD:n.ADD;var i=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(a,e.pointRadius);return n.visit(l,(function(e){return e[o]=a(r(e))})),a.pointRadius(i),n.modifies(o)}}),PB.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},na(PB,zc,{transform:function(e,t){var n,a=e.projection,r=e.fields[0],o=e.fields[1],l=e.as||["x","y"],i=l[0],u=l[1];function c(e){var t=a([r(e),o(e)]);t?(e[i]=t[0],e[u]=t[1]):(e[i]=void 0,e[u]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(n=t.modified(r.fields)||t.modified(o.fields),t.visit(n?t.ADD_MOD:t.ADD,c)),t.modifies(l)}}),_B.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},na(_B,zc,{transform:function(e,t){var n=t.fork(t.ALL),a=this.value,r=e.as||"shape",o=n.ADD;return a&&!e.modified()||(this.value=a=function(e,t,n){var a=null==n?function(n){return e(t(n))}:function(a){var r=e.pointRadius(),o=e.pointRadius(n)(t(a));return e.pointRadius(r),o};return a.context=function(t){return e.context(t),a},a}(XS(e.projection),e.field||Jt("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(function(e){return e[r]=a})),n.modifies(r)}}),EB.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},na(EB,zc,{transform:function(e,t){var n,a=this.value,r=this.generator;if(!a.length||e.modified())for(var o in e)Ln(r[o])&&r[o](e[o]);return n=r(),a.length?t.mod.push(lc(a[0],n)):t.add.push(ac(n)),a[0]=n,t}}),SB.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},na(SB,zc,{transform:function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,a="shared"===e.resolve,r=e.field||en,o=function(e,t){var n;Ln(e)?(n=function(n){return e(n,t)},n.dep=BB(e)):e?n=Vn(e):(n=function(e){return e.$value/e.$max||0},n.dep=!0);return n}(e.opacity,e),l=function(e,t){var n;Ln(e)?(n=function(n){return hg(e(n,t))},n.dep=BB(e)):n=Vn(hg(e||"#888"));return n}(e.color,e),i=e.as||"image",u={$x:0,$y:0,$value:0,$max:a?qc(n.map((function(e){return qc(r(e).values)}))):0};return n.forEach((function(e){var t=r(e),n=Yn({},e,u);a||(n.$max=qc(t.values||[])),e[i]=function(e,t,n,a){for(var r=e.width,o=e.height,l=e.x1||0,i=e.y1||0,u=e.x2||r,c=e.y2||o,s=e.values,f=s?function(e){return s[e]}:tn,d=Hp(u-l,c-i),p=d.getContext("2d"),g=p.getImageData(0,0,u-l,c-i),h=g.data,v=i,m=0;v<c;++v){t.$y=v-i;for(var y=l,b=v*r;y<u;++y,m+=4){t.$x=y-l,t.$value=f(y+b);var w=n(t);h[m+0]=w.r,h[m+1]=w.g,h[m+2]=w.b,h[m+3]=~~(255*a(t))}}return p.putImageData(g,0,0),d}(t,n,l.dep?l:Vn(l(n)),o.dep?o:Vn(o(n)))})),t.reflow(!0).modifies(i)}}),na(OB,zc,{transform:function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=QS((e||"mercator").toLowerCase());t||Xt("Unrecognized projection type: "+e);return t()}(e.type),$S.forEach((function(t){null!=e[t]&&AB(n,t,e[t])}))):$S.forEach((function(t){e.modified(t)&&AB(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Rn(e)).length?e[0]:{type:kB,features:e.reduce((function(e,t){return e.concat(function(e){return e.type===kB?e.features:Rn(e).filter((function(e){return null!=e})).map((function(e){return e.type===wB?e:{type:wB,geometry:e}}))}(t))}),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var RB=TB.prototype=FB.prototype;function zB(e){return function(){return e}}function LB(e){return 1e-6*(e()-.5)}function HB(e){return e.x+e.vx}function UB(e){return e.y+e.vy}RB.copy=function(){var e,t,n=new FB(this._x,this._y,this._x0,this._y0,this._x1,this._y1),a=this._root;if(!a)return n;if(!a.length)return n._root=IB(a),n;for(e=[{source:a,target:n._root=new Array(4)}];a=e.pop();)for(var r=0;r<4;++r)(t=a.source[r])&&(t.length?e.push({source:t,target:a.target[r]=new Array(4)}):a.target[r]=IB(t));return n},RB.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return DB(this.cover(t,n),t,n,e)},RB.addAll=function(e){var t,n,a,r,o=e.length,l=new Array(o),i=new Array(o),u=1/0,c=1/0,s=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(a=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||(l[n]=a,i[n]=r,a<u&&(u=a),a>s&&(s=a),r<c&&(c=r),r>f&&(f=r));if(u>s||c>f)return this;for(this.cover(u,c).cover(s,f),n=0;n<o;++n)DB(this,l[n],i[n],e[n]);return this},RB.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,a=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,o=(a=Math.floor(t))+1;else{for(var l,i,u=r-n||1,c=this._root;n>e||e>=r||a>t||t>=o;)switch(i=(t<a)<<1|e<n,(l=new Array(4))[i]=c,c=l,u*=2,i){case 0:r=n+u,o=a+u;break;case 1:n=r-u,o=a+u;break;case 2:r=n+u,a=o-u;break;case 3:n=r-u,a=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=a,this._x1=r,this._y1=o,this},RB.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},RB.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},RB.find=function(e,t,n){var a,r,o,l,i,u,c,s=this._x0,f=this._y0,d=this._x1,p=this._y1,g=[],h=this._root;for(h&&g.push(new MB(h,s,f,d,p)),null==n?n=1/0:(s=e-n,f=t-n,d=e+n,p=t+n,n*=n);u=g.pop();)if(!(!(h=u.node)||(r=u.x0)>d||(o=u.y0)>p||(l=u.x1)<s||(i=u.y1)<f))if(h.length){var v=(r+l)/2,m=(o+i)/2;g.push(new MB(h[3],v,m,l,i),new MB(h[2],r,m,v,i),new MB(h[1],v,o,l,m),new MB(h[0],r,o,v,m)),(c=(t>=m)<<1|e>=v)&&(u=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=u)}else{var y=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),w=y*y+b*b;if(w<n){var k=Math.sqrt(n=w);s=e-k,f=t-k,d=e+k,p=t+k,a=h.data}}return a},RB.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(l=+this._y.call(null,e)))return this;var t,n,a,r,o,l,i,u,c,s,f,d,p=this._root,g=this._x0,h=this._y0,v=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(i=(g+v)/2))?g=i:v=i,(s=l>=(u=(h+m)/2))?h=u:m=u,t=p,!(p=p[f=s<<1|c]))return this;if(!p.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;p.data!==e;)if(a=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,a?(r?a.next=r:delete a.next,this):t?(r?t[f]=r:delete t[f],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[d]=p:this._root=p),this):(this._root=r,this)},RB.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},RB.root=function(){return this._root},RB.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},RB.visit=function(e){var t,n,a,r,o,l,i=[],u=this._root;for(u&&i.push(new MB(u,this._x0,this._y0,this._x1,this._y1));t=i.pop();)if(!e(u=t.node,a=t.x0,r=t.y0,o=t.x1,l=t.y1)&&u.length){var c=(a+o)/2,s=(r+l)/2;(n=u[3])&&i.push(new MB(n,c,s,o,l)),(n=u[2])&&i.push(new MB(n,a,s,c,l)),(n=u[1])&&i.push(new MB(n,c,r,o,s)),(n=u[0])&&i.push(new MB(n,a,r,c,s))}return this},RB.visitAfter=function(e){var t,n=[],a=[];for(this._root&&n.push(new MB(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var r=t.node;if(r.length){var o,l=t.x0,i=t.y0,u=t.x1,c=t.y1,s=(l+u)/2,f=(i+c)/2;(o=r[0])&&n.push(new MB(o,l,i,s,f)),(o=r[1])&&n.push(new MB(o,s,i,u,f)),(o=r[2])&&n.push(new MB(o,l,f,s,c)),(o=r[3])&&n.push(new MB(o,s,f,u,c))}a.push(t)}for(;t=a.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},RB.x=function(e){return arguments.length?(this._x=e,this):this._x},RB.y=function(e){return arguments.length?(this._y=e,this):this._y};var WB={value:function(){}};function qB(){for(var e,t=0,n=arguments.length,a={};t<n;++t){if(!(e=arguments[t]+"")||e in a||/[\s.]/.test(e))throw new Error("illegal type: "+e);a[e]=[]}return new GB(a)}function GB(e){this._=e}function VB(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",a=e.indexOf(".");if(a>=0&&(n=e.slice(a+1),e=e.slice(0,a)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function $B(e,t){for(var n,a=0,r=e.length;a<r;++a)if((n=e[a]).name===t)return n.value}function YB(e,t,n){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=WB,e=e.slice(0,a).concat(e.slice(a+1));break}return null!=n&&e.push({name:t,value:n}),e}GB.prototype=qB.prototype={constructor:GB,on:function(e,t){var n,a=this._,r=VB(e+"",a),o=-1,l=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<l;)if(n=(e=r[o]).type)a[n]=YB(a[n],e.name,t);else if(null==t)for(n in a)a[n]=YB(a[n],e.name,null);return this}for(;++o<l;)if((n=(e=r[o]).type)&&(n=$B(a[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new GB(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,a,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(a=this._[e]).length;o<n;++o)a[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,o=a.length;r<o;++r)a[r].value.apply(t,n)}};var QB,XB,KB=qB,JB=0,ZB=0,eO=0,tO=0,nO=0,aO=0,rO="object"===typeof performance&&performance.now?performance:Date,oO="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lO(){return nO||(oO(iO),nO=rO.now()+aO)}function iO(){nO=0}function uO(){this._call=this._time=this._next=null}function cO(e,t,n){var a=new uO;return a.restart(e,t,n),a}function sO(){nO=(tO=rO.now())+aO,JB=ZB=0;try{!function(){lO(),++JB;for(var e,t=QB;t;)(e=nO-t._time)>=0&&t._call.call(void 0,e),t=t._next;--JB}()}finally{JB=0,function(){var e,t,n=QB,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:QB=t);XB=e,dO(a)}(),nO=0}}function fO(){var e=rO.now(),t=e-tO;t>1e3&&(aO-=t,tO=e)}function dO(e){JB||(ZB&&(ZB=clearTimeout(ZB)),e-nO>24?(e<1/0&&(ZB=setTimeout(sO,e-rO.now()-aO)),eO&&(eO=clearInterval(eO))):(eO||(tO=rO.now(),eO=setInterval(fO,1e3)),JB=1,oO(sO)))}uO.prototype=cO.prototype={constructor:uO,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?lO():+n)+(null==t?0:+t),this._next||XB===this||(XB?XB._next=this:QB=this,XB=this),this._call=e,this._time=n,dO()},stop:function(){this._call&&(this._call=null,this._time=1/0,dO())}};var pO=4294967296;function gO(e){return e.x}function hO(e){return e.y}var vO=Math.PI*(3-Math.sqrt(5));function mO(e){var t,n=1,a=.001,r=1-Math.pow(a,1/300),o=0,l=.6,i=new Map,u=cO(f),c=KB("tick","end"),s=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%pO)/pO}}();function f(){d(),c.call("tick",t),n<a&&(u.stop(),c.call("end",t))}function d(a){var u,c,s=e.length;void 0===a&&(a=1);for(var f=0;f<a;++f)for(n+=(o-n)*r,i.forEach((function(e){e(n)})),u=0;u<s;++u)null==(c=e[u]).fx?c.x+=c.vx*=l:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=l:(c.y=c.fy,c.vy=0);return t}function p(){for(var t,n=0,a=e.length;n<a;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var r=10*Math.sqrt(.5+n),o=n*vO;t.x=r*Math.cos(o),t.y=r*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function g(t){return t.initialize&&t.initialize(e,s),t}return null==e&&(e=[]),p(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,p(),i.forEach(g),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(a=+e,t):a},alphaDecay:function(e){return arguments.length?(r=+e,t):+r},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(l=1-e,t):1-l},randomSource:function(e){return arguments.length?(s=e,i.forEach(g),t):s},force:function(e,n){return arguments.length>1?(null==n?i.delete(e):i.set(e,g(n)),t):i.get(e)},find:function(t,n,a){var r,o,l,i,u,c=0,s=e.length;for(null==a?a=1/0:a*=a,c=0;c<s;++c)(l=(r=t-(i=e[c]).x)*r+(o=n-i.y)*o)<a&&(u=i,a=l);return u},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function yO(e){return e.index}function bO(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}var wO={center:function(e,t){var n,a=1;function r(){var r,o,l=n.length,i=0,u=0;for(r=0;r<l;++r)i+=(o=n[r]).x,u+=o.y;for(i=(i/l-e)*a,u=(u/l-t)*a,r=0;r<l;++r)(o=n[r]).x-=i,o.y-=u}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r.strength=function(e){return arguments.length?(a=+e,r):a},r},collide:function(e){var t,n,a,r=1,o=1;function l(){for(var e,l,u,c,s,f,d,p=t.length,g=0;g<o;++g)for(l=TB(t,HB,UB).visitAfter(i),e=0;e<p;++e)u=t[e],f=n[u.index],d=f*f,c=u.x+u.vx,s=u.y+u.vy,l.visit(h);function h(e,t,n,o,l){var i=e.data,p=e.r,g=f+p;if(!i)return t>c+g||o<c-g||n>s+g||l<s-g;if(i.index>u.index){var h=c-i.x-i.vx,v=s-i.y-i.vy,m=h*h+v*v;m<g*g&&(0===h&&(m+=(h=LB(a))*h),0===v&&(m+=(v=LB(a))*v),m=(g-(m=Math.sqrt(m)))/m*r,u.vx+=(h*=m)*(g=(p*=p)/(d+p)),u.vy+=(v*=m)*g,i.vx-=h*(g=1-g),i.vy-=v*g)}}}function i(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function u(){if(t){var a,r,o=t.length;for(n=new Array(o),a=0;a<o;++a)r=t[a],n[r.index]=+e(r,a,t)}}return"function"!==typeof e&&(e=zB(null==e?1:+e)),l.initialize=function(e,n){t=e,a=n,u()},l.iterations=function(e){return arguments.length?(o=+e,l):o},l.strength=function(e){return arguments.length?(r=+e,l):r},l.radius=function(t){return arguments.length?(e="function"===typeof t?t:zB(+t),u(),l):e},l},nbody:function(){var e,t,n,a,r,o=zB(-30),l=1,i=1/0,u=.81;function c(n){var r,o=e.length,l=TB(e,gO,hO).visitAfter(f);for(a=n,r=0;r<o;++r)t=e[r],l.visit(d)}function s(){if(e){var t,n,a=e.length;for(r=new Array(a),t=0;t<a;++t)n=e[t],r[n.index]=+o(n,t,e)}}function f(e){var t,n,a,o,l,i=0,u=0;if(e.length){for(a=o=l=0;l<4;++l)(t=e[l])&&(n=Math.abs(t.value))&&(i+=t.value,u+=n,a+=n*t.x,o+=n*t.y);e.x=a/u,e.y=o/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{i+=r[t.data.index]}while(t=t.next)}e.value=i}function d(e,o,c,s){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,p=s-o,g=f*f+d*d;if(p*p/u<g)return g<i&&(0===f&&(g+=(f=LB(n))*f),0===d&&(g+=(d=LB(n))*d),g<l&&(g=Math.sqrt(l*g)),t.vx+=f*e.value*a/g,t.vy+=d*e.value*a/g),!0;if(!(e.length||g>=i)){(e.data!==t||e.next)&&(0===f&&(g+=(f=LB(n))*f),0===d&&(g+=(d=LB(n))*d),g<l&&(g=Math.sqrt(l*g)));do{e.data!==t&&(p=r[e.data.index]*a/g,t.vx+=f*p,t.vy+=d*p)}while(e=e.next)}}return c.initialize=function(t,a){e=t,n=a,s()},c.strength=function(e){return arguments.length?(o="function"===typeof e?e:zB(+e),s(),c):o},c.distanceMin=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c.distanceMax=function(e){return arguments.length?(i=e*e,c):Math.sqrt(i)},c.theta=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c},link:function(e){var t,n,a,r,o,l,i=yO,u=function(e){return 1/Math.min(r[e.source.index],r[e.target.index])},c=zB(30),s=1;function f(a){for(var r=0,i=e.length;r<s;++r)for(var u,c,f,d,p,g,h,v=0;v<i;++v)c=(u=e[v]).source,d=(f=u.target).x+f.vx-c.x-c.vx||LB(l),p=f.y+f.vy-c.y-c.vy||LB(l),d*=g=((g=Math.sqrt(d*d+p*p))-n[v])/g*a*t[v],p*=g,f.vx-=d*(h=o[v]),f.vy-=p*h,c.vx+=d*(h=1-h),c.vy+=p*h}function d(){if(a){var l,u,c=a.length,s=e.length,f=new Map(a.map((function(e,t){return[i(e,t,a),e]})));for(l=0,r=new Array(c);l<s;++l)(u=e[l]).index=l,"object"!==typeof u.source&&(u.source=bO(f,u.source)),"object"!==typeof u.target&&(u.target=bO(f,u.target)),r[u.source.index]=(r[u.source.index]||0)+1,r[u.target.index]=(r[u.target.index]||0)+1;for(l=0,o=new Array(s);l<s;++l)u=e[l],o[l]=r[u.source.index]/(r[u.source.index]+r[u.target.index]);t=new Array(s),p(),n=new Array(s),g()}}function p(){if(a)for(var n=0,r=e.length;n<r;++n)t[n]=+u(e[n],n,e)}function g(){if(a)for(var t=0,r=e.length;t<r;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){a=e,l=t,d()},f.links=function(t){return arguments.length?(e=t,d(),f):e},f.id=function(e){return arguments.length?(i=e,f):i},f.iterations=function(e){return arguments.length?(s=+e,f):s},f.strength=function(e){return arguments.length?(u="function"===typeof e?e:zB(+e),p(),f):u},f.distance=function(e){return arguments.length?(c="function"===typeof e?e:zB(+e),g(),f):c},f},x:function(e){var t,n,a,r=zB(.1);function o(e){for(var r,o=0,l=t.length;o<l;++o)(r=t[o]).vx+=(a[o]-r.x)*n[o]*e}function l(){if(t){var o,l=t.length;for(n=new Array(l),a=new Array(l),o=0;o<l;++o)n[o]=isNaN(a[o]=+e(t[o],o,t))?0:+r(t[o],o,t)}}return"function"!==typeof e&&(e=zB(null==e?0:+e)),o.initialize=function(e){t=e,l()},o.strength=function(e){return arguments.length?(r="function"===typeof e?e:zB(+e),l(),o):r},o.x=function(t){return arguments.length?(e="function"===typeof t?t:zB(+t),l(),o):e},o},y:function(e){var t,n,a,r=zB(.1);function o(e){for(var r,o=0,l=t.length;o<l;++o)(r=t[o]).vy+=(a[o]-r.y)*n[o]*e}function l(){if(t){var o,l=t.length;for(n=new Array(l),a=new Array(l),o=0;o<l;++o)n[o]=isNaN(a[o]=+e(t[o],o,t))?0:+r(t[o],o,t)}}return"function"!==typeof e&&(e=zB(null==e?0:+e)),o.initialize=function(e){t=e,l()},o.strength=function(e){return arguments.length?(r="function"===typeof e?e:zB(+e),l(),o):r},o.y=function(t){return arguments.length?(e="function"===typeof t?t:zB(+t),l(),o):e},o}},kO="forces",CO=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],xO=["static","iterations"],PO=["x","y","vx","vy"];function _O(e){zc.call(this,null,e)}function EO(e,t,n,a){var r,o,l,i,u=Rn(t.forces);for(r=0,o=CO.length;r<o;++r)(l=CO[r])!==kO&&t.modified(l)&&e[l](t[l]);for(r=0,o=u.length;r<o;++r)i=kO+r,(l=n||t.modified(kO,r)?BO(u[r]):a&&SO(u[r],a)?e.force(i):null)&&e.force(i,l);for(o=e.numForces||0;r<o;++r)e.force(kO+r,null);return e.numForces=u.length,e}function SO(e,t){var n,a;for(n in e)if(Ln(a=e[n])&&t.modified(Vt(a)))return 1;return 0}function BO(e){var t,n;for(n in Jn(wO,e.force)||Xt("Unrecognized force: "+e.force),t=wO[e.force](),e)Ln(t[n])&&OO(t[n],e[n],e);return t}function OO(e,t,n){e(Ln(t)?function(e){return t(e,n)}:t)}function AO(e){var t=0,n=e.children,a=n&&n.length;if(a)for(;--a>=0;)t+=n[a].value;else t=1;e.value=t}_O.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:PO}]},na(_O,zc,{transform:function(e,t){var n,a,r=this.value,o=t.changed(t.ADD_REM),l=e.modified(CO),i=e.iterations||300;if(r?(o&&(t.modifies("index"),r.nodes(t.source)),(l||t.changed(t.MOD))&&EO(r,e,0,t)):(this.value=r=function(e,t){var n=mO(e),a=n.stop,r=n.restart,o=!1;return n.stopped=function(){return o},n.restart=function(){return o=!1,r()},n.stop=function(){return o=!0,a()},EO(n,t,!0).on("end",(function(){return o=!0}))}(t.source,e),r.on("tick",(n=t.dataflow,a=this,function(){return n.touch(a).run()})),e.static||(o=!0,r.tick()),t.modifies("index")),l||o||e.modified(xO)||t.changed()&&e.restart)if(r.alpha(Math.max(r.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(r.alphaMin(),1/i)),e.static)for(r.stop();--i>=0;)r.tick();else if(r.stopped()&&r.restart(),!o)return t.StopPropagation;return this.finish(e,t)},finish:function(e,t){for(var n,a=t.dataflow,r=this._argops,o=0,l=r.length;o<l;++o)if((n=r[o]).name===kO&&"link"===n.op._argval.force)for(var i,u=n.op._argops,c=0,s=u.length;c<s;++c)if("links"===u[c].name&&(i=u[c].op.source)){a.pulse(i,a.changeset().reflow());break}return t.reflow(e.modified()).modifies(PO)}});var DO=_a().mark(MO);function MO(){var e,t,n,a,r,o;return _a().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:n=[e=this];case 1:t=n.reverse(),n=[];case 2:if(!(e=t.pop())){l.next=8;break}return l.next=5,e;case 5:if(a=e.children)for(r=0,o=a.length;r<o;++r)n.push(a[r]);l.next=2;break;case 8:if(n.length){l.next=1;break}case 9:case"end":return l.stop()}}),DO,this)}function NO(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=TO)):void 0===t&&(t=jO);for(var n,a,r,o,l,i=new RO(e),u=[i];n=u.pop();)if((r=t(n.data))&&(l=(r=Array.from(r)).length))for(n.children=r,o=l-1;o>=0;--o)u.push(a=r[o]=new RO(r[o])),a.parent=n,a.depth=n.depth+1;return i.eachBefore(IO)}function jO(e){return e.children}function TO(e){return Array.isArray(e)?e[1]:null}function FO(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function IO(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function RO(e){this.data=e,this.depth=this.height=0,this.parent=null}function zO(e){return null==e?null:LO(e)}function LO(e){if("function"!==typeof e)throw new Error;return e}function HO(){return 0}function UO(e){return function(){return e}}RO.prototype=NO.prototype=pr({constructor:RO,count:function(){return this.eachAfter(AO)},each:function(e,t){var n,a=-1,r=Wc(this);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.call(t,o,++a,this)}}catch(l){r.e(l)}finally{r.f()}return this},eachAfter:function(e,t){for(var n,a,r,o=this,l=[o],i=[],u=-1;o=l.pop();)if(i.push(o),n=o.children)for(a=0,r=n.length;a<r;++a)l.push(n[a]);for(;o=i.pop();)e.call(t,o,++u,this);return this},eachBefore:function(e,t){for(var n,a,r=this,o=[r],l=-1;r=o.pop();)if(e.call(t,r,++l,this),n=r.children)for(a=n.length-1;a>=0;--a)o.push(n[a]);return this},find:function(e,t){var n,a=-1,r=Wc(this);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(e.call(t,o,++a,this))return o}}catch(l){r.e(l)}finally{r.f()}},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,a=t.children,r=a&&a.length;--r>=0;)n+=a[r].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),a=t.ancestors(),r=null;e=n.pop(),t=a.pop();for(;e===t;)r=e,e=n.pop(),t=a.pop();return r}(t,e),a=[t];t!==n;)t=t.parent,a.push(t);for(var r=a.length;e!==n;)a.splice(r,0,e),e=e.parent;return a},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return NO(this).eachBefore(FO)}},Symbol.iterator,MO);var WO=4294967296;function qO(e,t){for(var n,a,r=0,o=(e=function(e,t){for(var n,a,r=e.length;r;)a=t()*r--|0,n=e[r],e[r]=e[a],e[a]=n;return e}(Array.from(e),t)).length,l=[];r<o;)n=e[r],a&&$O(a,n)?++r:(a=QO(l=GO(l,n)),r=0);return a}function GO(e,t){var n,a;if(YO(t,e))return[t];for(n=0;n<e.length;++n)if(VO(t,e[n])&&YO(XO(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(a=n+1;a<e.length;++a)if(VO(XO(e[n],e[a]),t)&&VO(XO(e[n],t),e[a])&&VO(XO(e[a],t),e[n])&&YO(KO(e[n],e[a],t),e))return[e[n],e[a],t];throw new Error}function VO(e,t){var n=e.r-t.r,a=t.x-e.x,r=t.y-e.y;return n<0||n*n<a*a+r*r}function $O(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),a=t.x-e.x,r=t.y-e.y;return n>0&&n*n>a*a+r*r}function YO(e,t){for(var n=0;n<t.length;++n)if(!$O(e,t[n]))return!1;return!0}function QO(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return XO(e[0],e[1]);case 3:return KO(e[0],e[1],e[2])}}function XO(e,t){var n=e.x,a=e.y,r=e.r,o=t.x,l=t.y,i=t.r,u=o-n,c=l-a,s=i-r,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*s)/2,y:(a+l+c/f*s)/2,r:(f+r+i)/2}}function KO(e,t,n){var a=e.x,r=e.y,o=e.r,l=t.x,i=t.y,u=t.r,c=n.x,s=n.y,f=n.r,d=a-l,p=a-c,g=r-i,h=r-s,v=u-o,m=f-o,y=a*a+r*r-o*o,b=y-l*l-i*i+u*u,w=y-c*c-s*s+f*f,k=p*g-d*h,C=(g*w-h*b)/(2*k)-a,x=(h*v-g*m)/k,P=(p*b-d*w)/(2*k)-r,_=(d*m-p*v)/k,E=x*x+_*_-1,S=2*(o+C*x+P*_),B=C*C+P*P-o*o,O=-(Math.abs(E)>1e-6?(S+Math.sqrt(S*S-4*E*B))/(2*E):B/S);return{x:a+C+x*O,y:r+P+_*O,r:O}}function JO(e,t,n){var a,r,o,l,i=e.x-t.x,u=e.y-t.y,c=i*i+u*u;c?(r=t.r+n.r,r*=r,l=e.r+n.r,r>(l*=l)?(a=(c+l-r)/(2*c),o=Math.sqrt(Math.max(0,l/c-a*a)),n.x=e.x-a*i-o*u,n.y=e.y-a*u+o*i):(a=(c+r-l)/(2*c),o=Math.sqrt(Math.max(0,r/c-a*a)),n.x=t.x+a*i-o*u,n.y=t.y+a*u+o*i)):(n.x=t.x+n.r,n.y=t.y)}function ZO(e,t){var n=e.r+t.r-1e-6,a=t.x-e.x,r=t.y-e.y;return n>0&&n*n>a*a+r*r}function eA(e){var t=e._,n=e.next._,a=t.r+n.r,r=(t.x*n.r+n.x*t.r)/a,o=(t.y*n.r+n.y*t.r)/a;return r*r+o*o}function tA(e){this._=e,this.next=null,this.previous=null}function nA(e,t){if(!(o=(e=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var n,a,r,o,l,i,u,c,s,f,d;if((n=e[0]).x=0,n.y=0,!(o>1))return n.r;if(a=e[1],n.x=-a.r,a.x=n.r,a.y=0,!(o>2))return n.r+a.r;JO(a,n,r=e[2]),n=new tA(n),a=new tA(a),r=new tA(r),n.next=r.previous=a,a.next=n.previous=r,r.next=a.previous=n;e:for(u=3;u<o;++u){JO(n._,a._,r=e[u]),r=new tA(r),c=a.next,s=n.previous,f=a._.r,d=n._.r;do{if(f<=d){if(ZO(c._,r._)){a=c,n.next=a,a.previous=n,--u;continue e}f+=c._.r,c=c.next}else{if(ZO(s._,r._)){(n=s).next=a,a.previous=n,--u;continue e}d+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=a,n.next=a.previous=a=r,l=eA(n);(r=r.next)!==a;)(i=eA(r))<l&&(n=r,l=i);a=n.next}for(n=[a._],r=a;(r=r.next)!==a;)n.push(r._);for(r=qO(n,t),u=0;u<o;++u)(n=e[u]).x-=r.x,n.y-=r.y;return r.r}function aA(e){return Math.sqrt(e.value)}function rA(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function oA(e,t,n){return function(a){if(r=a.children){var r,o,l,i=r.length,u=e(a)*t||0;if(u)for(o=0;o<i;++o)r[o].r+=u;if(l=nA(r,n),u)for(o=0;o<i;++o)r[o].r-=u;a.r=l+u}}}function lA(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function iA(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function uA(e,t,n,a,r){for(var o,l=e.children,i=-1,u=l.length,c=e.value&&(a-t)/e.value;++i<u;)(o=l[i]).y0=n,o.y1=r,o.x0=t,o.x1=t+=o.value*c}var cA={depth:-1},sA={},fA={};function dA(e){return e.id}function pA(e){return e.parentId}function gA(){var e,t=dA,n=pA;function a(a){var r,o,l,i,u,c,s,f,d=Array.from(a),p=t,g=n,h=new Map;if(null!=e){var v,m=d.map((function(t,n){return function(e){var t=(e="".concat(e)).length;vA(e,t-1)&&!vA(e,t-2)&&(e=e.slice(0,-1));return"/"===e[0]?e:"/".concat(e)}(e(t,n,a))})),y=m.map(hA),b=new Set(m).add(""),w=Wc(y);try{for(w.s();!(v=w.n()).done;){var k=v.value;b.has(k)||(b.add(k),m.push(k),y.push(hA(k)),d.push(fA))}}catch(x){w.e(x)}finally{w.f()}p=function(e,t){return m[t]},g=function(e,t){return y[t]}}for(l=0,r=d.length;l<r;++l)o=d[l],c=d[l]=new RO(o),null!=(s=p(o,l,a))&&(s+="")&&(f=c.id=s,h.set(f,h.has(f)?sA:c)),null!=(s=g(o,l,a))&&(s+="")&&(c.parent=s);for(l=0;l<r;++l)if(s=(c=d[l]).parent){if(!(u=h.get(s)))throw new Error("missing: "+s);if(u===sA)throw new Error("ambiguous: "+s);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(i)throw new Error("multiple roots");i=c}if(!i)throw new Error("no root");if(null!=e){for(;i.data===fA&&1===i.children.length;)i=i.children[0],--r;for(var C=d.length-1;C>=0&&(c=d[C]).data===fA;--C)c.data=null}if(i.parent=cA,i.eachBefore((function(e){e.depth=e.parent.depth+1,--r})).eachBefore(IO),i.parent=null,r>0)throw new Error("cycle");return i}return a.id=function(e){return arguments.length?(t=zO(e),a):t},a.parentId=function(e){return arguments.length?(n=zO(e),a):n},a.path=function(t){return arguments.length?(e=zO(t),a):e},a}function hA(e){var t=e.length;if(t<2)return"";for(;--t>1&&!vA(e,t););return e.slice(0,t)}function vA(e,t){if("/"===e[t]){for(var n=0;t>0&&"\\"===e[--t];)++n;if(0===(1&n))return!0}return!1}function mA(e,t){return e.parent===t.parent?1:2}function yA(e){var t=e.children;return t?t[0]:e.t}function bA(e){var t=e.children;return t?t[t.length-1]:e.t}function wA(e,t,n){var a=n/(t.i-e.i);t.c-=a,t.s+=n,e.c+=a,t.z+=n,t.m+=n}function kA(e,t,n){return e.a.parent===t.parent?e.a:n}function CA(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function xA(e,t){return e.parent===t.parent?1:2}function PA(e,t){return e+t.x}function _A(e,t){return Math.max(e,t.y)}function EA(e,t,n,a,r){for(var o,l=e.children,i=-1,u=l.length,c=e.value&&(r-n)/e.value;++i<u;)(o=l[i]).x0=t,o.x1=a,o.y0=n,o.y1=n+=o.value*c}CA.prototype=Object.create(RO.prototype);var SA=(1+Math.sqrt(5))/2;function BA(e,t,n,a,r,o){for(var l,i,u,c,s,f,d,p,g,h,v,m=[],y=t.children,b=0,w=0,k=y.length,C=t.value;b<k;){u=r-n,c=o-a;do{s=y[w++].value}while(!s&&w<k);for(f=d=s,v=s*s*(h=Math.max(c/u,u/c)/(C*e)),g=Math.max(d/v,v/f);w<k;++w){if(s+=i=y[w].value,i<f&&(f=i),i>d&&(d=i),v=s*s*h,(p=Math.max(d/v,v/f))>g){s-=i;break}g=p}m.push(l={value:s,dice:u<c,children:y.slice(b,w)}),l.dice?uA(l,n,a,r,C?a+=c*s/C:o):EA(l,n,a,C?n+=u*s/C:r,o),C-=s,b=w}return m}var OA=function e(t){function n(e,n,a,r,o){BA(t,e,n,a,r,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(SA),AA=function e(t){function n(e,n,a,r,o){if((l=e._squarify)&&l.ratio===t)for(var l,i,u,c,s,f=-1,d=l.length,p=e.value;++f<d;){for(u=(i=l[f]).children,c=i.value=0,s=u.length;c<s;++c)i.value+=u[c].value;i.dice?uA(i,n,a,r,p?a+=(o-a)*i.value/p:o):EA(i,n,a,p?n+=(r-n)*i.value/p:r,o),p-=i.value}else e._squarify=l=BA(t,e,n,a,r,o),l.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(SA);function DA(e,t,n){var a={};return e.each((function(e){var r=e.data;n(r)&&(a[t(r)]=e)})),e.lookup=a,e}function MA(e){zc.call(this,null,e)}MA.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var NA=function(e){return e.values};function jA(){var e=[],t={entries:function(e){return a(n(e,0),0)},key:function(n){return e.push(n),t}};function n(t,a){if(a>=e.length)return t;for(var r,o,l,i=t.length,u=e[a++],c={},s={},f=-1;++f<i;)(l=c[r=u(o=t[f])+""])?l.push(o):c[r]=[o];for(r in c)s[r]=n(c[r],a);return s}function a(t,n){if(++n>e.length)return t;var r=[];for(var o in t)r.push({key:o,values:a(t[o],n)});return r}return t}function TA(e){zc.call(this,null,e)}na(MA,zc,{transform:function(e,t){t.source||Xt("Nest transform requires an upstream data source.");var n=e.generate,a=e.modified(),r=t.clone(),o=this.value;return(!o||a||t.changed())&&(o&&o.each((function(e){e.children&&ec(e.data)&&r.rem.push(e.data)})),this.value=o=NO({values:Rn(e.keys).reduce((function(e,t){return e.key(t),e}),jA()).entries(r.source)},NA),n&&o.each((function(e){e.children&&(e=ac(e.data),r.add.push(e),r.source.push(e))})),DA(o,tc,tc)),r.source.root=o,r}});var FA=function(e,t){return e.parent===t.parent?1:2};na(TA,zc,{transform:function(e,t){t.source&&t.source.root||Xt(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),a=this.fields,r=t.source.root,o=e.as||a;e.field?r.sum(e.field):r.count(),e.sort&&r.sort(ic(e.sort,(function(e){return e.data}))),function(e,t,n){for(var a,r=0,o=t.length;r<o;++r)(a=t[r])in n&&e[a](n[a])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?FA:nn);try{this.value=n(r)}catch(l){Xt(l)}return r.each((function(e){return function(e,t,n){for(var a=e.data,r=t.length-1,o=0;o<r;++o)a[n[o]]=e[t[o]];a[n[r]]=e.children?e.children.length:0}(e,a,o)})),t.reflow(e.modified()).modifies(o).modifies("leaf")}});var IA=["x","y","r","depth","children"];function RA(e){TA.call(this,e)}RA.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:IA.length,default:IA}]},na(RA,TA,{layout:function(){var e=null,t=1,n=1,a=HO;function r(r){var o=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%WO)/WO}}();return r.x=t/2,r.y=n/2,e?r.eachBefore(rA(e)).eachAfter(oA(a,.5,o)).eachBefore(lA(1)):r.eachBefore(rA(aA)).eachAfter(oA(HO,1,o)).eachAfter(oA(a,r.r/Math.min(t,n),o)).eachBefore(lA(Math.min(t,n)/(2*r.r))),r}return r.radius=function(t){return arguments.length?(e=zO(t),r):e},r.size=function(e){return arguments.length?(t=+e[0],n=+e[1],r):[t,n]},r.padding=function(e){return arguments.length?(a="function"===typeof e?e:UO(+e),r):a},r},params:["radius","size","padding"],fields:IA});var zA=["x0","y0","x1","y1","depth","children"];function LA(e){TA.call(this,e)}function HA(e){zc.call(this,null,e)}LA.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:zA.length,default:zA}]},na(LA,TA,{layout:function(){var e=1,t=1,n=0,a=!1;function r(r){var o=r.height+1;return r.x0=r.y0=n,r.x1=e,r.y1=t/o,r.eachBefore(function(e,t){return function(a){a.children&&uA(a,a.x0,e*(a.depth+1)/t,a.x1,e*(a.depth+2)/t);var r=a.x0,o=a.y0,l=a.x1-n,i=a.y1-n;l<r&&(r=l=(r+l)/2),i<o&&(o=i=(o+i)/2),a.x0=r,a.y0=o,a.x1=l,a.y1=i}}(t,o)),a&&r.eachBefore(iA),r}return r.round=function(e){return arguments.length?(a=!!e,r):a},r.size=function(n){return arguments.length?(e=+n[0],t=+n[1],r):[e,t]},r.padding=function(e){return arguments.length?(n=+e,r):n},r},params:["size","round","padding"],fields:zA}),HA.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},na(HA,zc,{transform:function(e,t){t.source||Xt("Stratify transform requires an upstream data source.");var n=this.value,a=e.modified(),r=t.fork(t.ALL).materialize(t.SOURCE),o=!n||a||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return r.source=r.source.slice(),o&&(n=r.source.length?DA(gA().id(e.key).parentId(e.parentKey)(r.source),e.key,an):DA(gA()([{}]),e.key,e.key)),r.source.root=this.value=n,r}});var UA={tidy:function(){var e=mA,t=1,n=1,a=null;function r(r){var u=function(e){for(var t,n,a,r,o,l=new CA(e,0),i=[l];t=i.pop();)if(a=t._.children)for(t.children=new Array(o=a.length),r=o-1;r>=0;--r)i.push(n=t.children[r]=new CA(a[r],r)),n.parent=t;return(l.parent=new CA(null,0)).children=[l],l}(r);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(l),a)r.eachBefore(i);else{var c=r,s=r,f=r;r.eachBefore((function(e){e.x<c.x&&(c=e),e.x>s.x&&(s=e),e.depth>f.depth&&(f=e)}));var d=c===s?1:e(c,s)/2,p=d-c.x,g=t/(s.x+d+p),h=n/(f.depth||1);r.eachBefore((function(e){e.x=(e.x+p)*g,e.y=e.depth*h}))}return r}function o(t){var n=t.children,a=t.parent.children,r=t.i?a[t.i-1]:null;if(n){!function(e){for(var t,n=0,a=0,r=e.children,o=r.length;--o>=0;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(a+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+e(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+e(t._,r._));t.parent.A=function(t,n,a){if(n){for(var r,o=t,l=t,i=n,u=o.parent.children[0],c=o.m,s=l.m,f=i.m,d=u.m;i=bA(i),o=yA(o),i&&o;)u=yA(u),(l=bA(l)).a=t,(r=i.z+f-o.z-c+e(i._,o._))>0&&(wA(kA(i,t,a),t,r),c+=r,s+=r),f+=i.m,c+=o.m,d+=u.m,s+=l.m;i&&!bA(l)&&(l.t=i,l.m+=f-s),o&&!yA(u)&&(u.t=o,u.m+=c-d,a=t)}return a}(t,r,t.parent.A||a[0])}function l(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e){e.x*=t,e.y=e.depth*n}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(e){return arguments.length?(a=!1,t=+e[0],n=+e[1],r):a?null:[t,n]},r.nodeSize=function(e){return arguments.length?(a=!0,t=+e[0],n=+e[1],r):a?[t,n]:null},r},cluster:function(){var e=xA,t=1,n=1,a=!1;function r(r){var o,l=0;r.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(PA,0)/e.length}(n),t.y=function(e){return 1+e.reduce(_A,0)}(n)):(t.x=o?l+=e(t,o):0,t.y=0,o=t)}));var i=function(e){for(var t;t=e.children;)e=t[0];return e}(r),u=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(r),c=i.x-e(i,u)/2,s=u.x+e(u,i)/2;return r.eachAfter(a?function(e){e.x=(e.x-r.x)*t,e.y=(r.y-e.y)*n}:function(e){e.x=(e.x-c)/(s-c)*t,e.y=(1-(r.y?e.y/r.y:1))*n})}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(e){return arguments.length?(a=!1,t=+e[0],n=+e[1],r):a?null:[t,n]},r.nodeSize=function(e){return arguments.length?(a=!0,t=+e[0],n=+e[1],r):a?[t,n]:null},r}},WA=["x","y","depth","children"];function qA(e){TA.call(this,e)}function GA(e){zc.call(this,[],e)}qA.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:WA.length,default:WA}]},na(qA,TA,{layout:function(e){var t=e||"tidy";if(Jn(UA,t))return UA[t]();Xt("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:WA}),GA.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},na(GA,zc,{transform:function(e,t){var n=this.value,a=t.source&&t.source.root,r=t.fork(t.NO_SOURCE),o={};return a||Xt("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(r.rem=n,t.visit(t.SOURCE,(function(e){return o[tc(e)]=1})),a.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&o[tc(t)]&&o[tc(n)]&&r.add.push(ac({source:n,target:t}))})),this.value=r.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){return o[tc(e)]=1})),n.forEach((function(e){(o[tc(e.source)]||o[tc(e.target)])&&r.mod.push(e)}))),r}});var VA={binary:function(e,t,n,a,r){var o,l,i=e.children,u=i.length,c=new Array(u+1);for(c[0]=l=o=0;o<u;++o)c[o+1]=l+=i[o].value;!function e(t,n,a,r,o,l,u){if(t>=n-1){var s=i[t];return s.x0=r,s.y0=o,s.x1=l,void(s.y1=u)}var f=c[t],d=a/2+f,p=t+1,g=n-1;for(;p<g;){var h=p+g>>>1;c[h]<d?p=h+1:g=h}d-c[p-1]<c[p]-d&&t+1<p&&--p;var v=c[p]-f,m=a-v;if(l-r>u-o){var y=a?(r*m+l*v)/a:l;e(t,p,v,r,o,y,u),e(p,n,m,y,o,l,u)}else{var b=a?(o*m+u*v)/a:u;e(t,p,v,r,o,l,b),e(p,n,m,r,b,l,u)}}(0,u,e.value,t,n,a,r)},dice:uA,slice:EA,slicedice:function(e,t,n,a,r){(1&e.depth?EA:uA)(e,t,n,a,r)},squarify:OA,resquarify:AA},$A=["x0","y0","x1","y1","depth","children"];function YA(e){TA.call(this,e)}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QA(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}YA.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:$A.length,default:$A}]},na(YA,TA,{layout:function(){var e=function(){var e=OA,t=!1,n=1,a=1,r=[0],o=HO,l=HO,i=HO,u=HO,c=HO;function s(e){return e.x0=e.y0=0,e.x1=n,e.y1=a,e.eachBefore(f),r=[0],t&&e.eachBefore(iA),e}function f(t){var n=r[t.depth],a=t.x0+n,s=t.y0+n,f=t.x1-n,d=t.y1-n;f<a&&(a=f=(a+f)/2),d<s&&(s=d=(s+d)/2),t.x0=a,t.y0=s,t.x1=f,t.y1=d,t.children&&(n=r[t.depth+1]=o(t)/2,a+=c(t)-n,s+=l(t)-n,(f-=i(t)-n)<a&&(a=f=(a+f)/2),(d-=u(t)-n)<s&&(s=d=(s+d)/2),e(t,a,s,f,d))}return s.round=function(e){return arguments.length?(t=!!e,s):t},s.size=function(e){return arguments.length?(n=+e[0],a=+e[1],s):[n,a]},s.tile=function(t){return arguments.length?(e=LO(t),s):e},s.padding=function(e){return arguments.length?s.paddingInner(e).paddingOuter(e):s.paddingInner()},s.paddingInner=function(e){return arguments.length?(o="function"===typeof e?e:UO(+e),s):o},s.paddingOuter=function(e){return arguments.length?s.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):s.paddingTop()},s.paddingTop=function(e){return arguments.length?(l="function"===typeof e?e:UO(+e),s):l},s.paddingRight=function(e){return arguments.length?(i="function"===typeof e?e:UO(+e),s):i},s.paddingBottom=function(e){return arguments.length?(u="function"===typeof e?e:UO(+e),s):u},s.paddingLeft=function(e){return arguments.length?(c="function"===typeof e?e:UO(+e),s):c},s}();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Jn(VA,t)?e.tile(VA[t]):Xt("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:$A});var KA=4278190080;function JA(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function ZA(e,t,n){if(t.length){var a=t[0].mark.marktype;"group"===a?t.forEach((function(t){t.items.forEach((function(t){return ZA(e,t.items,n)}))})):dk[a].draw(e,{items:n?t.map(eD):t})}}function eD(e){var t=oc(e,{});return t.stroke&&0!==t.strokeOpacity||t.fill&&0!==t.fillOpacity?XA(XA({},t),{},{strokeOpacity:1,stroke:"#000",fillOpacity:0}):t}var tD=31,nD=new Uint32Array(33),aD=new Uint32Array(33);aD[0]=0,nD[0]=~aD[0];for(var rD=1;rD<=32;++rD)aD[rD]=aD[rD-1]<<1|1,nD[rD]=~aD[rD];function oD(e,t,n){var a=Math.max(1,Math.sqrt(e*t/1e6)),r=~~((e+2*n+a)/a),o=~~((t+2*n+a)/a),l=function(e){return~~((e+n)/a)};return l.invert=function(e){return e*a-n},l.bitmap=function(){return function(e,t){var n=new Uint32Array(~~((e*t+32)/32));function a(e,t){n[e]|=t}function r(e,t){n[e]&=t}return{array:n,get:function(t,a){var r=a*e+t;return n[r>>>5]&1<<(r&tD)},set:function(t,n){var r=n*e+t;a(r>>>5,1<<(r&tD))},clear:function(t,n){var a=n*e+t;r(a>>>5,~(1<<(a&tD)))},getRange:function(t,a,r,o){for(var l,i,u,c,s=o;s>=a;--s)if((u=(l=s*e+t)>>>5)===(c=(i=s*e+r)>>>5)){if(n[u]&nD[l&tD]&aD[1+(i&tD)])return!0}else{if(n[u]&nD[l&tD])return!0;if(n[c]&aD[1+(i&tD)])return!0;for(var f=u+1;f<c;++f)if(n[f])return!0}return!1},setRange:function(t,n,r,o){for(var l,i,u,c,s;n<=o;++n)if((u=(l=n*e+t)>>>5)===(c=(i=n*e+r)>>>5))a(u,nD[l&tD]&aD[1+(i&tD)]);else for(a(u,nD[l&tD]),a(c,aD[1+(i&tD)]),s=u+1;s<c;++s)a(s,4294967295)},clearRange:function(t,n,a,o){for(var l,i,u,c,s;n<=o;++n)if((u=(l=n*e+t)>>>5)===(c=(i=n*e+a)>>>5))r(u,aD[l&tD]|nD[1+(i&tD)]);else for(r(u,aD[l&tD]),r(c,nD[1+(i&tD)]),s=u+1;s<c;++s)r(s,0)},outOfBounds:function(n,a,r,o){return n<0||a<0||o>=t||r>=e}}}(r,o)},l.ratio=a,l.padding=n,l.width=e,l.height=t,l}function lD(e,t,n,a,r,o){var l=n/2;return e-l<0||e+l>r||t-(l=a/2)<0||t+l>o}function iD(e,t,n,a,r,o,l,i){var u=r*o/(2*a),c=e(t-u),s=e(t+u),f=e(n-(o/=2)),d=e(n+o);return l.outOfBounds(c,f,s,d)||l.getRange(c,f,s,d)||i&&i.getRange(c,f,s,d)}var uD=[-1,-1,1,1],cD=[-1,1,-1,1];var sD=["right","center","left"],fD=["bottom","middle","top"];function dD(e,t,n,a,r,o,l,i,u,c,s,f){return!(r.outOfBounds(e,n,t,a)||(f&&o||r).getRange(e,n,t,a))}var pD={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},gD={naive:function(e,t,n,a){var r=e.width,o=e.height;return function(e){for(var t,n,l,i,u,c,s,f=e.datum.datum.items[a].items,d=f.length,p=e.datum.fontSize,g=Vw.width(e.datum,e.datum.text),h=0,v=0;v<d;++v)t=f[v].x,l=f[v].y,u=(t+(n=void 0===f[v].x2?t:f[v].x2))/2,c=(l+(i=void 0===f[v].y2?l:f[v].y2))/2,(s=Math.abs(n-t+i-l))>=h&&(h=s,e.x=u,e.y=c);return u=g/2,c=p/2,t=e.x-u,n=e.x+u,l=e.y-c,i=e.y+c,e.align="center",t<0&&n<=r?e.align="left":0<=t&&r<n&&(e.align="right"),e.baseline="middle",l<0&&i<=o?e.baseline="top":0<=l&&o<i&&(e.baseline="bottom"),!0}},"reduced-search":function(e,t,n,a){var r=e.width,o=e.height,l=t[0],i=t[1];function u(t,n,a,u,c){var s,f=e.invert(t),d=e.invert(n),p=a,g=o;if(!lD(f,d,u,c,r,o)&&!iD(e,f,d,c,u,p,l,i)&&!iD(e,f,d,c,u,c,l,null)){for(;g-p>=1;)iD(e,f,d,c,u,s=(p+g)/2,l,i)?g=s:p=s;if(p>a)return[f,d,p,!0]}}return function(t){for(var i,c,s,f,d,p,g,h,v,m,y,b,w,k,C,x,P,_=t.datum.datum.items[a].items,S=_.length,B=t.datum.fontSize,O=Vw.width(t.datum,t.datum.text),A=n?B:0,D=!1,M=!1,N=0,j=0;j<S;++j){for(i=_[j].x,s=_[j].y,i>(c=void 0===_[j].x2?i:_[j].x2)&&(P=i,i=c,c=P),s>(f=void 0===_[j].y2?s:_[j].y2)&&(P=s,s=f,f=P),m=~~(((v=e(i))+(y=e(c)))/2),w=~~(((b=e(s))+(k=e(f)))/2),g=m;g>=v;--g)for(h=w;h>=b;--h)if(x=u(g,h,A,O,B)){var T=E(x,4);t.x=T[0],t.y=T[1],A=T[2],D=T[3]}for(g=m;g<=y;++g)for(h=w;h<=k;++h)if(x=u(g,h,A,O,B)){var F=E(x,4);t.x=F[0],t.y=F[1],A=F[2],D=F[3]}D||n||(d=(i+c)/2,p=(s+f)/2,(C=Math.abs(c-i+f-s))>=N&&!lD(d,p,O,B,r,o)&&!iD(e,d,p,B,O,B,l,null)&&(N=C,t.x=d,t.y=p,M=!0))}return!(!D&&!M)&&(d=O/2,p=B/2,l.setRange(e(t.x-d),e(t.y-p),e(t.x+d),e(t.y+p)),t.align="center",t.baseline="middle",!0)}},floodfill:function(e,t,n,a){var r=e.width,o=e.height,l=t[0],i=t[1],u=e.bitmap();return function(t){for(var c,s,f,d,p,g,h,v,m,y,b,w,k=t.datum.datum.items[a].items,C=k.length,x=t.datum.fontSize,P=Vw.width(t.datum,t.datum.text),_=[],S=n?x:0,B=!1,O=!1,A=0,D=0;D<C;++D){for(c=k[D].x,f=k[D].y,s=void 0===k[D].x2?c:k[D].x2,d=void 0===k[D].y2?f:k[D].y2,_.push([e((c+s)/2),e((f+d)/2)]);_.length;){var M=E(_.pop(),2);if(h=M[0],v=M[1],!(l.get(h,v)||i.get(h,v)||u.get(h,v))){u.set(h,v);for(var N=0;N<4;++N)p=h+uD[N],g=v+cD[N],u.outOfBounds(p,g,p,g)||_.push([p,g]);if(p=e.invert(h),g=e.invert(v),m=S,y=o,!lD(p,g,P,x,r,o)&&!iD(e,p,g,x,P,m,l,i)&&!iD(e,p,g,x,P,x,l,null)){for(;y-m>=1;)iD(e,p,g,x,P,b=(m+y)/2,l,i)?y=b:m=b;m>S&&(t.x=p,t.y=g,S=m,B=!0)}}}B||n||(p=(c+s)/2,g=(f+d)/2,(w=Math.abs(s-c+d-f))>=A&&!lD(p,g,P,x,r,o)&&!iD(e,p,g,x,P,x,l,null)&&(A=w,t.x=p,t.y=g,O=!0))}return!(!B&&!O)&&(p=P/2,g=x/2,l.setRange(e(t.x-p),e(t.y-g),e(t.x+p),e(t.y+g)),t.align="center",t.baseline="middle",!0)}}};function hD(e,t,n,a,r,o,l,i,u,c,s){if(!e.length)return e;var f,d=Math.max(a.length,r.length),p=function(e,t){for(var n=new Float64Array(t),a=e.length,r=0;r<a;++r)n[r]=e[r]||0;for(var o=a;o<t;++o)n[o]=n[a-1];return n}(a,d),g=function(e,t){for(var n=new Int8Array(t),a=e.length,r=0;r<a;++r)n[r]|=pD[e[r]];for(var o=a;o<t;++o)n[o]=n[a-1];return n}(r,d),h=(f=e[0].datum)&&f.mark&&f.mark.marktype,v="group"===h&&e[0].datum.items[u].marktype,m="area"===v,y=function(e,t,n,a){var r=function(e){return[e.x,e.x,e.x,e.y,e.y,e.y]};return e?"line"===e||"area"===e?function(e){return r(e.datum)}:"line"===t?function(e){var t=e.datum.items[a].items;return r(t.length?t["start"===n?0:t.length-1]:{x:NaN,y:NaN})}:function(e){var t=e.datum.bounds;return[t.x1,(t.x1+t.x2)/2,t.x2,t.y1,(t.y1+t.y2)/2,t.y2]}:r}(h,v,i,u),b=null===c||c===1/0,w=m&&"naive"===s,k=-1,C=-1,x=e.map((function(e){var t=b?Vw.width(e,e.text):void 0;return k=Math.max(k,t),C=Math.max(C,e.fontSize),{datum:e,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(e),textWidth:t}}));c=null===c||c===1/0?Math.max(k,C)+Math.max.apply(Math,B(a)):c;var P,_=oD(t[0],t[1],c);if(!w){n&&x.sort((function(e,t){return n(e.datum,t.datum)}));for(var E=!1,S=0;S<g.length&&!E;++S)E=5===g[S]||p[S]<0;var O=(h&&l||m)&&e.map((function(e){return e.datum}));P=o.length||O?function(e,t,n,a,r){var o=e.width,l=e.height,i=a||r,u=Hp(o,l).getContext("2d"),c=Hp(o,l).getContext("2d"),s=i&&Hp(o,l).getContext("2d");n.forEach((function(e){return ZA(u,e,!1)})),ZA(c,t,!1),i&&ZA(s,t,!0);var f,d,p,g,h,v,m,y,b=JA(u,o,l),w=JA(c,o,l),k=i&&JA(s,o,l),C=e.bitmap(),x=i&&e.bitmap();for(d=0;d<l;++d)for(f=0;f<o;++f)v=b[h=d*o+f]&KA,y=w[h]&KA,m=i&&k[h]&KA,(v||m||y)&&(p=e(f),g=e(d),r||!v&&!y||C.set(p,g),i&&(v||m)&&x.set(p,g));return[C,x]}(_,O||[],o,E,m):function(e,t){var n=e.bitmap();return(t||[]).forEach((function(t){return n.set(e(t.boundary[0]),e(t.boundary[3]))})),[n,void 0]}(_,l&&x)}var A=m?gD[s](_,P,l,u):function(e,t,n,a){var r=e.width,o=e.height,l=t[0],i=t[1],u=a.length;return function(t){var c,s=t.boundary,f=t.datum.fontSize;if(s[2]<0||s[5]<0||s[0]>r||s[3]>o)return!1;for(var d,p,g,h,v,m,y,b,w,k,C,x,P,_,E,S=null!==(c=t.textWidth)&&void 0!==c?c:0,B=0;B<u;++B){if(d=(3&n[B])-1,p=(n[B]>>>2&3)-1,g=0===d&&0===p||a[B]<0,h=d&&p?Math.SQRT1_2:1,v=a[B]<0?-1:1,m=s[1+d]+a[B]*d*h,b=(C=s[4+p]+v*f*p/2+a[B]*p*h)-f/2,w=C+f/2,x=e(m),_=e(b),E=e(w),!S){if(!dD(x,x,_,E,l,i,0,0,0,0,0,g))continue;S=Vw.width(t.datum,t.datum.text)}if(y=(k=m+v*S*d/2)+S/2,dD(x=e(m=k-S/2),P=e(y),_,E,l,i,0,0,0,0,0,g))return t.x=d?d*v<0?y:m:k,t.y=p?p*v<0?w:b:C,t.align=sD[d*v+1],t.baseline=fD[p*v+1],l.setRange(x,_,P,E),!0}return!1}}(_,P,g,p);return x.forEach((function(e){return e.opacity=+A(e)})),x}var vD=["x","y","opacity","align","baseline"],mD=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function yD(e){zc.call(this,null,e)}function bD(e,t){var n,a,r,o,l,i,u=[],c=function(e){return e(o)};if(null==t)u.push(e);else for(n={},a=0,r=e.length;a<r;++a)o=e[a],(i=n[l=t.map(c)])||(n[l]=i=[],i.dims=l,u.push(i)),i.push(o);return u}function wD(e){zc.call(this,null,e)}yD.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:mD},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:vD.length,default:vD}]},na(yD,zc,{transform:function(e,t){var n=e.modified();if(n||t.changed(t.ADD_REM)||function(n){var a=e[n];return Ln(a)&&t.modified(a.fields)}("sort")){e.size&&2===e.size.length||Xt("Size parameter should be specified as a [width, height] array.");var a=e.as||vD;return hD(t.materialize(t.SOURCE).source||[],e.size,e.sort,Rn(null==e.offset?1:e.offset),Rn(e.anchor||mD),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach((function(e){var t=e.datum;t[a[0]]=e.x,t[a[1]]=e.y,t[a[2]]=e.opacity,t[a[3]]=e.align,t[a[4]]=e.baseline})),t.reflow(n).modifies(a)}}}),wD.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},na(wD,zc,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var a=bD(t.materialize(t.SOURCE).source,e.groupby),r=(e.groupby||[]).map(Gt),o=r.length,l=e.as||[Gt(e.x),Gt(e.y)],i=[];a.forEach((function(t){Vs(t,e.x,e.y,e.bandwidth||.3).forEach((function(e){for(var n={},a=0;a<o;++a)n[r[a]]=t.dims[a];n[l[0]]=e[0],n[l[1]]=e[1],i.push(ac(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=i}return n}});var kD={linear:zs,log:Ls,exp:Hs,pow:Us,quad:Ws,poly:qs};function CD(e){zc.call(this,null,e)}CD.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(kD)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},na(CD,zc,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var a=bD(t.materialize(t.SOURCE).source,e.groupby),r=(e.groupby||[]).map(Gt),o=e.method||"linear",l=e.order||3,i=function(e,t){return"poly"===e?t:"quad"===e?2:1}(o,l),u=e.as||[Gt(e.x),Gt(e.y)],c=kD[o],s=[],f=e.extent;Jn(kD,o)||Xt("Invalid regression method: "+o),null!=f&&"log"===o&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),a.forEach((function(n){if(n.length<=i)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var a=c(n,e.x,e.y,l);if(e.params)s.push(ac({keys:n.dims,coef:a.coef,rSquared:a.rSquared}));else{var d=f||Qn(n,e.x),p=function(e){for(var t={},a=0;a<r.length;++a)t[r[a]]=n.dims[a];t[u[0]]=e[0],t[u[1]]=e[1],s.push(ac(t))};"linear"===o?d.forEach((function(e){return p([e,a.predict(e)])})):Xs(a.predict,d,25,200).forEach(p)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n}});var xD=134217729;function PD(e,t,n,a,r){var o,l,i,u,c=t[0],s=a[0],f=0,d=0;s>c===s>-c?(o=c,c=t[++f]):(o=s,s=a[++d]);var p=0;if(f<e&&d<n)for(s>c===s>-c?(i=o-((l=c+o)-c),c=t[++f]):(i=o-((l=s+o)-s),s=a[++d]),o=l,0!==i&&(r[p++]=i);f<e&&d<n;)s>c===s>-c?(i=o-((l=o+c)-(u=l-o))+(c-u),c=t[++f]):(i=o-((l=o+s)-(u=l-o))+(s-u),s=a[++d]),o=l,0!==i&&(r[p++]=i);for(;f<e;)i=o-((l=o+c)-(u=l-o))+(c-u),c=t[++f],o=l,0!==i&&(r[p++]=i);for(;d<n;)i=o-((l=o+s)-(u=l-o))+(s-u),s=a[++d],o=l,0!==i&&(r[p++]=i);return 0===o&&0!==p||(r[p++]=o),p}function _D(e){return new Float64Array(e)}var ED=_D(4),SD=_D(8),BD=_D(12),OD=_D(16),AD=_D(4);function DD(e,t,n,a,r,o){var l=(t-o)*(n-r),i=(e-r)*(a-o),u=l-i;if(0===l||0===i||l>0!==i>0)return u;var c=Math.abs(l+i);return Math.abs(u)>=33306690738754716e-32*c?u:-function(e,t,n,a,r,o,l){var i,u,c,s,f,d,p,g,h,v,m,y,b,w,k,C,x,P,_=e-r,E=n-r,S=t-o,B=a-o;f=(k=(g=_-(p=(d=xD*_)-(d-_)))*(v=B-(h=(d=xD*B)-(d-B)))-((w=_*B)-p*h-g*h-p*v))-(m=k-(x=(g=S-(p=(d=xD*S)-(d-S)))*(v=E-(h=(d=xD*E)-(d-E)))-((C=S*E)-p*h-g*h-p*v))),ED[0]=k-(m+f)+(f-x),f=(b=w-((y=w+m)-(f=y-w))+(m-f))-(m=b-C),ED[1]=b-(m+f)+(f-C),f=(P=y+m)-y,ED[2]=y-(P-f)+(m-f),ED[3]=P;var O=function(e,t){for(var n=t[0],a=1;a<e;a++)n+=t[a];return n}(4,ED),A=22204460492503146e-32*l;if(O>=A||-O>=A)return O;if(i=e-(_+(f=e-_))+(f-r),c=n-(E+(f=n-E))+(f-r),u=t-(S+(f=t-S))+(f-o),s=a-(B+(f=a-B))+(f-o),0===i&&0===u&&0===c&&0===s)return O;if(A=11093356479670487e-47*l+33306690738754706e-32*Math.abs(O),(O+=_*s+B*i-(S*c+E*u))>=A||-O>=A)return O;f=(k=(g=i-(p=(d=xD*i)-(d-i)))*(v=B-(h=(d=xD*B)-(d-B)))-((w=i*B)-p*h-g*h-p*v))-(m=k-(x=(g=u-(p=(d=xD*u)-(d-u)))*(v=E-(h=(d=xD*E)-(d-E)))-((C=u*E)-p*h-g*h-p*v))),AD[0]=k-(m+f)+(f-x),f=(b=w-((y=w+m)-(f=y-w))+(m-f))-(m=b-C),AD[1]=b-(m+f)+(f-C),f=(P=y+m)-y,AD[2]=y-(P-f)+(m-f),AD[3]=P;var D=PD(4,ED,4,AD,SD);f=(k=(g=_-(p=(d=xD*_)-(d-_)))*(v=s-(h=(d=xD*s)-(d-s)))-((w=_*s)-p*h-g*h-p*v))-(m=k-(x=(g=S-(p=(d=xD*S)-(d-S)))*(v=c-(h=(d=xD*c)-(d-c)))-((C=S*c)-p*h-g*h-p*v))),AD[0]=k-(m+f)+(f-x),f=(b=w-((y=w+m)-(f=y-w))+(m-f))-(m=b-C),AD[1]=b-(m+f)+(f-C),f=(P=y+m)-y,AD[2]=y-(P-f)+(m-f),AD[3]=P;var M=PD(D,SD,4,AD,BD);f=(k=(g=i-(p=(d=xD*i)-(d-i)))*(v=s-(h=(d=xD*s)-(d-s)))-((w=i*s)-p*h-g*h-p*v))-(m=k-(x=(g=u-(p=(d=xD*u)-(d-u)))*(v=c-(h=(d=xD*c)-(d-c)))-((C=u*c)-p*h-g*h-p*v))),AD[0]=k-(m+f)+(f-x),f=(b=w-((y=w+m)-(f=y-w))+(m-f))-(m=b-C),AD[1]=b-(m+f)+(f-C),f=(P=y+m)-y,AD[2]=y-(P-f)+(m-f),AD[3]=P;var N=PD(M,BD,4,AD,OD);return OD[N-1]}(e,t,n,a,r,o,c)}_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(8),_D(8),_D(8),_D(4),_D(8),_D(8),_D(8),_D(12),_D(192),_D(192);_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(8),_D(8),_D(8),_D(8),_D(8),_D(8),_D(8),_D(8),_D(8),_D(4),_D(4),_D(4),_D(8),_D(16),_D(16),_D(16),_D(32),_D(32),_D(48),_D(64),_D(1152),_D(1152);_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(4),_D(24),_D(24),_D(24),_D(24),_D(24),_D(24),_D(24),_D(24),_D(24),_D(24),_D(1152),_D(1152),_D(1152),_D(1152),_D(1152),_D(2304),_D(2304),_D(3456),_D(5760),_D(8),_D(8),_D(8),_D(16),_D(24),_D(48),_D(48),_D(96),_D(192),_D(384),_D(384),_D(384),_D(768);_D(96),_D(96),_D(96),_D(1152);var MD=Math.pow(2,-52),ND=new Uint32Array(512),jD=function(){function e(t){O(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var a=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*a),this._halfedges=new Int32Array(3*a),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return D(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,a=this._hullTri,r=this._hullHash,o=e.length>>1,l=1/0,i=1/0,u=-1/0,c=-1/0,s=0;s<o;s++){var f=e[2*s],d=e[2*s+1];f<l&&(l=f),d<i&&(i=d),f>u&&(u=f),d>c&&(c=d),this._ids[s]=s}for(var p,g,h,v=(l+u)/2,m=(i+c)/2,y=1/0,b=0;b<o;b++){var w=TD(v,m,e[2*b],e[2*b+1]);w<y&&(p=b,y=w)}var k=e[2*p],C=e[2*p+1];y=1/0;for(var x=0;x<o;x++)if(x!==p){var P=TD(k,C,e[2*x],e[2*x+1]);P<y&&P>0&&(g=x,y=P)}for(var _=e[2*g],E=e[2*g+1],S=1/0,B=0;B<o;B++)if(B!==p&&B!==g){var O=ID(k,C,_,E,e[2*B],e[2*B+1]);O<S&&(h=B,S=O)}var A=e[2*h],D=e[2*h+1];if(S===1/0){for(var M=0;M<o;M++)this._dists[M]=e[2*M]-e[0]||e[2*M+1]-e[1];RD(this._ids,this._dists,0,o-1);for(var N=new Uint32Array(o),j=0,T=0,F=-1/0;T<o;T++){var I=this._ids[T];this._dists[I]>F&&(N[j++]=I,F=this._dists[I])}return this.hull=N.subarray(0,j),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(DD(k,C,_,E,A,D)<0){var R=g,z=_,L=E;g=h,_=A,E=D,h=R,A=z,D=L}var H=function(e,t,n,a,r,o){var l=n-e,i=a-t,u=r-e,c=o-t,s=l*l+i*i,f=u*u+c*c,d=.5/(l*c-i*u);return{x:e+(c*s-i*f)*d,y:t+(l*f-u*s)*d}}(k,C,_,E,A,D);this._cx=H.x,this._cy=H.y;for(var U=0;U<o;U++)this._dists[U]=TD(e[2*U],e[2*U+1],H.x,H.y);RD(this._ids,this._dists,0,o-1),this._hullStart=p;var W=3;n[p]=t[h]=g,n[g]=t[p]=h,n[h]=t[g]=p,a[p]=0,a[g]=1,a[h]=2,r.fill(-1),r[this._hashKey(k,C)]=p,r[this._hashKey(_,E)]=g,r[this._hashKey(A,D)]=h,this.trianglesLen=0,this._addTriangle(p,g,h,-1,-1,-1);for(var q,G,V=0;V<this._ids.length;V++){var $=this._ids[V],Y=e[2*$],Q=e[2*$+1];if(!(V>0&&Math.abs(Y-q)<=MD&&Math.abs(Q-G)<=MD)&&(q=Y,G=Q,$!==p&&$!==g&&$!==h)){for(var X=0,K=0,J=this._hashKey(Y,Q);K<this._hashSize&&(-1===(X=r[(J+K)%this._hashSize])||X===n[X]);K++);for(var Z=X=t[X],ee=void 0;ee=n[Z],DD(Y,Q,e[2*Z],e[2*Z+1],e[2*ee],e[2*ee+1])>=0;)if((Z=ee)===X){Z=-1;break}if(-1!==Z){var te=this._addTriangle(Z,$,n[Z],-1,-1,a[Z]);a[$]=this._legalize(te+2),a[Z]=te,W++;for(var ne=n[Z];ee=n[ne],DD(Y,Q,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1])<0;)te=this._addTriangle(ne,$,ee,a[$],-1,a[ne]),a[$]=this._legalize(te+2),n[ne]=ne,W--,ne=ee;if(Z===X)for(;DD(Y,Q,e[2*(ee=t[Z])],e[2*ee+1],e[2*Z],e[2*Z+1])<0;)te=this._addTriangle(ee,$,Z,-1,a[Z],a[ee]),this._legalize(te+2),a[ee]=te,n[Z]=Z,W--,Z=ee;this._hullStart=t[$]=Z,n[Z]=t[ne]=$,n[$]=ne,r[this._hashKey(Y,Q)]=$,r[this._hashKey(e[2*Z],e[2*Z+1])]=Z}}}this.hull=new Uint32Array(W);for(var ae=0,re=this._hullStart;ae<W;ae++)this.hull[ae]=re,re=n[re];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,a=this.coords,r=0,o=0;;){var l=n[e],i=e-e%3;if(o=i+(e+2)%3,-1!==l){var u=l-l%3,c=i+(e+1)%3,s=u+(l+2)%3,f=t[o],d=t[e],p=t[c],g=t[s];if(FD(a[2*f],a[2*f+1],a[2*d],a[2*d+1],a[2*p],a[2*p+1],a[2*g],a[2*g+1])){t[e]=g,t[l]=f;var h=n[s];if(-1===h){var v=this._hullStart;do{if(this._hullTri[v]===s){this._hullTri[v]=e;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(e,h),this._link(l,n[o]),this._link(o,s);var m=u+(l+1)%3;r<ND.length&&(ND[r++]=m)}else{if(0===r)break;e=ND[--r]}}else{if(0===r)break;e=ND[--r]}}return o}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,a,r,o){var l=this.trianglesLen;return this._triangles[l]=e,this._triangles[l+1]=t,this._triangles[l+2]=n,this._link(l,a),this._link(l+1,r),this._link(l+2,o),this.trianglesLen+=3,l}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LD,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HD,r=t.length,o=new Float64Array(2*r),l=0;l<r;l++){var i=t[l];o[2*l]=n(i),o[2*l+1]=a(i)}return new e(o)}}]),e}();function TD(e,t,n,a){var r=e-n,o=t-a;return r*r+o*o}function FD(e,t,n,a,r,o,l,i){var u=e-l,c=t-i,s=n-l,f=a-i,d=r-l,p=o-i,g=s*s+f*f,h=d*d+p*p;return u*(f*h-g*p)-c*(s*h-g*d)+(u*u+c*c)*(s*p-f*d)<0}function ID(e,t,n,a,r,o){var l=n-e,i=a-t,u=r-e,c=o-t,s=l*l+i*i,f=u*u+c*c,d=.5/(l*c-i*u),p=(c*s-i*f)*d,g=(l*f-u*s)*d;return p*p+g*g}function RD(e,t,n,a){if(a-n<=20)for(var r=n+1;r<=a;r++){for(var o=e[r],l=t[o],i=r-1;i>=n&&t[e[i]]>l;)e[i+1]=e[i--];e[i+1]=o}else{var u=n+1,c=a;zD(e,n+a>>1,u),t[e[n]]>t[e[a]]&&zD(e,n,a),t[e[u]]>t[e[a]]&&zD(e,u,a),t[e[n]]>t[e[u]]&&zD(e,n,u);for(var s=e[u],f=t[s];;){do{u++}while(t[e[u]]<f);do{c--}while(t[e[c]]>f);if(c<u)break;zD(e,u,c)}e[n+1]=e[c],e[c]=s,a-u+1>=c-n?(RD(e,t,u,a),RD(e,t,n,c-1)):(RD(e,t,n,c-1),RD(e,t,u,a))}}function zD(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function LD(e){return e[0]}function HD(e){return e[1]}var UD=1e-6,WD=function(){function e(){O(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return D(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var a=(e=+e)+(n=+n),r=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(a,",").concat(r):(Math.abs(this._x1-a)>UD||Math.abs(this._y1-r)>UD)&&(this._+="L"+a+","+r),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=a,",").concat(this._y1=r))}},{key:"rect",value:function(e,t,n,a){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+a,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),qD=function(){function e(){O(this,e),this._=[]}return D(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),GD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],a=E(n,4),r=a[0],o=a[1],l=a[2],i=a[3];if(O(this,e),!((l=+l)>=(r=+r))||!((i=+i)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=l,this.xmin=r,this.ymax=i,this.ymin=o,this._init()}return D(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,a=n.points,r=n.hull,o=n.triangles,l=this.vectors,i=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),u=0,c=0,s=o.length;u<s;u+=3,c+=2){var f=2*o[u],d=2*o[u+1],p=2*o[u+2],g=a[f],h=a[f+1],v=a[d],m=a[d+1],y=a[p],b=a[p+1],w=v-g,k=m-h,C=y-g,x=b-h,P=2*(w*x-k*C);if(Math.abs(P)<1e-9){var _=1e9,E=2*o[0];e=(g+y)/2-(_*=Math.sign((a[E]-g)*x-(a[E+1]-h)*C))*x,t=(h+b)/2+_*C}else{var S=1/P,B=w*w+k*k,O=C*C+x*x;e=g+(x*B-k*O)*S,t=h+(w*O-C*B)*S}i[c]=e,i[c+1]=t}var A,D,M,N=r[r.length-1],j=4*N,T=a[2*N],F=a[2*N+1];l.fill(0);for(var I=0;I<r.length;++I)A=j,D=T,M=F,j=4*(N=r[I]),T=a[2*N],F=a[2*N+1],l[A+2]=l[j]=M-F,l[A+3]=l[j+1]=T-D}},{key:"render",value:function(e){var t=null==e?e=new WD:void 0,n=this.delaunay,a=n.halfedges,r=n.inedges,o=n.hull,l=this.circumcenters,i=this.vectors;if(o.length<=1)return null;for(var u=0,c=a.length;u<c;++u){var s=a[u];if(!(s<u)){var f=2*Math.floor(u/3),d=2*Math.floor(s/3),p=l[f],g=l[f+1],h=l[d],v=l[d+1];this._renderSegment(p,g,h,v,e)}}for(var m,y=o[o.length-1],b=0;b<o.length;++b){m=y,y=o[b];var w=2*Math.floor(r[y]/3),k=l[w],C=l[w+1],x=4*m,P=this._project(k,C,i[x+2],i[x+3]);P&&this._renderSegment(k,C,P[0],P[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new WD:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new WD:void 0,a=this._clip(e);if(null!==a&&a.length){t.moveTo(a[0],a[1]);for(var r=a.length;a[0]===a[r-2]&&a[1]===a[r-1]&&r>1;)r-=2;for(var o=2;o<r;o+=2)a[o]===a[o-2]&&a[o+1]===a[o-1]||t.lineTo(a[o],a[o+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:_a().mark((function e(){var t,n,a,r;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,a=t.length/2;case 2:if(!(n<a)){e.next=11;break}if(!(r=this.cellPolygon(n))){e.next=8;break}return r.index=n,e.next=8,r;case 8:++n,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new qD;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,a,r){var o,l=this._regioncode(e,t),i=this._regioncode(n,a);0===l&&0===i?(r.moveTo(e,t),r.lineTo(n,a)):(o=this._clipSegment(e,t,n,a,l,i))&&(r.moveTo(o[0],o[1]),r.lineTo(o[2],o[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:_a().mark((function e(t){var n,a,r,o,l,i,u,c,s;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}a=Wc(this.delaunay.neighbors(t)),e.prev=3,a.s();case 5:if((r=a.n()).done){e.next=25;break}if(o=r.value,!(l=this._clip(o))){e.next=23;break}i=0,u=n.length;case 10:if(!(i<u)){e.next=23;break}c=0,s=l.length;case 12:if(!(c<s)){e.next=20;break}if(n[i]!=l[c]||n[i+1]!=l[c+1]||n[(i+2)%u]!=l[(c+s-2)%s]||n[(i+3)%u]!=l[(c+s-1)%s]){e.next=17;break}return e.next=16,o;case 16:return e.abrupt("break",23);case 17:c+=2,e.next=12;break;case 20:i+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),a.e(e.t0);case 30:return e.prev=30,a.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,a=n.inedges,r=n.halfedges,o=n.triangles,l=a[e];if(-1===l)return null;var i=[],u=l;do{var c=Math.floor(u/3);if(i.push(t[2*c],t[2*c+1]),o[u=u%3===2?u-2:u+1]!==e)break;u=r[u]}while(u!==l&&-1!==u);return i}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,a=4*e;return n[a]||n[a+1]?this._clipInfinite(e,t,n[a],n[a+1],n[a+2],n[a+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,a,r,o,l=t.length,i=null,u=t[l-2],c=t[l-1],s=this._regioncode(u,c),f=0,d=0;d<l;d+=2)if(n=u,a=c,u=t[d],c=t[d+1],r=s,s=this._regioncode(u,c),0===r&&0===s)o=f,f=0,i?i.push(u,c):i=[u,c];else{var p=void 0,g=void 0,h=void 0,v=void 0,m=void 0;if(0===r){if(null===(p=this._clipSegment(n,a,u,c,r,s)))continue;var y=E(p,4);g=y[0],h=y[1],v=y[2],m=y[3]}else{if(null===(p=this._clipSegment(u,c,n,a,s,r)))continue;var b=E(p,4);v=b[0],m=b[1],g=b[2],h=b[3],o=f,f=this._edgecode(g,h),o&&f&&this._edge(e,o,f,i,i.length),i?i.push(g,h):i=[g,h]}o=f,f=this._edgecode(v,m),o&&f&&this._edge(e,o,f,i,i.length),i?i.push(v,m):i=[v,m]}if(i)o=f,f=this._edgecode(i[0],i[1]),o&&f&&this._edge(e,o,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}},{key:"_clipSegment",value:function(e,t,n,a,r,o){for(;;){if(0===r&&0===o)return[e,t,n,a];if(r&o)return null;var l=void 0,i=void 0,u=r||o;8&u?(l=e+(n-e)*(this.ymax-t)/(a-t),i=this.ymax):4&u?(l=e+(n-e)*(this.ymin-t)/(a-t),i=this.ymin):2&u?(i=t+(a-t)*(this.xmax-e)/(n-e),l=this.xmax):(i=t+(a-t)*(this.xmin-e)/(n-e),l=this.xmin),r?(e=l,t=i,r=this._regioncode(e,t)):(n=l,a=i,o=this._regioncode(n,a))}}},{key:"_clipInfinite",value:function(e,t,n,a,r,o){var l,i=Array.from(t);if((l=this._project(i[0],i[1],n,a))&&i.unshift(l[0],l[1]),(l=this._project(i[i.length-2],i[i.length-1],r,o))&&i.push(l[0],l[1]),i=this._clipFinite(e,i))for(var u,c=0,s=i.length,f=this._edgecode(i[s-2],i[s-1]);c<s;c+=2)u=f,f=this._edgecode(i[c],i[c+1]),u&&f&&(c=this._edge(e,u,f,i,c),s=i.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(i=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return i}},{key:"_edge",value:function(e,t,n,a,r){for(;t!==n;){var o=void 0,l=void 0;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,l=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,l=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,l=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,l=this.ymin}a[r]===o&&a[r+1]===l||!this.contains(e,o,l)||(a.splice(r,0,o,l),r+=2)}if(a.length>4)for(var i=0;i<a.length;i+=2){var u=(i+2)%a.length,c=(i+4)%a.length;(a[i]===a[u]&&a[u]===a[c]||a[i+1]===a[u+1]&&a[u+1]===a[c+1])&&(a.splice(u,2),i-=2)}return r}},{key:"_project",value:function(e,t,n,a){var r,o,l,i=1/0;if(a<0){if(t<=this.ymin)return null;(r=(this.ymin-t)/a)<i&&(l=this.ymin,o=e+(i=r)*n)}else if(a>0){if(t>=this.ymax)return null;(r=(this.ymax-t)/a)<i&&(l=this.ymax,o=e+(i=r)*n)}if(n>0){if(e>=this.xmax)return null;(r=(this.xmax-e)/n)<i&&(o=this.xmax,l=t+(i=r)*a)}else if(n<0){if(e<=this.xmin)return null;(r=(this.xmin-e)/n)<i&&(o=this.xmin,l=t+(i=r)*a)}return[o,l]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),VD=_a().mark(eM),$D=2*Math.PI,YD=Math.pow;function QD(e){return e[0]}function XD(e){return e[1]}function KD(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var JD=function(){function e(t){O(this,e),this._delaunator=new jD(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return D(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,a=0;a<t.length;a+=3){var r=2*t[a],o=2*t[a+1],l=2*t[a+2];if((n[l]-n[r])*(n[o+1]-n[r+1])-(n[o]-n[r])*(n[l+1]-n[r+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],a=this.collinear[this.collinear.length-1],r=[t[2*n],t[2*n+1],t[2*a],t[2*a+1]],o=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]),l=0,i=t.length/2;l<i;++l){var u=KD(t[2*l],t[2*l+1],o);t[2*l]=u[0],t[2*l+1]=u[1]}this._delaunator=new jD(t)}else delete this.collinear;for(var c=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),p=this._hullIndex.fill(-1),g=0,h=c.length;g<h;++g){var v=f[g%3===2?g-2:g+1];-1!==c[g]&&-1!==d[v]||(d[v]=g)}for(var m=0,y=s.length;m<y;++m)p[s[m]]=m;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],d[s[0]]=1,2===s.length&&(d[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}},{key:"voronoi",value:function(e){return new GD(this,e)}},{key:"neighbors",value:_a().mark((function e(t){var n,a,r,o,l,i,u,c,s,f,d;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,a=this.hull,r=this._hullIndex,o=this.halfedges,l=this.triangles,!(i=this.collinear)){e.next=10;break}if(!((u=i.indexOf(t))>0)){e.next=6;break}return e.next=6,i[u-1];case 6:if(!(u<i.length-1)){e.next=9;break}return e.next=9,i[u+1];case 9:return e.abrupt("return");case 10:if(-1!==(c=n[t])){e.next=13;break}return e.abrupt("return");case 13:s=c,f=-1;case 14:return e.next=16,f=l[s];case 16:if(l[s=s%3===2?s-2:s+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(s=o[s])){e.next=26;break}if((d=a[(r[t]+1)%a.length])===f){e.next=25;break}return e.next=25,d;case 25:return e.abrupt("return");case 26:if(s!==c){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var a,r=n;(a=this._step(n,e,t))>=0&&a!==n&&a!==r;)n=a;return a}},{key:"_step",value:function(e,t,n){var a=this.inedges,r=this.hull,o=this._hullIndex,l=this.halfedges,i=this.triangles,u=this.points;if(-1===a[e]||!u.length)return(e+1)%(u.length>>1);var c=e,s=YD(t-u[2*e],2)+YD(n-u[2*e+1],2),f=a[e],d=f;do{var p=i[d],g=YD(t-u[2*p],2)+YD(n-u[2*p+1],2);if(g<s&&(s=g,c=p),i[d=d%3===2?d-2:d+1]!==e)break;if(-1===(d=l[d])){if((d=r[(o[e]+1)%r.length])!==p&&YD(t-u[2*d],2)+YD(n-u[2*d+1],2)<s)return d;break}}while(d!==f);return c}},{key:"render",value:function(e){for(var t=null==e?e=new WD:void 0,n=this.points,a=this.halfedges,r=this.triangles,o=0,l=a.length;o<l;++o){var i=a[o];if(!(i<o)){var u=2*r[o],c=2*r[i];e.moveTo(n[u],n[u+1]),e.lineTo(n[c],n[c+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e,t){void 0!==t||e&&"function"===typeof e.moveTo||(t=e,e=null),t=void 0==t?2:+t;for(var n=null==e?e=new WD:void 0,a=this.points,r=0,o=a.length;r<o;r+=2){var l=a[r],i=a[r+1];e.moveTo(l+t,i),e.arc(l,i,t,0,$D)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new WD:void 0,n=this.hull,a=this.points,r=2*n[0],o=n.length;e.moveTo(a[r],a[r+1]);for(var l=1;l<o;++l){var i=2*n[l];e.lineTo(a[i],a[i+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new qD;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new WD:void 0,a=this.points,r=this.triangles,o=2*r[e*=3],l=2*r[e+1],i=2*r[e+2];return t.moveTo(a[o],a[o+1]),t.lineTo(a[l],a[l+1]),t.lineTo(a[i],a[i+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:_a().mark((function e(){var t,n,a;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,a=t.length/3;case 2:if(!(n<a)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new qD;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QD,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:XD,r=arguments.length>3?arguments[3]:void 0;return new e("length"in t?ZD(t,n,a,r):Float64Array.from(eM(t,n,a,r)))}}]),e}();function ZD(e,t,n,a){for(var r=e.length,o=new Float64Array(2*r),l=0;l<r;++l){var i=e[l];o[2*l]=t.call(a,i,l,e),o[2*l+1]=n.call(a,i,l,e)}return o}function eM(e,t,n,a){var r,o,l,i;return _a().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:r=0,o=Wc(e),u.prev=2,o.s();case 4:if((l=o.n()).done){u.next=13;break}return i=l.value,u.next=8,t.call(a,i,r,e);case 8:return u.next=10,n.call(a,i,r,e);case 10:++r;case 11:u.next=4;break;case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(2),o.e(u.t0);case 18:return u.prev=18,o.f(),u.finish(18);case 21:case"end":return u.stop()}}),VD,null,[[2,15,18,21]])}function tM(e){zc.call(this,null,e)}tM.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var nM=[-1e5,-1e5,1e5,1e5];function aM(e){for(var t=e[0][0],n=e[0][1],a=e.length-1;e[a][0]===t&&e[a][1]===n;--a);return"M"+e.slice(0,a+1).join("L")+"Z"}na(tM,zc,{transform:function(e,t){var n=e.as||"path",a=t.source;if(!a||!a.length)return t;var r=e.size;r=r?[0,0,r[0],r[1]]:(r=e.extent)?[r[0][0],r[0][1],r[1][0],r[1][1]]:nM;for(var o=this.value=JD.from(a,e.x,e.y).voronoi(r),l=0,i=a.length;l<i;++l){var u=o.cellPolygon(l);a[l][n]=u?aM(u):null}return t.reflow(e.modified()).modifies(n)}});var rM=Math.PI/180,oM=2048;function lM(){var e,t,n,a,r,o,l,i=[256,256],u=fM,c=[],s=Math.random,f={};function d(e,t,n){for(var a,r,o,l=t.x,c=t.y,f=Math.sqrt(i[0]*i[0]+i[1]*i[1]),d=u(i),p=s()<.5?1:-1,g=-p;(a=d(g+=p))&&(r=~~a[0],o=~~a[1],!(Math.min(Math.abs(r),Math.abs(o))>=f));)if(t.x=l+r,t.y=c+o,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>i[0]||t.y+t.y1>i[1])&&(!n||!uM(t,e,i[0]))&&(!n||sM(t,n))){for(var h,v=t.sprite,m=t.width>>5,y=i[0]>>5,b=t.x-(m<<4),w=127&b,k=32-w,C=t.y1-t.y0,x=(t.y+t.y0)*y+(b>>5),P=0;P<C;P++){h=0;for(var _=0;_<=m;_++)e[x+_]|=h<<k|(_<m?(h=v[P*m+_])>>>w:0);x+=y}return t.sprite=null,!0}return!1}return f.layout=function(){for(var u=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=oM/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(Hp()),f=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((i[0]>>5)*i[1]),p=null,g=c.length,h=-1,v=[],m=c.map((function(i){return{text:e(i),font:t(i),style:a(i),weight:r(i),rotate:o(i),size:~~(n(i)+1e-14),padding:l(i),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:i}})).sort((function(e,t){return t.size-e.size}));++h<g;){var y=m[h];y.x=i[0]*(s()+.5)>>1,y.y=i[1]*(s()+.5)>>1,iM(u,y,m,h),y.hasText&&d(f,y,p)&&(v.push(y),p?cM(p,y):p=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=i[0]>>1,y.y-=i[1]>>1)}return v},f.words=function(e){return arguments.length?(c=e,f):c},f.size=function(e){return arguments.length?(i=[+e[0],+e[1]],f):i},f.font=function(e){return arguments.length?(t=dM(e),f):t},f.fontStyle=function(e){return arguments.length?(a=dM(e),f):a},f.fontWeight=function(e){return arguments.length?(r=dM(e),f):r},f.rotate=function(e){return arguments.length?(o=dM(e),f):o},f.text=function(t){return arguments.length?(e=dM(t),f):e},f.spiral=function(e){return arguments.length?(u=pM[e]||e,f):u},f.fontSize=function(e){return arguments.length?(n=dM(e),f):n},f.padding=function(e){return arguments.length?(l=dM(e),f):l},f.random=function(e){return arguments.length?(s=e,f):s},f}function iM(e,t,n,a){if(!t.sprite){var r=e.context,o=e.ratio;r.clearRect(0,0,2048/o,oM/o);var l,i,u,c,s,f=0,d=0,p=0,g=n.length;for(--a;++a<g;){if(t=n[a],r.save(),r.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,l=r.measureText(t.text+"m").width*o,u=t.size<<1,t.rotate){var h=Math.sin(t.rotate*rM),v=Math.cos(t.rotate*rM),m=l*v,y=l*h,b=u*v,w=u*h;l=Math.max(Math.abs(m+w),Math.abs(m-w))+31>>5<<5,u=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else l=l+31>>5<<5;if(u>p&&(p=u),f+l>=2048&&(f=0,d+=p,p=0),d+u>=oM)break;r.translate((f+(l>>1))/o,(d+(u>>1))/o),t.rotate&&r.rotate(t.rotate*rM),r.fillText(t.text,0,0),t.padding&&(r.lineWidth=2*t.padding,r.strokeText(t.text,0,0)),r.restore(),t.width=l,t.height=u,t.xoff=f,t.yoff=d,t.x1=l>>1,t.y1=u>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=l}for(var k=r.getImageData(0,0,2048/o,oM/o).data,C=[];--a>=0;)if((t=n[a]).hasText){for(i=(l=t.width)>>5,u=t.y1-t.y0,c=0;c<u*i;c++)C[c]=0;if(null==(f=t.xoff))return;d=t.yoff;var x=0,P=-1;for(s=0;s<u;s++){for(c=0;c<l;c++){var _=i*s+(c>>5),E=k[2048*(d+s)+(f+c)<<2]?1<<31-c%32:0;C[_]|=E,x|=E}x?P=s:(t.y0++,u--,s--,d++)}t.y1=t.y0+P,t.sprite=C.slice(0,(t.y1-t.y0)*i)}}}function uM(e,t,n){n>>=5;for(var a,r=e.sprite,o=e.width>>5,l=e.x-(o<<4),i=127&l,u=32-i,c=e.y1-e.y0,s=(e.y+e.y0)*n+(l>>5),f=0;f<c;f++){a=0;for(var d=0;d<=o;d++)if((a<<u|(d<o?(a=r[f*o+d])>>>i:0))&t[s+d])return!0;s+=n}return!1}function cM(e,t){var n=e[0],a=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>a.x&&(a.x=t.x+t.x1),t.y+t.y1>a.y&&(a.y=t.y+t.y1)}function sM(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function fM(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function dM(e){return"function"===typeof e?e:function(){return e}}var pM={archimedean:fM,rectangular:function(e){var t=4*e[0]/e[1],n=0,a=0;return function(e){var r=e<0?-1:1;switch(Math.sqrt(1+4*r*e)-r&3){case 0:n+=t;break;case 1:a+=4;break;case 2:n-=t;break;default:a-=4}return[n,a]}}},gM=["x","y","font","fontSize","fontStyle","fontWeight","angle"],hM=["text","font","rotate","fontSize","fontStyle","fontWeight"];function vM(e){zc.call(this,lM(),e)}vM.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:gM}]},na(vM,zc,{transform:function(e,t){!e.size||e.size[0]&&e.size[1]||Xt("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||hM.some((function(n){var a=e[n];return Ln(a)&&t.modified(a.fields)}))){var a,r=t.materialize(t.SOURCE).source,o=this.value,l=e.as||gM,i=e.fontSize||14;if(Ln(i)?a=e.fontSizeRange:i=Vn(i),a){var u=i,c=Om("sqrt")().domain(Qn(r,u)).range(a);i=function(e){return c(u(e))}}r.forEach((function(e){e[l[0]]=NaN,e[l[1]]=NaN,e[l[3]]=0}));for(var s,f,d=o.words(r).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(i).random(cs).layout(),p=o.size(),g=p[0]>>1,h=p[1]>>1,v=d.length,m=0;m<v;++m)(f=(s=d[m]).datum)[l[0]]=s.x+g,f[l[1]]=s.y+h,f[l[2]]=s.font,f[l[3]]=s.size,f[l[4]]=s.style,f[l[5]]=s.weight,f[l[6]]=s.rotate;return t.reflow(n).modifies(l)}}});var mM=function(e){return new Uint8Array(e)},yM=function(e){return new Uint16Array(e)},bM=function(e){return new Uint32Array(e)};function wM(e,t,n){var a=(t<257?mM:t<65537?yM:bM)(e);return n&&a.set(n),a}function kM(e,t,n){var a=1<<t;return{one:a,zero:~a,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,r=this,o=r.bisect(r.range,e.value),l=e.index,i=o[0],u=o[1],c=l.length;for(n=0;n<i;++n)t[l[n]]|=a;for(n=u;n<c;++n)t[l[n]]|=a;return r}}}function CM(){var e=bM(0),t=[],n=0;return{insert:function(a,r,o){if(!r.length)return[];var l,i,u,c=n,s=r.length,f=bM(s),d=Array(s);for(u=0;u<s;++u)d[u]=a(r[u]),f[u]=u;if(d=function(e,t){return e.sort.call(t,(function(t,n){var a=e[t],r=e[n];return a<r?-1:a>r?1:0})),function(e,t){return Array.from(t,(function(t){return e[t]}))}(e,t)}(d,f),c)l=t,i=e,t=Array(c+s),e=bM(c+s),function(e,t,n,a,r,o,l,i,u){var c,s=0,f=0;for(c=0;s<a&&f<l;++c)t[s]<r[f]?(i[c]=t[s],u[c]=n[s++]):(i[c]=r[f],u[c]=o[f++]+e);for(;s<a;++s,++c)i[c]=t[s],u[c]=n[s];for(;f<l;++f,++c)i[c]=r[f],u[c]=o[f]+e}(o,l,i,c,d,f,s,t,e);else{if(o>0)for(u=0;u<s;++u)f[u]+=o;t=d,e=f}return n=c+s,{index:f,value:d}},remove:function(a,r){var o,l,i,u=n;for(l=0;!r[e[l]]&&l<u;++l);for(i=l;l<u;++l)r[o=e[l]]||(e[i]=o,t[i]=t[l],++i);n=u-a},bisect:function(e,a){var r;return a?r=a.length:(a=t,r=n),[Gp(a,e[0],0,r),qp(a,e[1],0,r)]},reindex:function(t){for(var a=0,r=n;a<r;++a)e[a]=t[e[a]]},index:function(){return e},size:function(){return n}}}function xM(e){zc.call(this,function(){var e=8,t=[],n=bM(0),a=wM(0,e),r=wM(0,e);return{data:function(){return t},seen:function(){return n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length)},add:function(e){for(var n,a=0,r=t.length,o=e.length;a<o;++a)(n=e[a])._index=r++,t.push(n)},remove:function(e,n){var o,l,i,u=t.length,c=Array(u-e),s=t;for(l=0;!n[l]&&l<u;++l)c[l]=t[l],s[l]=l;for(i=l;l<u;++l)o=t[l],n[l]?s[l]=-1:(s[l]=i,a[i]=a[l],r[i]=r[l],c[i]=o,o._index=i++),a[l]=0;return t=c,s},size:function(){return t.length},curr:function(){return a},prev:function(){return r},reset:function(e){return r[e]=a[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){a[e]|=t},clear:function(e,t){a[e]&=~t},resize:function(t,n){(t>a.length||n>e)&&(e=Math.max(n,e),a=wM(t,e,a),r=wM(t,e))}}}(),e),this._indices=null,this._dims=null}function PM(e){zc.call(this,null,e)}xM.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},na(xM,zc,{transform:function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init:function(e,t){for(var n,a,r=e.fields,o=e.query,l=this._indices={},i=this._dims=[],u=o.length,c=0;c<u;++c)a=l[n=r[c].fname]||(l[n]=CM()),i.push(kM(a,c,o[c]));return this.eval(e,t)},reinit:function(e,t){var n,a,r,o,l,i,u,c,s,f=t.materialize().fork(),d=e.fields,p=e.query,g=this._indices,h=this._dims,v=this.value,m=v.curr(),y=v.prev(),b=v.all(),w=f.rem=f.add,k=f.mod,C=p.length,x={};if(y.set(m),t.rem.length&&(l=this.remove(e,t,f)),t.add.length&&v.add(t.add),t.mod.length)for(i={},u=0,c=(o=t.mod).length;u<c;++u)i[o[u]._index]=1;for(u=0;u<C;++u)s=d[u],(!h[u]||e.modified("fields",u)||t.modified(s.fields))&&((n=x[r=s.fname])||(g[r]=a=CM(),x[r]=n=a.insert(s,t.source,0)),h[u]=kM(a,u,p[u]).onAdd(n,m));for(u=0,c=v.data().length;u<c;++u)l[u]||(y[u]!==m[u]?w.push(u):i[u]&&m[u]!==b&&k.push(u));return v.mask=(1<<C)-1,f},eval:function(e,t){var n=t.materialize().fork(),a=this._dims.length,r=0;return t.rem.length&&(this.remove(e,t,n),r|=(1<<a)-1),e.modified("query")&&!e.modified("fields")&&(r|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),r|=(1<<a)-1),t.mod.length&&(this.modify(t,n),r|=(1<<a)-1),this.value.mask=r,n},insert:function(e,t,n){var a,r,o,l=t.add,i=this.value,u=this._dims,c=this._indices,s=e.fields,f={},d=n.add,p=i.size()+l.length,g=u.length,h=i.size();i.resize(p,g),i.add(l);var v=i.curr(),m=i.prev(),y=i.all();for(a=0;a<g;++a)o=f[r=s[a].fname]||(f[r]=c[r].insert(s[a],l,h)),u[a].onAdd(o,v);for(;h<p;++h)m[h]=y,v[h]!==y&&d.push(h)},modify:function(e,t){var n,a,r,o=t.mod,l=this.value,i=l.curr(),u=l.all(),c=e.mod;for(n=0,a=c.length;n<a;++n)i[r=c[n]._index]!==u&&o.push(r)},remove:function(e,t,n){var a,r,o,l,i=this._indices,u=this.value,c=u.curr(),s=u.prev(),f=u.all(),d={},p=n.rem,g=t.rem;for(a=0,r=g.length;a<r;++a)d[o=g[a]._index]=1,s[o]=l=c[o],c[o]=f,l!==f&&p.push(o);for(o in i)i[o].remove(r,d);return this.reindex(t,r,d),d},reindex:function(e,t,n){var a=this._indices,r=this.value;e.runAfter((function(){var e=r.remove(t,n);for(var o in a)a[o].reindex(e)}))},update:function(e,t,n){var a,r,o=this._dims,l=e.query,i=t.stamp,u=o.length,c=0;for(n.filters=0,r=0;r<u;++r)e.modified("query",r)&&(a=r,++c);if(1===c)c=o[a].one,this.incrementOne(o[a],l[a],n.add,n.rem);else for(r=0,c=0;r<u;++r)e.modified("query",r)&&(c|=o[r].one,this.incrementAll(o[r],l[r],i,n.add),n.rem=n.add);return c},incrementAll:function(e,t,n,a){var r,o,l,i=this.value,u=i.seen(),c=i.curr(),s=i.prev(),f=e.index(),d=e.bisect(e.range),p=e.bisect(t),g=p[0],h=p[1],v=d[0],m=d[1],y=e.one;if(g<v)for(r=g,o=Math.min(v,h);r<o;++r)u[l=f[r]]!==n&&(s[l]=c[l],u[l]=n,a.push(l)),c[l]^=y;else if(g>v)for(r=v,o=Math.min(g,m);r<o;++r)u[l=f[r]]!==n&&(s[l]=c[l],u[l]=n,a.push(l)),c[l]^=y;if(h>m)for(r=Math.max(g,m),o=h;r<o;++r)u[l=f[r]]!==n&&(s[l]=c[l],u[l]=n,a.push(l)),c[l]^=y;else if(h<m)for(r=Math.max(v,h),o=m;r<o;++r)u[l=f[r]]!==n&&(s[l]=c[l],u[l]=n,a.push(l)),c[l]^=y;e.range=t.slice()},incrementOne:function(e,t,n,a){var r,o,l,i=this.value.curr(),u=e.index(),c=e.bisect(e.range),s=e.bisect(t),f=s[0],d=s[1],p=c[0],g=c[1],h=e.one;if(f<p)for(r=f,o=Math.min(p,d);r<o;++r)i[l=u[r]]^=h,n.push(l);else if(f>p)for(r=p,o=Math.min(f,g);r<o;++r)i[l=u[r]]^=h,a.push(l);if(d>g)for(r=Math.max(f,g),o=d;r<o;++r)i[l=u[r]]^=h,n.push(l);else if(d<g)for(r=Math.max(p,d),o=g;r<o;++r)i[l=u[r]]^=h,a.push(l);e.range=t.slice()}}),PM.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},na(PM,zc,{transform:function(e,t){var n=~(e.ignore||0),a=e.filter,r=a.mask;if(0===(r&n))return t.StopPropagation;var o=t.fork(t.ALL),l=a.data(),i=a.curr(),u=a.prev(),c=function(e){return i[e]&n?null:l[e]};return o.filter(o.MOD,c),r&r-1?(o.filter(o.ADD,(function(e){var t=i[e]&n;return!t&&t^u[e]&n?l[e]:null})),o.filter(o.REM,(function(e){var t=i[e]&n;return t&&!(t^t^u[e]&n)?l[e]:null}))):(o.filter(o.ADD,c),o.filter(o.REM,(function(e){return(i[e]&n)===r?l[e]:null}))),o.filter(o.SOURCE,(function(e){return c(e._index)}))}});var _M,EM,SM,BM,OM,AM="Literal",DM="Property",MM="ArrayExpression",NM="BinaryExpression",jM="CallExpression",TM="ConditionalExpression",FM="LogicalExpression",IM="MemberExpression",RM="ObjectExpression",zM="UnaryExpression";function LM(e){this.type=e}LM.prototype.visit=function(e){var t,n,a;if(e(this))return 1;for(n=0,a=(t=function(e){switch(e.type){case MM:return e.elements;case NM:case FM:return[e.left,e.right];case jM:return[e.callee].concat(e.arguments);case TM:return[e.test,e.consequent,e.alternate];case IM:return[e.object,e.property];case RM:return e.properties;case DM:return[e.key,e.value];case zM:return[e.argument];default:return[]}}(this)).length;n<a;++n)if(t[n].visit(e))return 1};(_M={})[1]="Boolean",_M[2]="<end>",_M[3]="Identifier",_M[4]="Keyword",_M[5]="Null",_M[6]="Numeric",_M[7]="Punctuator",_M[8]="String",_M[9]="RegularExpression";var HM="Identifier",UM="Unexpected token %0",WM="Invalid regular expression",qM="Invalid regular expression: missing /",GM="Octal literals are not allowed in strict mode.",VM="ILLEGAL",$M="Disabled.",YM=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),QM=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function XM(e,t){if(!e)throw new Error("ASSERT: "+t)}function KM(e){return e>=48&&e<=57}function JM(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function ZM(e){return"01234567".indexOf(e)>=0}function eN(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function tN(e){return 10===e||13===e||8232===e||8233===e}function nN(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&YM.test(String.fromCharCode(e))}function aN(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&QM.test(String.fromCharCode(e))}var rN={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function oN(){for(;SM<BM;){var e=EM.charCodeAt(SM);if(!eN(e)&&!tN(e))break;++SM}}function lN(e){var t,n,a,r=0;for(n="u"===e?4:2,t=0;t<n;++t)SM<BM&&JM(EM[SM])?(a=EM[SM++],r=16*r+"0123456789abcdef".indexOf(a.toLowerCase())):CN({},UM,VM);return String.fromCharCode(r)}function iN(){var e,t,n,a;for(t=0,"}"===(e=EM[SM])&&CN({},UM,VM);SM<BM&&JM(e=EM[SM++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&CN({},UM,VM),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),a=56320+(t-65536&1023),String.fromCharCode(n,a))}function uN(){var e,t;for(e=EM.charCodeAt(SM++),t=String.fromCharCode(e),92===e&&(117!==EM.charCodeAt(SM)&&CN({},UM,VM),++SM,(e=lN("u"))&&"\\"!==e&&nN(e.charCodeAt(0))||CN({},UM,VM),t=e);SM<BM&&aN(e=EM.charCodeAt(SM));)++SM,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==EM.charCodeAt(SM)&&CN({},UM,VM),++SM,(e=lN("u"))&&"\\"!==e&&aN(e.charCodeAt(0))||CN({},UM,VM),t+=e);return t}function cN(){var e,t;return e=SM,t=92===EM.charCodeAt(SM)?uN():function(){var e,t;for(e=SM++;SM<BM;){if(92===(t=EM.charCodeAt(SM)))return SM=e,uN();if(!aN(t))break;++SM}return EM.slice(e,SM)}(),{type:1===t.length?3:rN.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:SM}}function sN(){var e,t,n,a,r=SM,o=EM.charCodeAt(SM),l=EM[SM];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++SM,{type:7,value:String.fromCharCode(o),start:r,end:SM};default:if(61===(e=EM.charCodeAt(SM+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return SM+=2,{type:7,value:String.fromCharCode(o)+String.fromCharCode(e),start:r,end:SM};case 33:case 61:return SM+=2,61===EM.charCodeAt(SM)&&++SM,{type:7,value:EM.slice(r,SM),start:r,end:SM}}}return">>>="===(a=EM.substr(SM,4))?{type:7,value:a,start:r,end:SM+=4}:">>>"===(n=a.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:r,end:SM+=3}:l===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(l)>=0||"=>"===t?{type:7,value:t,start:r,end:SM+=2}:("//"===t&&CN({},UM,VM),"<>=!+-*%&|^/".indexOf(l)>=0?{type:7,value:l,start:r,end:++SM}:void CN({},UM,VM))}function fN(){var e,t,n;if(XM(KM((n=EM[SM]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=SM,e="","."!==n){if(e=EM[SM++],n=EM[SM],"0"===e){if("x"===n||"X"===n)return++SM,function(e){for(var t="";SM<BM&&JM(EM[SM]);)t+=EM[SM++];return 0===t.length&&CN({},UM,VM),nN(EM.charCodeAt(SM))&&CN({},UM,VM),{type:6,value:parseInt("0x"+t,16),start:e,end:SM}}(t);if(ZM(n))return function(e){for(var t="0"+EM[SM++];SM<BM&&ZM(EM[SM]);)t+=EM[SM++];return(nN(EM.charCodeAt(SM))||KM(EM.charCodeAt(SM)))&&CN({},UM,VM),{type:6,value:parseInt(t,8),octal:!0,start:e,end:SM}}(t);n&&KM(n.charCodeAt(0))&&CN({},UM,VM)}for(;KM(EM.charCodeAt(SM));)e+=EM[SM++];n=EM[SM]}if("."===n){for(e+=EM[SM++];KM(EM.charCodeAt(SM));)e+=EM[SM++];n=EM[SM]}if("e"===n||"E"===n)if(e+=EM[SM++],"+"!==(n=EM[SM])&&"-"!==n||(e+=EM[SM++]),KM(EM.charCodeAt(SM)))for(;KM(EM.charCodeAt(SM));)e+=EM[SM++];else CN({},UM,VM);return nN(EM.charCodeAt(SM))&&CN({},UM,VM),{type:6,value:parseFloat(e),start:t,end:SM}}function dN(){var e,t,n,a;return OM=null,oN(),e=SM,t=function(){var e,t,n,a;for(XM("/"===(e=EM[SM]),"Regular expression literal must start with a slash"),t=EM[SM++],n=!1,a=!1;SM<BM;)if(t+=e=EM[SM++],"\\"===e)tN((e=EM[SM++]).charCodeAt(0))&&CN({},qM),t+=e;else if(tN(e.charCodeAt(0)))CN({},qM);else if(n)"]"===e&&(n=!1);else{if("/"===e){a=!0;break}"["===e&&(n=!0)}return a||CN({},qM),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";SM<BM&&aN((e=EM[SM]).charCodeAt(0));)++SM,"\\"===e&&SM<BM?CN({},UM,VM):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&CN({},WM,n),{value:n,literal:t}}(),a=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";CN({},WM)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(a){CN({},WM)}try{return new RegExp(e,t)}catch(r){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:a,regex:{pattern:t.value,flags:n.value},start:e,end:SM}}function pN(){if(oN(),SM>=BM)return{type:2,start:SM,end:SM};var e=EM.charCodeAt(SM);return nN(e)?cN():40===e||41===e||59===e?sN():39===e||34===e?function(){var e,t,n,a,r="",o=!1;for(XM("'"===(e=EM[SM])||'"'===e,"String literal must starts with a quote"),t=SM,++SM;SM<BM;){if((n=EM[SM++])===e){e="";break}if("\\"===n)if((n=EM[SM++])&&tN(n.charCodeAt(0)))"\r"===n&&"\n"===EM[SM]&&++SM;else switch(n){case"u":case"x":"{"===EM[SM]?(++SM,r+=iN()):r+=lN(n);break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:ZM(n)?(0!==(a="01234567".indexOf(n))&&(o=!0),SM<BM&&ZM(EM[SM])&&(o=!0,a=8*a+"01234567".indexOf(EM[SM++]),"0123".indexOf(n)>=0&&SM<BM&&ZM(EM[SM])&&(a=8*a+"01234567".indexOf(EM[SM++]))),r+=String.fromCharCode(a)):r+=n}else{if(tN(n.charCodeAt(0)))break;r+=n}}return""!==e&&CN({},UM,VM),{type:8,value:r,octal:o,start:t,end:SM}}():46===e?KM(EM.charCodeAt(SM+1))?fN():sN():KM(e)?fN():sN()}function gN(){var e=OM;return SM=e.end,OM=pN(),SM=e.end,e}function hN(){var e=SM;OM=pN(),SM=e}function vN(e,t,n){var a=new LM("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return a.operator=e,a.left=t,a.right=n,a}function mN(e,t){var n=new LM("CallExpression");return n.callee=e,n.arguments=t,n}function yN(e){var t=new LM(HM);return t.name=e,t}function bN(e){var t=new LM("Literal");return t.value=e.value,t.raw=EM.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function wN(e,t,n){var a=new LM("MemberExpression");return a.computed="["===e,a.object=t,a.property=n,a.computed||(n.member=!0),a}function kN(e,t,n){var a=new LM("Property");return a.key=t,a.value=n,a.kind=e,a}function CN(e,t){var n,a=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,(function(e,t){return XM(t<a.length,"Message reference must be in range"),a[t]}));throw(n=new Error(r)).index=SM,n.description=r,n}function xN(e){2===e.type&&CN(e,"Unexpected end of input"),6===e.type&&CN(e,"Unexpected number"),8===e.type&&CN(e,"Unexpected string"),3===e.type&&CN(e,"Unexpected identifier"),4===e.type&&CN(e,"Unexpected reserved word"),CN(e,UM,e.value)}function PN(e){var t=gN();7===t.type&&t.value===e||xN(t)}function _N(e){return 7===OM.type&&OM.value===e}function EN(e){return 4===OM.type&&OM.value===e}function SN(){var e=[];for(SM=OM.start,PN("[");!_N("]");)_N(",")?(gN(),e.push(null)):(e.push(zN()),_N("]")||PN(","));return gN(),function(e){var t=new LM("ArrayExpression");return t.elements=e,t}(e)}function BN(){SM=OM.start;var e=gN();return 8===e.type||6===e.type?(e.octal&&CN(e,GM),bN(e)):yN(e.value)}function ON(){var e,t,n;return SM=OM.start,3===(e=OM).type?(n=BN(),PN(":"),kN("init",n,zN())):2!==e.type&&7!==e.type?(t=BN(),PN(":"),kN("init",t,zN())):void xN(e)}function AN(){var e,t,n=[],a={},r=String;for(SM=OM.start,PN("{");!_N("}");)t="$"+((e=ON()).key.type===HM?e.key.name:r(e.key.value)),Object.prototype.hasOwnProperty.call(a,t)?CN({},"Duplicate data property in object literal not allowed in strict mode"):a[t]=!0,n.push(e),_N("}")||PN(",");return PN("}"),function(e){var t=new LM("ObjectExpression");return t.properties=e,t}(n)}var DN={if:1};function MN(){var e,t,n;if(_N("("))return function(){PN("(");var e=LN();return PN(")"),e}();if(_N("["))return SN();if(_N("{"))return AN();if(e=OM.type,SM=OM.start,3===e||DN[OM.value])n=yN(gN().value);else if(8===e||6===e)OM.octal&&CN(OM,GM),n=bN(gN());else{if(4===e)throw new Error($M);1===e?((t=gN()).value="true"===t.value,n=bN(t)):5===e?((t=gN()).value=null,n=bN(t)):_N("/")||_N("/=")?(n=bN(dN()),hN()):xN(gN())}return n}function NN(){var e=[];if(PN("("),!_N(")"))for(;SM<BM&&(e.push(zN()),!_N(")"));)PN(",");return PN(")"),e}function jN(){return PN("."),function(){SM=OM.start;var e=gN();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||xN(e),yN(e.value)}()}function TN(){PN("[");var e=LN();return PN("]"),e}function FN(){var e=function(){var e;for(e=MN();;)if(_N("."))e=wN(".",e,jN());else if(_N("("))e=mN(e,NN());else{if(!_N("["))break;e=wN("[",e,TN())}return e}();if(7===OM.type&&(_N("++")||_N("--")))throw new Error($M);return e}function IN(){var e,t;if(7!==OM.type&&4!==OM.type)t=FN();else{if(_N("++")||_N("--"))throw new Error($M);if(_N("+")||_N("-")||_N("~")||_N("!"))e=gN(),t=IN(),t=function(e,t){var n=new LM("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(EN("delete")||EN("void")||EN("typeof"))throw new Error($M);t=FN()}}return t}function RN(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function zN(){var e,t;return e=function(){var e,t,n,a,r,o,l,i,u,c;if(e=OM,u=IN(),0===(r=RN(a=OM)))return u;for(a.prec=r,gN(),t=[e,OM],o=[u,a,l=IN()];(r=RN(OM))>0;){for(;o.length>2&&r<=o[o.length-2].prec;)l=o.pop(),i=o.pop().value,u=o.pop(),t.pop(),n=vN(i,u,l),o.push(n);(a=gN()).prec=r,o.push(a),t.push(OM),n=IN(),o.push(n)}for(n=o[c=o.length-1],t.pop();c>1;)t.pop(),n=vN(o[c-1].value,o[c-2],n),c-=2;return n}(),_N("?")&&(gN(),t=zN(),PN(":"),e=function(e,t,n){var a=new LM("ConditionalExpression");return a.test=e,a.consequent=t,a.alternate=n,a}(e,t,zN())),e}function LN(){var e=zN();if(_N(","))throw new Error($M);return e}function HN(e){SM=0,BM=(EM=e).length,OM=null,hN();var t=LN();if(2!==OM.type)throw new Error("Unexpect token after expression.");return t}var UN={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function WN(e){function t(t,n,a){return function(r){return function(t,n,a,r){var o=e(n[0]);return a&&(o=a+"("+o+")",0===a.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+t+(r<0?"":0===r?"()":"("+n.slice(1).map(e).join(",")+")")}(t,r,n,a)}}var n="new Date",a="String",r="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Xt("Missing arguments to clamp function."),t.length>3&&Xt("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",a,0),lower:t("toLowerCase",a,0),substring:t("substring",a),split:t("split",a),trim:t("trim",a,0),regexp:r,test:t("test",r),if:function(t){t.length<3&&Xt("Missing arguments to if function."),t.length>3&&Xt("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function qN(e){var t=(e=e||{}).allowed?Ca(e.allowed):{},n=e.forbidden?Ca(e.forbidden):{},a=e.constants||UN,r=(e.functions||WN)(f),o=e.globalvar,l=e.fieldvar,i=Ln(o)?o:function(e){return"".concat(o,'["').concat(e,'"]')},u={},c={},s=0;function f(e){if(ca(e))return e;var t=d[e.type];return null==t&&Xt("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var r=e.name;return s>0?r:Jn(n,r)?Xt("Illegal identifier: "+r):Jn(a,r)?a[r]:Jn(t,r)?r:(u[r]=1,i(r))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(s+=1);var a=f(e.property);return n===l&&(c[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(a)]=1),t&&(s-=1),n+(t?"."+a:"["+a+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Xt("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,a=Jn(r,t)&&r[t];return a||Xt("Unrecognized function: "+t),Ln(a)?a(n):a+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+" "+e.operator+" "+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){s+=1;var t=f(e.key);return s-=1,t+":"+f(e.value)}};function p(e){var t={code:f(e),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},t}return p.functions=r,p.constants=a,p}var GN,VN,$N,YN,QN,XN,KN,JN,ZN,ej,tj,nj,aj,rj,oj,lj,ij=new $P,uj=new $P,cj={point:m_,lineStart:m_,lineEnd:m_,polygonStart:function(){ij=new $P,cj.lineStart=sj,cj.lineEnd=fj},polygonEnd:function(){var e=+ij;uj.add(e<0?ZP+e:e),this.lineStart=this.lineEnd=this.point=m_},sphere:function(){uj.add(ZP)}};function sj(){cj.point=dj}function fj(){pj(GN,VN)}function dj(e,t){cj.point=pj,GN=e,VN=t,$N=e*=t_,YN=o_(t=(t*=t_)/2+JP),QN=f_(t)}function pj(e,t){var n=(e*=t_)-$N,a=n>=0?1:-1,r=a*n,o=o_(t=(t*=t_)/2+JP),l=f_(t),i=QN*l,u=YN*o+i*o_(r),c=i*a*f_(r);ij.add(r_(c,u)),$N=e,YN=o,QN=l}var gj,hj,vj,mj,yj,bj,wj,kj,Cj,xj,Pj,_j,Ej,Sj,Bj,Oj,Aj={point:Dj,lineStart:Nj,lineEnd:jj,polygonStart:function(){Aj.point=Tj,Aj.lineStart=Fj,Aj.lineEnd=Ij,rj=new $P,cj.polygonStart()},polygonEnd:function(){cj.polygonEnd(),Aj.point=Dj,Aj.lineStart=Nj,Aj.lineEnd=jj,ij<0?(XN=-(JN=180),KN=-(ZN=90)):rj>YP?ZN=90:rj<-1e-6&&(KN=-90),lj[0]=XN,lj[1]=JN},sphere:function(){XN=-(JN=180),KN=-(ZN=90)}};function Dj(e,t){oj.push(lj=[XN=e,JN=e]),t<KN&&(KN=t),t>ZN&&(ZN=t)}function Mj(e,t){var n=EE([e*t_,t*t_]);if(aj){var a=BE(aj,n),r=BE([a[1],-a[0],0],a);DE(r),r=_E(r);var o,l=e-ej,i=l>0?1:-1,u=r[0]*e_*i,c=n_(l)>180;c^(i*ej<u&&u<i*e)?(o=r[1]*e_)>ZN&&(ZN=o):c^(i*ej<(u=(u+360)%360-180)&&u<i*e)?(o=-r[1]*e_)<KN&&(KN=o):(t<KN&&(KN=t),t>ZN&&(ZN=t)),c?e<ej?Rj(XN,e)>Rj(XN,JN)&&(JN=e):Rj(e,JN)>Rj(XN,JN)&&(XN=e):JN>=XN?(e<XN&&(XN=e),e>JN&&(JN=e)):e>ej?Rj(XN,e)>Rj(XN,JN)&&(JN=e):Rj(e,JN)>Rj(XN,JN)&&(XN=e)}else oj.push(lj=[XN=e,JN=e]);t<KN&&(KN=t),t>ZN&&(ZN=t),aj=n,ej=e}function Nj(){Aj.point=Mj}function jj(){lj[0]=XN,lj[1]=JN,Aj.point=Dj,aj=null}function Tj(e,t){if(aj){var n=e-ej;rj.add(n_(n)>180?n+(n>0?360:-360):n)}else tj=e,nj=t;cj.point(e,t),Mj(e,t)}function Fj(){cj.lineStart()}function Ij(){Tj(tj,nj),cj.lineEnd(),n_(rj)>YP&&(XN=-(JN=180)),lj[0]=XN,lj[1]=JN,aj=null}function Rj(e,t){return(t-=e)<0?t+360:t}function zj(e,t){return e[0]-t[0]}function Lj(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Hj,Uj={sphere:m_,point:Wj,lineStart:Gj,lineEnd:Yj,polygonStart:function(){Uj.lineStart=Qj,Uj.lineEnd=Xj},polygonEnd:function(){Uj.lineStart=Gj,Uj.lineEnd=Yj}};function Wj(e,t){e*=t_;var n=o_(t*=t_);qj(n*o_(e),n*f_(e),f_(t))}function qj(e,t,n){++gj,vj+=(e-vj)/gj,mj+=(t-mj)/gj,yj+=(n-yj)/gj}function Gj(){Uj.point=Vj}function Vj(e,t){e*=t_;var n=o_(t*=t_);Sj=n*o_(e),Bj=n*f_(e),Oj=f_(t),Uj.point=$j,qj(Sj,Bj,Oj)}function $j(e,t){e*=t_;var n=o_(t*=t_),a=n*o_(e),r=n*f_(e),o=f_(t),l=r_(p_((l=Bj*o-Oj*r)*l+(l=Oj*a-Sj*o)*l+(l=Sj*r-Bj*a)*l),Sj*a+Bj*r+Oj*o);hj+=l,bj+=l*(Sj+(Sj=a)),wj+=l*(Bj+(Bj=r)),kj+=l*(Oj+(Oj=o)),qj(Sj,Bj,Oj)}function Yj(){Uj.point=Wj}function Qj(){Uj.point=Kj}function Xj(){Jj(_j,Ej),Uj.point=Wj}function Kj(e,t){_j=e,Ej=t,e*=t_,t*=t_,Uj.point=Jj;var n=o_(t);Sj=n*o_(e),Bj=n*f_(e),Oj=f_(t),qj(Sj,Bj,Oj)}function Jj(e,t){e*=t_;var n=o_(t*=t_),a=n*o_(e),r=n*f_(e),o=f_(t),l=Bj*o-Oj*r,i=Oj*a-Sj*o,u=Sj*r-Bj*a,c=u_(l,i,u),s=v_(c),f=c&&-s/c;Cj.add(f*l),xj.add(f*i),Pj.add(f*u),hj+=s,bj+=s*(Sj+(Sj=a)),wj+=s*(Bj+(Bj=r)),kj+=s*(Oj+(Oj=o)),qj(Sj,Bj,Oj)}function Zj(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eT(e){return e instanceof Yh?e:new Yh(e)}var tT="intersect",nT="union",aT="_vgsid_",rT=Jt(aT),oT="index:unit";function lT(e,t){for(var n,a,r=t.fields,o=t.values,l=r.length,i=0;i<l;++i)if((a=r[i]).getter=Jt.getter||Jt(a.field),oa(n=a.getter(e))&&(n=wn(n)),oa(o[i])&&(o[i]=wn(o[i])),oa(o[i][0])&&(o[i]=o[i].map(wn)),"E"===a.type){if(pn(o[i])?o[i].indexOf(n)<0:n!==o[i])return!1}else if("R"===a.type){if(!aa(n,o[i]))return!1}else if("R-RE"===a.type){if(!aa(n,o[i],!0,!1))return!1}else if("R-E"===a.type){if(!aa(n,o[i],!1,!1))return!1}else if("R-LE"===a.type&&!aa(n,o[i],!1,!0))return!1;return!0}var iT=function(e){var t=e,n=e,a=e;function r(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<o){if(0!==n(t,t))return o;do{var l=r+o>>>1;a(e[l],t)<0?r=l+1:o=l}while(r<o)}return r}return 2!==e.length&&(t=function(t,n){return e(t)-n},n=Zj,a=function(t,n){return Zj(e(t),n)}),{left:r,center:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,l=r(e,n,a,o-1);return l>a&&t(e[l-1],n)>-t(e[l],n)?l-1:l},right:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<o){if(0!==n(t,t))return o;do{var l=r+o>>>1;a(e[l],t)<=0?r=l+1:o=l}while(r<o)}return r}}}(rT),uT=iT.left,cT=iT.right;var sT=(pr(Hj={},"".concat(aT,"_union"),(function(){for(var e=new Yh,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=0,o=n;r<o.length;r++){var l,i=o[r],u=Wc(i);try{for(u.s();!(l=u.n()).done;){var c=l.value;e.add(c)}}catch(s){u.e(s)}finally{u.f()}}return e})),pr(Hj,"".concat(aT,"_intersect"),(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e=new Yh(e),n=n.map(eT);var r,o=Wc(e);try{e:for(o.s();!(r=o.n()).done;){var l,i=r.value,u=Wc(n);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(!c.has(i)){e.delete(i);continue e}}}catch(s){u.e(s)}finally{u.f()}}}catch(s){o.e(s)}finally{o.f()}return e})),pr(Hj,"E_union",(function(e,t){if(!e.length)return t;for(var n=0,a=t.length;n<a;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e})),pr(Hj,"E_intersect",(function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t})),pr(Hj,"R_union",(function(e,t){var n=wn(t[0]),a=wn(t[1]);return n>a&&(n=t[1],a=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<a&&(e[1]=a),e):[n,a]})),pr(Hj,"R_intersect",(function(e,t){var n=wn(t[0]),a=wn(t[1]);return n>a&&(n=t[1],a=t[0]),e.length?a<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>a&&(e[1]=a),e):[n,a]})),Hj);function fT(e,t,n,a){t[0].type!==AM&&Xt("First argument to selection functions must be a string literal.");var r=t[0].value,o="unit",l="@unit",i=":"+r;(t.length>=2&&bn(t).value)!==tT||Jn(a,l)||(a["@unit"]=n.getData(r).indataRef(n,o)),Jn(a,i)||(a[i]=n.getData(r).tuplesRef())}function dT(e){var t=this.context.data[e];return t?t.values.value:[]}var pT=function(e){return function(t,n){return this.context.dataflow.locale()[e](n)(t)}},gT=pT("format"),hT=pT("timeFormat"),vT=pT("utcFormat"),mT=pT("timeParse"),yT=pT("utcParse"),bT=new Date(2e3,0,1);function wT(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(bT.setYear(2e3),bT.setMonth(e),bT.setDate(t),hT.call(this,bT,n)):""}function kT(e,t,n,a){t[0].type!==AM&&Xt("First argument to data functions must be a string literal.");var r=t[0].value,o=":"+r;if(!Jn(o,a))try{a[o]=n.getData(r).tuplesRef()}catch(l){}}function CT(e,t,n,a){if(t[0].type===AM)xT(n,a,t[0].value);else for(e in n.scales)xT(n,a,e)}function xT(e,t,n){var a="%"+n;if(!Jn(t,a))try{t[a]=e.scaleRef(n)}catch(r){}}function PT(e,t){var n;return Ln(e)?e:ca(e)?(n=t.scales[e])&&n.value:void 0}function _T(e,t,n){t.__bandwidth=function(e){return e&&e.bandwidth?e.bandwidth():0},n._bandwidth=CT,n._range=CT,n._scale=CT;var a=function(t){return"_["+(t.type===AM?ma("%"+t.value):ma("%")+"+"+e(t))+"]"};return{_bandwidth:function(e){return"this.__bandwidth(".concat(a(e[0]),")")},_range:function(e){return"".concat(a(e[0]),".range()")},_scale:function(t){return"".concat(a(t[0]),"(").concat(e(t[1]),")")}}}function ET(e,t){return function(n,a,r){if(n){var o=PT(n,(r||this).context);return o&&o.path[e](a)}return t(a)}}var ST=ET("area",(function(e){return uj=new $P,VP(e,cj),2*uj})),BT=ET("bounds",(function(e){var t,n,a,r,o,l,i;if(ZN=JN=-(XN=KN=1/0),oj=[],VP(e,Aj),n=oj.length){for(oj.sort(zj),t=1,o=[a=oj[0]];t<n;++t)Lj(a,(r=oj[t])[0])||Lj(a,r[1])?(Rj(a[0],r[1])>Rj(a[0],a[1])&&(a[1]=r[1]),Rj(r[0],a[1])>Rj(a[0],a[1])&&(a[0]=r[0])):o.push(a=r);for(l=-1/0,t=0,a=o[n=o.length-1];t<=n;a=r,++t)r=o[t],(i=Rj(a[1],r[0]))>l&&(l=i,XN=r[0],JN=a[1])}return oj=lj=null,XN===1/0||KN===1/0?[[NaN,NaN],[NaN,NaN]]:[[XN,KN],[JN,ZN]]})),OT=ET("centroid",(function(e){gj=hj=vj=mj=yj=bj=wj=kj=0,Cj=new $P,xj=new $P,Pj=new $P,VP(e,Uj);var t=+Cj,n=+xj,a=+Pj,r=u_(t,n,a);return r<QP&&(t=bj,n=wj,a=kj,hj<YP&&(t=vj,n=mj,a=yj),(r=u_(t,n,a))<QP)?[NaN,NaN]:[r_(n,t)*e_,v_(a/r)*e_]}));function AT(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(a){e.warn(a)}return n[n.length-1]}function DT(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function MT(e){var t=hg(e);return.2126*DT(t.r)+.7152*DT(t.g)+.0722*DT(t.b)}function NT(e,t){return e===t||e!==e&&t!==t||(pn(e)?!(!pn(t)||e.length!==t.length)&&function(e,t){for(var n=0,a=e.length;n<a;++n)if(!NT(e[n],t[n]))return!1;return!0}(e,t):!(!gn(e)||!gn(t))&&jT(e,t))}function jT(e,t){for(var n in e)if(!NT(e[n],t[n]))return!1;return!0}function TT(e){return function(t){return jT(e,t)}}var FT={};function IT(e){return pn(e)||ArrayBuffer.isView(e)?e:null}function RT(e){return IT(e)||(ca(e)?e:null)}var zT=function(e){return e.data};function LT(e,t){var n=dT.call(t,e);return n.root&&n.root.lookup||{}}var HT=function(){return"undefined"!==typeof window&&window||null};function UT(e,t,n){if(!e)return[];var a=E(e,2),r=a[0],o=a[1],l=(new hb).set(r[0],r[1],o[0],o[1]);return qC(n||this.context.dataflow.scenegraph().root,l,function(e){var t=null;if(e){var n=Rn(e.marktype),a=Rn(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!a.length||a.some((function(t){return e.name===t})))}}return t}(t))}var WT={random:function(){return cs()},cumulativeNormal:ws,cumulativeLogNormal:Es,cumulativeUniform:Ms,densityNormal:bs,densityLogNormal:_s,densityUniform:Ds,quantileNormal:ks,quantileLogNormal:Ss,quantileUniform:Ns,sampleNormal:ys,sampleLogNormal:Ps,sampleUniform:As,isArray:pn,isBoolean:ra,isDate:oa,isDefined:function(e){return void 0!==e},isNumber:ia,isObject:gn,isRegExp:ua,isString:ca,isTuple:ec,isValid:function(e){return null!=e&&e===e},toBoolean:ya,toDate:function(e){return wa(e)},toNumber:wn,toString:ka,indexof:function(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return(t=RT(e)).indexOf.apply(t,a)},join:function(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return(t=IT(e)).join.apply(t,a)},lastindexof:function(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return(t=RT(e)).lastIndexOf.apply(t,a)},replace:function(e,t,n){return Ln(n)&&Xt("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return IT(e).slice().reverse()},slice:function(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return(t=RT(e)).slice.apply(t,a)},flush:ta,lerp:fa,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),Yn.apply(void 0,B(e))},pad:ha,peek:bn,pluck:function(e,t){var n=FT[t]||(FT[t]=Jt(t));return pn(e)?e.map(n):n(e)},span:va,inrange:aa,truncate:xa,rgb:hg,lab:xv,hcl:Av,hsl:Pg,luminance:MT,contrast:function(e,t){var n=MT(e),a=MT(t);return(Math.max(n,a)+.05)/(Math.min(n,a)+.05)},sequence:Js,format:gT,utcFormat:vT,utcParse:yT,utcOffset:dl,utcSequence:hl,timeFormat:hT,timeParse:mT,timeOffset:fl,timeSequence:gl,timeUnitSpecifier:Io,monthFormat:function(e){return wT.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return wT.call(this,e,1,"%b")},dayFormat:function(e){return wT.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return wT.call(this,0,2+e,"%a")},quarter:Fn,utcquarter:In,week:Ho,utcweek:$o,dayofyear:Lo,utcdayofyear:Vo,warn:function(){return AT(this.context.dataflow,"warn",arguments)},info:function(){return AT(this.context.dataflow,"info",arguments)},debug:function(){return AT(this.context.dataflow,"debug",arguments)},extent:function(e){return Qn(e)},inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:UT,clampRange:zn,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,a=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+a*a)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){var e=HT();return e?e.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){var e=HT();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return em(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,a=this.context.data[e].input;return n.pulse(a,n.changeset().remove(an).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?Ry(n,t=t||Sy(e)):e}},panLinear:Sn,panLog:Bn,panPow:On,panSymlog:An,zoomLinear:Mn,zoomLog:Nn,zoomPow:jn,zoomSymlog:Tn,encode:function(e,t,n){if(e){var a=this.context.dataflow,r=e.mark.source;a.pulse(r,a.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,a,r,o){var l,i,u=this.context.dataflow,c=this.context.data[e],s=c.input,f=u.stamp(),d=c.changes;if(!1===u._trigger||!(s.value.length||t||a))return 0;if((!d||d.stamp<f)&&(c.changes=d=u.changeset(),d.stamp=f,u.runAfter((function(){c.modified=!0,u.pulse(s,d).run()}),!0,1)),n&&(l=!0===n?an:pn(n)||ec(n)?n:TT(n),d.remove(l)),t&&d.insert(t),a&&(l=TT(a),s.value.some(l)?d.remove(l):d.insert(a)),r)for(i in o)d.modify(r,i,o[i]);return 1},lassoAppend:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,r=e[e.length-1];return void 0===r||Math.sqrt(Math.pow(r[0]-t,2)+Math.pow(r[1]-n,2))>a?(e.push([t,n]),B(e)):e},lassoPath:function(e){return(null!==e&&void 0!==e?e:[]).reduce((function(t,n,a){var r=E(n,2),o=r[0],l=r[1];return t+(0==a?"M ".concat(o,",").concat(l," "):a===e.length-1?" Z":"L ".concat(o,",").concat(l," "))}),"")},intersectLasso:function(e,t,n){var a,r=n.x,o=n.y,l=n.mark,i=(new hb).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER),u=Wc(t);try{for(u.s();!(a=u.n()).done;){var c=E(a.value,2),s=c[0],f=c[1];s<i.x1&&(i.x1=s),s>i.x2&&(i.x2=s),f<i.y1&&(i.y1=f),f>i.y2&&(i.y2=f)}}catch(d){u.e(d)}finally{u.f()}return i.translate(r,o),UT([[i.x1,i.y1],[i.x2,i.y2]],e,l).filter((function(e){return function(e,t,n){for(var a=0,r=0,o=n.length-1;r<n.length;o=r++){var l=E(n[o],2),i=l[0],u=l[1],c=E(n[r],2),s=c[0],f=c[1];f>t!=u>t&&e<(i-s)*(t-f)/(u-f)+s&&a++}return 1&a}(e.x,e.y,t)}))}},qT=["view","item","group","xy","x","y"],GT="this.",VT={},$T={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_[".concat(ma("$"+e),"]")},functions:function(e){var t=WN(e);for(var n in qT.forEach((function(e){return t[e]="event.vega."+e})),WT)t[n]=GT+n;return Yn(t,_T(e,WT,VT)),t},constants:UN,visitors:VT},YT=qN($T);function QT(e,t,n){return 1===arguments.length?WT[e]:(WT[e]=t,n&&(VT[e]=n),YT&&(YT.functions[e]=GT+e),this)}function XT(e,t){var n,a={};try{n=HN(e=ca(e)?e:ma(e)+"")}catch(o){Xt("Expression parse error: "+e)}n.visit((function(e){if(e.type===jM){var n=e.callee.name,r=$T.visitors[n];r&&r(n,e.arguments,t,a)}}));var r=YT(n);return r.globals.forEach((function(e){var n="$"+e;!Jn(a,n)&&t.getSignal(e)&&(a[n]=t.signalRef(e))})),{$expr:Yn({code:r.code},t.options.ast?{ast:n}:null),$fields:r.fields,$params:a}}QT("bandwidth",(function(e,t){var n=PT(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),CT),QT("copy",(function(e,t){var n=PT(e,(t||this).context);return n?n.copy():void 0}),CT),QT("domain",(function(e,t){var n=PT(e,(t||this).context);return n?n.domain():[]}),CT),QT("range",(function(e,t){var n=PT(e,(t||this).context);return n&&n.range?n.range():[]}),CT),QT("invert",(function(e,t,n){var a=PT(e,(n||this).context);return a?pn(t)?(a.invertRange||a.invert)(t):(a.invert||a.invertExtent)(t):void 0}),CT),QT("scale",(function(e,t,n){var a=PT(e,(n||this).context);return a?a(t):void 0}),CT),QT("gradient",(function(e,t,n,a,r){e=PT(e,(r||this).context);var o=by(t,n),l=e.domain(),i=l[0],u=bn(l),c=en;return u-i?c=Um(e,i,u):e=(e.interpolator?Om("sequential")().interpolator(e.interpolator()):Om("linear")().interpolate(e.interpolate()).range(e.range())).domain([i=0,u=1]),e.ticks&&(i!==(l=e.ticks(+a||15))[0]&&l.unshift(i),u!==bn(l)&&l.push(u)),l.forEach((function(t){return o.stop(c(t),e(t))})),o}),CT),QT("geoArea",ST,CT),QT("geoBounds",BT,CT),QT("geoCentroid",OT,CT),QT("geoShape",(function(e,t,n){var a=PT(e,(n||this).context);return function(e){return a?a.path.context(e)(t):""}}),CT),QT("indata",(function(e,t,n){var a=this.context.data[e]["index:"+t],r=a?a.value.get(n):void 0;return r?r.count:r}),(function(e,t,n,a){t[0].type!==AM&&Xt("First argument to indata must be a string literal."),t[1].type!==AM&&Xt("Second argument to indata must be a string literal.");var r=t[0].value,o=t[1].value,l="@"+o;Jn(l,a)||(a[l]=n.getData(r).indataRef(n,o))})),QT("data",dT,kT),QT("treePath",(function(e,t,n){var a=LT(e,this),r=a[t],o=a[n];return r&&o?r.path(o).map(zT):void 0}),kT),QT("treeAncestors",(function(e,t){var n=LT(e,this)[t];return n?n.ancestors().map(zT):void 0}),kT),QT("vlSelectionTest",(function(e,t,n){for(var a,r,o,l,i,u=this.context.data[e],c=u?u.values.value:[],s=u?u[oT]&&u[oT].value:void 0,f=n===tT,d=c.length,p=0;p<d;++p)if(a=c[p],s&&f){if(-1===(o=(r=r||{})[l=a.unit]||0))continue;if(i=lT(t,a),r[l]=i?-1:++o,i&&1===s.size)return!0;if(!i&&o===s.get(l).count)return!1}else if(f^(i=lT(t,a)))return i;return d&&f}),fT),QT("vlSelectionIdTest",(function(e,t,n){var a=this.context.data[e],r=a?a.values.value:[],o=a?a[oT]&&a[oT].value:void 0,l=n===tT,i=rT(t),u=uT(r,i);if(u===r.length)return!1;if(rT(r[u])!==i)return!1;if(o&&l){if(1===o.size)return!0;if(cT(r,i)-u<o.size)return!1}return!0}),fT),QT("vlSelectionResolve",(function(e,t,n,a){for(var r,o,l,i,u,c,s,f,d,p,g,h,v=this.context.data[e],m=v?v.values.value:[],y={},b={},w={},k=m.length,C=0;C<k;++C)if(i=(r=m[C]).unit,o=r.fields,l=r.values,o&&l){for(g=0,h=o.length;g<h;++g)u=o[g],f=(s=y[u.field]||(y[u.field]={}))[i]||(s[i]=[]),w[u.field]=d=u.type.charAt(0),p=sT["".concat(d,"_union")],s[i]=p(f,Rn(l[g]));n&&(f=b[i]||(b[i]=[])).push(Rn(l).reduce((function(e,t,n){return e[o[n].field]=t,e}),{}))}else u=aT,c=rT(r),(f=(s=y[u]||(y[u]={}))[i]||(s[i]=[])).push(c),n&&(f=b[i]||(b[i]=[])).push(pr({},aT,c));return t=t||nT,y._vgsid_?y._vgsid_=sT["".concat(aT,"_").concat(t)].apply(sT,B(Object.values(y._vgsid_))):Object.keys(y).forEach((function(e){y[e]=Object.keys(y[e]).map((function(t){return y[e][t]})).reduce((function(n,a){return void 0===n?a:sT["".concat(w[e],"_").concat(t)](n,a)}))})),m=Object.keys(b),n&&m.length&&(y[a?"vlPoint":"vlMulti"]=t===nT?pr({},"or",m.reduce((function(e,t){return e.push.apply(e,B(b[t])),e}),[])):pr({},"and",m.map((function(e){return pr({},"or",b[e])})))),y}),fT),QT("vlSelectionTuples",(function(e,t){return e.map((function(e){return Yn(t.fields?{values:t.fields.map((function(t){return(t.getter||(t.getter=Jt(t.field)))(e.datum)}))}:pr({},aT,rT(e.datum)),t)}))}));var KT=Ca(["rule"]),JT=Ca(["group","image","rect"]);function ZT(e){return(e+"").toLowerCase()}function eF(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");var a=Function.apply(void 0,B(t.concat(n)));return e&&e.functions?a.bind(e.functions):a}var tF={operator:function(e,t){return eF(e,["_"],t.code)},parameter:function(e,t){return eF(e,["datum","_"],t.code)},event:function(e,t){return eF(e,["event"],t.code)},handler:function(e,t){return eF(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";"))},encode:function(e,t){var n=t.marktype,a=t.channels,r="var o=item,datum=o.datum,m=0,$;";for(var o in a){var l="o["+ma(o)+"]";r+="$=".concat(a[o].code,";if(").concat(l,"!==$)").concat(l,"=$,m=1;")}return r+=function(e,t){var n="";return KT[t]||(e.x2&&(e.x?(JT[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(JT[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(a,n),eF(e,["item","_"],r+="return m;")},codegen:{get:function(e){var t="[".concat(e.map(ma).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator:function(e,t){var n,a=Function("a","b","var u, v; return "+e.map((function(e,a){var r,o,l=t[a];return e.path?(r="a".concat(e.path),o="b".concat(e.path)):((n=n||{})["f"+a]=e,r="this.f".concat(a,"(a)"),o="this.f".concat(a,"(b)")),function(e,t,n,a){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(a,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(a," : ")}(r,o,-l,l)})).join("")+"0;");return n?a.bind(n):a}}};function nF(e,t,n){if(!e||!gn(e))return e;for(var a,r=0,o=aF.length;r<o;++r)if(Jn(e,(a=aF[r]).key))return a.parse(e,t,n);return e}var aF=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Xt("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=sa(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);var a="e:"+e.$expr.code+"_"+e.$name;return t.fn[a]||(t.fn[a]=qt(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Jt(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){var n=e.$encode,a={};for(var r in n){var o=n[r];a[r]=qt(t.encodeExpression(o.$expr),o.$fields),a[r].output=o.$output}return a}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,a=Rn(e.$compare).map((function(e){return e&&e.$tupleid?tc:e}));return t.fn[n]||(t.fn[n]=Hn(a,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,a,r){var o=t.fork().parse(n),l=o.get(n.operators[0].id),i=o.signals.parent;return i&&i.set(r),l.detachSubflow=function(){return t.detach(o)},l}}},{key:"$tupleid",parse:function(){return tc}}];var rF={skip:!0};function oF(e,t,n,a){return new lF(e,t,n,a)}function lF(e,t,n,a){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=a||tF,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function iF(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function uF(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}lF.prototype=iF.prototype={fork:function(){var e=new iF(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach:function(e){this.subcontext=this.subcontext.filter((function(t){return t!==e}));for(var t=Object.keys(e.nodes),n=0,a=t;n<a.length;n++){var r=a[n];e.nodes[r]._targets=null}for(var o=0,l=t;o<l.length;o++){var i=l[o];e.nodes[i].detach()}e.nodes=null},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n=this,a=n.dataflow,r=e.value;if(n.set(e.id,t),function(e){return"collect"===ZT(e)}(e.type)&&r&&(r.$ingest?a.ingest(t,r.$ingest,r.$format):r.$request?a.preload(t,r.$request,r.$format):a.pulse(t,a.changeset().insert(r))),e.root&&(n.root=t),e.parent){var o=n.get(e.parent.$ref);o?(a.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push((function(){o=n.get(e.parent.$ref),a.connect(o,[t]),t.targets().add(o)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data){var l=function(a){var r=n.data[a]||(n.data[a]={});e.data[a].forEach((function(e){return r[e]=t}))};for(var i in e.data)l(i)}},resolve:function(){return(this.unresolved||[]).forEach((function(e){return e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[ZT(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,a,r){this.dataflow.on(t,n,a,r,e.options)},operatorExpression:function(e){return this.expr.operator(this,e)},parameterExpression:function(e){return this.expr.parameter(this,e)},eventExpression:function(e){return this.expr.event(this,e)},handlerExpression:function(e){return this.expr.handler(this,e)},encodeExpression:function(e){return this.expr.encode(this,e)},parse:function(e){var t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((function(e){return t.parseOperator(e)})),n.forEach((function(e){return t.parseOperatorParameters(e)})),(e.streams||[]).forEach((function(e){return t.parseStream(e)})),(e.updates||[]).forEach((function(e){return t.parseUpdate(e)})),t.resolve()},parseOperator:function(e){var t=this;!function(e){return"operator"===ZT(e)}(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){var t=this;if(e.params){var n=t.get(e.id);n||Xt("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};var n=this;for(var a in e){var r=e[a];t[a]=pn(r)?r.map((function(e){return nF(e,n,t)})):nF(r,n,t)}return t},parseStream:function(e){var t,n=this,a=null!=e.filter?n.eventExpression(e.filter):void 0,r=null!=e.stream?n.get(e.stream):void 0;e.source?r=n.events(e.source,e.type,a):e.merge&&(r=(t=e.merge.map((function(e){return n.get(e)})))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((function(e){return n.get(e)})),r=r.between(t[0],t[1])),e.filter&&(r=r.filter(a)),null!=e.throttle&&(r=r.throttle(+e.throttle)),null!=e.debounce&&(r=r.debounce(+e.debounce)),null==r&&Xt("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),n.stream(e,r)},parseUpdate:function(e){var t,n=this,a=gn(a=e.source)?a.$ref:a,r=n.get(a),o=e.update,l=void 0;r||Xt("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),o&&o.$expr&&(o.$params&&(l=n.parseParameters(o.$params)),o=n.handlerExpression(o.$expr)),n.update(e,r,t,o,l)},getState:function(e){var t=this,n={};if(e.signals){var a=n.signals={};Object.keys(t.signals).forEach((function(n){var r=t.signals[n];e.signals(n,r)&&(a[n]=r.value)}))}if(e.data){var r=n.data={};Object.keys(t.data).forEach((function(n){var a=t.data[n];e.data(n,a)&&(r[n]=a.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,n=t.dataflow,a=e.data,r=e.signals;Object.keys(r||{}).forEach((function(e){n.update(t.signals[e],r[e],rF)})),Object.keys(a||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(an).insert(a[e]))})),(e.subcontext||[]).forEach((function(e,n){var a=t.subcontext[n];a&&a.setState(e)}))}};var cF="default";function sF(e,t){var n=e.globalCursor()?"undefined"!==typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function fF(e,t){var n=e._runtime.data;return Jn(n,t)||Xt("Unrecognized data set: "+t),n[t]}function dF(e,t){uc(t)||Xt("Second argument to changes must be a changeset.");var n=fF(this,e);return n.modified=!0,this.pulse(n.input,t)}function pF(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function gF(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function hF(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function vF(e){var t=hF(e),n=pF(e),a=gF(e);e._renderer.background(e.background()),e._renderer.resize(n,a,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,a)}catch(Xt){e.error(Xt)}}))}function mF(e,t,n){var a,r,o=e._renderer,l=o&&o.canvas();return l&&(r=hF(e),(a=Sk(t.changedTouches?t.changedTouches[0]:t,l))[0]-=r[0],a[1]-=r[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var a=t?"group"===t.mark.marktype?t:t.mark.group:null;function r(e){var n,r=a;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){r=n;break}return r&&r.mark&&r.mark.interactive?r:{}}function o(e){if(!e)return n;ca(e)&&(e=r(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Vn(e),item:Vn(t||{}),group:r,xy:o,x:function(e){return o(e)[0]},y:function(e){return o(e)[1]}}}(e,n,a),t}var yF="view",bF={trap:!1};function wF(e,t,n,a){e._eventListeners.push({type:n,sources:Rn(t),handler:a})}function kF(e,t,n){var a=e._eventConfig&&e._eventConfig[t];return!(!1===a||gn(a)&&!a[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function CF(e){return e.item}function xF(e){return e.item.mark.source}function PF(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function _F(e,t,n){var a=document.createElement(e);for(var r in t)a.setAttribute(r,t[r]);return null!=n&&(a.textContent=n),a}function EF(e,t,n,a){var r=n.event||"input",o=function(){return e.update(t.value)};a.signal(n.signal,t.value),t.addEventListener(r,o),wF(a,t,r,o),e.set=function(e){t.value=e,t.dispatchEvent(function(e){return"undefined"!==typeof Event?new Event(e):{type:e}}(r))}}function SF(e,t,n,a){var r=a.signal(n.signal),o=_F("div",{class:"vega-bind"}),l="radio"===n.input?o:o.appendChild(_F("label"));l.appendChild(_F("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(o);var i=BF;switch(n.input){case"checkbox":i=OF;break;case"select":i=AF;break;case"radio":i=DF;break;case"range":i=MF}i(e,l,n,r)}function BF(e,t,n,a){var r=_F("input");for(var o in n)"signal"!==o&&"element"!==o&&r.setAttribute("input"===o?"type":o,n[o]);r.setAttribute("name",n.signal),r.value=a,t.appendChild(r),r.addEventListener("input",(function(){return e.update(r.value)})),e.elements=[r],e.set=function(e){return r.value=e}}function OF(e,t,n,a){var r={type:"checkbox",name:n.signal};a&&(r.checked=!0);var o=_F("input",r);t.appendChild(o),o.addEventListener("change",(function(){return e.update(o.checked)})),e.elements=[o],e.set=function(e){return o.checked=!!e||null}}function AF(e,t,n,a){var r=_F("select",{name:n.signal}),o=n.labels||[];n.options.forEach((function(e,t){var n={value:e};NF(e,a)&&(n.selected=!0),r.appendChild(_F("option",n,(o[t]||e)+""))})),t.appendChild(r),r.addEventListener("change",(function(){e.update(n.options[r.selectedIndex])})),e.elements=[r],e.set=function(e){for(var t=0,a=n.options.length;t<a;++t)if(NF(n.options[t],e))return void(r.selectedIndex=t)}}function DF(e,t,n,a){var r=_F("span",{class:"vega-bind-radio"}),o=n.labels||[];t.appendChild(r),e.elements=n.options.map((function(t,l){var i={type:"radio",name:n.signal,value:t};NF(t,a)&&(i.checked=!0);var u=_F("input",i);u.addEventListener("change",(function(){return e.update(t)}));var c=_F("label",{},(o[l]||t)+"");return c.prepend(u),r.appendChild(c),u})),e.set=function(t){for(var n=e.elements,a=n.length,r=0;r<a;++r)NF(n[r].value,t)&&(n[r].checked=!0)}}function MF(e,t,n,a){a=void 0!==a?a:(+n.max+ +n.min)/2;var r=null!=n.max?n.max:Math.max(100,+a)||100,o=n.min||Math.min(0,r,+a)||0,l=n.step||Ya(o,r,100),i=_F("input",{type:"range",name:n.signal,min:o,max:r,step:l});i.value=a;var u=_F("span",{},+a);t.appendChild(i),t.appendChild(u);var c=function(){u.textContent=i.value,e.update(+i.value)};i.addEventListener("input",c),i.addEventListener("change",c),e.elements=[i],e.set=function(e){i.value=e,u.textContent=e}}function NF(e,t){return e===t||e+""===t+""}function jF(e,t,n,a,r,o){return(t=t||new a(e.loader())).initialize(n,pF(e),gF(e),hF(e),r,o).background(e.background())}function TF(e,t){return t?function(){try{t.apply(this,arguments)}catch(Xt){e.error(Xt)}}:null}function FF(e,t,n){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&n)try{t.textContent=""}catch(a){t=null,e.error(a)}return t}var IF=function(e){return+e||0};function RF(e){return gn(e)?{top:IF(e.top),bottom:IF(e.bottom),left:IF(e.left),right:IF(e.right)}:function(e){return{top:e,bottom:e,left:e,right:e}}(IF(e))}function zF(e,t,n,a){return LF.apply(this,arguments)}function LF(){return LF=Sa(_a().mark((function e(t,n,a,r){var o,l;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=WC(n),(l=o&&o.headless)||Xt("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",jF(t,null,null,l,a,r).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}}),e)}))),LF.apply(this,arguments)}function HF(){return HF=Sa(_a().mark((function e(t,n){var a;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==HC.Canvas&&t!==HC.SVG&&t!==HC.PNG&&Xt("Unrecognized image type: "+t),e.next=3,zF(this,t,n);case 3:return a=e.sent,e.abrupt("return",t===HC.SVG?UF(a.svg(),"image/svg+xml"):a.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}}),e,this)}))),HF.apply(this,arguments)}function UF(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function WF(){return WF=Sa(_a().mark((function e(t,n){var a;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zF(this,HC.Canvas,t,n);case 2:return a=e.sent,e.abrupt("return",a.canvas());case 4:case"end":return e.stop()}}),e,this)}))),WF.apply(this,arguments)}function qF(){return qF=Sa(_a().mark((function e(t){var n;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zF(this,HC.SVG,t);case 2:return n=e.sent,e.abrupt("return",n.svg());case 4:case"end":return e.stop()}}),e,this)}))),qF.apply(this,arguments)}var GF="width",VF="height",$F="padding",YF={skip:!0};function QF(e,t){var n=e.autosize(),a=e.padding();return t-(n&&n.contains===$F?a.left+a.right:0)}function XF(e,t){var n=e.autosize(),a=e.padding();return t-(n&&n.contains===$F?a.top+a.bottom:0)}function KF(e,t){return t.modified&&pn(t.input.value)&&e.indexOf("_:vega:_")}function JF(e,t){return!("parent"===e||t instanceof Lc.proxy)}function ZF(e,t,n,a){var r=e.element();r&&r.setAttribute("title",function(e){return null==e?"":pn(e)?eI(e):gn(e)&&!oa(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(pn(n)?eI(n):tI(n))})).join("\n")):e+"";var t}(a))}function eI(e){return"["+e.map(tI).join(", ")+"]"}function tI(e){return pn(e)?"[\u2026]":gn(e)&&!oa(e)?"{\u2026}":e}function nI(e,t){var n=this;if(t=t||{},Ic.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){var a=Yn({},e.locale,t.locale);n.locale(vu(a.number,a.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||HC.Canvas,n._scenegraph=new wk;var r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||ZF,n._redraw=!0,n._handler=(new Vk).scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){var t=Yn({defaults:{}},e),n=function(e,t){t.forEach((function(t){pn(e[t])&&(e[t]=Ca(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);var o=function(e,t,n){return oF(e,Lc,WT,n).parse(t)}(n,e,t.expr);n._runtime=o,n._signals=o.signals,n._bind=(e.bindings||[]).map((function(e){return{state:null,param:Yn({},e)}})),o.root&&o.root.set(r),r.source=o.data.root.input,n.pulse(o.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=QF(n,n._width),n._viewHeight=XF(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,a=t.height,r=t.padding;function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=QF(e,t.size),o()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=XF(e,t.size),o()}),{size:a});var l=e.add(null,o,{pad:r});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=a.rank+1,l.rank=r.rank+1}(n),function(e){e.add(null,(function(t){return e._background=t.bg,e._resize=1,t.bg}),{bg:e._signals.background})}(n),function(e){var t=e._signals.cursor||(e._signals.cursor=e.add({user:cF,item:null}));e.on(e.events("view","mousemove"),t,(function(e,n){var a=t.value,r=a?ca(a)?a:a.user:cF,o=n.item&&n.item.cursor||null;return a&&r===a.user&&o==a.item?a:{user:r,item:o}})),e.add(null,(function(t){var n=t.cursor,a=this.value;return ca(n)||(a=n.item,n=n.user),sF(e,n&&n!==cF?n:a||n),a}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function aI(e,t){return Jn(e._signals,t)?e._signals[t]:Xt("Unrecognized signal name: "+ma(t))}function rI(e,t){var n=(e._targets||[]).filter((function(e){return e._update&&e._update.handler===t}));return n.length?n[0]:null}function oI(e,t,n,a){var r=rI(n,a);return r||((r=TF(e,(function(){return a(t,n.value)}))).handler=a,e.on(n,null,r)),e}function lI(e,t,n){var a=rI(t,n);return a&&t._targets.remove(a),e}na(nI,Ic,{evaluate:function(e,t,n){var a=this;return Sa(_a().mark((function r(){return _a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ic.prototype.evaluate.call(a,e,t);case 2:if(!a._redraw&&!a._resize){r.next=14;break}if(r.prev=3,!a._renderer){r.next=8;break}return a._resize&&(a._resize=0,vF(a)),r.next=8,a._renderer.renderAsync(a._scenegraph.root);case 8:a._redraw=!1,r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),a.error(r.t0);case 14:return n&&Xu(a,n),r.abrupt("return",a);case 16:case"end":return r.stop()}}),r,null,[[3,11]])})))()},dirty:function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description:function(e){if(arguments.length){var t=null!=e?e+"":null;return t!==this._desc&&uF(this._el,this._desc=t),this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(e,t,n){var a=aI(this,e);return 1===arguments.length?a.value:this.update(a,t,n)},width:function(e){return arguments.length?this.signal("width",e):this.signal("width")},height:function(e){return arguments.length?this.signal("height",e):this.signal("height")},padding:function(e){return arguments.length?this.signal("padding",RF(e)):RF(this.signal("padding"))},autosize:function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background:function(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer:function(e){return arguments.length?(WC(e)||Xt("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip:function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader:function(e){return arguments.length?(e!==this._loader&&(Ic.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize:function(){return this._autosize=1,this.touch(aI(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,a,r,o){this.runAfter((function(l){var i=0;l._autosize=0,l.width()!==n&&(i=1,l.signal(GF,n,YF),l._resizeWidth.skip(!0)),l.height()!==a&&(i=1,l.signal(VF,a,YF),l._resizeHeight.skip(!0)),l._viewWidth!==e&&(l._resize=1,l._viewWidth=e),l._viewHeight!==t&&(l._resize=1,l._viewHeight=t),l._origin[0]===r[0]&&l._origin[1]===r[1]||(l._resize=1,l._origin=r),i&&l.run("enter"),o&&l.runAfter((function(e){return e.resize()}))}),!1,1)},addEventListener:function(e,t,n){var a=t;return n&&!1===n.trap||((a=TF(this,t)).raw=t),this._handler.on(e,a),this},removeEventListener:function(e,t){for(var n,a,r=this._handler.handlers(e),o=r.length;--o>=0;)if(a=r[o].type,n=r[o].handler,e===a&&(t===n||t===n.raw)){this._handler.off(a,n);break}return this},addResizeListener:function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener:function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener:function(e,t){return oI(this,e,aI(this,e),t)},removeSignalListener:function(e,t){return lI(this,aI(this,e),t)},addDataListener:function(e,t){return oI(this,e,fF(this,e).values,t)},removeDataListener:function(e,t){return lI(this,fF(this,e).values,t)},globalCursor:function(e){if(arguments.length){if(this._globalCursor!==!!e){var t=sF(this,null);this._globalCursor=!!e,t&&sF(this,t)}return this}return this._globalCursor},preventDefault:function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,n){var a=new uO,r=t;return null==t?(a.restart(e,t,n),a):(a._restart=a.restart,a.restart=function(e,t,n){t=+t,n=null==n?lO():+n,a._restart((function o(l){l+=r,a._restart(o,r+=t,n),e(l)}),t,n)},a.restart(e,t,n),a)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var a,r=this,o=new mc(n),l=function(n,a){r.runAsync(null,(function(){e===yF&&function(e,t){var n=e._eventConfig.defaults,a=n.prevent,r=n.allow;return!1!==a&&!0!==r&&(!0===a||!1===r||(a?a[t]:r?!r[t]:e.preventDefault()))}(r,t)&&n.preventDefault(),o.receive(mF(r,n,a))}))};if("timer"===e)kF(r,"timer",t)&&r.timer(l,t);else if(e===yF)kF(r,"view",t)&&r.addEventListener(t,l,bF);else if("window"===e?kF(r,"window",t)&&"undefined"!==typeof window&&(a=[window]):"undefined"!==typeof document&&kF(r,"selector",t)&&(a=document.querySelectorAll(e)),a){for(var i=0,u=a.length;i<u;++i)a[i].addEventListener(t,l);wF(r,a,t,l)}else r.warn("Can not resolve event source: "+e);return o},finalize:function(){var e,t,n,a=this._tooltip,r=this._timers,o=this._eventListeners;for(e=r.length;--e>=0;)r[e].stop();for(e=o.length;--e>=0;)for(t=(n=o[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return a&&a.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",CF),xF,PF(e)),this.on(this.events("view","mouseout",CF),xF,PF(t)),this},data:function(e,t){return arguments.length<2?fF(this,e).values.value:dF.call(this,e,cc().remove(an).insert(t))},change:dF,insert:function(e,t){return dF.call(this,e,cc().insert(t))},remove:function(e,t){return dF.call(this,e,cc().remove(t))},scale:function(e){var t=this._runtime.scales;return Jn(t,e)||Xt("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){var n=this,a=n._renderType,r=n._eventConfig.bind,o=WC(a);e=n._el=e?FF(n,e,!0):null,function(e){var t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),uF(t,e.description()))}(n),o||n.error("Unrecognized renderer type: "+a);var l=o.handler||Vk,i=e?o.renderer:o.headless;return n._renderer=i?jF(n,n._renderer,e,i):null,n._handler=function(e,t,n,a){var r=new a(e.loader(),TF(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,hF(e),e);return t&&t.handlers().forEach((function(e){r.on(e.type,e.handler)})),r}(n,n._handler,e,l),n._redraw=!0,e&&"none"!==r&&(t=t?n._elBind=FF(n,t,!0):e.appendChild(_F("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==r&&(e.element=FF(n,e.param.element,!!e.param.input))})),n._bind.forEach((function(e){!function(e,t,n){if(t){var a=n.param,r=n.state;r||(r=n.state={elements:null,active:!1,set:null,update:function(t){t!=e.signal(a.signal)&&e.runAsync(null,(function(){r.source=!0,e.signal(a.signal,t)}))}},a.debounce&&(r.update=$n(a.debounce,r.update))),(null==a.input&&a.element?EF:SF)(r,t,a,e),r.active||(e.on(e._signals[a.signal],null,(function(){r.source?r.source=!1:r.set(e.signal(a.signal))})),r.active=!0)}}(n,e.element||t,e)}))),n},toImageURL:function(e,t){return HF.apply(this,arguments)},toCanvas:function(e,t){return WF.apply(this,arguments)},toSVG:function(e){return qF.apply(this,arguments)},getState:function(e){return this._runtime.getState(e||{data:KF,signals:JF,recurse:!0})},setState:function(e){return this.runAsync(null,(function(t){t._trigger=!1,t._runtime.setState(e)}),(function(e){e._trigger=!0})),this}});var iI,uI,cI="[",sI="]",fI=/[[\]{}]/,dI={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function pI(e,t,n){return iI=t||"view",uI=n||dI,hI(e.trim()).map(vI)}function gI(e,t,n,a,r){for(var o,l=e.length,i=0;t<l;++t){if(o=e[t],!i&&o===n)return t;r&&r.indexOf(o)>=0?--i:a&&a.indexOf(o)>=0&&++i}return t}function hI(e){for(var t=[],n=e.length,a=0,r=0;r<n;)r=gI(e,r,",","[{","]}"),t.push(e.substring(a,r).trim()),a=++r;if(0===t.length)throw"Empty event selector: "+e;return t}function vI(e){return"["===e[0]?function(e){var t,n=e.length,a=1;if((a=gI(e,a,sI,cI,sI))===n)throw"Empty between selector: "+e;if(2!==(t=hI(e.substring(1,a))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(a+1).trim())[0])throw"Expected '>' after between selector: "+e;t=t.map(vI);var r=vI(e.slice(1).trim());if(r.between)return{between:t,stream:r};r.between=t;return r}(e):function(e){var t,n,a={source:iI},r=[],o=[0,0],l=0,i=0,u=e.length,c=0;if("}"===e[u-1]){if(!((c=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{o=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(c+1,u-1))}catch(s){throw"Invalid throttle specification: "+e}u=(e=e.slice(0,c).trim()).length,c=0}if(!u)throw e;"@"===e[0]&&(l=++c);(t=gI(e,c,":"))<u&&(r.push(e.substring(i,t).trim()),i=c=++t);if((c=gI(e,c,cI))===u)r.push(e.substring(i,u).trim());else if(r.push(e.substring(i,c).trim()),n=[],(i=++c)===u)throw"Unmatched left bracket: "+e;for(;c<u;){if((c=gI(e,c,sI))===u)throw"Unmatched left bracket: "+e;if(n.push(e.substring(i,c).trim()),c<u-1&&e[++c]!==cI)throw"Expected left bracket: "+e;i=++c}if(!(u=r.length)||fI.test(r[u-1]))throw"Invalid event selector: "+e;u>1?(a.type=r[1],l?a.markname=r[0].slice(1):!function(e){return uI[e]}(r[0])?a.source=r[0]:a.marktype=r[0]):a.type=r[0];"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=n&&(a.filter=n);o[0]&&(a.throttle=o[0]);o[1]&&(a.debounce=o[1]);return a}(e)}function mI(e){return gn(e)?e:{type:e||"pad"}}var yI=function(e){return+e||0};function bI(e){return gn(e)?e.signal?e:{top:yI(e.top),bottom:yI(e.bottom),left:yI(e.left),right:yI(e.right)}:{top:t=yI(e),bottom:t,left:t,right:t};var t}var wI=function(e){return gn(e)&&!pn(e)?Yn({},e):{value:e}};function kI(e,t,n,a){return null!=n?(gn(n)&&!pn(n)||pn(n)&&n.length&&gn(n[0])?e.update[t]=n:e[a||"enter"][t]={value:n},1):0}function CI(e,t,n){for(var a in t)kI(e,a,t[a]);for(var r in n)kI(e,r,n[r],"update")}function xI(e,t,n){for(var a in t)n&&Jn(n,a)||(e[a]=Yn(e[a]||{},t[a]));return e}function PI(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var _I="mark",EI="frame",SI="scope",BI="legend-label",OI="title-text",AI="title-subtitle";function DI(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}var MI=function(e){return ca(e)?ma(e):e.signal?"(".concat(e.signal,")"):FI(e)};function NI(e){if(null!=e.gradient)return function(e){var t=[e.start,e.stop,e.count].map((function(e){return null==e?null:ma(e)}));for(;t.length&&null==bn(t);)t.pop();return t.unshift(MI(e.gradient)),"gradient(".concat(t.join(","),")")}(e);var t=e.signal?"(".concat(e.signal,")"):e.color?function(e){return e.c?jI("hcl",e.h,e.c,e.l):e.h||e.s?jI("hsl",e.h,e.s,e.l):e.l||e.a?jI("lab",e.l,e.a,e.b):e.r||e.g||e.b?jI("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?FI(e.field):void 0!==e.value?ma(e.value):void 0;return null!=e.scale&&(t=function(e,t){var n=MI(e.scale);null!=e.range?t="lerp(_range(".concat(n,"), ").concat(+e.range,")"):(void 0!==t&&(t="_scale(".concat(n,", ").concat(t,")")),e.band&&(t=(t?t+"+":"")+"_bandwidth(".concat(n,")")+(1===+e.band?"":"*"+TI(e.band)),e.extra&&(t="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(t,")"))),null==t&&(t="0"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t="pow(".concat(t,",").concat(TI(e.exponent),")")),null!=e.mult&&(t+="*".concat(TI(e.mult))),null!=e.offset&&(t+="+".concat(TI(e.offset))),e.round&&(t="round(".concat(t,")")),t}var jI=function(e,t,n,a){return"(".concat(e,"(").concat([t,n,a].map(NI).join(","),")+'')")};function TI(e){return gn(e)?"("+NI(e)+")":e}function FI(e){return II(gn(e)?e:{datum:e})}function II(e){var t,n,a;if(e.signal)t="datum",a=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(a=e.parent,t+=".datum"):a=e.group}else e.datum?(t="datum",a=e.datum):Xt("Invalid field reference: "+ma(e));return e.signal||(a=ca(a)?Kt(a).map(ma).join("]["):II(a)),t+"["+a+"]"}function RI(e,t,n,a,r,o){var l={};for(var i in(o=o||{}).encoders={$encode:l},e=function(e,t,n,a,r){var o,l,i,u={},c={};for(l in l="lineBreak","text"!==t||null==r[l]||PI(l,e)||DI(u,l,r[l]),("legend"==n||String(n).startsWith("axis"))&&(n=null),i=n===EI?r.group:n===_I?Yn({},r.mark,r[t]):null)PI(l,e)||("fill"===l||"stroke"===l)&&(PI("fill",e)||PI("stroke",e))||DI(u,l,i[l]);for(l in Rn(a).forEach((function(t){var n=r.style&&r.style[t];for(var a in n)PI(a,e)||DI(u,a,n[a])})),e=Yn({},e),u)(i=u[l]).signal?(o=o||{})[l]=i:c[l]=i;return e.enter=Yn(c,e.enter),o&&(e.update=Yn(o,e.update)),e}(e,t,n,a,r.config),e)l[i]=zI(e[i],t,o,r);return o}function zI(e,t,n,a){var r,o={},l={};for(var i in e)null!=e[i]&&(o[i]=LI((r=e[i],pn(r)?function(e){var t="";return e.forEach((function(e){var n=NI(e);t+=e.test?"(".concat(e.test,")?").concat(n,":"):n})),":"===bn(t)&&(t+="null"),t}(r):NI(r)),a,n,l));return{$expr:{marktype:t,channels:o},$fields:Object.keys(l),$output:Object.keys(e)}}function LI(e,t,n,a){var r=XT(e,t);return r.$fields.forEach((function(e){return a[e]=1})),Yn(n,r.$params),r.$expr}var HI=["value","update","init","react","bind"];function UI(e,t){Xt(e+' for "outer" push: '+ma(t))}function WI(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||UI("No prior signal definition",n),HI.forEach((function(t){void 0!==e[t]&&UI("Invalid property ",t)}));else{var a=t.addSignal(n,e.value);!1===e.react&&(a.react=!1),e.bind&&t.addBinding(n,e.bind)}}function qI(e,t,n,a){this.id=-1,this.type=e,this.value=t,this.params=n,a&&(this.parent=a)}function GI(e,t,n,a){return new qI(e,t,n,a)}function VI(e,t){return GI("operator",e,t)}function $I(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function YI(e,t){return t?{$field:e,$name:t}:{$field:e}}var QI=YI("key");function XI(e,t){return{$compare:e,$order:t}}function KI(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var JI="scope",ZI="view";function eR(e){return e&&e.signal}function tR(e){if(eR(e))return!0;if(gn(e))for(var t in e)if(tR(e[t]))return!0;return!1}function nR(e,t){return null!=e?e:t}function aR(e){return e&&e.signal||e}var rR="timer";function oR(e,t){return(e.merge?lR:e.stream?iR:e.type?uR:Xt("Invalid stream specification: "+ma(e)))(e,t)}function lR(e,t){var n=e.merge.map((function(e){return oR(e,t)})),a=cR({merge:n},e,t);return t.addStream(a).id}function iR(e,t){var n=cR({stream:oR(e.stream,t)},e,t);return t.addStream(n).id}function uR(e,t){var n;e.type===rR?(n=t.event(rR,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(function(e){return e===JI?ZI:e||ZI}(e.source),e.type);var a=cR({stream:n},e,t);return 1===Object.keys(a).length?n:t.addStream(a).id}function cR(e,t,n){var a=t.between;return a&&(2!==a.length&&Xt('Stream "between" parameter must have 2 entries: '+ma(t)),e.between=[oR(a[0],n),oR(a[1],n)]),a=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&a.push(function(e,t,n){var a="event.item";return a+(e&&"*"!==e?"&&"+a+".mark.marktype==='"+e+"'":"")+(n?"&&"+a+".mark.role==='"+n+"'":"")+(t?"&&"+a+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===JI&&a.push("inScope(event.item)"),a.length&&(e.filter=XT("("+a.join(")&&(")+")",n).$expr),null!=(a=t.throttle)&&(e.throttle=+a),null!=(a=t.debounce)&&(e.debounce=+a),t.consume&&(e.consume=!0),e}var sR={code:"_.$value",ast:{type:"Identifier",value:"value"}};function fR(e,t,n){var a=e.encode,r={target:n},o=e.events,l=e.update,i=[];o||Xt("Signal update missing events specification."),ca(o)&&(o=pI(o,t.isSubscope()?JI:ZI)),o=Rn(o).filter((function(e){return e.signal||e.scale?(i.push(e),0):1})),i.length>1&&(i=[dR(i)]),o.length&&i.push(o.length>1?{merge:o}:o[0]),null!=a&&(l&&Xt("Signal encode and update are mutually exclusive."),l="encode(item(),"+ma(a)+")"),r.update=ca(l)?XT(l,t):null!=l.expr?XT(l.expr,t):null!=l.value?l.value:null!=l.signal?{$expr:sR,$params:{$value:t.signalRef(l.signal)}}:Xt("Invalid signal update specification."),e.force&&(r.options={force:!0}),i.forEach((function(e){return t.addUpdate(Yn(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):oR(e,t)}}(e,t),r))}))}function dR(e){return{signal:"["+e.map((function(e){return e.scale?'scale("'+e.scale+'")':e.signal}))+"]"}}var pR=function(e){return function(t,n,a){return GI(e,n,t||void 0,a)}},gR=pR("aggregate"),hR=pR("axisticks"),vR=pR("bound"),mR=pR("collect"),yR=pR("compare"),bR=pR("datajoin"),wR=pR("encode"),kR=pR("expression"),CR=pR("facet"),xR=pR("field"),PR=pR("key"),_R=pR("legendentries"),ER=pR("load"),SR=pR("mark"),BR=pR("multiextent"),OR=pR("multivalues"),AR=pR("overlap"),DR=pR("params"),MR=pR("prefacet"),NR=pR("projection"),jR=pR("proxy"),TR=pR("relay"),FR=pR("render"),IR=pR("scale"),RR=pR("sieve"),zR=pR("sortitems"),LR=pR("viewlayout"),HR=pR("values"),UR=0,WR={min:"min",max:"max",count:"sum"};function qR(e,t){var n,a=t.getScale(e.name).params;for(n in a.domain=YR(e.domain,e,t),null!=e.range&&(a.range=nz(e,t,a)),null!=e.interpolate&&function(e,t){t.interpolate=GR(e.type||e),null!=e.gamma&&(t.interpolateGamma=GR(e.gamma))}(e.interpolate,a),null!=e.nice&&(a.nice=function(e){return gn(e)?{interval:GR(e.interval),step:GR(e.step)}:GR(e)}(e.nice)),null!=e.bins&&(a.bins=function(e,t){return e.signal||pn(e)?VR(e,t):t.objectProperty(e)}(e.bins,t)),e)Jn(a,n)||"name"===n||(a[n]=GR(e[n],t))}function GR(e,t){return gn(e)?e.signal?t.signalRef(e.signal):Xt("Unsupported object: "+ma(e)):e}function VR(e,t){return e.signal?t.signalRef(e.signal):e.map((function(e){return GR(e,t)}))}function $R(e){Xt("Can not find data set: "+ma(e))}function YR(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(pn(e)?QR:e.fields?KR:XR)(e,t,n);null==t.domainMin&&null==t.domainMax||Xt("No scale domain defined for domainMin/domainMax to override.")}function QR(e,t,n){return e.map((function(e){return GR(e,n)}))}function XR(e,t,n){var a=n.getData(e.data);return a||$R(e.data),Nm(t.type)?a.valuesRef(n,e.field,ZR(e.sort,!1)):Im(t.type)?a.domainRef(n,e.field):a.extentRef(n,e.field)}function KR(e,t,n){var a=e.data,r=e.fields.reduce((function(e,t){return t=ca(t)?{data:a,field:t}:pn(t)||t.signal?function(e,t){var n="_:vega:_"+UR++,a=mR({});if(pn(e))a.value={$ingest:e};else if(e.signal){var r="setdata("+ma(n)+","+e.signal+")";a.params.input=t.signalRef(r)}return t.addDataPipeline(n,[a,RR({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Nm(t.type)?JR:Im(t.type)?ez:tz)(e,n,r)}function JR(e,t,n){var a,r,o=ZR(e.sort,!0),l=n.map((function(e){var n=t.getData(e.data);return n||$R(e.data),n.countsRef(t,e.field,o)})),i={groupby:QI,pulse:l};o&&(a=o.op||"count",r=o.field?KI(a,o.field):"count",i.ops=[WR[a]],i.fields=[t.fieldRef(r)],i.as=[r]),a=t.add(gR(i));var u=t.add(mR({pulse:$I(a)}));return r=t.add(HR({field:QI,sort:t.sortRef(o),pulse:$I(u)})),$I(r)}function ZR(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!WR[e.op]&&Xt("Multiple domain scales can not be sorted using "+e.op):Xt("No field provided for sort aggregate op: "+e.op):gn(e)?e.field="key":e={field:"key"}),e}function ez(e,t,n){var a=n.map((function(e){var n=t.getData(e.data);return n||$R(e.data),n.domainRef(t,e.field)}));return $I(t.add(OR({values:a})))}function tz(e,t,n){var a=n.map((function(e){var n=t.getData(e.data);return n||$R(e.data),n.extentRef(t,e.field)}));return $I(t.add(BR({extents:a})))}function nz(e,t,n){var a=t.config.range,r=e.range;if(r.signal)return t.signalRef(r.signal);if(ca(r)){if(a&&Jn(a,r))return nz(e=Yn({},e,{range:a[r]}),t,n);"width"===r?r=[0,{signal:"width"}]:"height"===r?r=Nm(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Xt("Unrecognized scale range value: "+ma(r))}else{if(r.scheme)return n.scheme=pn(r.scheme)?VR(r.scheme,t):GR(r.scheme,t),r.extent&&(n.schemeExtent=VR(r.extent,t)),void(r.count&&(n.schemeCount=GR(r.count,t)));if(r.step)return void(n.rangeStep=GR(r.step,t));if(Nm(e.type)&&!pn(r))return YR(r,e,t);pn(r)||Xt("Unsupported range type: "+ma(r))}return r.map((function(e){return(pn(e)?VR:GR)(e,t)}))}function az(e,t,n){return pn(e)?e.map((function(e){return az(e,t,n)})):gn(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Xt("Unsupported parameter object: "+ma(e)):e}var rz="top",oz="left",lz="right",iz="bottom",uz="center",cz="index",sz="label",fz="perc",dz="value",pz="guide-label",gz="guide-title",hz="group-title",vz="group-subtitle",mz="symbol",yz="gradient",bz="discrete",wz="size",kz=[wz,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],Cz={name:1,style:1,interactive:1},xz={value:0},Pz={value:1},_z="group",Ez="rect",Sz="rule",Bz="text";function Oz(e){return e.type=_z,e.interactive=e.interactive||!1,e}function Az(e,t){var n=function(n,a){return nR(e[n],nR(t[n],a))};return n.isVertical=function(n){return"vertical"===nR(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return nR(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return nR(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return nR(e.columns,nR(t.columns,+n.isVertical(!0)))},n}function Dz(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function Mz(e,t,n){return"item.anchor === '".concat("start","' ? ").concat(e," : item.anchor === '").concat("end","' ? ").concat(t," : ").concat(n)}var Nz=Mz(ma(oz),ma(lz),ma(uz));function jz(e,t){return t?e?gn(e)?Object.assign({},e,{offset:jz(e.offset,t)}):{value:e,offset:t}:t:e}function Tz(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=xI(e.encode,t,Cz)):e.interactive=!1,e}function Fz(e,t,n,a){var r,o,l,i,u,c=Az(e,n),s=c.isVertical(),f=c.gradientThickness(),d=c.gradientLength();s?(o=[0,1],l=[0,0],i=f,u=d):(o=[0,0],l=[1,0],i=d,u=f);var p={enter:r={opacity:xz,x:xz,y:xz,width:wI(i),height:wI(u)},update:Yn({},r,{opacity:Pz,fill:{gradient:t,start:o,stop:l}}),exit:{opacity:xz}};return CI(p,{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),Tz({type:Ez,role:"legend-gradient",encode:p},a)}function Iz(e,t,n,a,r){var o,l,i,u,c=Az(e,n),s=c.isVertical(),f=c.gradientThickness(),d=c.gradientLength(),p="";s?(o="y",i="y2",l="x",u="width",p="1-"):(o="x",i="x2",l="y",u="height");var g={opacity:xz,fill:{scale:t,field:dz}};g[o]={signal:p+"datum."+fz,mult:d},g[l]=xz,g[i]={signal:p+"datum.perc2",mult:d},g[u]=wI(f);var h={enter:g,update:Yn({},g,{opacity:Pz}),exit:{opacity:xz}};return CI(h,{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),Tz({type:Ez,role:"legend-band",key:dz,from:r,encode:h},a)}var Rz="datum.".concat(fz,'<=0?"').concat(oz,'":datum.').concat(fz,'>=1?"').concat(lz,'":"').concat(uz,'"'),zz="datum.".concat(fz,'<=0?"').concat(iz,'":datum.').concat(fz,'>=1?"').concat(rz,'":"').concat("middle",'"');function Lz(e,t,n,a){var r,o,l,i,u=Az(e,t),c=u.isVertical(),s=wI(u.gradientThickness()),f=u.gradientLength(),d=u("labelOverlap"),p="",g={enter:r={opacity:xz},update:o={opacity:Pz,text:{field:sz}},exit:{opacity:xz}};return CI(g,{fill:u("labelColor"),fillOpacity:u("labelOpacity"),font:u("labelFont"),fontSize:u("labelFontSize"),fontStyle:u("labelFontStyle"),fontWeight:u("labelFontWeight"),limit:nR(e.labelLimit,t.gradientLabelLimit)}),c?(r.align={value:"left"},r.baseline=o.baseline={signal:zz},l="y",i="x",p="1-"):(r.align=o.align={signal:Rz},r.baseline={value:"top"},l="x",i="y"),r[l]=o[l]={signal:p+"datum."+fz,mult:f},r[i]=o[i]=s,s.offset=nR(e.labelOffset,t.gradientLabelOffset)||0,d=d?{separation:u("labelSeparation"),method:d,order:"datum.index"}:void 0,Tz({type:Bz,role:BI,style:pz,key:dz,from:a,encode:g,overlap:d},n)}function Hz(e,t,n,a,r){var o,l,i,u,c,s=Az(e,t),f=n.entries,d=!(!f||!f.interactive),p=f?f.name:void 0,g=s("clipHeight"),h=s("symbolOffset"),v={data:"value"},m="(".concat(r,") ? datum.").concat("offset"," : datum.").concat(wz),y=g?wI(g):{field:wz},b="datum.".concat(cz),w="max(1, ".concat(r,")");y.mult=.5,o={enter:l={opacity:xz,x:{signal:m,mult:.5,offset:h},y:y},update:i={opacity:Pz,x:l.x,y:l.y},exit:{opacity:xz}};var k=null,C=null;e.fill||(k=t.symbolBaseFillColor,C=t.symbolBaseStrokeColor),CI(o,{fill:s("symbolFillColor",k),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",C),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),kz.forEach((function(t){e[t]&&(i[t]=l[t]={scale:e[t],field:dz})}));var x=Tz({type:"symbol",role:"legend-symbol",key:dz,from:v,clip:!!g||void 0,encode:o},n.symbols),P=wI(h);P.offset=s("labelOffset"),CI(o={enter:l={opacity:xz,x:{signal:m,offset:P},y:y},update:i={opacity:Pz,text:{field:sz},x:l.x,y:l.y},exit:{opacity:xz}},{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});var _=Tz({type:Bz,role:BI,style:pz,key:dz,from:v,encode:o},n.labels);return o={enter:{noBound:{value:!g},width:xz,height:g?wI(g):xz,opacity:xz},exit:{opacity:xz},update:i={opacity:Pz,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(u="ceil(item.mark.items.length / ".concat(w,")"),i.row.signal="".concat(b,"%").concat(u),i.column.signal="floor(".concat(b," / ").concat(u,")"),c={field:["row",b]}):(i.row.signal="floor(".concat(b," / ").concat(w,")"),i.column.signal="".concat(b," % ").concat(w),c={field:b}),i.column.signal="(".concat(r,")?").concat(i.column.signal,":").concat(b),Oz({role:SI,from:a={facet:{data:a,name:"value",groupby:cz}},encode:xI(o,f,Cz),marks:[x,_],name:p,interactive:d,sort:c})}var Uz='item.orient === "left"',Wz='item.orient === "right"',qz="(".concat(Uz," || ").concat(Wz,")"),Gz="datum.vgrad && ".concat(qz),Vz=Mz('"top"','"bottom"','"middle"'),$z=Mz('"right"','"left"','"center"'),Yz="datum.vgrad && ".concat(Wz," ? (").concat($z,") : (").concat(qz," && !(datum.vgrad && ").concat(Uz,')) ? "left" : ').concat(Nz),Qz="item._anchor || (".concat(qz,' ? "middle" : "start")'),Xz="".concat(Gz," ? (").concat(Uz," ? -90 : 90) : 0"),Kz="".concat(qz," ? (datum.vgrad ? (").concat(Wz,' ? "bottom" : "top") : ').concat(Vz,') : "top"');function Jz(e,t){var n;return gn(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+Zz(e.path)+")":e.sphere&&(n="geoShape("+Zz(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function Zz(e){return gn(e)&&e.signal?e.signal:ma(e)}function eL(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===_z?SI:t||_I:t}function tL(e){return{marktype:e.type,name:e.name||void 0,role:e.role||eL(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function nL(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function aL(e,t){var n=Hc(e.type);n||Xt("Unrecognized transform type: "+ma(e.type));var a=GI(n.type.toLowerCase(),null,rL(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(a)),a.metadata=n.metadata||{},a}function rL(e,t,n){for(var a={},r=e.params.length,o=0;o<r;++o){var l=e.params[o];a[l.name]=oL(l,t,n)}return a}function oL(e,t,n){var a=e.type,r=t[e.name];return"index"===a?function(e,t,n){ca(t.from)||Xt('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==r?"param"===a?function(e,t,n){var a=t[e.name];return e.array?(pn(a)||Xt("Expected an array of sub-parameters. Instead: "+ma(a)),a.map((function(t){return iL(e,t,n)}))):iL(e,a,n)}(e,t,n):"projection"===a?n.projectionRef(t[e.name]):e.array&&!eR(r)?r.map((function(t){return lL(e,t,n)})):lL(e,r,n):void(e.required&&Xt("Missing required "+ma(t.type)+" parameter: "+ma(e.name)))}function lL(e,t,n){var a=e.type;if(eR(t))return fL(a)?Xt("Expression references can not be signals."):dL(a)?n.fieldRef(t):pL(a)?n.compareRef(t):n.signalRef(t.signal);var r=e.expr||dL(a);return r&&uL(t)?n.exprRef(t.expr,t.as):r&&cL(t)?YI(t.field,t.as):fL(a)?XT(t,n):sL(a)?$I(n.getData(t).values):dL(a)?YI(t):pL(a)?n.compareRef(t):t}function iL(e,t,n){for(var a,r=e.params.length,o=0;o<r;++o){for(var l in(a=e.params[o]).key)if(a.key[l]!==t[l]){a=null;break}if(a)break}a||Xt("Unsupported parameter: "+ma(t));var i=Yn(rL(a,t,n),a.key);return $I(n.add(DR(i)))}var uL=function(e){return e&&e.expr},cL=function(e){return e&&e.field},sL=function(e){return"data"===e},fL=function(e){return"expr"===e},dL=function(e){return"field"===e},pL=function(e){return"compare"===e};function gL(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:$I(t.getData(e.data).output)}function hL(e,t,n,a,r){this.scope=e,this.input=t,this.output=n,this.values=a,this.aggregate=r,this.index={}}function vL(e){return ca(e)?e:null}function mL(e,t,n){var a,r=KI(n.op,n.field);if(t.ops){for(var o=0,l=t.as.length;o<l;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((a=n.op.signal)?e.signalRef(a):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function yL(e,t,n,a,r,o,l){var i,u,c=t[n]||(t[n]={}),s=function(e){return gn(e)?("descending"===e.order?"-":"+")+KI(e.op,e.field):""}(o),f=vL(r);if(null!=f&&(e=t.scope,i=c[f+=s?"|"+s:""]),!i){var d=o?{field:QI,pulse:t.countsRef(e,r,o)}:{field:e.fieldRef(r),pulse:$I(t.output)};s&&(d.sort=e.sortRef(o)),u=e.add(GI(a,void 0,d)),l&&(t.index[r]=u),i=$I(u),null!=f&&(c[f]=i)}return i}function bL(e,t,n){var a=e.remove,r=e.insert,o=e.toggle,l=e.modify,i=e.values,u=t.add(VI()),c=XT("if("+e.trigger+',modify("'+n+'",'+[r,a,o,l,i].map((function(e){return null==e?"null":e})).join(",")+"),0)",t);u.update=c.$expr,u.params=c.$params}function wL(e,t){var n,a,r,o,l,i,u,c=eL(e),s=e.type===_z,f=e.from&&e.from.facet,d=e.overlap,p=e.layout||c===SI||c===EI,g=c===_I||p||f,h=function(e,t,n){var a,r,o,l,i;return e?(a=e.facet)&&(t||Xt("Only group marks can be faceted."),null!=a.field?l=i=gL(a,n):(e.data?i=$I(n.getData(e.data).aggregate):((o=aL(Yn({type:"aggregate",groupby:Rn(a.groupby)},a.aggregate),n)).params.key=n.keyRef(a.groupby),o.params.pulse=gL(a,n),l=i=$I(n.add(o))),r=n.keyRef(a.groupby,!0))):l=$I(n.add(mR(null,[{}]))),l||(l=gL(e,n)),{key:r,pulse:l,parent:i}}(e.from,s,t),v=$I(a=t.add(bR({key:h.key||(e.key?YI(e.key):void 0),pulse:h.pulse,clean:!s})));a=r=t.add(mR({pulse:v})),a=t.add(SR({markdef:tL(e),interactive:nL(e.interactive,t),clip:Jz(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:$I(a)}));var m=$I(a);(a=o=t.add(wR(RI(e.encode,e.type,c,e.style,t,{mod:!1,pulse:m})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){var n=aL(e,t),r=n.metadata;(r.generates||r.changes)&&Xt("Mark transforms should not generate new data."),r.nomod||(o.params.mod=!0),n.params.pulse=$I(a),t.add(a=n)})),e.sort&&(a=t.add(zR({sort:t.compareRef(e.sort),pulse:$I(a)})));var y=$I(a);(f||p)&&(i=$I(p=t.add(LR({layout:t.objectProperty(e.layout),legends:t.legends,mark:m,pulse:y}))));var b=t.add(vR({mark:m,pulse:i||y}));u=$I(b),s&&(g&&((n=t.operators).pop(),p&&n.pop()),t.pushState(y,i||u,v),f?function(e,t,n){var a,r=e.from.facet,o=r.name,l=gL(r,t);r.name||Xt("Facet must have a name: "+ma(r)),r.data||Xt("Facet must reference a data set: "+ma(r)),r.field?a=t.add(MR({field:t.fieldRef(r.field),pulse:l})):r.groupby?a=t.add(CR({key:t.keyRef(r.groupby),group:$I(t.proxy(n.parent)),pulse:l})):Xt("Facet must specify groupby or field: "+ma(r));var i=t.fork(),u=i.add(mR()),c=i.add(RR({pulse:$I(u)}));i.addData(o,new hL(i,u,u,c)),i.addSignal("parent",null),a.params.subflow={$subflow:i.parse(e).toRuntime()}}(e,t,h):g?function(e,t,n){var a=t.add(MR({pulse:n.pulse})),r=t.fork();r.add(RR()),r.addSignal("parent",null),a.params.subflow={$subflow:r.parse(e).toRuntime()}}(e,t,h):t.parse(e),t.popState(),g&&(p&&n.push(p),n.push(b))),d&&(u=function(e,t,n){var a=e.method,r=e.bound,o=e.separation,l={separation:eR(o)?n.signalRef(o.signal):o,method:eR(a)?n.signalRef(a.signal):a,pulse:t};e.order&&(l.sort=n.compareRef({field:e.order}));if(r){var i=r.tolerance;l.boundTolerance=eR(i)?n.signalRef(i.signal):+i,l.boundScale=n.scaleRef(r.scale),l.boundOrient=r.orient}return $I(n.add(AR(l)))}(d,u,t));var w=t.add(FR({pulse:u})),k=t.add(RR({pulse:$I(w)},void 0,t.parent()));null!=e.name&&(l=e.name,t.addData(l,new hL(t,r,w,k)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Xt("Marks only support modify triggers."),bL(e,t,l)})))}function kL(e,t){var n,a,r,o=t.config.legend,l=e.encode||{},i=Az(e,o),u=l.legend||{},c=u.name||void 0,s=u.interactive,f=u.style,d={},p=0;kz.forEach((function(t){return e[t]?(d[t]=e[t],p=p||e[t]):0})),p||Xt("Missing valid scale for legend.");var g=function(e,t){var n=e.type||mz;e.type||1!==function(e){return kz.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=Mm(t)?yz:jm(t)?bz:mz);return n!==yz?n:jm(t)?bz:yz}(e,t.scaleType(p)),h={title:null!=e.title,scales:d,type:g,vgrad:"symbol"!==g&&i.isVertical()},v=$I(t.add(mR(null,[h]))),m=$I(t.add(_R(a={type:g,scale:t.scaleRef(p),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return g===yz?(r=[Fz(e,p,o,l.gradient),Lz(e,o,l.labels,m)],a.count=a.count||t.signalRef("max(2,2*floor((".concat(aR(i.gradientLength()),")/100))"))):g===bz?r=[Iz(e,p,o,l.gradient,m),Lz(e,o,l.labels,m)]:(n=function(e,t){var n=Az(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,o),r=[Hz(e,o,l,m,aR(n.columns))],a.size=function(e,t,n){var a=aR(xL("size",e,n)),r=aR(xL("strokeWidth",e,n)),o=aR(function(e,t,n){return Dz("fontSize",e)||function(e,t,n){var a=t.config.style[n];return a&&a[e]}("fontSize",t,n)}(n[1].encode,t,pz));return XT("max(ceil(sqrt(".concat(a,")+").concat(r,"),").concat(o,")"),t)}(e,t,r[0].marks)),r=[Oz({role:"legend-entry",from:v,encode:{enter:{x:{value:0},y:{value:0}}},marks:r,layout:n,interactive:s})],h.title&&r.push(function(e,t,n,a){var r=Az(e,t),o={enter:{opacity:xz},update:{opacity:Pz,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:xz}};return CI(o,{orient:r("titleOrient"),_anchor:r("titleAnchor"),anchor:{signal:Qz},angle:{signal:Xz},align:{signal:Yz},baseline:{signal:Kz},text:e.title,fill:r("titleColor"),fillOpacity:r("titleOpacity"),font:r("titleFont"),fontSize:r("titleFontSize"),fontStyle:r("titleFontStyle"),fontWeight:r("titleFontWeight"),limit:r("titleLimit"),lineHeight:r("titleLineHeight")},{align:r("titleAlign"),baseline:r("titleBaseline")}),Tz({type:Bz,role:"legend-title",style:gz,from:a,encode:o},n)}(e,o,l.title,v)),wL(Oz({role:"legend",from:v,encode:xI(CL(i,e,o),u,Cz),marks:r,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:c,interactive:s,style:f}),t)}function CL(e,t,n){var a={enter:{},update:{}};return CI(a,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),a}function xL(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):Dz(e,n[0].encode)}hL.fromEntries=function(e,t){var n=t.length,a=t[n-1],r=t[n-2],o=t[0],l=null,i=1;for(o&&"load"===o.type&&(o=t[1]),e.add(t[0]);i<n;++i)t[i].params.pulse=$I(t[i-1]),e.add(t[i]),"aggregate"===t[i].type&&(l=t[i]);return new hL(e,o,r,a,l)},hL.prototype={countsRef:function(e,t,n){var a,r,o,l=this,i=l.counts||(l.counts={}),u=vL(t);return null!=u&&(e=l.scope,a=i[u]),a?n&&n.field&&mL(e,a.agg.params,n):(o={groupby:e.fieldRef(t,"key"),pulse:$I(l.output)},n&&n.field&&mL(e,o,n),r=e.add(gR(o)),a=e.add(mR({pulse:$I(r)})),a={agg:r,ref:$I(a)},null!=u&&(i[u]=a)),a.ref},tuplesRef:function(){return $I(this.values)},extentRef:function(e,t){return yL(e,this,"extent","extent",t,!1)},domainRef:function(e,t){return yL(e,this,"domain","values",t,!1)},valuesRef:function(e,t,n){return yL(e,this,"vals","values",t,n||!0)},lookupRef:function(e,t){return yL(e,this,"lookup","tupleindex",t,!1)},indataRef:function(e,t){return yL(e,this,"indata","tupleindex",t,!0,!0)}};var PL='item.orient==="'.concat(oz,'"?-90:item.orient==="').concat(lz,'"?90:0');function _L(e,t){var n=Az(e=ca(e)?{text:e}:e,t.config.title),a=e.encode||{},r=a.group||{},o=r.name||void 0,l=r.interactive,i=r.style,u=[],c=$I(t.add(mR(null,[{}])));return u.push(function(e,t,n,a){var r={value:0},o=e.text,l={enter:{opacity:r},update:{opacity:{value:1}},exit:{opacity:r}};return CI(l,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Tz({type:Bz,role:OI,style:hz,from:a,encode:l},n)}(e,n,function(e){var t=e.encode;return t&&t.title||Yn({name:e.name,interactive:e.interactive,style:e.style},t)}(e),c)),e.subtitle&&u.push(function(e,t,n,a){var r={value:0},o=e.subtitle,l={enter:{opacity:r},update:{opacity:{value:1}},exit:{opacity:r}};return CI(l,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Tz({type:Bz,role:AI,style:vz,from:a,encode:l},n)}(e,n,a.subtitle,c)),wL(Oz({role:"title",from:c,encode:EL(n,r),marks:u,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:l,style:i}),t)}function EL(e,t){var n={enter:{},update:{}};return CI(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:Nz},angle:{signal:PL},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),xI(n,t,Cz)}function SL(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(aL(e,t))})),e.on&&e.on.forEach((function(n){bL(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var a,r,o,l,i,u=[],c=null,s=!1,f=!1;e.values?eR(e.values)||tR(e.format)?(u.push(OL(t,e)),u.push(c=BL())):u.push(c=BL({$ingest:e.values,$format:e.format})):e.url?tR(e.url)||tR(e.format)?(u.push(OL(t,e)),u.push(c=BL())):u.push(c=BL({$request:e.url,$format:e.format})):e.source&&(c=a=Rn(e.source).map((function(e){return $I(t.getData(e).output)})),u.push(null));for(r=0,o=n.length;r<o;++r)i=(l=n[r]).metadata,c||i.source||u.push(c=BL()),u.push(l),i.generates&&(f=!0),i.modifies&&!f&&(s=!0),i.source?c=l:i.changes&&(c=null);a&&(o=a.length-1,u[0]=TR({derive:s,pulse:o?a:a[0]}),(s||o)&&u.splice(1,0,BL()));c||u.push(BL());return u.push(RR({})),u}(e,t,n))}function BL(e){var t=mR({},e);return t.metadata={source:!0},t}function OL(e,t){return ER({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}var AL=function(e){return e===iz||e===rz},DL=function(e,t,n){return eR(e)?IL(e.signal,t,n):e===oz||e===rz?t:n},ML=function(e,t,n){return eR(e)?TL(e.signal,t,n):AL(e)?t:n},NL=function(e,t,n){return eR(e)?FL(e.signal,t,n):AL(e)?n:t},jL=function(e,t,n){return eR(e)?RL(e.signal,t,n):e===rz?{value:t}:{value:n}},TL=function(e,t,n){return LL("".concat(e," === '").concat(rz,"' || ").concat(e," === '").concat(iz,"'"),t,n)},FL=function(e,t,n){return LL("".concat(e," !== '").concat(rz,"' && ").concat(e," !== '").concat(iz,"'"),t,n)},IL=function(e,t,n){return UL("".concat(e," === '").concat(oz,"' || ").concat(e," === '").concat(rz,"'"),t,n)},RL=function(e,t,n){return UL("".concat(e," === '").concat(rz,"'"),t,n)},zL=function(e,t,n){return UL("".concat(e," === '").concat(lz,"'"),t,n)},LL=function(e,t,n){return t=null!=t?wI(t):t,n=null!=n?wI(n):n,HL(t)&&HL(n)?(t=t?t.signal||ma(t.value):null,n=n?n.signal||ma(n.value):null,{signal:"".concat(e," ? (").concat(t,") : (").concat(n,")")}):[Yn({test:e},t)].concat(n||[])},HL=function(e){return null==e||1===Object.keys(e).length},UL=function(e,t,n){return{signal:"".concat(e," ? (").concat(qL(t),") : (").concat(qL(n),")")}},WL=function(e,t,n,a,r){return{signal:(null!=a?"".concat(e," === '").concat(oz,"' ? (").concat(qL(a),") : "):"")+(null!=n?"".concat(e," === '").concat(iz,"' ? (").concat(qL(n),") : "):"")+(null!=r?"".concat(e," === '").concat(lz,"' ? (").concat(qL(r),") : "):"")+(null!=t?"".concat(e," === '").concat(rz,"' ? (").concat(qL(t),") : "):"")+"(null)"}},qL=function(e){return eR(e)?e.signal:null==e?null:ma(e)},GL=function(e,t){var n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function VL(e,t,n,a){var r;if(t&&Jn(t,e))return t[e];if(Jn(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":r="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":r=e[5].toLowerCase()+e.slice(6)}return a["guide-title"][r]}if(e.startsWith("label")){switch(e){case"labelColor":r="fill";break;case"labelFont":case"labelFontSize":r=e[5].toLowerCase()+e.slice(6)}return a["guide-label"][r]}return null}function $L(e){var t,n={},a=Wc(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r)for(var o in r)n[o]=1}}catch(l){a.e(l)}finally{a.f()}return Object.keys(n)}function YL(e,t){return{scale:e.scale,range:t}}function QL(e,t,n,a,r){var o,l,i,u=Az(e,t),c=e.orient,s=e.gridScale,f=DL(c,1,-1),d=function(e,t){if(1===t);else if(gn(e)){for(var n=e=Yn({},e);null!=n.mult;){if(!gn(n.mult))return n.mult=eR(t)?{signal:"(".concat(n.mult,") * (").concat(t.signal,")")}:n.mult*t,e;n=n.mult=Yn({},n.mult)}n.mult=t}else e=eR(t)?{signal:"(".concat(t.signal,") * (").concat(e||0,")")}:t*(e||0);return e}(e.offset,f),p={enter:o={opacity:xz},update:i={opacity:Pz},exit:l={opacity:xz}};CI(p,{stroke:u("gridColor"),strokeCap:u("gridCap"),strokeDash:u("gridDash"),strokeDashOffset:u("gridDashOffset"),strokeOpacity:u("gridOpacity"),strokeWidth:u("gridWidth")});var g={scale:e.scale,field:dz,band:r.band,extra:r.extra,offset:r.offset,round:u("tickRound")},h=ML(c,{signal:"height"},{signal:"width"}),v=s?{scale:s,range:0,mult:f,offset:d}:{value:0,offset:d},m=s?{scale:s,range:1,mult:f,offset:d}:Yn(h,{mult:f,offset:d});return o.x=i.x=ML(c,g,v),o.y=i.y=NL(c,g,v),o.x2=i.x2=NL(c,m),o.y2=i.y2=ML(c,m),l.x=ML(c,g),l.y=NL(c,g),Tz({type:Sz,role:"axis-grid",key:dz,from:a,encode:p},n)}function XL(e,t,n,a,r){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+a+","+r+")"}}function KL(e,t,n,a,r,o){var l,i=Az(e,t),u=e.orient,c=e.scale,s=DL(u,-1,1),f=aR(i("labelFlush")),d=aR(i("labelFlushOffset")),p=i("labelAlign"),g=i("labelBaseline"),h=0===f||!!f,v=wI(r);v.mult=s,v.offset=wI(i("labelPadding")||0),v.offset.mult=s;var m={scale:c,field:dz,band:.5,offset:jz(o.offset,i("labelOffset"))},y=ML(u,h?XL(c,f,'"left"','"right"','"center"'):{value:"center"},function(e,t,n){return eR(e)?zL(e.signal,t,n):e===lz?{value:t}:{value:n}}(u,"left","right")),b=ML(u,jL(u,"bottom","top"),h?XL(c,f,'"top"','"bottom"','"middle"'):{value:"middle"}),w=XL(c,f,"-(".concat(d,")"),d,0);h=h&&d;var k={opacity:xz,x:ML(u,m,v),y:NL(u,m,v)},C={enter:k,update:l={opacity:Pz,text:{field:sz},x:k.x,y:k.y,align:y,baseline:b},exit:{opacity:xz,x:k.x,y:k.y}};CI(C,{dx:!p&&h?ML(u,w):null,dy:!g&&h?NL(u,w):null}),CI(C,{angle:i("labelAngle"),fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontWeight:i("labelFontWeight"),fontStyle:i("labelFontStyle"),limit:i("labelLimit"),lineHeight:i("labelLineHeight")},{align:p,baseline:g});var x=i("labelBound"),P=i("labelOverlap");return P=P||x?{separation:i("labelSeparation"),method:P,order:"datum.index",bound:x?{scale:c,orient:u,tolerance:x}:null}:void 0,l.align!==y&&(l.align=GL(l.align,y)),l.baseline!==b&&(l.baseline=GL(l.baseline,b)),Tz({type:Bz,role:"axis-label",style:pz,key:dz,from:a,encode:C,overlap:P},n)}function JL(e,t,n,a){var r,o,l=Az(e,t),i=e.orient,u=DL(i,-1,1),c={enter:r={opacity:xz,anchor:wI(l("titleAnchor",null)),align:{signal:Nz}},update:o=Yn({},r,{opacity:Pz,text:wI(e.title)}),exit:{opacity:xz}},s={signal:'lerp(range("'.concat(e.scale,'"), ').concat(Mz(0,1,.5),")")};return o.x=ML(i,s),o.y=NL(i,s),r.angle=ML(i,xz,function(e,t){return 0===t?0:eR(e)?{signal:"(".concat(e.signal,") * ").concat(t)}:{value:e*t}}(u,90)),r.baseline=ML(i,jL(i,iz,rz),{value:iz}),o.angle=r.angle,o.baseline=r.baseline,CI(c,{fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign"),angle:l("titleAngle"),baseline:l("titleBaseline")}),function(e,t,n,a){var r=function(e,t){return null!=e?(n.update[t]=GL(wI(e),n.update[t]),!1):!PI(t,a)},o=r(e("titleX"),"x"),l=r(e("titleY"),"y");n.enter.auto=l===o?wI(l):ML(t,wI(l),wI(o))}(l,i,c,n),c.update.align=GL(c.update.align,r.align),c.update.angle=GL(c.update.angle,r.angle),c.update.baseline=GL(c.update.baseline,r.baseline),Tz({type:Bz,role:"axis-title",style:gz,from:a,encode:c},n)}function ZL(e,t){var n,a=function(e,t){var n,a,r,o=t.config,l=o.style,i=o.axis,u="band"===t.scaleType(e.scale)&&o.axisBand,c=e.orient;if(eR(c)){var s=$L([o.axisX,o.axisY]),f=$L([o.axisTop,o.axisBottom,o.axisLeft,o.axisRight]);n={};var d,p=Wc(s);try{for(p.s();!(d=p.n()).done;)n[r=d.value]=ML(c,VL(r,o.axisX,i,l),VL(r,o.axisY,i,l))}catch(v){p.e(v)}finally{p.f()}a={};var g,h=Wc(f);try{for(h.s();!(g=h.n()).done;)a[r=g.value]=WL(c.signal,VL(r,o.axisTop,i,l),VL(r,o.axisBottom,i,l),VL(r,o.axisLeft,i,l),VL(r,o.axisRight,i,l))}catch(v){h.e(v)}finally{h.f()}}else n=c===rz||c===iz?o.axisX:o.axisY,a=o["axis"+c[0].toUpperCase()+c.slice(1)];return n||a||u?Yn({},i,n,a,u):i}(e,t),r=e.encode||{},o=r.axis||{},l=o.name||void 0,i=o.interactive,u=o.style,c=Az(e,a),s=function(e){var t,n,a=e("tickBand"),r=e("tickOffset");return a?a.signal?(t={signal:"(".concat(a.signal,") === 'extent' ? 1 : 0.5")},n={signal:"(".concat(a.signal,") === 'extent'")},gn(r)||(r={signal:"(".concat(a.signal,") === 'extent' ? 0 : ").concat(r)})):"extent"===a?(t=1,n=!0,r=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:r}}(c),f={scale:e.scale,ticks:!!c("ticks"),labels:!!c("labels"),grid:!!c("grid"),domain:!!c("domain"),title:null!=e.title},d=$I(t.add(mR({},[f]))),p=$I(t.add(hR({scale:t.scaleRef(e.scale),extra:t.property(s.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),g=[];return f.grid&&g.push(QL(e,a,r.grid,p,s)),f.ticks&&(n=c("tickSize"),g.push(function(e,t,n,a,r,o){var l,i,u,c=Az(e,t),s=e.orient,f=DL(s,-1,1),d={enter:l={opacity:xz},update:u={opacity:Pz},exit:i={opacity:xz}};CI(d,{stroke:c("tickColor"),strokeCap:c("tickCap"),strokeDash:c("tickDash"),strokeDashOffset:c("tickDashOffset"),strokeOpacity:c("tickOpacity"),strokeWidth:c("tickWidth")});var p=wI(r);p.mult=f;var g={scale:e.scale,field:dz,band:o.band,extra:o.extra,offset:o.offset,round:c("tickRound")};return u.y=l.y=ML(s,xz,g),u.y2=l.y2=ML(s,p),i.x=ML(s,g),u.x=l.x=NL(s,xz,g),u.x2=l.x2=NL(s,p),i.y=NL(s,g),Tz({type:Sz,role:"axis-tick",key:dz,from:a,encode:d},n)}(e,a,r.ticks,p,n,s))),f.labels&&(n=f.ticks?n:0,g.push(KL(e,a,r.labels,p,n,s))),f.domain&&g.push(function(e,t,n,a){var r,o,l=Az(e,t),i=e.orient,u={enter:r={opacity:xz},update:o={opacity:Pz},exit:{opacity:xz}};CI(u,{stroke:l("domainColor"),strokeCap:l("domainCap"),strokeDash:l("domainDash"),strokeDashOffset:l("domainDashOffset"),strokeWidth:l("domainWidth"),strokeOpacity:l("domainOpacity")});var c=YL(e,0),s=YL(e,1);return r.x=o.x=ML(i,c,xz),r.x2=o.x2=ML(i,s),r.y=o.y=NL(i,c,xz),r.y2=o.y2=NL(i,s),Tz({type:Sz,role:"axis-domain",from:a,encode:u},n)}(e,a,r.domain,d)),f.title&&g.push(JL(e,a,r.title,d)),wL(Oz({role:"axis",from:d,encode:xI(eH(c,e),o,Cz),marks:g,aria:c("aria"),description:c("description"),zindex:c("zindex"),name:l,interactive:i,style:u}),t)}function eH(e,t){var n={enter:{},update:{}};return CI(n,{orient:e("orient"),offset:e("offset")||0,position:nR(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function tH(e,t,n){var a=Rn(e.signals),r=Rn(e.scales);return n||a.forEach((function(e){return WI(e,t)})),Rn(e.projections).forEach((function(e){return function(e,t){var n=t.config.projection||{},a={};for(var r in e)"name"!==r&&(a[r]=az(e[r],r,t));for(var o in n)null==a[o]&&(a[o]=az(n[o],o,t));t.addProjection(e.name,a)}(e,t)})),r.forEach((function(e){return function(e,t){var n=e.type||"linear";Am(n)||Xt("Unrecognized scale type: "+ma(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)})),Rn(e.data).forEach((function(e){return SL(e,t)})),r.forEach((function(e){return qR(e,t)})),(n||a).forEach((function(e){return function(e,t){var n=t.getSignal(e.name),a=e.update;e.init&&(a?Xt("Signals can not include both init and update expressions."):(a=e.init,n.initonly=!0)),a&&(a=XT(a,t),n.update=a.$expr,n.params=a.$params),e.on&&e.on.forEach((function(e){return fR(e,t,n.id)}))}(e,t)})),Rn(e.axes).forEach((function(e){return ZL(e,t)})),Rn(e.marks).forEach((function(e){return wL(e,t)})),Rn(e.legends).forEach((function(e){return kL(e,t)})),e.title&&_L(e.title,t),t.parseLambdas(),t}function nH(e,t){var n=t.config,a=$I(t.root=t.add(VI())),r=function(e,t){var n=function(n){return nR(e[n],t[n])},a=[aH("background",n("background")),aH("autosize",mI(n("autosize"))),aH("padding",bI(n("padding"))),aH("width",n("width")||0),aH("height",n("height")||0)],r=a.reduce((function(e,t){return e[t.name]=t,e}),{}),o={};return Rn(e.signals).forEach((function(e){Jn(r,e.name)?e=Yn(r[e.name],e):a.push(e),o[e.name]=e})),Rn(t.signals).forEach((function(e){Jn(o,e.name)||Jn(r,e.name)||a.push(e)})),a}(e,n);r.forEach((function(e){return WI(e,t)})),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;var o=t.add(mR()),l=t.add(wR(RI(function(e){return xI({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e)}(e.encode),_z,EI,e.style,t,{pulse:$I(o)}))),i=t.add(LR({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:a,pulse:$I(l)}));t.operators.pop(),t.pushState($I(l),$I(i),null),tH(e,t,r),t.operators.push(i);var u=t.add(vR({mark:a,pulse:$I(i)}));return u=t.add(FR({pulse:$I(u)})),u=t.add(RR({pulse:$I(u)})),t.addData("root",new hL(t,o,o,u)),t}function aH(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function rH(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function oH(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function lH(e){return(pn(e)?iH:uH)(e)}function iH(e){for(var t=e.length,n="[",a=0;a<t;++a){var r=e[a];n+=(a>0?",":"")+(gn(r)?r.signal||lH(r):ma(r))}return n+"]"}function uH(e){var t,n,a="{",r=0;for(t in e)n=e[t],a+=(++r>1?",":"")+ma(t)+":"+(gn(n)?n.signal||lH(n):ma(n));return a+"}"}function cH(e,t,n){return gn(e)||Xt("Input Vega specification must be an object."),t=vn(function(){var e="sans-serif",t="#4c78a8",n="#000",a="#888",r="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:t},area:{fill:t},image:null,line:{stroke:t,strokeWidth:2},path:{stroke:t},rect:{fill:t},rule:{stroke:n},shape:{stroke:t},symbol:{fill:t,size:64},text:{fill:n,font:e,fontSize:11},trail:{fill:t,size:2},style:{"guide-label":{fill:n,font:e,fontSize:10},"guide-title":{fill:n,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:r}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:a,grid:!1,gridWidth:1,gridColor:r,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:a,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:r,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:a,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),nH(e,new rH(t,n)).toRuntime()}rH.prototype=oH.prototype={parse:function(e){return tH(e,this)},fork:function(){return new oH(this)},isSubscope:function(){return this._subid>0},toRuntime:function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},proxy:function(e){var t=e instanceof qI?$I(e):e;return this.add(jR({value:t}))},addStream:function(e){return this.streams.push(e),e.id=this.id(),e},addUpdate:function(e){return this.updates.push(e),e},finish:function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var a;e&&((a=e.data||(e.data={}))[t]||(a[t]=[])).push(n)}for(e in this.data)for(var a in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[a],e,"index:"+a);return this},pushState:function(e,t,n){this._encode.push($I(this.add(RR({pulse:e})))),this._parent.push(t),this._lookup.push(n?$I(this.proxy(n)):null),this._markpath.push(-1)},popState:function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent:function(){return bn(this._parent)},encode:function(){return bn(this._encode)},lookup:function(){return bn(this._lookup)},markpath:function(){var e=this._markpath;return++e[e.length-1]},fieldRef:function(e,t){if(ca(e))return YI(e,t);e.signal||Xt("Unsupported field reference: "+ma(e));var n=e.signal,a=this.field[n];if(!a){var r={name:this.signalRef(n)};t&&(r.as=t),this.field[n]=a=$I(this.add(xR(r)))}return a},compareRef:function(e){var t=this,n=!1,a=function(e){return eR(e)?(n=!0,t.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(n=!0,t.exprRef(e.expr)):e},r=Rn(e.field).map(a),o=Rn(e.order).map(a);return n?$I(this.add(yR({fields:r,orders:o}))):XI(r,o)},keyRef:function(e,t){var n=!1,a=this.signals;return e=Rn(e).map((function(e){return eR(e)?(n=!0,$I(a[e.signal])):e})),n?$I(this.add(PR({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef:function(e){if(!e)return e;var t=KI(e.op,e.field),n=e.order||"ascending";return n.signal?$I(this.add(yR({fields:t,orders:this.signalRef(n.signal)}))):XI(t,n)},event:function(e,t){var n=e+":"+t;if(!this.events[n]){var a=this.id();this.streams.push({id:a,source:e,type:t}),this.events[n]=a}return this.events[n]},hasOwnSignal:function(e){return Jn(this.signals,e)},addSignal:function(e,t){this.hasOwnSignal(e)&&Xt("Duplicate signal name: "+ma(e));var n=t instanceof qI?t:this.add(VI(t));return this.signals[e]=n},getSignal:function(e){return this.signals[e]||Xt("Unrecognized signal name: "+ma(e)),this.signals[e]},signalRef:function(e){return this.signals[e]?$I(this.signals[e]):(Jn(this.lambdas,e)||(this.lambdas[e]=this.add(VI(null))),$I(this.lambdas[e]))},parseLambdas:function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var a=e[t],r=XT(a,this),o=this.lambdas[a];o.params=r.$params,o.update=r.$expr}},property:function(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty:function(e){return e&&gn(e)?this.signalRef(e.signal||lH(e)):e},exprRef:function(e,t){var n={expr:XT(e,this)};return t&&(n.expr.$name=t),$I(this.add(kR(n)))},addBinding:function(e,t){this.bindings||Xt("Nested signals do not support binding: "+ma(e)),this.bindings.push(Yn({signal:e},t))},addScaleProj:function(e,t){Jn(this.scales,e)&&Xt("Duplicate scale or projection name: "+ma(e)),this.scales[e]=this.add(t)},addScale:function(e,t){this.addScaleProj(e,IR(t))},addProjection:function(e,t){this.addScaleProj(e,NR(t))},getScale:function(e){return this.scales[e]||Xt("Unrecognized scale name: "+ma(e)),this.scales[e]},scaleRef:function(e){return $I(this.getScale(e))},scaleType:function(e){return this.getScale(e).params.type},projectionRef:function(e){return this.scaleRef(e)},projectionType:function(e){return this.scaleType(e)},addData:function(e,t){return Jn(this.data,e)&&Xt("Duplicate data set name: "+ma(e)),this.data[e]=t},getData:function(e){return this.data[e]||Xt("Undefined data set name: "+ma(e)),this.data[e]},addDataPipeline:function(e,t){return Jn(this.data,e)&&Xt("Duplicate data set name: "+ma(e)),this.addData(e,hL.fromEntries(this,t))}};var sH="5.22.1";Yn(Lc,a,o,l,i,u,s,c,f,d,p,g);var fH={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},dH={"*":function(e,t){return e*t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},">":function(e,t){return e>t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"&":function(e,t){return e&t},"|":function(e,t){return e|t},"^":function(e,t){return e^t},"<<":function(e,t){return e<<t},">>":function(e,t){return e>>t},">>>":function(e,t){return e>>>t}},pH={"+":function(e){return+e},"-":function(e){return-e},"~":function(e){return~e},"!":function(e){return!e}},gH=Array.prototype.slice,hH=function(e,t,n){var a=n?n(t[0]):t[0];return a[e].apply(a,gH.call(t,1))},vH={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},now:Date.now,utc:Date.UTC,datetime:function(e,t,n,a,r,o,l){return new Date(e,t||0,null!=n?n:1,a||0,r||0,o||0,l||0)},date:function(e){return new Date(e).getDate()},day:function(e){return new Date(e).getDay()},year:function(e){return new Date(e).getFullYear()},month:function(e){return new Date(e).getMonth()},hours:function(e){return new Date(e).getHours()},minutes:function(e){return new Date(e).getMinutes()},seconds:function(e){return new Date(e).getSeconds()},milliseconds:function(e){return new Date(e).getMilliseconds()},time:function(e){return new Date(e).getTime()},timezoneoffset:function(e){return new Date(e).getTimezoneOffset()},utcdate:function(e){return new Date(e).getUTCDate()},utcday:function(e){return new Date(e).getUTCDay()},utcyear:function(e){return new Date(e).getUTCFullYear()},utcmonth:function(e){return new Date(e).getUTCMonth()},utchours:function(e){return new Date(e).getUTCHours()},utcminutes:function(e){return new Date(e).getUTCMinutes()},utcseconds:function(e){return new Date(e).getUTCSeconds()},utcmilliseconds:function(e){return new Date(e).getUTCMilliseconds()},length:function(e){return e.length},join:function(){return hH("join",arguments)},indexof:function(){return hH("indexOf",arguments)},lastindexof:function(){return hH("lastIndexOf",arguments)},slice:function(){return hH("slice",arguments)},reverse:function(e){return e.slice().reverse()},parseFloat:parseFloat,parseInt:parseInt,upper:function(e){return String(e).toUpperCase()},lower:function(e){return String(e).toLowerCase()},substring:function(){return hH("substring",arguments,String)},split:function(){return hH("split",arguments,String)},replace:function(){return hH("replace",arguments,String)},trim:function(e){return String(e).trim()},regexp:RegExp,test:function(e,t){return RegExp(e).test(t)}},mH=["view","item","group","xy","x","y"],yH={Literal:function(e,t){return t.value},Identifier:function(e,t){var n=t.name;return e.memberDepth>0?n:"datum"===n?e.datum:"event"===n?e.event:"item"===n?e.item:fH[n]||e.params["$"+n]},MemberExpression:function(e,t){var n=!t.computed,a=e(t.object);n&&(e.memberDepth+=1);var r=e(t.property);return n&&(e.memberDepth-=1),a[r]},CallExpression:function(e,t){var n=t.arguments,a=t.callee.name;return a.startsWith("_")&&(a=a.slice(1)),"if"===a?e(n[0])?e(n[1]):e(n[2]):(e.fn[a]||vH[a]).apply(e.fn,n.map(e))},ArrayExpression:function(e,t){return t.elements.map(e)},BinaryExpression:function(e,t){return dH[t.operator](e(t.left),e(t.right))},UnaryExpression:function(e,t){return pH[t.operator](e(t.argument))},ConditionalExpression:function(e,t){return e(t.test)?e(t.consequent):e(t.alternate)},LogicalExpression:function(e,t){return"&&"===t.operator?e(t.left)&&e(t.right):e(t.left)||e(t.right)},ObjectExpression:function(e,t){return t.properties.reduce((function(t,n){e.memberDepth+=1;var a=e(n.key);return e.memberDepth-=1,t[a]=e(n.value),t}),{})}};function bH(e,t,n,a,r,o){var l=function e(t){return yH[t.type](e,t)};return l.memberDepth=0,l.fn=Object.create(t),l.params=n,l.datum=a,l.event=r,l.item=o,mH.forEach((function(e){return l.fn[e]=function(){var t;return(t=r.vega)[e].apply(t,arguments)}})),l(e)}var wH={operator:function(e,t){var n=t.ast,a=e.functions;return function(e){return bH(n,a,e)}},parameter:function(e,t){var n=t.ast,a=e.functions;return function(e,t){return bH(n,a,t,e)}},event:function(e,t){var n=t.ast,a=e.functions;return function(e){return bH(n,a,void 0,void 0,e)}},handler:function(e,t){var n=t.ast,a=e.functions;return function(e,t){var r=t.item&&t.item.datum;return bH(n,a,e,r,t)}},encode:function(e,t){var n=t.marktype,a=t.channels,r=e.functions,o="group"===n||"image"===n||"rect"===n;return function(e,t){var l,i=e.datum,u=0;for(var c in a)l=bH(a[c].ast,r,t,i,void 0,e),e[c]!==l&&(e[c]=l,u=1);return"rule"!==n&&function(e,t,n){var a;t.x2&&(t.x?(n&&e.x>e.x2&&(a=e.x,e.x=e.x2,e.x2=a),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(a=e.y,e.y=e.y2,e.y2=a),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}(e,a,o),u}}},kH=n(991),CH=n.n(kH),xH=n(262),PH=n.n(xH),_H=n(248),EH=n.n(_H);function SH(e){return!!e.or}function BH(e){return!!e.and}function OH(e){return!!e.not}function AH(e,t){if(OH(e))AH(e.not,t);else if(BH(e)){var n,a=Wc(e.and);try{for(a.s();!(n=a.n()).done;){AH(n.value,t)}}catch(l){a.e(l)}finally{a.f()}}else if(SH(e)){var r,o=Wc(e.or);try{for(o.s();!(r=o.n()).done;){AH(r.value,t)}}catch(l){o.e(l)}finally{o.f()}}else t(e)}function DH(e,t){return OH(e)?{not:DH(e.not,t)}:BH(e)?{and:e.and.map((function(e){return DH(e,t)}))}:SH(e)?{or:e.or.map((function(e){return DH(e,t)}))}:t(e)}var MH=PH(),NH=CH();function jH(e){throw new Error(e)}function TH(e,t){var n,a={},r=Wc(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;Jn(e,o)&&(a[o]=e[o])}}catch(l){r.e(l)}finally{r.f()}return a}function FH(e,t){var n,a=Object.assign({},e),r=Wc(t);try{for(r.s();!(n=r.n()).done;){delete a[n.value]}}catch(o){r.e(o)}finally{r.f()}return a}Set.prototype.toJSON=function(){return"Set(".concat(B(this).map((function(e){return EH()(e)})).join(","),")")};var IH=EH();function RH(e){if(ia(e))return e;var t=ca(e)?e:EH()(e);if(t.length<250)return t;for(var n=0,a=0;a<t.length;a++){n=(n<<5)-n+t.charCodeAt(a),n&=n}return n}function zH(e){return!1===e||null===e}function LH(e,t){return e.includes(t)}function HH(e,t){var n,a=0,r=Wc(e.entries());try{for(r.s();!(n=r.n()).done;){var o=E(n.value,2),l=o[0];if(t(o[1],l,a++))return!0}}catch(i){r.e(i)}finally{r.f()}return!1}function UH(e,t){var n,a=0,r=Wc(e.entries());try{for(r.s();!(n=r.n()).done;){var o=E(n.value,2),l=o[0];if(!t(o[1],l,a++))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}function WH(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0,o=n;r<o.length;r++){var l=o[r];qH(e,null!==l&&void 0!==l?l:{})}return e}function qH(e,t){var n,a=Wc(JH(t));try{for(a.s();!(n=a.n()).done;){var r=n.value;mn(e,r,t[r],!0)}}catch(o){a.e(o)}finally{a.f()}}function GH(e,t){var n,a,r=[],o={},l=Wc(e);try{for(l.s();!(a=l.n()).done;){var i=a.value;(n=t(i))in o||(o[n]=1,r.push(i))}}catch(u){l.e(u)}finally{l.f()}return r}function VH(e,t){var n=JH(e),a=JH(t);if(n.length!==a.length)return!1;var r,o=Wc(n);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(e[l]!==t[l])return!1}}catch(i){o.e(i)}finally{o.f()}return!0}function $H(e,t){if(e.size!==t.size)return!1;var n,a=Wc(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(!t.has(r))return!1}}catch(o){a.e(o)}finally{a.f()}return!0}function YH(e,t){var n,a=Wc(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(t.has(r))return!0}}catch(o){a.e(o)}finally{a.f()}return!1}function QH(e){var t,n=new Set,a=Wc(e);try{var r=function(){var e,a=Kt(t.value).map((function(e,t){return 0===t?e:"[".concat(e,"]")})),r=a.map((function(e,t){return a.slice(0,t+1).join("")})),o=Wc(r);try{for(o.s();!(e=o.n()).done;){var l=e.value;n.add(l)}}catch(i){o.e(i)}finally{o.f()}};for(a.s();!(t=a.n()).done;)r()}catch(o){a.e(o)}finally{a.f()}return n}function XH(e,t){return void 0===e||void 0===t||YH(QH(e),QH(t))}function KH(e){return 0===JH(e).length}var JH=Object.keys,ZH=Object.values,eU=Object.entries;function tU(e){return!0===e||!1===e}function nU(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function aU(e,t){return OH(e)?"!(".concat(aU(e.not,t),")"):BH(e)?"(".concat(e.and.map((function(e){return aU(e,t)})).join(") && ("),")"):SH(e)?"(".concat(e.or.map((function(e){return aU(e,t)})).join(") || ("),")"):t(e)}function rU(e,t){if(0===t.length)return!0;var n=t.shift();return n in e&&rU(e[n],t)&&delete e[n],KH(e)}function oU(e){return e.charAt(0).toUpperCase()+e.substr(1)}function lU(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=Kt(e),a=[],r=1;r<=n.length;r++){var o="[".concat(n.slice(0,r).map(ma).join("]["),"]");a.push("".concat(t).concat(o))}return a.join(" && ")}function iU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(t,"[").concat(ma(Kt(e).join(".")),"]")}function uU(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function cU(e){return"".concat(Kt(e).map(uU).join("\\."))}function sU(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function fU(e){return"".concat(Kt(e).join("."))}function dU(e){return e?Kt(e).length:0}function pU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=0,r=t;a<r.length;a++){var o=r[a];if(void 0!==o)return o}}var gU=42;function hU(e){var t=++gU;return e?String(e)+t:t}function vU(){gU=42}function mU(e){return yU(e)?e:"__".concat(e)}function yU(e){return e.startsWith("__")}function bU(e){if(void 0!==e)return(e%360+360)%360}function wU(e){return!!ia(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var kU=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},CU="row",xU="column",PU="facet",_U="x",EU="y",SU="x2",BU="y2",OU="xOffset",AU="yOffset",DU="radius",MU="radius2",NU="theta",jU="theta2",TU="latitude",FU="longitude",IU="latitude2",RU="longitude2",zU="color",LU="fill",HU="stroke",UU="shape",WU="size",qU="angle",GU="opacity",VU="fillOpacity",$U="strokeOpacity",YU="strokeWidth",QU="strokeDash",XU="text",KU="order",JU="detail",ZU="key",eW="tooltip",tW="href",nW="url",aW="description",rW={theta:1,theta2:1,radius:1,radius2:1};function oW(e){return e in rW}var lW={longitude:1,longitude2:1,latitude:1,latitude2:1};var iW=JH(lW),uW=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),rW),lW),{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function cW(e){return e===zU||e===LU||e===HU}var sW={row:1,column:1,facet:1},fW=JH(sW),dW=Object.assign(Object.assign({},uW),sW),pW=JH(dW),gW=(dW.order,dW.detail,dW.tooltip,kU(dW,["order","detail","tooltip"])),hW=(gW.row,gW.column,gW.facet,kU(gW,["row","column","facet"]));JH(gW),JH(hW);function vW(e){return!!dW[e]}var mW=[SU,BU,IU,RU,jU,MU];function yW(e){return bW(e)!==e}function bW(e){switch(e){case SU:return _U;case BU:return EU;case IU:return TU;case RU:return FU;case jU:return NU;case MU:return DU}return e}function wW(e){if(oW(e))switch(e){case NU:return"startAngle";case jU:return"endAngle";case DU:return"outerRadius";case MU:return"innerRadius"}return e}function kW(e){switch(e){case _U:return SU;case EU:return BU;case TU:return IU;case FU:return RU;case NU:return jU;case DU:return MU}}function CW(e){switch(e){case _U:case SU:return"width";case EU:case BU:return"height"}}function xW(e){switch(e){case _U:return"xOffset";case EU:return"yOffset"}}function PW(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}var _W=JH(uW),EW=(uW.x,uW.y,uW.x2,uW.y2,uW.xOffset,uW.yOffset,uW.latitude,uW.longitude,uW.latitude2,uW.longitude2,uW.theta,uW.theta2,uW.radius,uW.radius2,kU(uW,["x","y","x2","y2","xOffset","yOffset","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"])),SW=JH(EW),BW={x:1,y:1},OW=JH(BW);function AW(e){return e in BW}var DW={theta:1,radius:1},MW=JH(DW);function NW(e){return"width"===e?_U:EU}var jW={xOffset:1,yOffset:1};JH(jW);function TW(e){return e in jW}EW.text,EW.tooltip,EW.href,EW.url,EW.description,EW.detail,EW.key,EW.order;var FW=kU(EW,["text","tooltip","href","url","description","detail","key","order"]),IW=JH(FW);var RW=Object.assign(Object.assign(Object.assign(Object.assign({},BW),DW),jW),FW),zW=JH(RW);function LW(e){return!!RW[e]}function HW(e,t){return function(e){switch(e){case zU:case LU:case HU:case aW:case JU:case ZU:case eW:case tW:case KU:case GU:case VU:case $U:case YU:case PU:case CU:case xU:return UW;case _U:case EU:case OU:case AU:case TU:case FU:return WW;case SU:case BU:case IU:case RU:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case WU:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case QU:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case UU:return{point:"always",geoshape:"always"};case XU:return{text:"always"};case qU:return{point:"always",square:"always",text:"always"};case nW:return{image:"always"};case NU:case DU:return{text:"always",arc:"always"};case jU:case MU:return{arc:"always"}}}(e)[t]}var UW={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},WW=kU(UW,["geoshape"]);function qW(e){switch(e){case _U:case EU:case NU:case DU:case OU:case AU:case WU:case qU:case YU:case GU:case VU:case $U:case SU:case BU:case jU:case MU:return;case PU:case CU:case xU:case UU:case QU:case XU:case eW:case tW:case nW:case aW:return"discrete";case zU:case LU:case HU:return"flexible";case TU:case FU:case IU:case RU:case JU:case ZU:case KU:return}}var GW={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},VW={count:1,min:1,max:1};function $W(e){return!!e&&!!e.argmin}function YW(e){return!!e&&!!e.argmax}function QW(e){return ca(e)&&!!GW[e]}var XW=new Set(["count","valid","missing","distinct"]);function KW(e){return ca(e)&&XW.has(e)}var JW=new Set(["count","sum","distinct","valid","missing"]),ZW=new Set(["mean","average","median","q1","q3","min","max"]);function eq(e){return ra(e)&&(e=_Y(e,void 0)),"bin"+JH(e).map((function(t){return rq(e[t])?nU("_".concat(t,"_").concat(eU(e[t]))):nU("_".concat(t,"_").concat(e[t]))})).join("")}function tq(e){return!0===e||aq(e)&&!e.binned}function nq(e){return"binned"===e||aq(e)&&!0===e.binned}function aq(e){return gn(e)}function rq(e){return null===e||void 0===e?void 0:e.param}function oq(e){switch(e){case CU:case xU:case WU:case zU:case LU:case HU:case YU:case GU:case VU:case $U:case UU:return 6;case QU:return 4;default:return 10}}function lq(e){return!!(null===e||void 0===e?void 0:e.expr)}function iq(e){var t,n={},a=Wc(JH(e||{}));try{for(a.s();!(t=a.n()).done;){var r=t.value;n[r]=bq(e[r])}}catch(o){a.e(o)}finally{a.f()}return n}var uq=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function cq(e){var t=e.anchor,n=e.frame,a=e.offset,r=e.orient,o=e.angle,l=e.limit,i=e.color,u=e.subtitleColor,c=e.subtitleFont,s=e.subtitleFontSize,f=e.subtitleFontStyle,d=e.subtitleFontWeight,p=e.subtitleLineHeight,g=e.subtitlePadding,h=uq(e,["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),v=Object.assign(Object.assign({},h),i?{fill:i}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),a?{offset:a}:{}),r?{orient:r}:{}),void 0!==o?{angle:o}:{}),void 0!==l?{limit:l}:{}),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?{subtitleColor:u}:{}),c?{subtitleFont:c}:{}),s?{subtitleFontSize:s}:{}),f?{subtitleFontStyle:f}:{}),d?{subtitleFontWeight:d}:{}),p?{subtitleLineHeight:p}:{}),g?{subtitlePadding:g}:{});return{titleMarkConfig:v,subtitleMarkConfig:TH(e,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:m,subtitle:y}}function sq(e){return ca(e)||pn(e)&&ca(e[0])}function fq(e){return!!(null===e||void 0===e?void 0:e.signal)}function dq(e){return!!e.step}function pq(e){return!pn(e)&&("field"in e&&"data"in e)}var gq=JH({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),hq={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},vq=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],mq=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function yq(e){var t=pn(e.condition)?e.condition.map(wq):wq(e.condition);return Object.assign(Object.assign({},bq(e)),{condition:t})}function bq(e){if(lq(e)){var t=e.expr,n=mq(e,["expr"]);return Object.assign({signal:t},n)}return e}function wq(e){if(lq(e)){var t=e.expr,n=mq(e,["expr"]);return Object.assign({signal:t},n)}return e}function kq(e){if(lq(e)){var t=e.expr,n=mq(e,["expr"]);return Object.assign({signal:t},n)}return fq(e)?e:void 0!==e?{value:e}:void 0}function Cq(e){return fq(e)?e.signal:ma(e)}function xq(e){return fq(e)?e.signal:ma(e.value)}function Pq(e){return fq(e)?e.signal:null==e?null:ma(e)}function _q(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function Eq(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.vgChannel,o=a.ignoreVgConfig;return r&&void 0!==t[r]?t[r]:void 0!==t[e]?t[e]:!o||r&&r!==e?Sq(e,t,n,a):void 0}function Sq(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.vgChannel;return pU(r?Bq(e,t,n.style):void 0,Bq(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function Bq(e,t,n){return Oq(e,_q(t),n)}function Oq(e,t,n){var a,r,o=Wc(t=Rn(t));try{for(o.s();!(r=o.n()).done;){var l=n[r.value];l&&void 0!==l[e]&&(a=l[e])}}catch(i){o.e(i)}finally{o.f()}return a}function Aq(e,t){return Rn(e).reduce((function(e,n){var a;return e.field.push(uY(n,t)),e.order.push(null!==(a=n.sort)&&void 0!==a?a:"ascending"),e}),{field:[],order:[]})}function Dq(e,t){var n=B(e);return t.forEach((function(e){var t,a=Wc(n);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(MH(r,e))return}}catch(o){a.e(o)}finally{a.f()}n.push(e)})),n}function Mq(e,t){return MH(e,t)||!t?e:e?[].concat(B(Rn(e)),B(Rn(t))).join(", "):t}function Nq(e,t){var n=e.value,a=t.value;if(null==n||null===a)return{explicit:e.explicit,value:null};if((sq(n)||fq(n))&&(sq(a)||fq(a)))return{explicit:e.explicit,value:Mq(n,a)};if(sq(n)||fq(n))return{explicit:e.explicit,value:n};if(sq(a)||fq(a))return{explicit:e.explicit,value:a};if(!sq(n)&&!fq(n)&&!sq(a)&&!fq(a))return{explicit:e.explicit,value:Dq(n,a)};throw new Error("It should never reach here")}function jq(e){return"Invalid specification ".concat(IH(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var Tq='Autosize "fit" only works for single views and layered views.';function Fq(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function Iq(e){var t="width"==e?"x":"y";return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(t,'".')}function Rq(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat(CW(e),"."):'Dropping "fit" because spec has discrete size.'}function zq(e){return"Unknown field for ".concat(e,". Cannot calculate view size.")}function Lq(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function Hq(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function Uq(e){return"Selection not supported for ".concat(e," yet.")}var Wq="The same selection must be used to override scale domains in a layered view.";function qq(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}function Gq(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}function Vq(e){return"Ignoring an invalid transform: ".concat(IH(e),".")}function $q(e){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(e," are dropped.")}function Yq(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(IH(n),"}.")}function Qq(e){return'Invalid field type "'.concat(e,'".')}function Xq(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}function Kq(e){return'Invalid aggregation operator "'.concat(e,'".')}function Jq(e,t){var n=t.fill,a=t.stroke;return"Dropping color ".concat(e," as the plot also has ").concat(n&&a?"fill and stroke":n?"fill":"stroke",".")}function Zq(e,t){return"Dropping ".concat(IH(e),' from channel "').concat(t,'" since it does not contain any data field, datum, value, or signal.')}function eG(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function tG(e){return"".concat(e," encoding has no scale, so specified scale is ignored.")}function nG(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function aG(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}function rG(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function oG(e){return"The ".concat(e," for range marks cannot be an expression")}function lG(e){return"Using unaggregated domain with raw field has no effect (".concat(IH(e),").")}function iG(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function uG(e){return"Unaggregated domain is currently unsupported for log scale (".concat(IH(e),").")}function cG(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}function sG(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}function fG(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function dG(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}var pG="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function gG(e,t){return"Invalid ".concat(e,": ").concat(IH(t),".")}function hG(e){return"1D error band does not support ".concat(e,".")}function vG(e){return"Channel ".concat(e,' is required for "binned" bin.')}function mG(e){return"Channel ".concat(e,' should not be used with "binned" bin.')}var yG=dn(cn),bG=yG;function wG(e){return bG=e}function kG(){return bG=yG}function CG(){var e;(e=bG).warn.apply(e,arguments)}function xG(e){if(e&&gn(e)){var t,n=Wc(jG);try{for(n.s();!(t=n.n()).done;){if(t.value in e)return!0}}catch(a){n.e(a)}finally{n.f()}}return!1}new WeakMap;var PG=["january","february","march","april","may","june","july","august","september","october","november","december"],_G=PG.map((function(e){return e.substr(0,3)})),EG=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],SG=EG.map((function(e){return e.substr(0,3)}));function BG(e,t){var n=[];if(t&&void 0!==e.day&&JH(e).length>1&&(CG(function(e){return"Dropping day from datetime ".concat(IH(e)," as day cannot be combined with other units.")}(e)),delete(e=NH(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){var a=t?function(e){if(wU(e)&&(e=+e),ia(e))return e-1;var t=e.toLowerCase(),n=PG.indexOf(t);if(-1!==n)return n;var a=t.substr(0,3),r=_G.indexOf(a);if(-1!==r)return r;throw new Error(gG("month",e))}(e.month):e.month;n.push(a)}else if(void 0!==e.quarter){var r=t?function(e){if(wU(e)&&(e=+e),ia(e))return e>4&&CG(gG("quarter",e)),e-1;throw new Error(gG("quarter",e))}(e.quarter):e.quarter;n.push(ia(r)?3*r:"".concat(r,"*3"))}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var o=t?function(e){if(wU(e)&&(e=+e),ia(e))return e%7;var t=e.toLowerCase(),n=EG.indexOf(t);if(-1!==n)return n;var a=t.substr(0,3),r=SG.indexOf(a);if(-1!==r)return r;throw new Error(gG("day",e))}(e.day):e.day;n.push(ia(o)?o+1:"".concat(o,"+1"))}else n.push(1);for(var l=0,i=["hours","minutes","seconds","milliseconds"];l<i.length;l++){var u=e[i[l]];n.push("undefined"===typeof u?0:u)}return n}function OG(e){var t=BG(e,!0).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function AG(e){var t=BG(e,!1).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function DG(e){var t=BG(e,!0);return e.utc?+new Date(Date.UTC.apply(Date,B(t))):+L(Date,B(t))}var MG=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},NG={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},jG=JH(NG);function TG(e){return e.startsWith("utc")}var FG={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function IG(e){return jG.filter((function(t){return RG(e,t)}))}function RG(e,t){var n=e.indexOf(t);return!(n<0)&&(!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&(!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))))}function zG(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},r=a.end,o=lU(t),l=TG(e)?"utc":"";function i(e){return"quarter"===e?"(".concat(l,"quarter(").concat(o,")-1)"):"".concat(l).concat(e,"(").concat(o,")")}var u,c={},s=Wc(jG);try{for(s.s();!(u=s.n()).done;){var f=u.value;RG(e,f)&&(c[f]=i(f),n=f)}}catch(d){s.e(d)}finally{s.f()}return r&&(c[n]+="+1"),AG(c)}function LG(e){if(e){var t=IG(e);return"timeUnitSpecifier(".concat(IH(t),", ").concat(IH(FG),")")}}function HG(e){var t;if(e)return ca(e)?t={unit:e}:gn(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),TG(t.unit)&&(t.utc=!0,t.unit=function(e){return e.substr(3)}(t.unit)),t}function UG(e){var t=HG(e),n=t.utc,a=MG(t,["utc"]);return a.unit?(n?"utc":"")+JH(a).map((function(e){return nU("".concat("unit"===e?"":"_".concat(e,"_")).concat(a[e]))})).join(""):(n?"utc":"")+"timeunit"+JH(a).map((function(e){return nU("_".concat(e,"_").concat(a[e]))})).join("")}function WG(e){return!!(null===e||void 0===e?void 0:e.field)&&void 0!==e.equal}function qG(e){return!!(null===e||void 0===e?void 0:e.field)&&void 0!==e.lt}function GG(e){return!!(null===e||void 0===e?void 0:e.field)&&void 0!==e.lte}function VG(e){return!!(null===e||void 0===e?void 0:e.field)&&void 0!==e.gt}function $G(e){return!!(null===e||void 0===e?void 0:e.field)&&void 0!==e.gte}function YG(e){if(null===e||void 0===e?void 0:e.field){if(pn(e.range)&&2===e.range.length)return!0;if(fq(e.range))return!0}return!1}function QG(e){return!!(null===e||void 0===e?void 0:e.field)&&(pn(e.oneOf)||pn(e.in))}function XG(e){return!!(null===e||void 0===e?void 0:e.field)&&void 0!==e.valid}function KG(e){return QG(e)||WG(e)||YG(e)||qG(e)||VG(e)||GG(e)||$G(e)}function JG(e,t){return OY(e,{timeUnit:t,wrapTime:!0})}function ZG(e,t){return e.map((function(e){return JG(e,t)}))}function eV(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.field,r=null===(t=HG(e.timeUnit))||void 0===t?void 0:t.unit,o=r?"time(".concat(zG(r,a),")"):uY(e,{expr:"datum"});if(WG(e))return"".concat(o,"===").concat(JG(e.equal,r));if(qG(e)){var l=e.lt;return"".concat(o,"<").concat(JG(l,r))}if(VG(e)){var i=e.gt;return"".concat(o,">").concat(JG(i,r))}if(GG(e)){var u=e.lte;return"".concat(o,"<=").concat(JG(u,r))}if($G(e)){var c=e.gte;return"".concat(o,">=").concat(JG(c,r))}if(QG(e))return"indexof([".concat(ZG(e.oneOf,r).join(","),"], ").concat(o,") !== -1");if(XG(e))return tV(o,e.valid);if(YG(e)){var s=e.range,f=fq(s)?{signal:"".concat(s.signal,"[0]")}:s[0],d=fq(s)?{signal:"".concat(s.signal,"[1]")}:s[1];if(null!==f&&null!==d&&n)return"inrange("+o+", ["+JG(f,r)+", "+JG(d,r)+"])";var p=[];return null!==f&&p.push("".concat(o," >= ").concat(JG(f,r))),null!==d&&p.push("".concat(o," <= ").concat(JG(d,r))),p.length>0?p.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(IH(e)))}function tV(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function nV(e){var t;return KG(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=HG(e.timeUnit))||void 0===t?void 0:t.unit}):e}var aV={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function rV(e){return"ordinal"===e||"nominal"===e}var oV=aV.quantitative,lV=aV.ordinal,iV=aV.temporal,uV=aV.nominal,cV=aV.geojson;JH(aV);function sV(e){if(e)switch(e=e.toLowerCase()){case"q":case oV:return"quantitative";case"t":case iV:return"temporal";case"o":case lV:return"ordinal";case"n":case uV:return"nominal";case cV:return"geojson"}}var fV=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},dV="linear",pV="log",gV="time",hV="utc",vV="point",mV="band",yV={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};JH(yV);function bV(e,t){var n=yV[e],a=yV[t];return n===a||"ordinal-position"===n&&"time"===a||"ordinal-position"===a&&"time"===n}var wV={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function kV(e){return wV[e]}var CV=new Set(["linear","log","pow","sqrt","symlog"]),xV=new Set([].concat(B(CV),["time","utc"]));function PV(e){return CV.has(e)}var _V=new Set(["quantile","quantize","threshold"]),EV=new Set([].concat(B(xV),B(_V),["sequential","identity"])),SV=new Set(["ordinal","bin-ordinal","point","band"]);new Set(["time","utc"]);function BV(e){return SV.has(e)}function OV(e){return EV.has(e)}function AV(e){return xV.has(e)}function DV(e){return _V.has(e)}function MV(e){return null===e||void 0===e?void 0:e.param}var NV={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},jV=(JH(NV),fV(NV,["type","domain","range","rangeMax","rangeMin","scheme"])),TV=JH(jV);function FV(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return AV(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return AV(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"clamp":return AV(e);case"nice":return AV(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return OV(e)&&!LH(["log","time","utc","threshold","quantile"],e)}}function IV(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return cW(e)?void 0:'Cannot use the scale property "'.concat(t,'" with non-color channel.');case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function RV(e,t){return LH([lV,uV],t)?void 0===e||BV(e):t===iV?LH([gV,hV,void 0],e):t!==oV||(PV(e)||DV(e)||void 0===e)}function zV(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!LW(e))return!1;switch(e){case _U:case EU:case OU:case AU:case NU:case DU:return!!AV(t)||("band"===t||"point"===t&&!n);case WU:case YU:case GU:case VU:case $U:case qU:return AV(t)||DV(t)||LH(["band","point","ordinal"],t);case zU:case LU:case HU:return"band"!==t;case QU:case UU:return"ordinal"===t||DV(t)}}var LV={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},HV=LV.arc,UV=LV.area,WV=LV.bar,qV=LV.image,GV=LV.line,VV=LV.point,$V=LV.rect,YV=LV.rule,QV=LV.text,XV=LV.tick,KV=LV.trail,JV=LV.circle,ZV=LV.square,e$=LV.geoshape;function t$(e){return["line","area","trail"].includes(e)}function n$(e){return["rect","bar","image","arc"].includes(e)}var a$=new Set(JH(LV));function r$(e){return e.type}var o$=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),l$=JH({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),i$=JH({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function u$(e){return e&&void 0!=e.band}var c$={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},s$={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},f$={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function d$(e){var t=e.channel,n=e.channelDef,a=e.markDef,r=e.scale,o=e.config,l=m$(e);return Y$(n)&&!KW(n.aggregate)&&r&&AV(r.get("type"))?function(e){var t=e.fieldDef,n=e.channel,a=e.markDef,r=e.ref,o=e.config;if(t$(a.type))return r;if(null===Eq("invalid",a,o))return[p$(t,n),r];return r}({fieldDef:n,channel:t,markDef:a,ref:l,config:o}):l}function p$(e,t){var n=g$(e,!0),a="y"===bW(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},a)}function g$(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return tV(ca(e)?e:uY(e,{expr:"datum"}),!t)}function h$(e,t,n,a){var r={};if(t&&(r.scale=t),X$(e)){var o=e.datum;xG(o)?r.signal=OG(o):fq(o)?r.signal=o.signal:lq(o)?r.signal=o.expr:r.value=o}else r.field=uY(e,n);if(a){var l=a.offset,i=a.band;l&&(r.offset=l),i&&(r.band=i)}return r}function v$(e){var t=e.scaleName,n=e.fieldOrDatumDef,a=e.fieldOrDatumDef2,r=e.offset,o=e.startSuffix,l=e.bandPosition,i=void 0===l?.5:l,u=0<i&&i<1?"datum":void 0,c=uY(n,{expr:u,suffix:o}),s=void 0!==a?uY(a,{expr:u}):uY(n,{suffix:"end",expr:u}),f={};if(0===i||1===i){f.scale=t;var d=0===i?c:s;f.field=d}else{var p=fq(i)?"".concat(i.signal," * ").concat(c," + (1-").concat(i.signal,") * ").concat(s):"".concat(i," * ").concat(c," + ").concat(1-i," * ").concat(s);f.signal='scale("'.concat(t,'", ').concat(p,")")}return r&&(f.offset=r),f}function m$(e){var t,n=e.channel,a=e.channelDef,r=e.channel2Def,o=e.markDef,l=e.config,i=e.scaleName,u=e.scale,c=e.stack,s=e.offset,f=e.defaultRef,d=e.bandPosition;if(a){if(Z$(a)){var p=null===u||void 0===u?void 0:u.get("type");if(eY(a)){null!==d&&void 0!==d||(d=U$({fieldDef:a,fieldDef2:r,markDef:o,config:l}));var g=a.bin,h=a.timeUnit,v=a.type;if(tq(g)||d&&h&&v===iV)return(null===c||void 0===c?void 0:c.impute)?h$(a,i,{binSuffix:"mid"},{offset:s}):d&&!BV(p)?v$({scaleName:i,fieldOrDatumDef:a,bandPosition:d,offset:s}):h$(a,i,DY(a,n)?{binSuffix:"range"}:{},{offset:s});if(nq(g)){if(Y$(r))return v$({scaleName:i,fieldOrDatumDef:a,fieldOrDatumDef2:r,bandPosition:d,offset:s});CG(vG(n===_U?SU:BU))}}return h$(a,i,BV(p)?{binSuffix:"range"}:{},{offset:s,band:"band"===p?null!==(t=null!==d&&void 0!==d?d:a.bandPosition)&&void 0!==t?t:.5:void 0})}if(tY(a)){var m=a.value,y=s?{offset:s}:{};return Object.assign(Object.assign({},y$(n,m)),y)}}return Ln(f)&&(f=f()),f?Object.assign(Object.assign({},f),s?{offset:s}:{}):f}function y$(e,t){return LH(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:LH(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:kq(t)}function b$(e){return e&&"number"!==e&&"time"!==e}function w$(e,t,n){return"".concat(e,"(").concat(t).concat(n?", ".concat(IH(n)):"",")")}function k$(e){var t,n,a=e.fieldOrDatumDef,r=e.format,o=e.formatType,l=e.expr,i=e.normalizeStack,u=e.config;if(b$(o))return x$({fieldOrDatumDef:a,format:r,formatType:o,expr:l,config:u});var c=C$(a,l,i),s=Q$(a);if(void 0===r&&void 0===o&&u.customFormatTypes){if("quantitative"===s){if(i&&u.normalizedNumberFormatType)return x$({fieldOrDatumDef:a,format:u.normalizedNumberFormat,formatType:u.normalizedNumberFormatType,expr:l,config:u});if(u.numberFormatType)return x$({fieldOrDatumDef:a,format:u.numberFormat,formatType:u.numberFormatType,expr:l,config:u})}if("temporal"===s&&u.timeFormatType&&Y$(a)&&void 0===a.timeUnit)return x$({fieldOrDatumDef:a,format:u.timeFormat,formatType:u.timeFormatType,expr:l,config:u})}if(BY(a)){var f=function(e){var t=e.field,n=e.timeUnit,a=e.format,r=e.formatType,o=e.rawTimeFormat,l=e.isUTCScale;return!n||a?!n&&r?"".concat(r,"(").concat(t,", '").concat(a,"')"):(a=ca(a)?a:o,"".concat(l?"utc":"time","Format(").concat(t,", '").concat(a,"')")):function(e,t,n){if(e){var a=LG(e),r=n||TG(e);return"".concat(r?"utc":"time","Format(").concat(t,", ").concat(a,")")}}(n,t,l)}({field:c,timeUnit:Y$(a)?null===(t=HG(a.timeUnit))||void 0===t?void 0:t.unit:void 0,format:r,formatType:u.timeFormatType,rawTimeFormat:u.timeFormat,isUTCScale:nY(a)&&(null===(n=a.scale)||void 0===n?void 0:n.type)===hV});return f?{signal:f}:void 0}return r=E$({type:s,specifiedFormat:r,config:u,normalizeStack:i}),Y$(a)&&tq(a.bin)?{signal:O$(c,uY(a,{expr:l,binSuffix:"end"}),r,o,u)}:r||"quantitative"===Q$(a)?{signal:"".concat(S$(c,r))}:{signal:"isValid(".concat(c,") ? ").concat(c,' : ""+').concat(c)}}function C$(e,t,n){return Y$(e)?n?"".concat(uY(e,{expr:t,suffix:"end"}),"-").concat(uY(e,{expr:t,suffix:"start"})):uY(e,{expr:t}):function(e){var t=e.datum;return xG(t)?OG(t):"".concat(IH(t))}(e)}function x$(e){var t=e.fieldOrDatumDef,n=e.format,a=e.formatType,r=e.expr,o=e.normalizeStack,l=e.config,i=e.field;return null!==i&&void 0!==i||(i=C$(t,r,o)),"datum.value"!==i&&Y$(t)&&tq(t.bin)?{signal:O$(i,uY(t,{expr:r,binSuffix:"end"}),n,a,l)}:{signal:w$(a,i,n)}}function P$(e,t,n,a,r,o){var l;if(!b$(a)){if(void 0===n&&void 0===a&&r.customFormatTypes&&"quantitative"===Q$(e)){if(r.normalizedNumberFormatType&&aY(e)&&"normalize"===e.stack)return;if(r.numberFormatType)return}if(aY(e)&&"normalize"===e.stack&&r.normalizedNumberFormat)return E$({type:"quantitative",config:r,normalizeStack:!0});if(BY(e)){var i=Y$(e)?null===(l=HG(e.timeUnit))||void 0===l?void 0:l.unit:void 0;if(void 0===i&&r.customFormatTypes&&r.timeFormatType)return;return function(e){var t=e.specifiedFormat,n=e.timeUnit,a=e.config,r=e.omitTimeFormatConfig;if(t)return t;if(n)return{signal:LG(n)};return r?void 0:a.timeFormat}({specifiedFormat:n,timeUnit:i,config:r,omitTimeFormatConfig:o})}return E$({type:t,specifiedFormat:n,config:r})}}function _$(e,t,n){var a;return e&&(fq(e)||"number"===e||"time"===e)?e:BY(t)&&"time"!==n&&"utc"!==n?Y$(t)&&(null===(a=HG(null===t||void 0===t?void 0:t.timeUnit))||void 0===a?void 0:a.utc)?"utc":"time":void 0}function E$(e){var t=e.type,n=e.specifiedFormat,a=e.config,r=e.normalizeStack;return ca(n)?n:t===oV?r?a.normalizedNumberFormat:a.numberFormat:void 0}function S$(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function B$(e,t,n,a){var r;return b$(n)?w$(n,e,t):S$(e,null!==(r=ca(t)?t:void 0)&&void 0!==r?r:a.numberFormat)}function O$(e,t,n,a,r){if(void 0===n&&void 0===a&&r.customFormatTypes&&r.numberFormatType)return O$(e,t,r.numberFormat,r.numberFormatType,r);var o=B$(e,n,a,r),l=B$(t,n,a,r);return"".concat(tV(e,!1),' ? "null" : ').concat(o,' + "').concat(" \u2013 ",'" + ').concat(l)}var A$="min",D$={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function M$(e){return e in D$}function N$(e){return!!(null===e||void 0===e?void 0:e.encoding)}function j$(e){return e&&("count"===e.op||!!e.field)}function T$(e){return e&&pn(e)}function F$(e){return"row"in e||"column"in e}function I$(e){return!!e&&"header"in e}function R$(e){return"facet"in e}var z$=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function L$(e){var t=e.field,n=e.timeUnit,a=e.bin,r=e.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),a?{bin:a}:{}),r?{aggregate:r}:{}),{field:t})}function H$(e){return"sort"in e}function U$(e){var t=e.fieldDef,n=e.fieldDef2,a=e.markDef,r=e.config;if(Z$(t)&&void 0!==t.bandPosition)return t.bandPosition;if(Y$(t)){var o=t.timeUnit,l=t.bin;if(o&&!n)return n$(a.type)?0:Sq("timeUnitBandPosition",a,r);if(tq(l))return.5}}function W$(e){var t,n,a,r=e.channel,o=e.fieldDef,l=e.fieldDef2,i=e.markDef,u=e.config,c=e.scaleType,s=e.useVlSizeChannel,f=CW(r),d=Eq(s?"size":f,i,u,{vgChannel:f});if(void 0!==d)return d;if(Y$(o)){var p=o.timeUnit,g=o.bin;if(p&&!l)return{band:Sq("timeUnitBandSize",i,u)};if(tq(g)&&!BV(c))return{band:1}}return n$(i.type)?c?BV(c)?(null===(t=u[i.type])||void 0===t?void 0:t.discreteBandSize)||{band:1}:null===(n=u[i.type])||void 0===n?void 0:n.continuousBandSize:null===(a=u[i.type])||void 0===a?void 0:a.discreteBandSize:void 0}function q$(e,t,n,a){return!!(tq(e.bin)||e.timeUnit&&eY(e)&&"temporal"===e.type)&&void 0!==U$({fieldDef:e,fieldDef2:t,markDef:n,config:a})}function G$(e){return e&&"condition"in e}function V$(e){var t=null===e||void 0===e?void 0:e.condition;return!!t&&!pn(t)&&Y$(t)}function $$(e){var t=null===e||void 0===e?void 0:e.condition;return!!t&&!pn(t)&&Z$(t)}function Y$(e){return e&&(!!e.field||"count"===e.aggregate)}function Q$(e){return null===e||void 0===e?void 0:e.type}function X$(e){return e&&"datum"in e}function K$(e){return eY(e)&&!cY(e)||J$(e)}function J$(e){return X$(e)&&ia(e.datum)}function Z$(e){return Y$(e)||X$(e)}function eY(e){return e&&("field"in e||"count"===e.aggregate)&&"type"in e}function tY(e){return e&&"value"in e&&"value"in e}function nY(e){return e&&("scale"in e||"sort"in e)}function aY(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function rY(e){return e&&"legend"in e}function oY(e){return e&&("format"in e||"formatType"in e)}function lY(e){return FH(e,["legend","axis","header","scale"])}function iY(e){return"op"in e}function uY(e){var t,n,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.field,l=r.prefix,i=r.suffix,u="";if(sY(e))o=mU("count");else{var c;if(!r.nofn)if(iY(e))c=e.op;else{var s=e.bin,f=e.aggregate,d=e.timeUnit;tq(s)?(c=eq(s),i=(null!==(t=r.binSuffix)&&void 0!==t?t:"")+(null!==(n=r.suffix)&&void 0!==n?n:"")):f?YW(f)?(u='["'.concat(o,'"]'),o="argmax_".concat(f.argmax)):$W(f)?(u='["'.concat(o,'"]'),o="argmin_".concat(f.argmin)):c=String(f):d&&(c=UG(d),i=(!["range","mid"].includes(r.binSuffix)&&r.binSuffix||"")+(null!==(a=r.suffix)&&void 0!==a?a:""))}c&&(o=o?"".concat(c,"_").concat(o):c)}return i&&(o="".concat(o,"_").concat(i)),l&&(o="".concat(l,"_").concat(o)),r.forAs?fU(o):r.expr?iU(o,r.expr)+u:cU(o)+u}function cY(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Y$(e)&&!!e.bin;case"temporal":return!1}throw new Error(Qq(e.type))}function sY(e){return"count"===e.aggregate}var fY=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){var t=e.aggregate,n=e.bin,a=e.timeUnit,r=e.field;if(YW(t))return"".concat(r," for argmax(").concat(t.argmax,")");if($W(t))return"".concat(r," for argmin(").concat(t.argmin,")");var o=HG(a),l=t||(null===o||void 0===o?void 0:o.unit)||(null===o||void 0===o?void 0:o.maxbins)&&"timeunit"||tq(n)&&"bin";return l?"".concat(l.toUpperCase(),"(").concat(r,")"):r}(e);default:return function(e,t){var n,a=e.field,r=e.bin,o=e.timeUnit,l=e.aggregate;if("count"===l)return t.countTitle;if(tq(r))return"".concat(a," (binned)");if(o){var i=null===(n=HG(o))||void 0===n?void 0:n.unit;if(i)return"".concat(a," (").concat(IG(i).join("-"),")")}else if(l)return YW(l)?"".concat(a," for max ").concat(l.argmax):$W(l)?"".concat(a," for min ").concat(l.argmin):"".concat(oU(l)," of ").concat(a);return a}(e,t)}},dY=fY;function pY(e){dY=e}function gY(){pY(fY)}function hY(e,t,n){var a,r,o=n.allowDisabling,l=n.includeDefault,i=void 0===l||l,u=null===(a=vY(e))||void 0===a?void 0:a.title;if(!Y$(e))return null!==u&&void 0!==u?u:e.title;var c=e,s=i?mY(c,t):void 0;return o?pU(u,c.title,s):null!==(r=null!==u&&void 0!==u?u:c.title)&&void 0!==r?r:s}function vY(e){return aY(e)&&e.axis?e.axis:rY(e)&&e.legend?e.legend:I$(e)&&e.header?e.header:void 0}function mY(e,t){return dY(e,t)}function yY(e){var t;if(oY(e))return{format:e.format,formatType:e.formatType};var n=null!==(t=vY(e))&&void 0!==t?t:{};return{format:n.format,formatType:n.formatType}}function bY(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(H$(e)&&pn(e.sort))return"ordinal";var a=e.aggregate,r=e.bin;if(e.timeUnit)return"temporal";if(r||a&&!YW(a)&&!$W(a))return"quantitative";if(nY(e)&&(null===(n=e.scale)||void 0===n?void 0:n.type))switch(yV[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function wY(e){return Y$(e)?e:V$(e)?e.condition:void 0}function kY(e){return Z$(e)?e:$$(e)?e.condition:void 0}function CY(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(ca(e)||ia(e)||ra(e)){var r=ca(e)?"string":ia(e)?"number":"boolean";return CG(Yq(t,r,e)),{value:e}}return Z$(e)?xY(e,t,n,a):$$(e)?Object.assign(Object.assign({},e),{condition:xY(e.condition,t,n,a)}):e}function xY(e,t,n,a){if(oY(e)){e.format;var r=e.formatType,o=z$(e,["format","formatType"]);if(b$(r)&&!n.customFormatTypes)return CG($q(t)),xY(o,t,n,a)}else{var l=aY(e)?"axis":rY(e)?"legend":I$(e)?"header":null;if(l&&e[l]){var i=e[l],u=(i.format,i.formatType),c=z$(i,["format","formatType"]);if(b$(u)&&!n.customFormatTypes)return CG($q(t)),xY(Object.assign(Object.assign({},e),pr({},l,c)),t,n,a)}}return Y$(e)?PY(e,t,a):function(e){var t=e.type;if(t)return e;var n=e.datum;return t=ia(n)?"quantitative":ca(n)?"nominal":xG(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function PY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.compositeMark,r=void 0!==a&&a,o=e.aggregate,l=e.timeUnit,i=e.bin,u=e.field,c=Object.assign({},e);if(r||!o||QW(o)||YW(o)||$W(o)||(CG(Kq(o)),delete c.aggregate),l&&(c.timeUnit=HG(l)),u&&(c.field="".concat(u)),tq(i)&&(c.bin=_Y(i,t)),nq(i)&&!AW(t)&&CG(mG(t)),eY(c)){var s=c.type,f=sV(s);s!==f&&(c.type=f),"quantitative"!==s&&KW(o)&&(CG(Xq(s,o)),c.type="quantitative")}else if(!yW(t)){var d=bY(c,t);c.type=d}if(eY(c)){var p=SY(c,t)||{},g=p.compatible,h=p.warning;!1===g&&CG(h)}if(H$(c)&&ca(c.sort)){var v=c.sort;if(M$(v))return Object.assign(Object.assign({},c),{sort:{encoding:v}});var m=v.substr(1);if("-"===v.charAt(0)&&M$(m))return Object.assign(Object.assign({},c),{sort:{encoding:m,order:"descending"}})}if(I$(c)){var y=c.header;if(y){var b=y.orient,w=z$(y,["orient"]);if(b)return Object.assign(Object.assign({},c),{header:Object.assign(Object.assign({},w),{labelOrient:y.labelOrient||b,titleOrient:y.titleOrient||b})})}}return c}function _Y(e,t){return ra(e)?{maxbins:oq(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:oq(t)})}var EY={compatible:!0};function SY(e,t){var n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case CU:case xU:case PU:return cY(e)?EY:{compatible:!1,warning:nG(t)};case _U:case EU:case OU:case AU:case zU:case LU:case HU:case XU:case JU:case ZU:case eW:case tW:case nW:case qU:case NU:case DU:case aW:return EY;case FU:case RU:case TU:case IU:return n!==oV?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:EY;case GU:case VU:case $U:case YU:case WU:case jU:case MU:case SU:case BU:return"nominal"!==n||e.sort?EY:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case UU:case QU:return cY(e)||function(e){var t;return nY(e)&&DV(null===(t=e.scale)||void 0===t?void 0:t.type)}(e)?EY:{compatible:!1,warning:aG(t)};case KU:return"nominal"!==e.type||"sort"in e?EY:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function BY(e){var t=yY(e).formatType;return"time"===t||!t&&function(e){return e&&("temporal"===e.type||Y$(e)&&!!e.timeUnit)}(e)}function OY(e,t){var n,a,r=t.timeUnit,o=t.type,l=t.wrapTime,i=t.undefinedIfExprNotRequired,u=r&&(null===(n=HG(r))||void 0===n?void 0:n.unit),c=u||"temporal"===o;return lq(e)?a=e.expr:fq(e)?a=e.signal:xG(e)?(c=!0,a=OG(e)):(ca(e)||ia(e))&&c&&(a="datetime(".concat(IH(e),")"),function(e){return!!NG[e]}(u)&&(ia(e)&&e<1e4||ca(e)&&isNaN(Date.parse(e)))&&(a=OG(pr({},u,e)))),a?l&&c?"time(".concat(a,")"):a:i?void 0:IH(e)}function AY(e,t){var n=e.type;return t.map((function(t){var a=OY(t,{timeUnit:Y$(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==a?{signal:a}:t}))}function DY(e,t){return tq(e.bin)?LW(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}var MY={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function NY(e){return null===e||void 0===e?void 0:e.condition}var jY=["domain","grid","labels","ticks","title"],TY={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},FY={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},IY=Object.assign(Object.assign({},FY),{style:1,labelExpr:1,encoding:1});function RY(e){return!!IY[e]}JH(IY);var zY=JH({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function LY(e){return"mark"in e}var HY=function(){function e(t,n){O(this,e),this.name=t,this.run=n}return D(e,[{key:"hasMatchingType",value:function(e){return!!LY(e)&&function(e){return r$(e)?e.type:e}(e.mark)===this.name}}]),e}(),UY=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function WY(e,t){var n=e&&e[t];return!!n&&(pn(n)?HH(n,(function(e){return!!e.field})):Y$(n)||V$(n))}function qY(e,t){var n=e&&e[t];return!!n&&(pn(n)?HH(n,(function(e){return!!e.field})):Y$(n)||X$(n)||$$(n))}function GY(e,t){if(AW(t)){var n=e[t];if((Y$(n)||X$(n))&&rV(n.type))return qY(e,xW(t))}return!1}function VY(e){return HH(pW,(function(t){if(WY(e,t)){var n=e[t];if(pn(n))return HH(n,(function(e){return!!e.aggregate}));var a=wY(n);return a&&!!a.aggregate}return!1}))}function $Y(e,t){var n=[],a=[],r=[],o=[],l={};return KY(e,(function(i,u){if(Y$(i)){var c=i.field,s=i.aggregate,f=i.bin,d=i.timeUnit,p=UY(i,["field","aggregate","bin","timeUnit"]);if(s||d||f){var g,h=vY(i),v=null===h||void 0===h?void 0:h.title,m=uY(i,{forAs:!0}),y=Object.assign(Object.assign(Object.assign({},v?[]:{title:hY(i,t,{allowDisabling:!0})}),p),{field:m});if(s){if(YW(s)?(g="argmax",m=uY({op:"argmax",field:s.argmax},{forAs:!0}),y.field="".concat(m,".").concat(c)):$W(s)?(g="argmin",m=uY({op:"argmin",field:s.argmin},{forAs:!0}),y.field="".concat(m,".").concat(c)):"boxplot"!==s&&"errorbar"!==s&&"errorband"!==s&&(g=s),g){var b={op:g,as:m};c&&(b.field=c),o.push(b)}}else if(n.push(m),eY(i)&&tq(f)){if(a.push({bin:f,field:c,as:m}),n.push(uY(i,{binSuffix:"end"})),DY(i,u)&&n.push(uY(i,{binSuffix:"range"})),AW(u)){var w={field:"".concat(m,"_end")};l["".concat(u,"2")]=w}y.bin="binned",yW(u)||(y.type=oV)}else if(d){r.push({timeUnit:d,field:c,as:m});var k=eY(i)&&i.type!==iV&&"time";k&&(u===XU||u===eW?y.formatType=k:!function(e){return!!EW[e]}(u)?AW(u)&&(y.axis=Object.assign({formatType:k},y.axis)):y.legend=Object.assign({formatType:k},y.legend))}l[u]=y}else n.push(c),l[u]=e[u]}else l[u]=e[u]})),{bins:a,timeUnits:r,aggregate:o,groupby:n,encoding:l}}function YY(e,t,n,a){var r,o,l={},i=Wc(JH(e));try{for(i.s();!(r=i.n()).done;){var u=r.value;vW(u)||CG("".concat(o=u,"-encoding is dropped as ").concat(o," is not a valid encoding channel."))}}catch(d){i.e(d)}finally{i.f()}var c,s=Wc(_W);try{var f=function(){var r=c.value;if(!e[r])return"continue";var o=e[r];if(TW(r)){var i=PW(r),u=l[i];if(Y$(u)){if(function(e){return"quantitative"===e||"temporal"===e}(u.type)&&Y$(o))return CG(function(e){return"".concat(e,"Offset dropped because ").concat(e," is continuous")}(i)),"continue"}else r=i,CG(function(e){return"There is no ".concat(e," encoding. Replacing ").concat(e,"Offset encoding as ").concat(e,".")}(i))}if("angle"!==r||"arc"!==t||e.theta||(CG("Arc marks uses theta channel rather than angle, replacing angle with theta."),r=NU),!function(e,t,n){var a=HW(t,n);if(!a)return!1;if("binned"===a){var r=e[t===SU?_U:EU];return!!(Y$(r)&&Y$(e[t])&&nq(r.bin))}return!0}(e,r,t))return CG(eG(r,t)),"continue";if(r===WU&&"line"===t){var s=wY(e[r]);if(null===s||void 0===s?void 0:s.aggregate)return CG("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),"continue"}if(r===zU&&(n?"fill"in e:"stroke"in e))return CG(Jq("encoding",{fill:"fill"in e,stroke:"stroke"in e})),"continue";if(r===JU||r===KU&&!pn(o)&&!tY(o)||r===eW&&pn(o))o&&(l[r]=Rn(o).reduce((function(e,t){return Y$(t)?e.push(PY(t,r)):CG(Zq(t,r)),e}),[]));else{if(r===eW&&null===o)l[r]=null;else if(!Y$(o)&&!X$(o)&&!tY(o)&&!G$(o)&&!fq(o))return CG(Zq(o,r)),"continue";l[r]=CY(o,r,a)}};for(s.s();!(c=s.n()).done;)f()}catch(d){s.e(d)}finally{s.f()}return l}function QY(e,t){var n,a={},r=Wc(JH(e));try{for(r.s();!(n=r.n()).done;){var o=n.value,l=CY(e[o],o,t,{compositeMark:!0});a[o]=l}}catch(i){r.e(i)}finally{r.f()}return a}function XY(e){var t,n=[],a=Wc(JH(e));try{for(a.s();!(t=a.n()).done;){var r=t.value;if(WY(e,r)){var o,l=Wc(Rn(e[r]));try{for(l.s();!(o=l.n()).done;){var i=o.value;Y$(i)?n.push(i):V$(i)&&n.push(i.condition)}}catch(u){l.e(u)}finally{l.f()}}}}catch(u){a.e(u)}finally{a.f()}return n}function KY(e,t,n){if(e){var a,r=Wc(JH(e));try{for(r.s();!(a=r.n()).done;){var o=a.value,l=e[o];if(pn(l)){var i,u=Wc(l);try{for(u.s();!(i=u.n()).done;){var c=i.value;t.call(n,c,o)}}catch(s){u.e(s)}finally{u.f()}}else t.call(n,l,o)}}catch(s){r.e(s)}finally{r.f()}}}function JY(e,t){return JH(t).reduce((function(n,a){switch(a){case _U:case EU:case tW:case aW:case nW:case SU:case BU:case OU:case AU:case NU:case jU:case DU:case MU:case TU:case FU:case IU:case RU:case XU:case UU:case qU:case eW:return n;case KU:if("line"===e||"trail"===e)return n;case JU:case ZU:var r=t[a];if(pn(r)||Y$(r)){var o,l=Wc(Rn(r));try{for(l.s();!(o=l.n()).done;){var i=o.value;i.aggregate||n.push(uY(i,{}))}}catch(c){l.e(c)}finally{l.f()}}return n;case WU:if("trail"===e)return n;case zU:case LU:case HU:case GU:case VU:case $U:case QU:case YU:var u=wY(t[a]);return u&&!u.aggregate&&n.push(uY(u,{})),n}}),[])}var ZY=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function eQ(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var r=e.map((function(e){var n=e.fieldPrefix,r=e.titlePrefix,o=a?" of ".concat(tQ(t)):"";return{field:n+t.field,type:t.type,title:fq(r)?{signal:"".concat(r,'"').concat(escape(o),'"')}:r+o}})),o=XY(n).map(lY);return{tooltip:[].concat(B(r),B(GH(o,RH)))}}function tQ(e){return pU(e.title,e.field)}function nQ(e,t,n,a,r){var o=n.scale,l=n.axis;return function(i){var u=i.partName,c=i.mark,s=i.positionPrefix,f=i.endPositionPrefix,d=void 0===f?void 0:f,p=i.extraEncoding,g=void 0===p?{}:p,h=tQ(n);return aQ(e,u,r,{mark:c,encoding:Object.assign(Object.assign(Object.assign(pr({},t,Object.assign(Object.assign(Object.assign({field:"".concat(s,"_").concat(n.field),type:n.type},void 0!==h?{title:h}:{}),void 0!==o?{scale:o}:{}),void 0!==l?{axis:l}:{})),ca(d)?pr({},"".concat(t,"2"),{field:"".concat(d,"_").concat(n.field)}):{}),a),g)})}}function aQ(e,t,n,a){var r=e.clip,o=e.color,l=e.opacity,i=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},a),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),r?{clip:r}:{}),o?{color:o}:{}),l?{opacity:l}:{}),r$(a.mark)?a.mark:{type:a.mark}),{style:"".concat(i,"-").concat(String(t))}),ra(e[t])?{}:e[t])})]:[]}function rQ(e,t,n){var a=e.encoding,r="vertical"===t?"y":"x",o=a[r],l=a["".concat(r,"2")],i=a["".concat(r,"Error")],u=a["".concat(r,"Error2")];return{continuousAxisChannelDef:oQ(o,n),continuousAxisChannelDef2:oQ(l,n),continuousAxisChannelDefError:oQ(i,n),continuousAxisChannelDefError2:oQ(u,n),continuousAxis:r}}function oQ(e,t){if(null===e||void 0===e?void 0:e.aggregate){var n=e.aggregate,a=ZY(e,["aggregate"]);return n!==t&&CG(function(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}(n,t)),a}return e}function lQ(e,t){var n=e.mark,a=e.encoding,r=a.x,o=a.y;if(r$(n)&&n.orient)return n.orient;if(K$(r)){if(K$(o)){var l=Y$(r)&&r.aggregate,i=Y$(o)&&o.aggregate;if(l||i!==t){if(i||l!==t){if(l===t&&i===t)throw new Error("Both x and y cannot have aggregate");return BY(o)&&!BY(r)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(K$(o))return"vertical";throw new Error("Need a valid continuous axis for ".concat(t,"s"))}var iQ=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},uQ="boxplot",cQ=new HY(uQ,fQ);function sQ(e){return ia(e)?"tukey":e}function fQ(e,t){var n,a,r=t.config,o=e=Object.assign(Object.assign({},e),{encoding:QY(e.encoding,r)}),l=o.mark,i=(o.encoding,o.params),u=(o.projection,iQ(e,["mark","encoding","params","projection"])),c=r$(l)?l:{type:l};i&&CG(Uq("boxplot"));var s=null!==(n=c.extent)&&void 0!==n?n:r.boxplot.extent,f=Eq("size",c,r),d=c.invalid,p=sQ(s),g=function(e,t,n){var a=lQ(e,uQ),r=rQ(e,a,uQ),o=r.continuousAxisChannelDef,l=r.continuousAxis,i=o.field,u=sQ(t),c=[].concat(B(dQ(i)),[{op:"median",field:i,as:"mid_box_".concat(i)},{op:"min",field:i,as:("min-max"===u?"lower_whisker_":"min_")+i},{op:"max",field:i,as:("min-max"===u?"upper_whisker_":"max_")+i}]),s="min-max"===u||"tukey"===u?[]:[{calculate:'datum["upper_box_'.concat(i,'"] - datum["lower_box_').concat(i,'"]'),as:"iqr_".concat(i)},{calculate:'min(datum["upper_box_'.concat(i,'"] + datum["iqr_').concat(i,'"] * ').concat(t,', datum["max_').concat(i,'"])'),as:"upper_whisker_".concat(i)},{calculate:'max(datum["lower_box_'.concat(i,'"] - datum["iqr_').concat(i,'"] * ').concat(t,', datum["min_').concat(i,'"])'),as:"lower_whisker_".concat(i)}],f=e.encoding,d=l,p=(f[d],function(e){var t,n,a=e.tooltip,r=ZY(e,["tooltip"]);if(!a)return{filteredEncoding:r};if(pn(a)){var o,l=Wc(a);try{for(l.s();!(o=l.n()).done;){var i=o.value;i.aggregate?(t||(t=[]),t.push(i)):(n||(n=[]),n.push(i))}}catch(u){l.e(u)}finally{l.f()}t&&(r.tooltip=t)}else a.aggregate?r.tooltip=a:n=a;return pn(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:r}}(iQ(f,["symbol"===typeof d?d:d+""]))),g=p.customTooltipWithoutAggregatedField,h=$Y(p.filteredEncoding,n),v=h.bins,m=h.timeUnits,y=h.aggregate,b=h.groupby,w=h.encoding,k="vertical"===a?"horizontal":"vertical",C=a,x=[].concat(B(v),B(m),[{aggregate:[].concat(B(y),B(c)),groupby:b}],s);return{bins:v,timeUnits:m,transform:x,groupby:b,aggregate:y,continuousAxisChannelDef:o,continuousAxis:l,encodingWithoutContinuousAxis:w,ticksOrient:k,boxOrient:C,customTooltipWithoutAggregatedField:g}}(e,s,r),h=g.bins,v=g.timeUnits,m=g.transform,y=g.continuousAxisChannelDef,b=g.continuousAxis,w=g.groupby,k=g.aggregate,C=g.encodingWithoutContinuousAxis,x=g.ticksOrient,P=g.boxOrient,_=g.customTooltipWithoutAggregatedField,E=C.color,S=C.size,O=iQ(C,["color","size"]),A=function(e){return nQ(c,b,y,e,r.boxplot)},D=A(O),M=A(C),N=A(Object.assign(Object.assign({},O),S?{size:S}:{})),j=eQ([{fieldPrefix:"min-max"===p?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===p?"lower_whisker_":"min_",titlePrefix:"Min"}],y,C),T={type:"tick",color:"black",opacity:1,orient:x,invalid:d,aria:!1},F="min-max"===p?j:eQ([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],y,C),I=[].concat(B(D({partName:"rule",mark:{type:"rule",invalid:d,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:F})),B(D({partName:"rule",mark:{type:"rule",invalid:d,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:F})),B(D({partName:"ticks",mark:T,positionPrefix:"lower_whisker",extraEncoding:F})),B(D({partName:"ticks",mark:T,positionPrefix:"upper_whisker",extraEncoding:F}))),R=[].concat(B("tukey"!==p?I:[]),B(M({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:P,invalid:d,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:j})),B(N({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:d},gn(r.boxplot.median)&&r.boxplot.median.color?{color:r.boxplot.median.color}:{}),f?{size:f}:{}),{orient:x,aria:!1}),positionPrefix:"mid_box",extraEncoding:j})));if("min-max"===p)return Object.assign(Object.assign({},u),{transform:(null!==(a=u.transform)&&void 0!==a?a:[]).concat(m),layer:R});var z,L,H='datum["lower_box_'.concat(y.field,'"]'),U='datum["upper_box_'.concat(y.field,'"]'),W="(".concat(U," - ").concat(H,")"),q="".concat(H," - ").concat(s," * ").concat(W),G="".concat(U," + ").concat(s," * ").concat(W),V='datum["'.concat(y.field,'"]'),$={joinaggregate:dQ(y.field),groupby:w},Y={transform:[{filter:"(".concat(q," <= ").concat(V,") && (").concat(V," <= ").concat(G,")")},{aggregate:[{op:"min",field:y.field,as:"lower_whisker_".concat(y.field)},{op:"max",field:y.field,as:"upper_whisker_".concat(y.field)},{op:"min",field:"lower_box_".concat(y.field),as:"lower_box_".concat(y.field)},{op:"max",field:"upper_box_".concat(y.field),as:"upper_box_".concat(y.field)}].concat(B(k)),groupby:w}],layer:I},Q=(O.tooltip,iQ(O,["tooltip"])),X=y.scale,K=y.axis,J=tQ(y),Z=FH(K,["title"]),ee=aQ(c,"outliers",r.boxplot,{transform:[{filter:"(".concat(V," < ").concat(q,") || (").concat(V," > ").concat(G,")")}],mark:"point",encoding:Object.assign(Object.assign(Object.assign(pr({},b,Object.assign(Object.assign(Object.assign({field:y.field,type:y.type},void 0!==J?{title:J}:{}),void 0!==X?{scale:X}:{}),KH(Z)?{}:{axis:Z})),Q),E?{color:E}:{}),_?{tooltip:_}:{})})[0],te=[].concat(B(h),B(v),[$]);ee?z={transform:te,layer:[ee,Y]}:(L=(z=Y).transform).unshift.apply(L,B(te));return Object.assign(Object.assign({},u),{layer:[z,{transform:m,layer:R}]})}function dQ(e){return[{op:"q1",field:e,as:"lower_box_".concat(e)},{op:"q3",field:e,as:"upper_box_".concat(e)}]}var pQ=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},gQ="errorbar",hQ=new HY(gQ,vQ);function vQ(e,t){var n=t.config,a=yQ(e=Object.assign(Object.assign({},e),{encoding:QY(e.encoding,n)}),gQ,n),r=a.transform,o=a.continuousAxisChannelDef,l=a.continuousAxis,i=a.encodingWithoutContinuousAxis,u=a.ticksOrient,c=a.markDef,s=a.outerSpec,f=a.tooltipEncoding;delete i.size;var d=nQ(c,l,o,i,n.errorbar),p=c.thickness,g=c.size,h=Object.assign(Object.assign({type:"tick",orient:u,aria:!1},void 0!==p?{thickness:p}:{}),void 0!==g?{size:g}:{}),v=[].concat(B(d({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:f})),B(d({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:f})),B(d({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==p?{size:p}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})));return Object.assign(Object.assign(Object.assign({},s),{transform:r}),v.length>1?{layer:v}:Object.assign({},v[0]))}function mQ(e,t){var n=e.encoding;if(function(e){return(Z$(e.x)||Z$(e.y))&&!Z$(e.x2)&&!Z$(e.y2)&&!Z$(e.xError)&&!Z$(e.xError2)&&!Z$(e.yError)&&!Z$(e.yError2)}(n))return{orient:lQ(e,t),inputType:"raw"};var a=function(e){return Z$(e.x2)||Z$(e.y2)}(n),r=function(e){return Z$(e.xError)||Z$(e.xError2)||Z$(e.yError)||Z$(e.yError2)}(n),o=n.x,l=n.y;if(a){if(r)throw new Error("".concat(t," cannot be both type aggregated-upper-lower and aggregated-error"));var i=n.x2,u=n.y2;if(Z$(i)&&Z$(u))throw new Error("".concat(t," cannot have both x2 and y2"));if(Z$(i)){if(K$(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(t))}if(Z$(u)){if(K$(l))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(t))}throw new Error("No ranged axis")}var c=n.xError,s=n.xError2,f=n.yError,d=n.yError2;if(Z$(s)&&!Z$(c))throw new Error("".concat(t," cannot have xError2 without xError"));if(Z$(d)&&!Z$(f))throw new Error("".concat(t," cannot have yError2 without yError"));if(Z$(c)&&Z$(f))throw new Error("".concat(t," cannot have both xError and yError with both are quantiative"));if(Z$(c)){if(K$(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Z$(f)){if(K$(l))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function yQ(e,t,n){var a,r=e.mark,o=e.encoding,l=e.params,i=(e.projection,pQ(e,["mark","encoding","params","projection"])),u=r$(r)?r:{type:r};l&&CG(Uq(t));var c=mQ(e,t),s=c.orient,f=c.inputType,d=rQ(e,s,t),p=d.continuousAxisChannelDef,g=d.continuousAxisChannelDef2,h=d.continuousAxisChannelDefError,v=d.continuousAxisChannelDefError2,m=d.continuousAxis,y=function(e,t,n,a,r,o,l,i){var u,c=[],s=[],f=t.field,d=!1;if("raw"===o){var p,g,h,v=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":i.errorbar.center,m=e.extent?e.extent:"mean"===v?"stderr":"iqr";if("median"===v!==("iqr"===m)&&CG(function(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}(v,m,l)),"stderr"===m||"stdev"===m)c=[{op:m,field:f,as:"extent_".concat(f)},{op:v,field:f,as:"center_".concat(f)}],s=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_".concat(f)},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_".concat(f)}],u=[{fieldPrefix:"center_",titlePrefix:oU(v)},{fieldPrefix:"upper_",titlePrefix:bQ(v,m,"+")},{fieldPrefix:"lower_",titlePrefix:bQ(v,m,"-")}],d=!0;else"ci"===m?(p="mean",g="ci0",h="ci1"):(p="median",g="q1",h="q3"),c=[{op:g,field:f,as:"lower_".concat(f)},{op:h,field:f,as:"upper_".concat(f)},{op:p,field:f,as:"center_".concat(f)}],u=[{fieldPrefix:"upper_",titlePrefix:hY({field:f,aggregate:h,type:"quantitative"},i,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:hY({field:f,aggregate:g,type:"quantitative"},i,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:hY({field:f,aggregate:p,type:"quantitative"},i,{allowDisabling:!1})}]}else{(e.center||e.extent)&&CG(function(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}(e.center,e.extent)),"aggregated-upper-lower"===o?(u=[],s=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_".concat(f)},{calculate:'datum["'.concat(f,'"]'),as:"lower_".concat(f)}]):"aggregated-error"===o&&(u=[{fieldPrefix:"",titlePrefix:f}],s=[{calculate:'datum["'.concat(f,'"] + datum["').concat(a.field,'"]'),as:"upper_".concat(f)}],r?s.push({calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"lower_".concat(f)}):s.push({calculate:'datum["'.concat(f,'"] - datum["').concat(a.field,'"]'),as:"lower_".concat(f)}));var y,b=Wc(s);try{for(b.s();!(y=b.n()).done;){var w=y.value;u.push({fieldPrefix:w.as.substring(0,6),titlePrefix:sU(sU(w.calculate,'datum["',""),'"]',"")})}}catch(k){b.e(k)}finally{b.f()}}return{postAggregateCalculates:s,errorBarSpecificAggregate:c,tooltipSummary:u,tooltipTitleWithFieldName:d}}(u,p,g,h,v,f,t,n),b=y.errorBarSpecificAggregate,w=y.postAggregateCalculates,k=y.tooltipSummary,C=y.tooltipTitleWithFieldName,x=o,P=m,_=(x[P],"x"===m?"x2":"y2"),E=(x[_],"x"===m?"xError":"yError"),S=(x[E],"x"===m?"xError2":"yError2"),O=(x[S],$Y(pQ(x,["symbol"===typeof P?P:P+"","symbol"===typeof _?_:_+"","symbol"===typeof E?E:E+"","symbol"===typeof S?S:S+""]),n)),A=O.bins,D=O.timeUnits,M=O.aggregate,N=O.groupby,j=O.encoding,T=[].concat(B(M),B(b)),F="raw"!==f?[]:N,I=eQ(k,p,j,C);return{transform:[].concat(B(null!==(a=i.transform)&&void 0!==a?a:[]),B(A),B(D),B(0===T.length?[]:[{aggregate:T,groupby:F}]),B(w)),groupby:F,continuousAxisChannelDef:p,continuousAxis:m,encodingWithoutContinuousAxis:j,ticksOrient:"vertical"===s?"horizontal":"vertical",markDef:u,outerSpec:i,tooltipEncoding:I}}function bQ(e,t,n){return"".concat(oU(e)," ").concat(n," ").concat(t)}var wQ="errorband",kQ=new HY(wQ,CQ);function CQ(e,t){var n=t.config,a=yQ(e=Object.assign(Object.assign({},e),{encoding:QY(e.encoding,n)}),wQ,n),r=a.transform,o=a.continuousAxisChannelDef,l=a.continuousAxis,i=a.encodingWithoutContinuousAxis,u=a.markDef,c=a.outerSpec,s=a.tooltipEncoding,f=u,d=nQ(f,l,o,i,n.errorband),p=void 0!==e.encoding.x&&void 0!==e.encoding.y,g={type:p?"area":"rect"},h={type:p?"line":"rule"},v=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{tension:f.tension}:{});return p?(g=Object.assign(Object.assign(Object.assign({},g),v),{ariaRoleDescription:"errorband"}),h=Object.assign(Object.assign(Object.assign({},h),v),{aria:!1})):f.interpolate?CG(hG("interpolate")):f.tension&&CG(hG("tension")),Object.assign(Object.assign({},c),{transform:r,layer:[].concat(B(d({partName:"band",mark:g,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:s})),B(d({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:s})),B(d({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:s})))})}var xQ={};function PQ(e,t,n){var a=new HY(e,t);xQ[e]={normalizer:a,parts:n}}PQ(uQ,fQ,["box","median","outliers","rule","ticks"]),PQ(gQ,vQ,["ticks","rule"]),PQ(wQ,CQ,["band","borders"]);var _Q=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],EQ={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},SQ={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},BQ=JH(EQ),OQ=JH(SQ),AQ=JH({header:1,headerRow:1,headerColumn:1,headerFacet:1}),DQ=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],MQ={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},NQ=(JH(MQ),"_vgsid_"),jQ={point:{on:"click",fields:[NQ],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function TQ(e){return"legend"===e||!!(null===e||void 0===e?void 0:e.legend)}function FQ(e){return TQ(e)&&gn(e)}function IQ(e){return!!(null===e||void 0===e?void 0:e.select)}var RQ=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function zQ(e){var t,n=[],a=Wc(e||[]);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(!IQ(r)){var o=r.expr,l=r.bind,i=RQ(r,["expr","bind"]);if(l&&o){var u=Object.assign(Object.assign({},i),{bind:l,init:o});n.push(u)}else{var c=Object.assign(Object.assign(Object.assign({},i),o?{update:o}:{}),l?{bind:l}:{});n.push(c)}}}}catch(s){a.e(s)}finally{a.f()}return n}function LQ(e){return"concat"in e}function HQ(e){return"vconcat"in e}function UQ(e){return"hconcat"in e}function WQ(e){var t,n=e.step;return e.offsetIsDiscrete?null!==(t=n.for)&&void 0!==t?t:"offset":"position"}function qQ(e){return gn(e)&&void 0!==e.step}function GQ(e){return e.view||e.width||e.height}var VQ=JH({align:1,bounds:1,center:1,columns:1,spacing:1});var $Q=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function YQ(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function QQ(e,t){var n=XQ(e,t);return qQ(n)?n.step:KQ}function XQ(e,t){var n;return pU(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}var KQ=20;var JQ={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:KQ},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:s$,circle:{},geoshape:{},image:{},line:{},point:{},rect:f$,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:jQ,style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},ZQ=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],eX={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},tX={blue:ZQ[0],orange:ZQ[1],red:ZQ[2],teal:ZQ[3],green:ZQ[4],yellow:ZQ[5],purple:ZQ[6],pink:ZQ[7],brown:ZQ[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function nX(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:gn(e)?Object.assign(Object.assign({},tX),e):tX}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function aX(e){return{signals:[{name:"fontSize",value:gn(e)?Object.assign(Object.assign({},eX),e):eX}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function rX(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function oX(e){var t,n={},a=Wc(JH(e||{}));try{for(a.s();!(t=a.n()).done;){var r=t.value,o=e[r];n[r]=NY(o)?yq(o):bq(o)}}catch(l){a.e(l)}finally{a.f()}return n}function lX(e){var t,n={},a=Wc(JH(e));try{for(a.s();!(t=a.n()).done;){var r=t.value;n[r]=oX(e[r])}}catch(o){a.e(o)}finally{a.f()}return n}var iX=[].concat(B(i$),B(zY),B(AQ),["background","padding","legend","lineBreak","scale","style","title","view"]);function uX(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.font,a=e.fontSize,r=e.selection,o=$Q(e,["color","font","fontSize","selection"]),l=vn({},NH(JQ),n?rX(n):{},t?nX(t):{},a?aX(a):{},o||{});r&&mn(l,"selection",r,!0);for(var i=FH(l,iX),u=0,c=["background","lineBreak","padding"];u<c.length;u++){var s=c[u];l[s]&&(i[s]=bq(l[s]))}var f,d=Wc(i$);try{for(d.s();!(f=d.n()).done;){var p=f.value;l[p]&&(i[p]=iq(l[p]))}}catch(w){d.e(w)}finally{d.f()}var g,h=Wc(zY);try{for(h.s();!(g=h.n()).done;){var v=g.value;l[v]&&(i[v]=oX(l[v]))}}catch(w){h.e(w)}finally{h.f()}var m,y=Wc(AQ);try{for(y.s();!(m=y.n()).done;){var b=m.value;l[b]&&(i[b]=iq(l[b]))}}catch(w){y.e(w)}finally{y.f()}return l.legend&&(i.legend=iq(l.legend)),l.scale&&(i.scale=iq(l.scale)),l.style&&(i.style=lX(l.style)),l.title&&(i.title=iq(l.title)),l.view&&(i.view=iq(l.view)),i}var cX=new Set(["view"].concat(B(a$))),sX=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],fX=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function dX(e){e=NH(e);var t,n=Wc(sX);try{for(n.s();!(t=n.n()).done;){delete e[t.value]}}catch(x){n.e(x)}finally{n.f()}if(e.axis)for(var a in e.axis)NY(e.axis[a])&&delete e.axis[a];if(e.legend){var r,o=Wc(_Q);try{for(o.s();!(r=o.n()).done;){var l=r.value;delete e.legend[l]}}catch(x){o.e(x)}finally{o.f()}}if(e.mark){var i,u=Wc(l$);try{for(u.s();!(i=u.n()).done;){var c=i.value;delete e.mark[c]}}catch(x){u.e(x)}finally{u.f()}e.mark.tooltip&&gn(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(zQ(e.params)),delete e.params);var s,f=Wc(cX);try{for(f.s();!(s=f.n()).done;){var d,p=s.value,g=Wc(l$);try{for(g.s();!(d=g.n()).done;){var h=d.value;delete e[p][h]}}catch(x){g.e(x)}finally{g.f()}var v=fX[p];if(v){var m,y=Wc(v);try{for(y.s();!(m=y.n()).done;){var b=m.value;delete e[p][b]}}catch(x){y.e(x)}finally{y.f()}}pX(e,p)}}catch(x){f.e(x)}finally{f.f()}var w,k=Wc(JH(xQ));try{for(k.s();!(w=k.n()).done;){delete e[w.value]}}catch(x){k.e(x)}finally{k.f()}for(var C in function(e){var t=cq(e.title),n=t.titleMarkConfig,a=t.subtitleMarkConfig,r=t.subtitle;KH(n)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),n));KH(a)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),a));KH(r)?delete e.title:e.title=r}(e),e)gn(e[C])&&KH(e[C])&&delete e[C];return KH(e)?void 0:e}function pX(e,t,n,a){var r=a?e[t][a]:e[t];"view"===t&&(n="cell");var o=Object.assign(Object.assign({},r),e.style[null!==n&&void 0!==n?n:t]);KH(o)||(e.style[null!==n&&void 0!==n?n:t]=o),a||delete e[t]}function gX(e){return"layer"in e}var hX=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},vX=function(){function e(){O(this,e)}return D(e,[{key:"map",value:function(e,t){return R$(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):UQ(e)?this.mapHConcat(e,t):HQ(e)?this.mapVConcat(e,t):LQ(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if(gX(e))return this.mapLayer(e,t);if(LY(e))return this.mapUnit(e,t);throw new Error(jq(e))}},{key:"mapLayer",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{layer:e.layer.map((function(e){return n.mapLayerOrUnit(e,t)}))})}},{key:"mapHConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapVConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapConcat",value:function(e,t){var n=this,a=e.concat,r=hX(e,["concat"]);return Object.assign(Object.assign({},r),{concat:a.map((function(e){return n.map(e,t)}))})}},{key:"mapFacet",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapRepeat",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}]),e}(),mX={zero:1,center:1,normalize:1};var yX=new Set([HV,WV,UV,YV,VV,JV,ZV,GV,QV,XV]),bX=new Set([WV,UV,HV]);function wX(e){return Y$(e)&&"quantitative"===Q$(e)&&!e.bin}function kX(e,t){var n,a,r="x"===t?"y":"radius",o=e[t],l=e[r];if(Y$(o)&&Y$(l))if(wX(o)&&wX(l)){if(o.stack)return t;if(l.stack)return r;var i=Y$(o)&&!!o.aggregate;if(i!==(Y$(l)&&!!l.aggregate))return i?t:r;var u=null===(n=o.scale)||void 0===n?void 0:n.type,c=null===(a=l.scale)||void 0===a?void 0:a.type;if(u&&"linear"!==u)return r;if(c&&"linear"!==c)return t}else{if(wX(o))return t;if(wX(l))return r}else{if(wX(o))return t;if(wX(l))return r}}function CX(e,t){var n,a,r=r$(e)?e.type:e;if(!yX.has(r))return null;var o=kX(t,"x")||kX(t,"theta");if(!o)return null;var l=t[o],i=Y$(l)?uY(l,{}):void 0,u=function(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(o),c=[],s=new Set;if(t[u]){var f=t[u],d=Y$(f)?uY(f,{}):void 0;d&&d!==i&&(c.push(u),s.add(d));var p="x"===u?"xOffset":"yOffset",g=t[p],h=Y$(g)?uY(g,{}):void 0;h&&h!==i&&(c.push(p),s.add(h))}var v,m,y,b=SW.reduce((function(e,n){if("tooltip"!==n&&WY(t,n)){var a,r=Wc(Rn(t[n]));try{for(r.s();!(a=r.n()).done;){var o=wY(a.value);if(!o.aggregate){var l=uY(o,{});l&&s.has(l)||e.push({channel:n,fieldDef:o})}}}catch(i){r.e(i)}finally{r.f()}}return e}),[]);return void 0!==l.stack?v=ra(l.stack)?l.stack?"zero":null:l.stack:bX.has(r)&&(v="zero"),v&&function(e){return e in mX}(v)?VY(t)&&0===b.length?null:(null===(n=null===l||void 0===l?void 0:l.scale)||void 0===n?void 0:n.type)&&(null===(a=null===l||void 0===l?void 0:l.scale)||void 0===a?void 0:a.type)!==dV?(CG(function(e){return"Cannot stack non-linear scale (".concat(e,").")}(l.scale.type)),null):Z$(t[kW(o)])?(void 0!==l.stack&&CG('Cannot stack "'.concat(m=o,'" if there is already "').concat(m,'2".')),null):(Y$(l)&&l.aggregate&&!JW.has(l.aggregate)&&CG((y=l.aggregate,'Stacking is applied even though the aggregate function is non-summative ("'.concat(y,'").'))),{groupbyChannels:c,groupbyFields:s,fieldChannel:o,impute:null!==l.impute&&t$(r),stackBy:b,offset:v}):null}var xX=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function PX(e){e.point,e.line;var t=xX(e,["point","line"]);return JH(t).length>1?t:t.type}function _X(e){for(var t=0,n=["line","area","rule","trail"];t<n.length;t++){var a=n[t];e[a]&&(e=Object.assign(Object.assign({},e),pr({},a,FH(e[a],["point","line"]))))}return e}function EX(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?gn(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?gn(t.point)?t.point:{}:void 0}function SX(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}var BX=function(){function e(){O(this,e),this.name="path-overlay"}return D(e,[{key:"hasMatchingType",value:function(e,t){if(LY(e)){var n=e.mark,a=e.encoding,r=r$(n)?n:{type:n};switch(r.type){case"line":case"rule":case"trail":return!!EX(r,t[r.type],a);case"area":return!!EX(r,t[r.type],a)||!!SX(r,t[r.type])}}return!1}},{key:"run",value:function(e,t,n){var a=t.config,r=e.params,o=e.projection,l=e.mark,i=e.encoding,u=xX(e,["params","projection","mark","encoding"]),c=QY(i,a),s=r$(l)?l:{type:l},f=EX(s,a[s.type],c),d="area"===s.type&&SX(s,a[s.type]),p=[Object.assign(Object.assign({},r?{params:r}:{}),{mark:PX(Object.assign(Object.assign({},"area"===s.type&&void 0===s.opacity&&void 0===s.fillOpacity?{opacity:.7}:{}),s)),encoding:FH(c,["shape"])})],g=CX(s,c),h=c;if(g){var v=g.fieldChannel,m=g.offset;h=Object.assign(Object.assign({},c),pr({},v,Object.assign(Object.assign({},c[v]),m?{stack:m}:{})))}return h=FH(h,["y2","x2"]),d&&p.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"line"},TH(s,["clip","interpolate","tension","tooltip"])),d),encoding:h})),f&&p.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},TH(s,["clip","tooltip"])),f),encoding:h})),n(Object.assign(Object.assign({},u),{layer:p}),Object.assign(Object.assign({},t),{config:_X(a)}))}}]),e}(),OX=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function AX(e,t){return t?F$(e)?FX(e,t):NX(e,t):e}function DX(e,t){return t?FX(e,t):e}function MX(e,t,n){var a=t[e];return function(e){return e&&!ca(e)&&"repeat"in e}(a)?a.repeat in n?Object.assign(Object.assign({},t),pr({},e,n[a.repeat])):void CG(function(e){return'Unknown repeated value "'.concat(e,'".')}(a.repeat)):t}function NX(e,t){if(void 0!==(e=MX("field",e,t))){if(null===e)return null;if(H$(e)&&j$(e.sort)){var n=MX("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function jX(e,t){if(Y$(e))return NX(e,t);var n=MX("datum",e,t);return n===e||n.type||(n.type="nominal"),n}function TX(e,t){if(!Z$(e)){if($$(e)){var n=jX(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});e.condition;return OX(e,["condition"])}return e}var a=jX(e,t);return a||(G$(e)?{condition:e.condition}:void 0)}function FX(e,t){var n={};for(var a in e)if(Jn(e,a)){var r=e[a];if(pn(r))n[a]=r.map((function(e){return TX(e,t)})).filter((function(e){return e}));else{var o=TX(r,t);void 0!==o&&(n[a]=o)}}return n}var IX=function(){function e(){O(this,e),this.name="RuleForRangedLine"}return D(e,[{key:"hasMatchingType",value:function(e){if(LY(e)){var t=e.encoding,n=e.mark;if("line"===n||r$(n)&&"line"===n.type){var a,r=Wc(mW);try{for(r.s();!(a=r.n()).done;){var o=a.value,l=t[bW(o)];if(t[o]&&(Y$(l)&&!nq(l.bin)||X$(l)))return!0}}catch(i){r.e(i)}finally{r.f()}}}return!1}},{key:"run",value:function(e,t,n){var a,r,o=e.encoding,l=e.mark;return CG((a=!!o.x2,r=!!o.y2,"Line mark is for continuous lines and thus cannot be used with ".concat(a&&r?"x2 and y2":a?"x2":"y2",". We will use the rule mark (line segments) instead."))),n(Object.assign(Object.assign({},e),{mark:gn(l)?Object.assign(Object.assign({},l),{type:"rule"}):"rule"}),t)}}]),e}(),RX=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},zX=function(e){N(n,e);var t=z(n);function n(){var e;return O(this,n),(e=t.apply(this,arguments)).nonFacetUnitNormalizers=[cQ,hQ,kQ,new BX,new IX],e}return D(n,[{key:"map",value:function(e,t){if(LY(e)){var a=WY(e.encoding,CU),r=WY(e.encoding,xU),o=WY(e.encoding,PU);if(a||r||o)return this.mapFacetedUnit(e,t)}return Vh(j(n.prototype),"map",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=t.parentEncoding,a=t.parentProjection,r=DX(e.encoding,t.repeater),o=Object.assign(Object.assign({},e),r?{encoding:r}:{});if(n||a)return this.mapUnitWithParentEncodingOrProjection(o,t);var l,i=this.mapLayerOrUnit.bind(this),u=Wc(this.nonFacetUnitNormalizers);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(c.hasMatchingType(o,t.config))return c.run(o,t,i)}}catch(s){u.e(s)}finally{u.f()}return o}},{key:"mapRepeat",value:function(e,t){return function(e){return!pn(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}},{key:"mapLayerRepeat",value:function(e,t){var n=this,a=e.repeat,r=e.spec,o=RX(e,["repeat","spec"]),l=a.row,i=a.column,u=a.layer,c=t.repeater,s=void 0===c?{}:c,f=t.repeaterPrefix,d=void 0===f?"":f;return l||i?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},l?{row:l}:{}),i?{column:i}:{}),spec:{repeat:{layer:u},spec:r}}),t):Object.assign(Object.assign({},o),{layer:u.map((function(e){var a=Object.assign(Object.assign({},s),{layer:e}),o="".concat((r.name||"")+d,"child__layer_").concat(nU(e)),l=n.mapLayerOrUnit(r,Object.assign(Object.assign({},t),{repeater:a,repeaterPrefix:o}));return l.name=o,l}))})}},{key:"mapNonLayerRepeat",value:function(e,t){var n,a=e,r=a.repeat,o=a.spec,l=a.data,i=RX(e,["repeat","spec","data"]);!pn(r)&&e.columns&&(e=FH(e,["columns"]),CG(qq("repeat")));var u,c=[],s=t.repeater,f=void 0===s?{}:s,d=t.repeaterPrefix,p=void 0===d?"":d,g=!pn(r)&&r.row||[f?f.row:null],h=!pn(r)&&r.column||[f?f.column:null],v=Wc(pn(r)&&r||[f?f.repeat:null]);try{for(v.s();!(u=v.n()).done;){var m,y=u.value,b=Wc(g);try{for(b.s();!(m=b.n()).done;){var w,k=m.value,C=Wc(h);try{for(C.s();!(w=C.n()).done;){var x=w.value,P={repeat:y,row:k,column:x,layer:f.layer},_=(o.name||"")+p+"child__"+(pn(r)?"".concat(nU(y)):(r.row?"row_".concat(nU(k)):"")+(r.column?"column_".concat(nU(x)):"")),E=this.map(o,Object.assign(Object.assign({},t),{repeater:P,repeaterPrefix:_}));E.name=_,c.push(FH(E,["data"]))}}catch(B){C.e(B)}finally{C.f()}}}catch(B){b.e(B)}finally{b.f()}}}catch(B){v.e(B)}finally{v.f()}var S=pn(r)?e.columns:r.column?r.column.length:1;return Object.assign(Object.assign({data:null!==(n=o.data)&&void 0!==n?n:l,align:"all"},i),{columns:S,concat:c})}},{key:"mapFacet",value:function(e,t){return F$(e.facet)&&e.columns&&(e=FH(e,["columns"]),CG(qq("facet"))),Vh(j(n.prototype),"mapFacet",this).call(this,e,t)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(e,t){var n=e.encoding,a=e.projection,r=t.parentEncoding,o=t.parentProjection,l=t.config,i=HX({parentProjection:o,projection:a}),u=LX({parentEncoding:r,encoding:DX(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),i?{projection:i}:{}),u?{encoding:u}:{}),{config:l})}},{key:"mapFacetedUnit",value:function(e,t){var n=e.encoding,a=n.row,r=n.column,o=n.facet,l=RX(n,["row","column","facet"]),i=e.mark,u=e.width,c=e.projection,s=e.height,f=e.view,d=e.params,p=(e.encoding,RX(e,["mark","width","projection","height","view","params","encoding"])),g=this.getFacetMappingAndLayout({row:a,column:r,facet:o},t),h=g.facetMapping,v=g.layout,m=DX(l,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},p),v),{facet:h,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?{width:u}:{}),s?{height:s}:{}),f?{view:f}:{}),c?{projection:c}:{}),{mark:i,encoding:m}),d?{params:d}:{})}),t)}},{key:"getFacetMappingAndLayout",value:function(e,t){var n,a=e.row,r=e.column,o=e.facet;if(a||r){o&&CG((v=[].concat(B(a?[CU]:[]),B(r?[xU]:[])),"Facet encoding dropped as ".concat(v.join(" and ")," ").concat(v.length>1?"are":"is"," also specified.")));for(var l={},i={},u=0,c=[CU,xU];u<c.length;u++){var s=c[u],f=e[s];if(f){f.align,f.center,f.spacing,f.columns;var d=RX(f,["align","center","spacing","columns"]);l[s]=d;for(var p=0,g=["align","center","spacing"];p<g.length;p++){var h=g[p];void 0!==f[h]&&(null!==(n=i[h])&&void 0!==n||(i[h]={}),i[h][s]=f[h])}}}return{facetMapping:l,layout:i}}var v,m=o.align,y=o.center,b=o.spacing,w=o.columns;return{facetMapping:AX(RX(o,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},m?{align:m}:{}),y?{center:y}:{}),b?{spacing:b}:{}),w?{columns:w}:{})}}},{key:"mapLayer",value:function(e,t){var a=t.parentEncoding,r=t.parentProjection,o=RX(t,["parentEncoding","parentProjection"]),l=e.encoding,i=e.projection,u=RX(e,["encoding","projection"]),c=Object.assign(Object.assign({},o),{parentEncoding:LX({parentEncoding:a,encoding:l,layer:!0}),parentProjection:HX({parentProjection:r,projection:i})});return Vh(j(n.prototype),"mapLayer",this).call(this,u,c)}}]),n}(vX);function LX(e){var t=e.parentEncoding,n=e.encoding,a=void 0===n?{}:n,r=e.layer,o={};if(t){var l,i=Wc(new Set([].concat(B(JH(t)),B(JH(a)))));try{for(i.s();!(l=i.n()).done;){var u=l.value,c=a[u],s=t[u];if(Z$(c)){var f=Object.assign(Object.assign({},s),c);o[u]=f}else $$(c)?o[u]=Object.assign(Object.assign({},c),{condition:Object.assign(Object.assign({},s),c.condition)}):c||null===c?o[u]=c:(r||tY(s)||fq(s)||Z$(s)||pn(s))&&(o[u]=s)}}catch(d){i.e(d)}finally{i.f()}}else o=a;return!o||KH(o)?void 0:o}function HX(e){var t=e.parentProjection,n=e.projection;return t&&n&&CG(function(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection ".concat(IH(t)," is overridden by a child projection ").concat(IH(n),".")}({parentProjection:t,projection:n})),null!==n&&void 0!==n?n:t}function UX(e){return"filter"in e}function WX(e){return void 0!==(null===e||void 0===e?void 0:e.stop)}function qX(e){return"lookup"in e}function GX(e){return"pivot"in e}function VX(e){return"density"in e}function $X(e){return"quantile"in e}function YX(e){return"regression"in e}function QX(e){return"loess"in e}function XX(e){return"sample"in e}function KX(e){return"window"in e}function JX(e){return"joinaggregate"in e}function ZX(e){return"flatten"in e}function eK(e){return"calculate"in e}function tK(e){return"bin"in e}function nK(e){return"impute"in e}function aK(e){return"timeUnit"in e}function rK(e){return"aggregate"in e}function oK(e){return"stack"in e}function lK(e){return"fold"in e}var iK=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},uK=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"map",value:function(e,t){var a,r;return null!==(a=t.emptySelections)&&void 0!==a||(t.emptySelections={}),null!==(r=t.selectionPredicates)&&void 0!==r||(t.selectionPredicates={}),e=cK(e,t),Vh(j(n.prototype),"map",this).call(this,e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if((e=cK(e,t)).encoding){var a,r={},o=Wc(eU(e.encoding));try{for(o.s();!(a=o.n()).done;){var l=E(a.value,2),i=l[0],u=l[1];r[i]=sK(u,t)}}catch(c){o.e(c)}finally{o.f()}e=Object.assign(Object.assign({},e),{encoding:r})}return Vh(j(n.prototype),"mapLayerOrUnit",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=e,a=n.selection,r=iK(n,["selection"]);return a?Object.assign(Object.assign({},r),{params:eU(a).map((function(e){var n,a=E(e,2),r=a[0],o=a[1],l=o.init,i=o.bind,u=o.empty,c=iK(o,["init","bind","empty"]);"single"===c.type?(c.type="point",c.toggle=!1):"multi"===c.type&&(c.type="point"),t.emptySelections[r]="none"!==u;var s,f=Wc(ZH(null!==(n=t.selectionPredicates[r])&&void 0!==n?n:{}));try{for(f.s();!(s=f.n()).done;){s.value.empty="none"!==u}}catch(d){f.e(d)}finally{f.f()}return{name:r,value:l,select:c,bind:i}}))}):e}}]),n}(vX);function cK(e,t){var n=e.transform,a=iK(e,["transform"]);if(n){var r=n.map((function(e){if(UX(e))return{filter:dK(e,t)};if(tK(e)&&aq(e.bin))return Object.assign(Object.assign({},e),{bin:fK(e.bin)});if(qX(e)){var n=e.from,a=n.selection,r=iK(n,["selection"]);return a?Object.assign(Object.assign({},e),{from:Object.assign({param:a},r)}):e}return e}));return Object.assign(Object.assign({},a),{transform:r})}return e}function sK(e,t){var n,a,r=NH(e);if(Y$(r)&&aq(r.bin)&&(r.bin=fK(r.bin)),nY(r)&&(null===(a=null===(n=r.scale)||void 0===n?void 0:n.domain)||void 0===a?void 0:a.selection)){var o=r.scale.domain,l=o.selection,i=iK(o,["selection"]);r.scale.domain=Object.assign(Object.assign({},i),l?{param:l}:{})}if(G$(r))if(pn(r.condition))r.condition=r.condition.map((function(e){e.selection;var n=e.param,a=(e.test,iK(e,["selection","param","test"]));return n?e:Object.assign(Object.assign({},a),{test:dK(e,t)})}));else{var u=sK(r.condition,t),c=(u.selection,u.param),s=(u.test,iK(u,["selection","param","test"]));r.condition=c?r.condition:Object.assign(Object.assign({},s),{test:dK(r.condition,t)})}return r}function fK(e){var t=e.extent;if(null===t||void 0===t?void 0:t.selection){var n=t.selection,a=iK(t,["selection"]);return Object.assign(Object.assign({},e),{extent:Object.assign(Object.assign({},a),{param:n})})}return e}function dK(e,t){var n=function(e){return DH(e,(function(e){var n,a,r,o={param:e,empty:null===(n=t.emptySelections[e])||void 0===n||n};return null!==(a=(r=t.selectionPredicates)[e])&&void 0!==a||(r[e]=[]),t.selectionPredicates[e].push(o),o}))};return e.selection?n(e.selection):DH(e.test||e.filter,(function(e){return e.selection?n(e.selection):e}))}for(var pK=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"map",value:function(e,t){var a,r=null!==(a=t.selections)&&void 0!==a?a:[];if(e.params&&!LY(e)){var o,l=[],i=Wc(e.params);try{for(i.s();!(o=i.n()).done;){var u=o.value;IQ(u)?r.push(u):l.push(u)}}catch(c){i.e(c)}finally{i.f()}e.params=l}return t.selections=r,Vh(j(n.prototype),"map",this).call(this,e,mK(e,t))}},{key:"mapUnit",value:function(e,t){var n,a=t.selections;if(!a||!a.length)return e;var r,o=(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name),l=[],i=Wc(a);try{for(i.s();!(r=i.n()).done;){var u=r.value;if(u.views&&u.views.length){var c,s=Wc(u.views);try{for(s.s();!(c=s.n()).done;){var f=c.value;(ca(f)&&(f===e.name||o.indexOf(f)>=0)||pn(f)&&f.map((function(e){return o.indexOf(e)})).every((function(e,t,n){return-1!==e&&(0===t||e>n[t-1])})))&&l.push(u)}}catch(d){s.e(d)}finally{s.f()}}else l.push(u)}}catch(d){i.e(d)}finally{i.f()}return l.length&&(e.params=l),e}}]),n}(vX),gK=function(){var e=vK[hK],t=pK.prototype[e];pK.prototype[e]=function(e,n){return t.call(this,e,mK(e,n))}},hK=0,vK=["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"];hK<vK.length;hK++)gK();function mK(e,t){var n;return e.name?Object.assign(Object.assign({},t),{path:(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name)}):t}function yK(e,t){void 0===t&&(t=uX(e.config));var n=function(e){var t={config:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};return kK.map(bK.map(wK.map(e,t),t),t)}(e,t),a=function(e,t,n){var a=t.width,r=t.height,o=LY(e)||gX(e),l={};o?"container"==a&&"container"==r?(l.type="fit",l.contains="padding"):"container"==a?(l.type="fit-x",l.contains="padding"):"container"==r&&(l.type="fit-y",l.contains="padding"):("container"==a&&(CG(Fq("width")),a=void 0),"container"==r&&(CG(Fq("height")),r=void 0));var i=Object.assign(Object.assign(Object.assign({type:"pad"},l),n?CK(n.autosize):{}),CK(e.autosize));"fit"!==i.type||o||(CG(Tq),i.type="pad");"container"==a&&"fit"!=i.type&&"fit-x"!=i.type&&CG(Iq("width"));"container"==r&&"fit"!=i.type&&"fit-y"!=i.type&&CG(Iq("height"));if(MH(i,{type:"pad"}))return;return i}(n,{width:e.width,height:e.height,autosize:e.autosize},t);return Object.assign(Object.assign({},n),a?{autosize:a}:{})}var bK=new zX,wK=new uK,kK=new pK;function CK(e){return ca(e)?{type:e}:null!==e&&void 0!==e?e:{}}var xK=["background","padding"];function PK(e,t){var n,a={},r=Wc(xK);try{for(r.s();!(n=r.n()).done;){var o=n.value;e&&void 0!==e[o]&&(a[o]=bq(e[o]))}}catch(l){r.e(l)}finally{r.f()}return t&&(a.params=e.params),a}var _K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O(this,e),this.explicit=t,this.implicit=n}return D(e,[{key:"clone",value:function(){return new e(NH(this.explicit),NH(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(e){return pU(this.explicit[e],this.implicit[e])}},{key:"getWithExplicit",value:function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(e,t){var n=t.value,a=t.explicit;void 0!==n&&this.set(e,n,a)}},{key:"set",value:function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}},{key:"copyKeyFromSplit",value:function(e,t){var n=t.explicit,a=t.implicit;void 0!==n[e]?this.set(e,n[e],!0):void 0!==a[e]&&this.set(e,a[e],!1)}},{key:"copyKeyFromObject",value:function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}},{key:"copyAll",value:function(e){var t,n=Wc(JH(e.combine()));try{for(n.s();!(t=n.n()).done;){var a=t.value,r=e.getWithExplicit(a);this.setWithExplicit(a,r)}}catch(o){n.e(o)}finally{n.f()}}}]),e}();function EK(e){return{explicit:!0,value:e}}function SK(e){return{explicit:!1,value:e}}function BK(e){return function(t,n,a,r){var o=e(t.value,n.value);return o>0?t:o<0?n:OK(t,n,a,r)}}function OK(e,t,n,a){return e.explicit&&t.explicit&&CG(function(e,t,n,a){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(IH(n)," and ").concat(IH(a),"). Using ").concat(IH(n),".")}(n,a,e.value,t.value)),e}function AK(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:OK;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:MH(e.value,t.value)?e:r(e,t,n,a)}var DK,MK=function(e){N(n,e);var t=z(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return O(this,n),(e=t.call(this,a,r)).explicit=a,e.implicit=r,e.parseNothing=o,e}return D(n,[{key:"clone",value:function(){var e=Vh(j(n.prototype),"clone",this).call(this);return e.parseNothing=this.parseNothing,e}}]),n}(_K);function NK(e){return"url"in e}function jK(e){return"values"in e}function TK(e){return"name"in e&&!NK(e)&&!jK(e)&&!FK(e)}function FK(e){return e&&(IK(e)||RK(e)||zK(e))}function IK(e){return"sequence"in e}function RK(e){return"sphere"in e}function zK(e){return"graticule"in e}!function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}(DK||(DK={}));var LK=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function HK(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:en;if(pn(e)){var a=e.map((function(e){return HK(e,t,n)}));return t?"[".concat(a.join(", "),"]"):a}return xG(e)?n(t?OG(e):DG(e)):t?n(IH(e)):e}function UK(e,t){var n,a,r=Wc(ZH(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{for(r.s();!(a=r.n()).done;){var o,l=a.value,i=Wc(rZ);try{for(i.s();!(o=i.n()).done;){var u=o.value;u.defined(l)&&u.marks&&(t=u.marks(e,l,t))}}catch(c){i.e(c)}finally{i.f()}}}catch(c){r.e(c)}finally{r.f()}return t}function WK(e){return e.map((function(e){return e.on&&!e.on.length&&delete e.on,e}))}var qK=function(){function e(t,n){O(this,e),this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}return D(e,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,e&&e.addChild(this)}},{key:"children",get:function(){return this._children}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(e,t){this._children.includes(e)?CG("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return this._children.splice(t,1),t}},{key:"remove",value:function(){var e,t=this._parent.removeChild(this),n=Wc(this._children);try{for(n.s();!(e=n.n()).done;){var a=e.value;a._parent=this._parent,this._parent.addChild(a,t++)}}catch(r){n.e(r)}finally{n.f()}}},{key:"insertAsParentOf",value:function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}},{key:"swapWithParent",value:function(){var e,t=this._parent,n=t.parent,a=Wc(this._children);try{for(a.s();!(e=a.n()).done;){e.value.parent=t}}catch(o){a.e(o)}finally{a.f()}this._children=[],t.removeChild(this);var r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}]),e}(),GK=function(e){N(n,e);var t=z(n);function n(e,a,r,o){var l;return O(this,n),(l=t.call(this,e,a)).type=r,l.refCounts=o,l._source=l._name=a,l.refCounts&&!(l._name in l.refCounts)&&(l.refCounts[l._name]=0),l}return D(n,[{key:"clone",value:function(){var e=new this.constructor;return e.debugName="clone_".concat(this.debugName),e._source=this._source,e._name="clone_".concat(this._name),e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(hU())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(e){this._source=e}}]),n}(qK),VK=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},$K=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).formula=a,r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.formula))}},{key:"merge",value:function(e){for(var t in this.formula=Object.assign({},this.formula),e.formula)this.formula[t]||(this.formula[t]=e.formula[t]);var n,a=Wc(e.children);try{for(a.s();!(n=a.n()).done;){var r=n.value;e.removeChild(r),r.parent=this}}catch(o){a.e(o)}finally{a.f()}e.remove()}},{key:"removeFormulas",value:function(e){var t,n={},a=Wc(eU(this.formula));try{for(a.s();!(t=a.n()).done;){var r=E(t.value,2),o=r[0],l=r[1];e.has(l.as)||(n[o]=l)}}catch(i){a.e(i)}finally{a.f()}this.formula=n}},{key:"producedFields",value:function(){return new Set(ZH(this.formula).map((function(e){return e.as})))}},{key:"dependentFields",value:function(){return new Set(ZH(this.formula).map((function(e){return e.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(RH(this.formula))}},{key:"assemble",value:function(){var e,t=[],n=Wc(ZH(this.formula));try{for(n.s();!(e=n.n()).done;){var a=e.value,r=a.field,o=a.as,l=HG(a.timeUnit),i=l,u=i.unit,c=i.utc,s=VK(l,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:cU(r),type:"timeunit"},u?{units:IG(u)}:{}),c?{timezone:"utc"}:{}),s),{as:[o,"".concat(o,"_end")]}))}}catch(f){n.e(f)}finally{n.f()}return t}}],[{key:"makeFromEncoding",value:function(e,t){var a=t.reduceFieldDef((function(e,t){var n=t.field,a=t.timeUnit;if(a){var r=uY(t,{forAs:!0});e[RH({as:r,field:n,timeUnit:a})]={as:r,field:n,timeUnit:a}}return e}),{});return KH(a)?null:new n(e,a)}},{key:"makeFromTransform",value:function(e,t){var a=Object.assign({},t),r=a.timeUnit,o=VK(a,["timeUnit"]),l=HG(r),i=Object.assign(Object.assign({},o),{timeUnit:l});return new n(e,pr({},RH(i),i))}}]),n}(qK),YK=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},QK="_tuple_fields",XK=D((function e(){O(this,e);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];this.items=n,this.hasChannel={},this.hasField={},this.hasSelectionId=!1})),KK={defined:function(){return!0},parse:function(e,t,n){var a,r=t.name,o=null!==(a=t.project)&&void 0!==a?a:t.project=new XK,l={},i={},u=new Set,c=function(e,t){for(var n="visual"===t?e.channel:e.field,a=nU("".concat(r,"_").concat(n)),o=1;u.has(a);o++)a=nU("".concat(r,"_").concat(n,"_").concat(o));return u.add(a),pr({},t,a)},s=t.type,f=e.config.selection[s],d=void 0!==n.value?Rn(n.value):null,p=gn(n.select)?n.select:{},g=p.fields,h=p.encodings;if(!g&&!h&&d){var v,m=Wc(d);try{for(m.s();!(v=m.n()).done;){var y=v.value;if(gn(y)){var b,w=Wc(JH(y));try{for(w.s();!(b=w.n()).done;){var k=b.value;hW[k]?(h||(h=[])).push(k):"interval"===s?(CG('Interval selections should be initialized using "x" and/or "y" keys.'),h=f.encodings):(g||(g=[])).push(k)}}catch(j){w.e(j)}finally{w.f()}}}}catch(j){m.e(j)}finally{m.f()}}g||h||(h=f.encodings,"fields"in f&&(g=f.fields));var C,x=Wc(null!==h&&void 0!==h?h:[]);try{for(x.s();!(C=x.n()).done;){var P=C.value,_=e.fieldDef(P);if(_){var E=_.field;if(_.aggregate){CG(Hq(P,_.aggregate));continue}if(!E){CG(Lq(P));continue}if(_.timeUnit){E=e.vgField(P);var S={timeUnit:_.timeUnit,as:E,field:_.field};i[RH(S)]=S}if(!l[E]){var B="E";if("interval"===s)OV(e.getScaleComponent(P).get("type"))&&(B="R");else _.bin&&(B="R-RE");var O={field:E,channel:P,type:B};O.signals=Object.assign(Object.assign({},c(O,"data")),c(O,"visual")),o.items.push(l[E]=O),o.hasField[E]=o.hasChannel[P]=l[E],o.hasSelectionId=o.hasSelectionId||E===NQ}}else CG(Lq(P))}}catch(j){x.e(j)}finally{x.f()}var A,D=Wc(null!==g&&void 0!==g?g:[]);try{for(D.s();!(A=D.n()).done;){var M=A.value;if(!o.hasField[M]){var N={type:"E",field:M};N.signals=Object.assign({},c(N,"data")),o.items.push(N),o.hasField[M]=N,o.hasSelectionId=o.hasSelectionId||M===NQ}}}catch(j){D.e(j)}finally{D.f()}d&&(t.init=d.map((function(e){return o.items.map((function(t){return gn(e)?void 0!==e[t.channel]?e[t.channel]:e[t.field]:e}))}))),KH(i)||(o.timeUnit=new $K(null,i))},signals:function(e,t,n){var a=t.name+QK,r=n.filter((function(e){return e.name===a}));return r.length>0||t.project.hasSelectionId?n:n.concat({name:a,value:t.project.items.map((function(e){e.signals,e.hasLegend;var t=YK(e,["signals","hasLegend"]);return t.field=cU(t.field),t}))})}},JK=KK,ZK={defined:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t){var n,a=t.scales=[],r=Wc(t.project.items);try{for(r.s();!(n=r.n()).done;){var o=n.value,l=o.channel;if(LW(l)){var i=e.getScaleComponent(l),u=i?i.get("type"):void 0;i&&OV(u)?(i.set("selectionExtent",{param:t.name,field:o.field},!0),a.push(o)):CG("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}}}catch(c){r.e(c)}finally{r.f()}},topLevelSignals:function(e,t,n){var a=t.scales.filter((function(e){return 0===n.filter((function(t){return t.name===e.signals.data})).length}));if(!e.parent||nJ(e)||0===a.length)return n;var r=n.filter((function(e){return e.name===t.name}))[0],o=r.update;if(o.indexOf(aZ)>=0)r.update="{".concat(a.map((function(e){return"".concat(ma(cU(e.field)),": ").concat(e.signals.data)})).join(", "),"}");else{var l,i=Wc(a);try{for(i.s();!(l=i.n()).done;){var u=l.value,c="".concat(ma(cU(u.field)),": ").concat(u.signals.data);o.includes(c)||(o="".concat(o.substring(0,o.length-1),", ").concat(c,"}"))}}catch(s){i.e(s)}finally{i.f()}r.update=o}return n.concat(a.map((function(e){return{name:e.signals.data}})))},signals:function(e,t,n){if(e.parent&&!nJ(e)){var a,r=Wc(t.scales);try{var o=function(){var e=a.value,t=n.filter((function(t){return t.name===e.signals.data}))[0];t.push="outer",delete t.value,delete t.update};for(r.s();!(a=r.n()).done;)o()}catch(l){r.e(l)}finally{r.f()}}return n}},eJ=ZK;function tJ(e,t){var n=ma(e.scaleName(t));return"domain(".concat(n,")")}function nJ(e){var t;return e.parent&&e2(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:nJ(e.parent.parent))}var aJ=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},rJ="_brush",oJ="_scale_trigger",lJ={defined:function(e){return"interval"===e.type},signals:function(e,t,n){var a=t.name,r=a+QK,o=eJ.defined(t),l=t.init?t.init[0]:null,i=[],u=[];if(t.translate&&!o){var c="!event.item || event.item.mark.name !== ".concat(ma(a+rJ));uJ(t,(function(e,t){var n,a,r=Rn(null!==(n=(a=t.between[0]).filter)&&void 0!==n?n:a.filter=[]);return r.includes(c)||r.push(c),e}))}t.project.items.forEach((function(a,r){var o=a.channel;if(o===_U||o===EU){var c=l?l[r]:null,s=function(e,t,n,a){var r=n.channel,o=n.signals.visual,l=n.signals.data,i=eJ.defined(t),u=ma(e.scaleName(r)),c=e.getScaleComponent(r),s=c?c.get("type"):void 0,f=function(e){return"scale(".concat(u,", ").concat(e,")")},d=e.getSizeSignalRef(r===_U?"width":"height").signal,p="".concat(r,"(unit)"),g=uJ(t,(function(e,t){return[].concat(B(e),[{events:t.between[0],update:"[".concat(p,", ").concat(p,"]")},{events:t,update:"[".concat(o,"[0], clamp(").concat(p,", 0, ").concat(d,")]")}])}));return g.push({events:{signal:t.name+oJ},update:OV(s)?"[".concat(f("".concat(l,"[0]")),", ").concat(f("".concat(l,"[1]")),"]"):"[0, 0]"}),i?[{name:l,on:[]}]:[Object.assign(Object.assign({name:o},a?{init:HK(a,!0,f)}:{value:[]}),{on:g}),Object.assign(Object.assign({name:l},a?{init:HK(a)}:{}),{on:[{events:{signal:o},update:"".concat(o,"[0] === ").concat(o,"[1] ? null : invert(").concat(u,", ").concat(o,")")}]})]}(e,t,a,c),f=a.signals.data,d=a.signals.visual,p=ma(e.scaleName(o)),g=OV(e.getScaleComponent(o).get("type"))?"+":"";n.push.apply(n,B(s)),i.push(f),u.push({scaleName:e.scaleName(o),expr:"(!isArray(".concat(f,") || ")+"(".concat(g,"invert(").concat(p,", ").concat(d,")[0] === ").concat(g).concat(f,"[0] && ")+"".concat(g,"invert(").concat(p,", ").concat(d,")[1] === ").concat(g).concat(f,"[1]))")})}else CG("Interval selections only support x and y encoding channels.")})),!o&&u.length&&n.push({name:a+oJ,value:{},on:[{events:u.map((function(e){return{scale:e.scaleName}})),update:"".concat(u.map((function(e){return e.expr})).join(" && ")," ? ").concat(a+oJ," : {}")}]});var s="unit: ".concat(lZ(e),", fields: ").concat(r,", values");return n.concat(Object.assign(Object.assign({name:a+tZ},l?{init:"{".concat(s,": ").concat(HK(l),"}")}:{}),i.length?{on:[{events:[{signal:i.join(" || ")}],update:"".concat(i.join(" && ")," ? {").concat(s,": [").concat(i,"]} : null")}]}:{}))},marks:function(e,t,n){var a=t.name,r=t.project.hasChannel,o=r.x,l=r.y,i=null===o||void 0===o?void 0:o.signals.visual,u=null===l||void 0===l?void 0:l.signals.visual,c="data(".concat(ma(t.name+eZ),")");if(eJ.defined(t)||!o&&!l)return n;var s={x:void 0!==o?{signal:"".concat(i,"[0]")}:{value:0},y:void 0!==l?{signal:"".concat(u,"[0]")}:{value:0},x2:void 0!==o?{signal:"".concat(i,"[1]")}:{field:{group:"width"}},y2:void 0!==l?{signal:"".concat(u,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve){var f,d=Wc(JH(s));try{for(d.s();!(f=d.n()).done;){var p=f.value;s[p]=[Object.assign({test:"".concat(c,".length && ").concat(c,"[0].unit === ").concat(lZ(e))},s[p]),{value:0}]}}catch(w){d.e(w)}finally{d.f()}}var g=t.mark,h=g.fill,v=g.fillOpacity,m=g.cursor,y=aJ(g,["fill","fillOpacity","cursor"]),b=JH(y).reduce((function(e,t){return e[t]=[{test:[void 0!==o&&"".concat(i,"[0] !== ").concat(i,"[1]"),void 0!==l&&"".concat(u,"[0] !== ").concat(u,"[1]")].filter((function(e){return e})).join(" && "),value:y[t]},{value:null}],e}),{});return[{name:"".concat(a+rJ,"_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:h},fillOpacity:{value:v}},update:s}}].concat(B(n),[{name:a+rJ,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},m?{cursor:{value:m}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},s),b)}}])}},iJ=lJ;function uJ(e,t){return e.events.reduce((function(e,n){return n.between?t(e,n):(CG("".concat(n," is not an ordered event stream for interval selections.")),e)}),[])}var cJ={defined:function(e){return"point"===e.type},signals:function(e,t,n){var a,r=t.name,o=r+QK,l=t.project,i="(item().isVoronoi ? datum.datum : datum)",u=ZH(null!==(a=e.component.selection)&&void 0!==a?a:{}).reduce((function(e,t){return"interval"===t.type?e.concat(t.name+rJ):e}),[]).map((function(e){return"indexof(item().mark.name, '".concat(e,"') < 0")})).join(" && "),c="datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0".concat(u?" && ".concat(u):""),s="unit: ".concat(lZ(e),", ");if(t.project.hasSelectionId)s+="".concat(NQ,": ").concat(i,"[").concat(ma(NQ),"]");else{var f=l.items.map((function(t){var n=e.fieldDef(t.channel);return(null===n||void 0===n?void 0:n.bin)?"[".concat(i,"[").concat(ma(e.vgField(t.channel,{})),"], ")+"".concat(i,"[").concat(ma(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(i,"[").concat(ma(t.field),"]")})).join(", ");s+="fields: ".concat(o,", values: [").concat(f,"]")}var d=t.events;return n.concat([{name:r+tZ,on:d?[{events:d,update:"".concat(c," ? {").concat(s,"} : null"),force:!0}]:[]}])}},sJ=cJ;function fJ(e,t,n,a){var r=G$(t)&&t.condition,o=a(t);if(r){var l=Rn(r).map((function(t){var n=a(t);if(function(e){return e.param}(t)){var r=t.param,o=t.empty,l=pZ(e,{param:r,empty:o});return Object.assign({test:l},n)}var i=hZ(e,t.test);return Object.assign({test:i},n)}));return pr({},n,[].concat(B(l),B(void 0!==o?[o]:[])))}return void 0!==o?pr({},n,o):{}}function dJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=e.encoding[t];return fJ(e,n,t,(function(t){return pJ(t,e.config)}))}function pJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(tY(e))return kq(e.value);if(Z$(e)){var a=yY(e),r=a.format,o=a.formatType;return k$({fieldOrDatumDef:e,format:r,formatType:o,expr:n,config:t})}}}function gJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.encoding,a=e.markDef,r=e.config,o=e.stack,l=n.tooltip;if(pn(l))return{tooltip:vJ({tooltip:l},o,r,t)};var i=t.reactiveGeom?"datum.datum":"datum";return fJ(e,l,"tooltip",(function(e){var l=pJ(e,r,i);if(l)return l;if(null!==e){var u=Eq("tooltip",a,r);return!0===u&&(u={content:"encoding"}),ca(u)?{value:u}:gn(u)?fq(u)?u:"encoding"===u.content?vJ(n,o,r,t):{signal:i}:void 0}}))}function hJ(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.reactiveGeom,o={},l=r?"datum.datum":"datum",i=[];function u(a,r){var u,c=bW(r),s=eY(a)?a:Object.assign(Object.assign({},a),{type:e[c].type}),f=Rn(s.title||mY(s,n)).join(", ");if(AW(r)){var d="x"===r?"x2":"y2",p=wY(e[d]);if(nq(s.bin)&&p){var g=uY(s,{expr:l}),h=uY(p,{expr:l}),v=yY(s);u=O$(g,h,v.format,v.formatType,n),o[d]=!0}}if((AW(r)||r===NU||r===DU)&&t&&t.fieldChannel===r&&"normalize"===t.offset){var m=yY(s);u=k$({fieldOrDatumDef:s,format:m.format,formatType:m.formatType,expr:l,config:n,normalizeStack:!0}).signal}null!==u&&void 0!==u||(u=pJ(s,n,l).signal),i.push({channel:r,key:f,value:u})}KY(e,(function(e,t){Y$(e)?u(e,t):V$(e)&&u(e.condition,t)}));for(var c={},s=0,f=i;s<f.length;s++){var d=f[s],p=d.channel,g=d.key,h=d.value;o[p]||c[g]||(c[g]=h)}return c}function vJ(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.reactiveGeom,o=hJ(e,t,n,{reactiveGeom:r}),l=eU(o).map((function(e){var t=E(e,2),n=t[0],a=t[1];return'"'.concat(n,'": ').concat(a)}));return l.length>0?{signal:"{".concat(l.join(", "),"}")}:void 0}function mJ(e){var t=Eq("aria",e.markDef,e.config);return!1===t?{}:Object.assign(Object.assign(Object.assign({},t?{aria:t}:{}),function(e){var t=e.mark,n=e.markDef,a=e.config;if(!1===a.aria)return{};var r=Eq("ariaRoleDescription",n,a);if(null!=r)return{ariaRoleDescription:{value:r}};return t in hq?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){var t=e.encoding,n=e.markDef,a=e.config,r=e.stack,o=t.description;if(o)return fJ(e,o,"description",(function(t){return pJ(t,e.config)}));var l=Eq("description",n,a);if(null!=l)return{description:kq(l)};if(!1===a.aria)return{};var i=hJ(t,r,a);if(KH(i))return;return{description:{signal:eU(i).map((function(e,t){var n=E(e,2),a=n[0],r=n[1];return'"'.concat(t>0?"; ":"").concat(a,': " + (').concat(r,")")})).join(" + ")}}}(e))}function yJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.markDef,r=t.encoding,o=t.config,l=n.vgChannel,i=n.defaultRef,u=n.defaultValue;void 0===i&&(null!==u&&void 0!==u||(u=Eq(e,a,o,{vgChannel:l,ignoreVgConfig:!0})),void 0!==u&&(i=kq(u)));var c=r[e];return fJ(t,c,null!==l&&void 0!==l?l:e,(function(n){return m$({channel:e,channelDef:n,markDef:a,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:i})}))}function bJ(e){var t,n,a,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},l=e.markDef,i=e.encoding,u=e.config,c=l.type,s=null!==(t=o.filled)&&void 0!==t?t:Eq("filled",l,u),f=LH(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,d=null!==(a=null!==(n=Eq(!0===s?"color":void 0,l,u,{vgChannel:"fill"}))&&void 0!==n?n:u.mark[!0===s&&"color"])&&void 0!==a?a:f,p=null!==(r=Eq(!1===s?"color":void 0,l,u,{vgChannel:"stroke"}))&&void 0!==r?r:u.mark[!1===s&&"color"],g=s?"fill":"stroke",h=Object.assign(Object.assign({},d?{fill:kq(d)}:{}),p?{stroke:kq(p)}:{});return l.color&&(s?l.fill:l.stroke)&&CG(Jq("property",{fill:"fill"in l,stroke:"stroke"in l})),Object.assign(Object.assign(Object.assign(Object.assign({},h),yJ("color",e,{vgChannel:g,defaultValue:s?d:p})),yJ("fill",e,{defaultValue:i.fill?d:void 0})),yJ("stroke",e,{defaultValue:i.stroke?p:void 0}))}function wJ(e){var t=e.channel,n=e.markDef,a=e.encoding,r=void 0===a?{}:a,o=e.model,l=e.bandPosition,i="".concat(t,"Offset"),u=n[i],c=r[i];if(("xOffset"===i||"yOffset"===i)&&c)return{offsetType:"encoding",offset:m$({channel:i,channelDef:c,markDef:n,config:null===o||void 0===o?void 0:o.config,scaleName:o.scaleName(i),scale:o.getScaleComponent(i),stack:null,defaultRef:kq(u),bandPosition:l})};var s=n[i];return s?{offsetType:"visual",offset:s}:{}}function kJ(e,t,n){var a=n.defaultPos,r=n.vgChannel,o=t.encoding,l=t.markDef,i=t.config,u=t.stack,c=o[e],s=o[kW(e)],f=t.scaleName(e),d=t.getScaleComponent(e),p=wJ({channel:e,markDef:l,encoding:o,model:t,bandPosition:.5}),g=p.offset,h=p.offsetType,v=CJ({model:t,defaultPos:a,channel:e,scaleName:f,scale:d}),m=!c&&AW(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){var t=e.channel,n=e.channelDef,a=e.scaleName,r=e.stack,o=e.offset,l=e.markDef;if(Z$(n)&&r&&t===r.fieldChannel){if(Y$(n)){var i=n.bandPosition;if(void 0!==i||"text"!==l.type||"radius"!==t&&"theta"!==t||(i=.5),void 0!==i)return v$({scaleName:a,fieldOrDatumDef:n,startSuffix:"start",bandPosition:i,offset:o})}return h$(n,a,{suffix:"end"},{offset:o})}return d$(e)}({channel:e,channelDef:c,channel2Def:s,markDef:l,config:i,scaleName:f,scale:d,stack:u,offset:g,defaultRef:v,bandPosition:"encoding"===h?0:void 0});return m?pr({},r||e,m):void 0}function CJ(e){var t=e.model,n=e.defaultPos,a=e.channel,r=e.scaleName,o=e.scale,l=t.markDef,i=t.config;return function(){var e=bW(a),u=wW(a),c=Eq(a,l,i,{vgChannel:u});if(void 0!==c)return y$(a,c);switch(n){case"zeroOrMin":case"zeroOrMax":if(r){var s=o.get("type");if(LH([pV,gV,hV],s));else if(o.domainDefinitelyIncludesZero())return{scale:r,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:"min(".concat(t.width.signal,",").concat(t.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":var f=t[CW(a)];return Object.assign(Object.assign({},f),{mult:.5})}}}var xJ={left:"x",center:"xc",right:"x2"},PJ={top:"y",middle:"yc",bottom:"y2"};function _J(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return wW(e);var r,o="x"===e?"align":"baseline",l=Eq(o,t,n);return fq(l)?(CG(oG(o)),r=void 0):r=l,"x"===e?xJ[r||("top"===a?"left":"center")]:PJ[r||a]}function EJ(e,t,n){var a=n.defaultPos,r=n.defaultPos2;return n.range?SJ(e,t,{defaultPos:a,defaultPos2:r}):kJ(e,t,{defaultPos:a})}function SJ(e,t,n){var a=n.defaultPos,r=n.defaultPos2,o=t.markDef,l=t.config,i=kW(e),u=CW(e),c=function(e,t,n){var a,r=e.encoding,o=e.mark,l=e.markDef,i=e.stack,u=e.config,c=bW(n),s=CW(n),f=wW(n),d=r[c],p=e.scaleName(c),g=e.getScaleComponent(c),h=wJ(n in r||n in l?{channel:n,markDef:l,encoding:r,model:e}:{channel:c,markDef:l,encoding:r,model:e}).offset;if(!d&&("x2"===n||"y2"===n)&&(r.latitude||r.longitude)){var v=CW(n),m=e.markDef[v];return null!=m?pr({},v,{value:m}):pr({},f,{field:e.getName(n)})}var y=function(e){var t=e.channel,n=e.channelDef,a=e.channel2Def,r=e.markDef,o=e.config,l=e.scaleName,i=e.scale,u=e.stack,c=e.offset,s=e.defaultRef;if(Z$(n)&&u&&t.charAt(0)===u.fieldChannel.charAt(0))return h$(n,l,{suffix:"start"},{offset:c});return d$({channel:t,channelDef:a,scaleName:l,scale:i,stack:u,markDef:r,config:o,offset:c,defaultRef:s})}({channel:n,channelDef:d,channel2Def:r[n],markDef:l,config:u,scaleName:p,scale:g,stack:i,offset:h,defaultRef:void 0});if(void 0!==y)return pr({},f,y);return BJ(n,l)||BJ(n,(pr(a={},n,Bq(n,l,u.style)),pr(a,s,Bq(s,l,u.style)),a))||BJ(n,u[o])||BJ(n,u.mark)||pr({},f,CJ({model:e,defaultPos:t,channel:n,scaleName:p,scale:g})())}(t,r,i),s=c[u]?_J(e,o,l):wW(e);return Object.assign(Object.assign({},kJ(e,t,{defaultPos:a,vgChannel:s})),c)}function BJ(e,t){var n=CW(e),a=wW(e);if(void 0!==t[a])return pr({},a,y$(e,t[a]));if(void 0!==t[e])return pr({},a,y$(e,t[e]));if(t[n]){var r=t[n];if(!u$(r))return pr({},n,y$(e,r));CG(function(e){return"Position range does not support relative band size for ".concat(e,".")}(n))}}function OJ(e,t){var n,a,r=e.config,o=e.encoding,l=e.markDef,i=l.type,u=kW(t),c=CW(t),s=o[t],f=o[u],d=e.getScaleComponent(t),p=d?d.get("type"):void 0,g=l.orient,h=null!==(a=null!==(n=o[c])&&void 0!==n?n:o.size)&&void 0!==a?a:Eq("size",l,r,{vgChannel:c}),v="bar"===i&&("x"===t?"vertical"===g:"horizontal"===g);return!Y$(s)||!(tq(s.bin)||nq(s.bin)||s.timeUnit&&!f)||h&&!u$(h)||BV(p)?(Z$(s)&&BV(p)||v)&&!f?function(e,t,n){var a,r=n.markDef,o=n.encoding,l=n.config,i=n.stack,u=r.orient,c=n.scaleName(t),s=n.getScaleComponent(t),f=CW(t),d=kW(t),p=function(e){switch(e){case _U:return"xOffset";case EU:return"yOffset";case SU:return"x2Offset";case BU:return"y2Offset";case NU:return"thetaOffset";case DU:return"radiusOffset";case jU:return"theta2Offset";case MU:return"radius2Offset"}}(t),g=n.scaleName(p),h="horizontal"===u&&"y"===t||"vertical"===u&&"x"===t;(o.size||r.size)&&(h?a=yJ("size",n,{vgChannel:f,defaultRef:kq(r.size)}):CG(function(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}(r.type)));var v=!!a,m=W$({channel:t,fieldDef:e,markDef:r,config:l,scaleType:null===s||void 0===s?void 0:s.get("type"),useVlSizeChannel:h});a=a||pr({},f,function(e,t,n,a,r){if(u$(r)){if(!n)return{mult:r.band,field:{group:e}};var o=n.get("type");if("band"===o){var l="bandwidth('".concat(t,"')");return 1!==r.band&&(l="".concat(r.band," * ").concat(l)),{signal:"max(0.25, ".concat(l,")")}}1!==r.band&&(CG(function(e){return"Cannot use the relative band size with ".concat(e," scale.")}(o)),r=void 0)}else{if(fq(r))return r;if(r)return{value:r}}if(n){var i=n.get("range");if(dq(i)&&ia(i.step))return{value:i.step-2}}return{value:QQ(a.view,e)-2}}(f,g||c,s,l,m));var y="band"===(null===s||void 0===s?void 0:s.get("type"))&&u$(m)&&!v?"top":"middle",b=_J(t,r,l,y),w="xc"===b||"yc"===b,k=wJ({channel:t,markDef:r,encoding:o,model:n,bandPosition:w?.5:0}),C=k.offset,x=k.offsetType,P=d$({channel:t,channelDef:e,markDef:r,config:l,scaleName:c,scale:s,stack:i,offset:C,defaultRef:CJ({model:n,defaultPos:"mid",channel:t,scaleName:c,scale:s}),bandPosition:w?"encoding"===x?0:.5:fq(m)?{signal:"(1-".concat(m,")/2")}:u$(m)?(1-m.band)/2:0});if(f)return Object.assign(pr({},b,P),a);var _,E=wW(d),S=a[f],B=C?Object.assign(Object.assign({},S),{offset:C}):S;return pr(_={},b,P),pr(_,E,pn(P)?[P[0],Object.assign(Object.assign({},P[1]),{offset:B})]:Object.assign(Object.assign({},P),{offset:B})),_}(s,t,e):SJ(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function(e){var t,n,a,r,o=e.fieldDef,l=e.fieldDef2,i=e.channel,u=e.model,c=u.config,s=u.markDef,f=u.encoding,d=u.getScaleComponent(i),p=u.scaleName(i),g=d?d.get("type"):void 0,h=d.get("reverse"),v=W$({channel:i,fieldDef:o,markDef:s,config:c,scaleType:g}),m=null===(t=u.component.axes[i])||void 0===t?void 0:t[0],y=null!==(n=null===m||void 0===m?void 0:m.get("translate"))&&void 0!==n?n:.5,b=AW(i)&&null!==(a=Eq("binSpacing",s,c))&&void 0!==a?a:0,w=kW(i),k=wW(i),C=wW(w),x=wJ({channel:i,markDef:s,encoding:f,model:u,bandPosition:0}).offset,P=fq(v)?{signal:"(1-".concat(v.signal,")/2")}:u$(v)?(1-v.band)/2:.5;if(tq(o.bin)||o.timeUnit)return pr(r={},C,DJ({fieldDef:o,scaleName:p,bandPosition:P,offset:AJ(w,b,h,y,x)})),pr(r,k,DJ({fieldDef:o,scaleName:p,bandPosition:fq(P)?{signal:"1-".concat(P.signal)}:1-P,offset:AJ(i,b,h,y,x)})),r;if(nq(o.bin)){var _,E,S=h$(o,p,{},{offset:AJ(w,b,h,y,x)});if(Y$(l))return pr(_={},C,S),pr(_,k,h$(l,p,{},{offset:AJ(i,b,h,y,x)})),_;if(aq(o.bin)&&o.bin.step)return pr(E={},C,S),pr(E,k,{signal:'scale("'.concat(p,'", ').concat(uY(o,{expr:"datum"})," + ").concat(o.bin.step,")"),offset:AJ(i,b,h,y,x)}),E}return void CG(vG(w))}({fieldDef:s,fieldDef2:f,channel:t,model:e})}function AJ(e,t,n,a,r){if(oW(e))return 0;var o="x"===e||"y2"===e?-t/2:t/2;if(fq(n)||fq(r)||fq(a)){var l=Pq(n),i=Pq(r),u=Pq(a);return{signal:(u?"".concat(u," + "):"")+(l?"(".concat(l," ? -1 : 1) * "):"")+(i?"(".concat(i," + ").concat(o,")"):o)}}return r=r||0,a+(n?-r-o:+r+o)}function DJ(e){var t=e.fieldDef;return v$({scaleName:e.scaleName,fieldOrDatumDef:t,bandPosition:e.bandPosition,offset:e.offset})}var MJ=new Set(["aria","width","height"]);function NJ(e,t){var n="include"===t.color?bJ(e):{},a=n.fill,r=void 0===a?void 0:a,o=n.stroke,l=void 0===o?void 0:o;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return gq.reduce((function(n,a){return MJ.has(a)||void 0===e[a]||"ignore"===t[a]||(n[a]=kq(e[a])),n}),{})}(e.markDef,t)),jJ(e,"fill",r)),jJ(e,"stroke",l)),yJ("opacity",e)),yJ("fillOpacity",e)),yJ("strokeOpacity",e)),yJ("strokeWidth",e)),yJ("strokeDash",e)),function(e){var t=e.encoding,n=e.mark,a=t.order;return!t$(n)&&tY(a)?fJ(e,a,"zindex",(function(e){return kq(e.value)})):{}}(e)),gJ(e)),dJ(e,"href")),mJ(e))}function jJ(e,t,n){var a=e.config,r=e.mark;if("hide"===Eq("invalid",e.markDef,a)&&n&&!t$(r)){var o=function(e,t){var n=t.invalid,a=void 0!==n&&n,r=t.channels.reduce((function(t,n){var a=e.getScaleComponent(n);if(a){var r=a.get("type"),o=e.vgField(n,{expr:"datum"});o&&OV(r)&&(t[o]=!0)}return t}),{}),o=JH(r);if(o.length>0){var l=a?"||":"&&";return o.map((function(e){return g$(e,a)})).join(" ".concat(l," "))}return}(e,{invalid:!0,channels:zW});if(o)return pr({},t,[{test:o,value:null}].concat(B(Rn(n))))}return n?pr({},t,n):{}}function TJ(e){var t=e.config;if(Eq("invalid",e.markDef,t)){var n=function(e,t){var n=t.invalid,a=void 0!==n&&n,r=t.channels.reduce((function(t,n){var a,r=e.getScaleComponent(n);if(r){var o=r.get("type"),l=e.vgField(n,{expr:"datum",binSuffix:(null===(a=e.stack)||void 0===a?void 0:a.impute)?"mid":void 0});l&&OV(o)&&(t[l]=!0)}return t}),{}),o=JH(r);if(o.length>0){var l=a?"||":"&&";return o.map((function(e){return g$(e,a)})).join(" ".concat(l," "))}return}(e,{channels:OW});if(n)return{defined:{signal:n}}}return{}}function FJ(e,t){if(void 0!==t)return pr({},e,kq(t))}var IJ="voronoi",RJ={defined:function(e){return"point"===e.type&&e.nearest},parse:function(e,t){if(t.events){var n,a=Wc(t.events);try{for(a.s();!(n=a.n()).done;){n.value.markname=e.getName(IJ)}}catch(r){a.e(r)}finally{a.f()}}},marks:function(e,t,n){var a=t.project.hasChannel,r=a.x,o=a.y,l=e.mark;if(t$(l))return CG(function(e){return'The "nearest" transform is not supported for '.concat(e," marks.")}(l)),n;var i={name:e.getName(IJ),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},gJ(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!o?"datum.datum.x || 0":"0"},y:{expr:o||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},u=0,c=!1;return n.forEach((function(t,n){var a,r=null!==(a=t.name)&&void 0!==a?a:"";r===e.component.mark[0].name?u=n:r.indexOf(IJ)>=0&&(c=!0)})),c||n.splice(u+1,0,i),n}},zJ=RJ,LJ={defined:function(e){return"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!TQ(e.bind)},parse:function(e,t,n){return uZ(t,n)},topLevelSignals:function(e,t,n){var a=t.name,r=t.project,o=t.bind,l=t.init&&t.init[0],i=zJ.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return r.items.forEach((function(e,r){var u,c,s=nU("".concat(a,"_").concat(e.field)),f=n.filter((function(e){return e.name===s}));f.length||n.unshift(Object.assign(Object.assign({name:s},l?{init:HK(l[r])}:{value:null}),{on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(i,"[").concat(ma(e.field),"] : null")}]:[],bind:null!==(c=null!==(u=o[e.field])&&void 0!==u?u:o[e.channel])&&void 0!==c?c:o}))})),n},signals:function(e,t,n){var a=t.name,r=t.project,o=n.filter((function(e){return e.name===a+tZ}))[0],l=a+QK,i=r.items.map((function(e){return nU("".concat(a,"_").concat(e.field))})),u=i.map((function(e){return"".concat(e," !== null")})).join(" && ");return i.length&&(o.update="".concat(u," ? {fields: ").concat(l,", values: [").concat(i.join(", "),"]} : null")),delete o.value,delete o.on,n}},HJ=LJ,UJ="_toggle",WJ={defined:function(e){return"point"===e.type&&!!e.toggle},signals:function(e,t,n){return n.concat({name:t.name+UJ,value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t){var n=t.name+tZ,a=t.name+UJ;return"".concat(a," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(a," ? null : true, "):"".concat(a," ? null : {unit: ").concat(lZ(e),"}, "))+"".concat(a," ? ").concat(n," : null")}},qJ={defined:function(e){return void 0!==e.clear&&!1!==e.clear},parse:function(e,t){t.clear&&(t.clear=ca(t.clear)?pI(t.clear,"view"):t.clear)},topLevelSignals:function(e,t,n){if(HJ.defined(t)){var a,r=Wc(t.project.items);try{var o=function(){var e=a.value,r=n.findIndex((function(n){return n.name===nU("".concat(t.name,"_").concat(e.field))}));-1!==r&&n[r].on.push({events:t.clear,update:"null"})};for(r.s();!(a=r.n()).done;)o()}catch(l){r.e(l)}finally{r.f()}}return n},signals:function(e,t,n){function a(e,a){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:a})}if("interval"===t.type){var r,o=Wc(t.project.items);try{var l=function(){var e=r.value,t=n.findIndex((function(t){return t.name===e.signals.visual}));if(a(t,"[0, 0]"),-1===t){var o=n.findIndex((function(t){return t.name===e.signals.data}));a(o,"null")}};for(o.s();!(r=o.n()).done;)l()}catch(u){o.e(u)}finally{o.f()}}else{var i=n.findIndex((function(e){return e.name===t.name+tZ}));a(i,"null"),WJ.defined(t)&&(i=n.findIndex((function(e){return e.name===t.name+UJ})),a(i,"false"))}return n}},GJ={defined:function(e){var t="global"===e.resolve&&e.bind&&TQ(e.bind),n=1===e.project.items.length&&e.project.items[0].field!==NQ;return t&&!n&&CG("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&n},parse:function(e,t,n){var a,r=NH(n);if(r.select=ca(r.select)?{type:r.select,toggle:t.toggle}:Object.assign(Object.assign({},r.select),{toggle:t.toggle}),uZ(t,r),gn(n.select)&&(n.select.on||n.select.clear)){var o,l='event.item && indexof(event.item.mark.role, "legend") < 0',i=Wc(t.events);try{for(i.s();!(o=i.n()).done;){var u=o.value;u.filter=Rn(null!==(a=u.filter)&&void 0!==a?a:[]),u.filter.includes(l)||u.filter.push(l)}}catch(f){i.e(f)}finally{i.f()}}var c=FQ(t.bind)?t.bind.legend:"click",s=ca(c)?pI(c,"view"):Rn(c);t.bind={legend:{merge:s}}},topLevelSignals:function(e,t,n){var a,r=t.name,o=FQ(t.bind)&&t.bind.legend,l=function(e){return function(t){var n=NH(t);return n.markname=e,n}},i=Wc(t.project.items);try{var u=function(){var e=a.value;if(!e.hasLegend)return"continue";var i="".concat(nU(e.field),"_legend"),u="".concat(r,"_").concat(i),c=n.filter((function(e){return e.name===u}));if(0===c.length){var s=o.merge.map(l("".concat(i,"_symbols"))).concat(o.merge.map(l("".concat(i,"_labels")))).concat(o.merge.map(l("".concat(i,"_entries"))));n.unshift(Object.assign(Object.assign({name:u},t.init?{}:{value:null}),{on:[{events:s,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:o.merge,update:"!event.item || !datum ? null : ".concat(u),force:!0}]}))}};for(i.s();!(a=i.n()).done;)u()}catch(c){i.e(c)}finally{i.f()}return n},signals:function(e,t,n){var a=t.name,r=t.project,o=n.find((function(e){return e.name===a+tZ})),l=a+QK,i=r.items.filter((function(e){return e.hasLegend})).map((function(e){return nU("".concat(a,"_").concat(nU(e.field),"_legend"))})),u=i.map((function(e){return"".concat(e," !== null")})).join(" && "),c="".concat(u," ? {fields: ").concat(l,", values: [").concat(i.join(", "),"]} : null");t.events&&i.length>0?o.on.push({events:i.map((function(e){return{signal:e}})),update:c}):i.length>0&&(o.update=c,delete o.value,delete o.on);var s=n.find((function(e){return e.name===a+UJ})),f=FQ(t.bind)&&t.bind.legend;return s&&(t.events?s.on.push(Object.assign(Object.assign({},s.on[0]),{events:f})):s.on[0].events=f),n}};var VJ="_translate_anchor",$J="_translate_delta",YJ={defined:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var a=t.name,r=eJ.defined(t),o=a+VJ,l=t.project.hasChannel,i=l.x,u=l.y,c=pI(t.translate,"scope");return r||(c=c.map((function(e){return e.between[0].markname=a+rJ,e}))),n.push({name:o,value:{},on:[{events:c.map((function(e){return e.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==i?", extent_x: ".concat(r?tJ(e,_U):"slice(".concat(i.signals.visual,")")):"")+(void 0!==u?", extent_y: ".concat(r?tJ(e,EU):"slice(".concat(u.signals.visual,")")):"")+"}"}]},{name:a+$J,value:{},on:[{events:c,update:"{x: ".concat(o,".x - x(unit), y: ").concat(o,".y - y(unit)}")}]}),void 0!==i&&QJ(e,t,i,"width",n),void 0!==u&&QJ(e,t,u,"height",n),n}};function QJ(e,t,n,a,r){var o,l,i=t.name,u=i+VJ,c=i+$J,s=n.channel,f=eJ.defined(t),d=r.filter((function(e){return e.name===n.signals[f?"data":"visual"]}))[0],p=e.getSizeSignalRef(a).signal,g=e.getScaleComponent(s),h=g.get("type"),v=g.get("reverse"),m=f?s===_U?v?"":"-":v?"-":"":"",y="".concat(u,".extent_").concat(s),b="".concat(m).concat(c,".").concat(s," / ").concat(f?"".concat(p):"span(".concat(y,")")),w=f?"log"===h?"panLog":"symlog"===h?"panSymlog":"pow"===h?"panPow":"panLinear":"panLinear",k=f?"pow"===h?", ".concat(null!==(o=g.get("exponent"))&&void 0!==o?o:1):"symlog"===h?", ".concat(null!==(l=g.get("constant"))&&void 0!==l?l:1):"":"",C="".concat(w,"(").concat(y,", ").concat(b).concat(k,")");d.on.push({events:{signal:c},update:f?C:"clampRange(".concat(C,", 0, ").concat(p,")")})}var XJ="_zoom_anchor",KJ="_zoom_delta",JJ={defined:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var a=t.name,r=eJ.defined(t),o=a+KJ,l=t.project.hasChannel,i=l.x,u=l.y,c=ma(e.scaleName(_U)),s=ma(e.scaleName(EU)),f=pI(t.zoom,"scope");return r||(f=f.map((function(e){return e.markname=a+rJ,e}))),n.push({name:a+XJ,on:[{events:f,update:r?"{"+[c?"x: invert(".concat(c,", x(unit))"):"",s?"y: invert(".concat(s,", y(unit))"):""].filter((function(e){return!!e})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==i&&ZJ(e,t,i,"width",n),void 0!==u&&ZJ(e,t,u,"height",n),n}};function ZJ(e,t,n,a,r){var o,l,i=t.name,u=n.channel,c=eJ.defined(t),s=r.filter((function(e){return e.name===n.signals[c?"data":"visual"]}))[0],f=e.getSizeSignalRef(a).signal,d=e.getScaleComponent(u),p=d.get("type"),g=c?tJ(e,u):s.name,h=i+KJ,v="".concat(i).concat(XJ,".").concat(u),m=c?"log"===p?"zoomLog":"symlog"===p?"zoomSymlog":"pow"===p?"zoomPow":"zoomLinear":"zoomLinear",y=c?"pow"===p?", ".concat(null!==(o=d.get("exponent"))&&void 0!==o?o:1):"symlog"===p?", ".concat(null!==(l=d.get("constant"))&&void 0!==l?l:1):"":"",b="".concat(m,"(").concat(g,", ").concat(v,", ").concat(h).concat(y,")");s.on.push({events:{signal:h},update:c?b:"clampRange(".concat(b,", 0, ").concat(f,")")})}var eZ="_store",tZ="_tuple",nZ="_modify",aZ="vlSelectionResolve",rZ=[sJ,iJ,JK,WJ,HJ,eJ,GJ,qJ,YJ,JJ,zJ];function oZ(e){for(var t=e.parent;t&&!J1(t);)t=t.parent;return t}function lZ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t.escape,a=n?ma(e.name):e.name,r=oZ(e);if(r){var o,l=r.facet,i=Wc(fW);try{for(i.s();!(o=i.n()).done;){var u=o.value;l[u]&&(a+=" + '__facet_".concat(u,"_' + (facet[").concat(ma(r.vgField(u)),"])"))}}catch(c){i.e(c)}finally{i.f()}}return a}function iZ(e){var t;return ZH(null!==(t=e.component.selection)&&void 0!==t?t:{}).reduce((function(e,t){return e||t.project.hasSelectionId}),!1)}function uZ(e,t){!ca(t.select)&&t.select.on||delete e.events,!ca(t.select)&&t.select.clear||delete e.clear,!ca(t.select)&&t.select.toggle||delete e.toggle}function cZ(e){var t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push.apply(t,B(cZ(e.object))),t.push.apply(t,B(cZ(e.property)))),t)}function sZ(e){return"MemberExpression"===e.object.type?sZ(e.object):"datum"===e.object.name}function fZ(e){var t=HN(e),n=new Set;return t.visit((function(e){"MemberExpression"===e.type&&sZ(e)&&n.add(cZ(e).slice(1).join("."))})),n}var dZ=function(e){N(n,e);var t=z(n);function n(e,a,r){var o;return O(this,n),(o=t.call(this,e)).model=a,o.filter=r,o.expr=hZ(o.model,o.filter,I(o)),o._dependentFields=fZ(o.expr),o}return D(n,[{key:"clone",value:function(){return new n(null,this.model,NH(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),n}(qK);function pZ(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",o=ca(t)?t:t.param,l=nU(o),i=ma(l+eZ);try{a=e.getSelectionComponent(l,o)}catch(g){return"!!".concat(l)}if(a.project.timeUnit){var u=null!==n&&void 0!==n?n:e.component.data.raw,c=a.project.timeUnit.clone();u.parent?c.insertAsParentOf(u):u.parent=c}var s=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",f="global"===a.resolve?")":", ".concat(ma(a.resolve),")"),d="".concat(s).concat(i,", ").concat(r).concat(f),p="length(data(".concat(i,"))");return!1===t.empty?"".concat(p," && ").concat(d):"!".concat(p," || ").concat(d)}function gZ(e,t,n){var a,r=nU(t),o=n.encoding,l=n.field;try{a=e.getSelectionComponent(r,t)}catch(u){return r}if(o||l){if(o&&!l){var i=a.project.items.filter((function(e){return e.channel===o}));!i.length||i.length>1?(l=a.project.items[0].field,CG((i.length?"Multiple ":"No ")+"matching ".concat(ma(o)," encoding found for selection ").concat(ma(n.param),". ")+'Using "field": '.concat(ma(l),"."))):l=i[0].field}}else l=a.project.items[0].field,a.project.items.length>1&&CG('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(ma(l),"."));return"".concat(a.name,"[").concat(ma(cU(l)),"]")}function hZ(e,t,n){return aU(t,(function(t){return ca(t)?t:function(e){return null===e||void 0===e?void 0:e.param}(t)?pZ(e,t,n):eV(t)}))}var vZ=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function mZ(e,t){if(e)return pn(e)&&!sq(e)?e.map((function(e){return mY(e,t)})).join(", "):e}function yZ(e,t,n,a){var r,o,l,i,u;null!==(r=e.encode)&&void 0!==r||(e.encode={}),null!==(o=(i=e.encode)[t])&&void 0!==o||(i[t]={}),null!==(l=(u=e.encode[t]).update)&&void 0!==l||(u.update={}),e.encode[t].update[n]=a}function bZ(e,t,n){var a,r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},l=e.combine(),i=l.disable,u=l.orient,c=l.scale,s=l.labelExpr,f=l.title,d=l.zindex,p=vZ(l,["disable","orient","scale","labelExpr","title","zindex"]);if(!i){for(var g in p){var h=TY[g],v=p[g];if(h&&h!==t&&"both"!==h)delete p[g];else if(NY(v)){var m=v.condition,y=vZ(v,["condition"]),b=Rn(m),w=MY[g];if(w){var k=w,C=k.vgProp,x=k.part,P=[].concat(B(b.map((function(e){var t=e.test,n=vZ(e,["test"]);return Object.assign({test:hZ(null,t)},n)}))),[y]);yZ(p,x,C,P),delete p[g]}else if(null===w){var _={signal:b.map((function(e){var t=e.test,n=vZ(e,["test"]);return"".concat(hZ(null,t)," ? ").concat(xq(n)," : ")})).join("")+xq(y)};p[g]=_}}else if(fq(v)){var E=MY[g];if(E){var S=E.vgProp,O=E.part;yZ(p,O,S,v),delete p[g]}}LH(["labelAlign","labelBaseline"],g)&&null===p[g]&&delete p[g]}if("grid"===t){if(!p.grid)return;if(p.encode){var A=p.encode.grid;p.encode=Object.assign({},A?{grid:A}:{}),KH(p.encode)&&delete p.encode}return Object.assign(Object.assign({scale:c,orient:u},p),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:pU(d,0)})}if(o.header||!e.mainExtracted){if(void 0!==s){var D=s;(null===(r=null===(a=p.encode)||void 0===a?void 0:a.labels)||void 0===r?void 0:r.update)&&fq(p.encode.labels.update.text)&&(D=sU(s,"datum.label",p.encode.labels.update.text.signal)),yZ(p,"labels","text",{signal:D})}if(null===p.labelAlign&&delete p.labelAlign,p.encode){var M,N=Wc(jY);try{for(N.s();!(M=N.n()).done;){var j=M.value;e.hasAxisPart(j)||delete p.encode[j]}}catch(F){N.e(F)}finally{N.f()}KH(p.encode)&&delete p.encode}var T=mZ(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:c,orient:u,grid:!1},T?{title:T}:{}),p),!1===n.aria?{aria:!1}:{}),{zindex:pU(d,0)})}}}function wZ(e){var t,n=e.component.axes,a=[],r=Wc(OW);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(n[o]){var l,i=Wc(n[o]);try{for(i.s();!(l=i.n()).done;){var u=l.value;if(!u.get("disable")&&!u.get("gridScale")){var c="x"===o?"height":"width",s=e.getSizeSignalRef(c).signal;c!==s&&a.push({name:c,update:s})}}}catch(f){i.e(f)}finally{i.f()}}}}catch(f){r.e(f)}finally{r.f()}return a}function kZ(e,t,n,a){return Object.assign.apply(null,[{}].concat(B(e.map((function(e){if("axisOrient"===e){var r,o="x"===n?"bottom":"left",l=t["x"===n?"axisBottom":"axisLeft"]||{},i=t["x"===n?"axisTop":"axisRight"]||{},u={},c=Wc(new Set([].concat(B(JH(l)),B(JH(i)))).values());try{for(c.s();!(r=c.n()).done;){var s=r.value;u[s]={signal:"".concat(a.signal,' === "').concat(o,'" ? ').concat(Pq(l[s])," : ").concat(Pq(i[s]))}}}catch(f){c.e(f)}finally{c.f()}return u}return t[e]})))))}function CZ(e,t){var n,a,r=[{}],o=Wc(e);try{for(o.s();!(a=o.n()).done;){var l=null===(n=t[a.value])||void 0===n?void 0:n.style;if(l){var i,u=Wc(l=Rn(l));try{for(u.s();!(i=u.n()).done;){var c=i.value;r.push(t.style[c])}}catch(s){u.e(s)}finally{u.f()}}}}catch(s){o.e(s)}finally{o.f()}return Object.assign.apply(null,r)}function xZ(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Oq(e,n,t);if(void 0!==o)return{configFrom:"style",configValue:o};for(var l=0,i=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];l<i.length;l++){var u=i[l];if(void 0!==(null===(a=r[u])||void 0===a?void 0:a[e]))return{configFrom:u,configValue:r[u][e]}}return{}}var PZ={scale:function(e){var t=e.model,n=e.channel;return t.scaleName(n)},format:function(e){var t=e.fieldOrDatumDef,n=e.config,a=e.axis,r=a.format,o=a.formatType;return P$(t,t.type,r,o,n,!0)},formatType:function(e){var t=e.axis,n=e.fieldOrDatumDef,a=e.scaleType,r=t.formatType;return _$(r,n,a)},grid:function(e){var t,n=e.fieldOrDatumDef,a=e.axis,r=e.scaleType;return null!==(t=a.grid)&&void 0!==t?t:function(e,t){return!BV(e)&&Y$(t)&&!tq(null===t||void 0===t?void 0:t.bin)&&!nq(null===t||void 0===t?void 0:t.bin)}(r,n)},gridScale:function(e){return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n);return}(e.model,e.channel)},labelAlign:function(e){var t=e.axis,n=e.labelAngle,a=e.orient,r=e.channel;return t.labelAlign||SZ(n,a,r)},labelAngle:function(e){return e.labelAngle},labelBaseline:function(e){var t=e.axis,n=e.labelAngle,a=e.orient,r=e.channel;return t.labelBaseline||EZ(n,a,r)},labelFlush:function(e){var t,n=e.axis,a=e.fieldOrDatumDef,r=e.channel;return null!==(t=n.labelFlush)&&void 0!==t?t:function(e,t){if("x"===t&&LH(["quantitative","temporal"],e))return!0;return}(a.type,r)},labelOverlap:function(e){var t,n=e.axis,a=e.fieldOrDatumDef,r=e.scaleType;return null!==(t=n.labelOverlap)&&void 0!==t?t:function(e,t,n,a){if(n&&!gn(a)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy";return}(a.type,r,Y$(a)&&!!a.timeUnit,Y$(a)?a.sort:void 0)},orient:function(e){return e.orient},tickCount:function(e){var t,n=e.channel,a=e.model,r=e.axis,o=e.fieldOrDatumDef,l=e.scaleType,i="x"===n?"width":"y"===n?"height":void 0,u=i?a.getSizeSignalRef(i):void 0;return null!==(t=r.tickCount)&&void 0!==t?t:function(e){var t,n=e.fieldOrDatumDef,a=e.scaleType,r=e.size;if(!e.values&&!BV(a)&&"log"!==a){if(Y$(n)){if(tq(n.bin))return{signal:"ceil(".concat(r.signal,"/10)")};if(n.timeUnit&&LH(["month","hours","day","quarter"],null===(t=HG(n.timeUnit))||void 0===t?void 0:t.unit))return}return{signal:"ceil(".concat(r.signal,"/40)")}}return}({fieldOrDatumDef:o,scaleType:l,size:u,values:r.values})},title:function(e){var t=e.axis,n=e.model,a=e.channel;if(void 0!==t.title)return t.title;var r=BZ(n,a);if(void 0!==r)return r;var o=n.typedFieldDef(a),l="x"===a?"x2":"y2",i=n.fieldDef(l);return Dq(o?[L$(o)]:[],Y$(i)?[L$(i)]:[])},values:function(e){return function(e,t){var n=e.values;if(pn(n))return AY(t,n);if(fq(n))return n;return}(e.axis,e.fieldOrDatumDef)},zindex:function(e){var t,n=e.axis,a=e.fieldOrDatumDef,r=e.mark;return null!==(t=n.zindex)&&void 0!==t?t:function(e,t){if("rect"===e&&cY(t))return 1;return 0}(r,a)}};function _Z(e){return"(((".concat(e.signal," % 360) + 360) % 360)")}function EZ(e,t,n,a){if(void 0!==e){if("x"===n){if(fq(e)){var r=_Z(e),o=fq(t)?"(".concat(t.signal,' === "top")'):"top"===t;return{signal:"(45 < ".concat(r," && ").concat(r," < 135) || (225 < ").concat(r," && ").concat(r,' < 315) ? "middle" :')+"(".concat(r," <= 45 || 315 <= ").concat(r,") === ").concat(o,' ? "bottom" : "top"')}}if(45<e&&e<135||225<e&&e<315)return"middle";if(fq(t)){var l=e<=45||315<=e?"===":"!==";return{signal:"".concat(t.signal," ").concat(l,' "top" ? "bottom" : "top"')}}return(e<=45||315<=e)===("top"===t)?"bottom":"top"}if(fq(e)){var i=_Z(e),u=fq(t)?"(".concat(t.signal,' === "left")'):"left"===t,c=a?'"middle"':"null";return{signal:"".concat(i," <= 45 || 315 <= ").concat(i," || (135 <= ").concat(i," && ").concat(i," <= 225) ? ").concat(c," : (45 <= ").concat(i," && ").concat(i," <= 135) === ").concat(u,' ? "top" : "bottom"')}}if(e<=45||315<=e||135<=e&&e<=225)return a?"middle":null;if(fq(t)){var s=45<=e&&e<=135?"===":"!==";return{signal:"".concat(t.signal," ").concat(s,' "left" ? "top" : "bottom"')}}return(45<=e&&e<=135)===("left"===t)?"top":"bottom"}}function SZ(e,t,n){if(void 0!==e){var a="x"===n,r=a?0:90,o=a?"bottom":"left";if(fq(e)){var l=_Z(e),i=fq(t)?"(".concat(t.signal,' === "').concat(o,'")'):t===o;return{signal:"(".concat(r?"(".concat(l," + 90)"):l," % 180 === 0) ? ").concat(a?null:'"center"'," :")+"(".concat(r," < ").concat(l," && ").concat(l," < ").concat(180+r,") === ").concat(i,' ? "left" : "right"')}}if((e+r)%180===0)return a?null:"center";if(fq(t)){var u=r<e&&e<180+r?"===":"!==",c="".concat(t.signal," ").concat(u,' "').concat(o,'"');return{signal:"".concat(c,' ? "left" : "right"')}}return(r<e&&e<180+r)===(t===o)?"left":"right"}}function BZ(e,t){var n="x"===t?"x2":"y2",a=e.fieldDef(t),r=e.fieldDef(n),o=a?a.title:void 0,l=r?r.title:void 0;return o&&l?Mq(o,l):o||(l||(void 0!==o?o:void 0!==l?l:void 0))}var OZ=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).transform=a,r._dependentFields=fZ(r.transform.calculate),r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(RH(this.transform))}}],[{key:"parseAllForSortIndex",value:function(e,t){return t.forEachFieldDef((function(t,a){if(nY(t)&&T$(t.sort)){var r=t.field,o=t.timeUnit,l=t.sort,i=l.map((function(e,t){return"".concat(eV({field:r,timeUnit:o,equal:e})," ? ").concat(t," : ")})).join("")+l.length;e=new n(e,{calculate:i,as:AZ(t,a,{forAs:!0})})}})),e}}]),n}(qK);function AZ(e,t,n){return uY(e,Object.assign({prefix:t,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function DZ(e,t){return LH(["top","bottom"],t)?"column":LH(["left","right"],t)||"row"===e?"row":"column"}function MZ(e,t,n,a){var r="row"===a?n.headerRow:"column"===a?n.headerColumn:n.headerFacet;return pU((t||{})[e],r[e],n.header[e])}function NZ(e,t,n,a){var r,o={},l=Wc(e);try{for(l.s();!(r=l.n()).done;){var i=r.value,u=MZ(i,t||{},n,a);void 0!==u&&(o[i]=u)}}catch(c){l.e(c)}finally{l.f()}return o}var jZ=["row","column"],TZ=["header","footer"];function FZ(e,t){var n=e.component.layoutHeaders[t].title,a=e.config?e.config:void 0,r=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,o=NZ(["titleAnchor","titleAngle","titleOrient"],r.header,a,t),l=o.titleAnchor,i=o.titleAngle,u=DZ(t,o.titleOrient),c=bU(i);return{name:"".concat(t,"-title"),type:"group",role:"".concat(u,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),RZ(c,u)),IZ(u,c,l)),GZ(a,r,t,BQ,EQ))}}function IZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var a=SZ(t,"row"===e?"left":"top","row"===e?"y":"x");return a?{align:a}:{}}function RZ(e,t){var n=EZ(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function zZ(e,t){var n,a=e.component.layoutHeaders[t],r=[],o=Wc(TZ);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(a[l]){var i,u=Wc(a[l]);try{for(u.s();!(i=u.n()).done;){var c=UZ(e,t,l,a,i.value);null!=c&&r.push(c)}}catch(s){u.e(s)}finally{u.f()}}}}catch(s){o.e(s)}finally{o.f()}return r}function LZ(e,t){var n,a=e.sort;return j$(a)?{field:uY(a,{expr:"datum"}),order:null!==(n=a.order)&&void 0!==n?n:"ascending"}:pn(a)?{field:AZ(e,t,{expr:"datum"}),order:"ascending"}:{field:uY(e,{expr:"datum"}),order:null!==a&&void 0!==a?a:"ascending"}}function HZ(e,t,n){var a=NZ(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),r=a.format,o=a.formatType,l=a.labelAngle,i=a.labelAnchor,u=a.labelOrient,c=a.labelExpr,s=k$({fieldOrDatumDef:e,format:r,formatType:o,expr:"parent",config:n}).signal,f=DZ(t,u);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:c?sU(sU(c,"datum.label",s),"datum.value",uY(e,{expr:"parent"})):s}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),RZ(l,f)),IZ(f,l,i)),GZ(n,e,t,OQ,SQ))}function UZ(e,t,n,a,r){if(r){var o=null,l=a.facetFieldDef,i=e.config?e.config:void 0;if(l&&r.labels){var u=NZ(["labelOrient"],l.header,i,t).labelOrient;("row"===t&&!LH(["top","bottom"],u)||"column"===t&&!LH(["left","right"],u))&&(o=HZ(l,t,i))}var c=J1(e)&&!F$(e.facet),s=r.axes,f=(null===s||void 0===s?void 0:s.length)>0;if(o||f){var d="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n)},a.facetFieldDef?{from:{data:e.getName("".concat(t,"_domain"))},sort:LZ(l,t)}:{}),f&&c?{from:{data:e.getName("facet_domain_".concat(t))}}:{}),o?{title:o}:{}),r.sizeSignal?{encode:{update:pr({},d,r.sizeSignal)}}:{}),f?{axes:s}:{})}}return null}var WZ={column:{start:0,end:1},row:{start:1,end:0}};function qZ(e,t){return WZ[t][e]}function GZ(e,t,n,a,r){var o,l={},i=Wc(a);try{for(i.s();!(o=i.n()).done;){var u=o.value;if(r[u]){var c=MZ(u,null===t||void 0===t?void 0:t.header,e,n);void 0!==c&&(l[r[u]]=c)}}}catch(s){i.e(s)}finally{i.f()}return l}function VZ(e){return[].concat(B($Z(e,"width")),B($Z(e,"height")),B($Z(e,"childWidth")),B($Z(e,"childHeight")))}function $Z(e,t){var n="width"===t?"x":"y",a=e.component.layoutSize.get(t);if(!a||"merged"===a)return[];var r=e.getSizeSignalRef(t).signal;if("step"===a){var o=e.getScaleComponent(n);if(o){var l=o.get("type"),i=o.get("range");if(BV(l)&&dq(i)){var u=e.scaleName(n);if(J1(e.parent))if("independent"===e.parent.component.resolve.scale[n])return[YZ(u,i)];return[YZ(u,i),{name:r,update:QZ(u,o,"domain('".concat(u,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==a){var c=r.endsWith("width"),s=c?"containerSize()[0]":"containerSize()[1]",f=YQ(e.config.view,c?"width":"height"),d="isFinite(".concat(s,") ? ").concat(s," : ").concat(f);return[{name:r,init:d,on:[{update:d,events:"window:resize"}]}]}return[{name:r,value:a}]}function YZ(e,t){var n="".concat(e,"_step");return fq(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function QZ(e,t,n){var a=t.get("type"),r=t.get("padding"),o=pU(t.get("paddingOuter"),r),l=t.get("paddingInner");return l="band"===a?void 0!==l?l:r:1,"bandspace(".concat(n,", ").concat(Pq(l),", ").concat(Pq(o),") * ").concat(e,"_step")}function XZ(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function KZ(e,t){return JH(e).reduce((function(n,a){var r=e[a];return Object.assign(Object.assign({},n),fJ(t,r,a,(function(e){return kq(e.value)})))}),{})}function JZ(e,t){if(J1(t))return"theta"===e?"independent":"shared";if(e2(t))return"shared";if(Z1(t))return AW(e)||"theta"===e||"radius"===e?"independent":"shared";throw new Error("invalid model type for resolve")}function ZZ(e,t){var n=e.scale[t],a=AW(t)?"axis":"legend";return"independent"===n?("shared"===e[a][t]&&CG(function(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}(t)),"independent"):e[a][t]||"shared"}var e0=Object.assign(Object.assign({},MQ),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),t0=JH(e0),n0=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n)}(_K),a0={symbols:function(e,t){var n,a,r,o,l,i,u,c,s=t.fieldOrDatumDef,f=t.model,d=t.channel,p=t.legendCmpt;if("symbol"!==t.legendType)return;var g=f.markDef,h=f.encoding,v=f.config,m=f.mark,y=g.filled&&"trail"!==m,b=Object.assign(Object.assign({},function(e,t,n){var a,r=Wc(n);try{for(r.s();!(a=r.n()).done;){var o=a.value,l=Sq(o,t.markDef,t.config);void 0!==l&&(e[o]=kq(l))}}catch(i){r.e(i)}finally{r.f()}return e}({},f,o$)),bJ(f,{filled:y})),w=null!==(n=p.get("symbolOpacity"))&&void 0!==n?n:v.legend.symbolOpacity,k=null!==(a=p.get("symbolFillColor"))&&void 0!==a?a:v.legend.symbolFillColor,C=null!==(r=p.get("symbolStrokeColor"))&&void 0!==r?r:v.legend.symbolStrokeColor,x=void 0===w?null!==(o=r0(h.opacity))&&void 0!==o?o:g.opacity:void 0;if(b.fill)if("fill"===d||y&&d===zU)delete b.fill;else if(b.fill.field)k?delete b.fill:(b.fill=kq(null!==(l=v.legend.symbolBaseFillColor)&&void 0!==l?l:"black"),b.fillOpacity=kq(null!==x&&void 0!==x?x:1));else if(pn(b.fill)){var P=null!==(c=null!==(u=o0(null!==(i=h.fill)&&void 0!==i?i:h.color))&&void 0!==u?u:g.fill)&&void 0!==c?c:y&&g.color;P&&(b.fill=kq(P))}if(b.stroke)if("stroke"===d||!y&&d===zU)delete b.stroke;else if(b.stroke.field||C)delete b.stroke;else if(pn(b.stroke)){var _=pU(o0(h.stroke||h.color),g.stroke,y?g.color:void 0);_&&(b.stroke={value:_})}if(d!==GU){var E=Y$(s)&&i0(f,p,s);E?b.opacity=[Object.assign({test:E},kq(null!==x&&void 0!==x?x:1)),kq(v.legend.unselectedOpacity)]:x&&(b.opacity=kq(x))}return KH(b=Object.assign(Object.assign({},b),e))?void 0:b},gradient:function(e,t){var n,a=t.model,r=t.legendType,o=t.legendCmpt;if("gradient"!==r)return;var l=a.config,i=a.markDef,u=a.encoding,c={},s=void 0===(null!==(n=o.get("gradientOpacity"))&&void 0!==n?n:l.legend.gradientOpacity)?r0(u.opacity)||i.opacity:void 0;s&&(c.opacity=kq(s));return KH(c=Object.assign(Object.assign({},c),e))?void 0:c},labels:function(e,t){var n=t.fieldOrDatumDef,a=t.model,r=t.channel,o=t.legendCmpt,l=a.legend(r)||{},i=a.config,u=Y$(n)?i0(a,o,n):void 0,c=u?[{test:u,value:1},{value:i.legend.unselectedOpacity}]:void 0,s=l.format,f=l.formatType,d=void 0;b$(f)?d=x$({fieldOrDatumDef:n,field:"datum.value",format:s,formatType:f,config:i}):void 0===s&&void 0===f&&i.customFormatTypes&&("quantitative"===n.type&&i.numberFormatType?d=x$({fieldOrDatumDef:n,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}):"temporal"===n.type&&i.timeFormatType&&Y$(n)&&void 0===n.timeUnit&&(d=x$({fieldOrDatumDef:n,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i})));var p=Object.assign(Object.assign(Object.assign({},c?{opacity:c}:{}),d?{text:d}:{}),e);return KH(p)?void 0:p},entries:function(e,t){var n=t.legendCmpt.get("selections");return(null===n||void 0===n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function r0(e){return l0(e,(function(e,t){return Math.max(e,t.value)}))}function o0(e){return l0(e,(function(e,t){return pU(e,t.value)}))}function l0(e,t){return function(e){var t=null===e||void 0===e?void 0:e.condition;return!!t&&(pn(t)||tY(t))}(e)?Rn(e.condition).reduce(t,e.value):tY(e)?e.value:void 0}function i0(e,t,n){var a=t.get("selections");if(null===a||void 0===a?void 0:a.length){var r=ma(n.field);return a.map((function(e){var t=ma(nU(e)+eZ);return"(!length(data(".concat(t,")) || (").concat(e,"[").concat(r,"] && indexof(").concat(e,"[").concat(r,"], datum.value) >= 0))")})).join(" || ")}}var u0={direction:function(e){return e.direction},format:function(e){var t=e.fieldOrDatumDef,n=e.legend,a=e.config,r=n.format,o=n.formatType;return P$(t,t.type,r,o,a,!1)},formatType:function(e){var t=e.legend,n=e.fieldOrDatumDef,a=e.scaleType,r=t.formatType;return _$(r,n,a)},gradientLength:function(e){var t,n,a=e.legend,r=e.legendConfig;return null!==(n=null!==(t=a.gradientLength)&&void 0!==t?t:r.gradientLength)&&void 0!==n?n:function(e){var t=e.legendConfig,n=e.model,a=e.direction,r=e.orient,o=e.scaleType,l=t.gradientHorizontalMaxLength,i=t.gradientHorizontalMinLength,u=t.gradientVerticalMaxLength,c=t.gradientVerticalMinLength;if(AV(o))return"horizontal"===a?"top"===r||"bottom"===r?f0(n,"width",i,l):i:f0(n,"height",c,u);return}(e)},labelOverlap:function(e){var t,n,a=e.legend,r=e.legendConfig,o=e.scaleType;return null!==(n=null!==(t=a.labelOverlap)&&void 0!==t?t:r.labelOverlap)&&void 0!==n?n:function(e){if(LH(["quantile","threshold","log","symlog"],e))return"greedy";return}(o)},symbolType:function(e){var t,n=e.legend,a=e.markDef,r=e.channel,o=e.encoding;return null!==(t=n.symbolType)&&void 0!==t?t:function(e,t,n,a){var r;if("shape"!==t){var o=null!==(r=o0(n))&&void 0!==r?r:a;if(o)return o}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(a.type,r,o.shape,a.shape)},title:function(e){return hY(e.fieldOrDatumDef,e.config,{allowDisabling:!0})},type:function(e){var t=e.legendType,n=e.scaleType;if(cW(e.channel)&&AV(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:function(e){var t=e.fieldOrDatumDef;return function(e,t){var n=e.values;if(pn(n))return AY(t,n);if(fq(n))return n;return}(e.legend,t)}};function c0(e){return pU(e.legend.type,function(e){var t=e.channel,n=e.timeUnit,a=e.scaleType;if(cW(t)){if(LH(["quarter","month","day"],n))return"symbol";if(AV(a))return"gradient"}return"symbol"}(e))}function s0(e){var t,n,a=e.legendConfig,r=e.legendType,o=e.orient;return null!==(n=null!==(t=e.legend.direction)&&void 0!==t?t:a[r?"gradientDirection":"symbolDirection"])&&void 0!==n?n:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(o,r)}function f0(e,t,n,a){var r=e.getSizeSignalRef(t).signal;return{signal:"clamp(".concat(r,", ").concat(n,", ").concat(a,")")}}function d0(e){var t=K1(e)?function(e){for(var t=e.encoding,n={},a=0,r=[zU].concat(B(DQ));a<r.length;a++){var o=r[a],l=kY(t[o]);l&&e.getScaleComponent(o)&&(o===UU&&Y$(l)&&l.type===cV||(n[o]=g0(e,o)))}return n}(e):function(e){var t,n=e.component,a=n.legends,r=n.resolve,o=Wc(e.children);try{for(o.s();!(t=o.n()).done;){var l=t.value;d0(l);var i,u=Wc(JH(l.component.legends));try{for(u.s();!(i=u.n()).done;){var c=i.value;r.legend[c]=ZZ(e.component.resolve,c),"shared"===r.legend[c]&&(a[c]=h0(a[c],l.component.legends[c]),a[c]||(r.legend[c]="independent",delete a[c]))}}catch(v){u.e(v)}finally{u.f()}}}catch(v){o.e(v)}finally{o.f()}var s,f=Wc(JH(a));try{for(f.s();!(s=f.n()).done;){var d,p=s.value,g=Wc(e.children);try{for(g.s();!(d=g.n()).done;){var h=d.value;h.component.legends[p]&&("shared"===r.legend[p]&&delete h.component.legends[p])}}catch(v){g.e(v)}finally{g.f()}}}catch(v){f.e(v)}finally{f.f()}return a}(e);return e.component.legends=t,t}function p0(e,t,n,a){switch(t){case"disable":return void 0!==n;case"values":return!!(null===n||void 0===n?void 0:n.values);case"title":if("title"===t&&e===(null===a||void 0===a?void 0:a.title))return!0}return e===(n||{})[t]}function g0(e,t){var n,a,r,o=e.legend(t),l=e.markDef,i=e.encoding,u=e.config,c=u.legend,s=new n0({},function(e,t){var n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:pr({},t,n)}(e,t));!function(e,t,n){var a,r,o,l,i,u=null===(a=e.fieldDef(t))||void 0===a?void 0:a.field,c=Wc(ZH(null!==(r=e.component.selection)&&void 0!==r?r:{}));try{for(c.s();!(i=c.n()).done;){var s=i.value,f=null!==(o=s.project.hasField[u])&&void 0!==o?o:s.project.hasChannel[t];if(f&&GJ.defined(s)){var d=null!==(l=n.get("selections"))&&void 0!==l?l:[];d.push(s.name),n.set("selections",d,!1),f.hasLegend=!0}}}catch(p){c.e(p)}finally{c.f()}}(e,t,s);var f=void 0!==o?!o:c.disable;if(s.set("disable",f,void 0!==o),f)return s;o=o||{};var d,p=e.getScaleComponent(t).get("type"),g=kY(i[t]),h=Y$(g)?null===(n=HG(g.timeUnit))||void 0===n?void 0:n.unit:void 0,v=o.orient||u.legend.orient||"right",m=c0({legend:o,channel:t,timeUnit:h,scaleType:p}),y={legend:o,channel:t,model:e,markDef:l,encoding:i,fieldOrDatumDef:g,legendConfig:c,config:u,scaleType:p,orient:v,legendType:m,direction:s0({legend:o,legendType:m,orient:v,legendConfig:c})},b=Wc(t0);try{for(b.s();!(d=b.n()).done;){var w=d.value;if(!("gradient"===m&&w.startsWith("symbol")||"symbol"===m&&w.startsWith("gradient"))){var k=w in u0?u0[w](y):o[w];if(void 0!==k){var C=p0(k,w,o,e.fieldDef(t));(C||void 0===u.legend[w])&&s.set(w,k,C)}}}}catch(M){b.e(M)}finally{b.f()}for(var x=null!==(a=null===o||void 0===o?void 0:o.encoding)&&void 0!==a?a:{},P=s.get("selections"),_={},E={fieldOrDatumDef:g,model:e,channel:t,legendCmpt:s,legendType:m},S=0,B=["labels","legend","title","symbols","gradient","entries"];S<B.length;S++){var O=B[S],A=KZ(null!==(r=x[O])&&void 0!==r?r:{},e),D=O in a0?a0[O](A,E):A;void 0===D||KH(D)||(_[O]=Object.assign(Object.assign(Object.assign({},(null===P||void 0===P?void 0:P.length)&&Y$(g)?{name:"".concat(nU(g.field),"_legend_").concat(O)}:{}),(null===P||void 0===P?void 0:P.length)?{interactive:!!P}:{}),{update:D}))}return KH(_)||s.set("encode",_,!!(null===o||void 0===o?void 0:o.encoding)),s}function h0(e,t){var n,a,r,o;if(!e)return t.clone();var l=e.getWithExplicit("orient"),i=t.getWithExplicit("orient");if(!l.explicit||!i.explicit||l.value===i.value){var u,c=!1,s=Wc(t0);try{var f=function(){var n=u.value,a=AK(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(function(e,t){switch(n){case"symbolType":return function(e,t){if("circle"===t.value)return t;return e}(e,t);case"title":return Nq(e,t);case"type":return c=!0,SK("symbol")}return OK(e,t,n,"legend")}));e.setWithExplicit(n,a)};for(s.s();!(u=s.n()).done;)f()}catch(d){s.e(d)}finally{s.f()}return c&&((null===(a=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===a?void 0:a.gradient)&&rU(e.implicit,["encode","gradient"]),(null===(o=null===(r=e.explicit)||void 0===r?void 0:r.encode)||void 0===o?void 0:o.gradient)&&rU(e.explicit,["encode","gradient"])),e}}var v0=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function m0(e){var t,n=e.component.legends,a={},r=Wc(JH(n));try{for(r.s();!(t=r.n()).done;){var o=t.value,l=e.getScaleComponent(o),i=IH(l.get("domains"));if(a[i]){var u,c=Wc(a[i]);try{for(c.s();!(u=c.n()).done;){h0(u.value,n[o])||a[i].push(n[o])}}catch(f){c.e(f)}finally{c.f()}}else a[i]=[n[o].clone()]}}catch(f){r.e(f)}finally{r.f()}var s=ZH(a).flat().map((function(t){return function(e,t){var n,a,r,o=e.combine(),l=o.disable,i=o.labelExpr,u=(o.selections,v0(o,["disable","labelExpr","selections"]));if(l)return;!1===t.aria&&void 0==u.aria&&(u.aria=!1);if(null===(n=u.encode)||void 0===n?void 0:n.symbols){var c=u.encode.symbols.update;!c.fill||"transparent"===c.fill.value||c.stroke||u.stroke||(c.stroke={value:"transparent"});var s,d=Wc(DQ);try{for(d.s();!(s=d.n()).done;){var p=s.value;u[p]&&delete c[p]}}catch(f){d.e(f)}finally{d.f()}}u.title||delete u.title;if(void 0!==i){var g=i;(null===(r=null===(a=u.encode)||void 0===a?void 0:a.labels)||void 0===r?void 0:r.update)&&fq(u.encode.labels.update.text)&&(g=sU(i,"datum.label",u.encode.labels.update.text.signal)),function(e,t,n,a){var r,o,l,i,u;null!==(r=e.encode)&&void 0!==r||(e.encode={}),null!==(o=(i=e.encode)[t])&&void 0!==o||(i[t]={}),null!==(l=(u=e.encode[t]).update)&&void 0!==l||(u.update={}),e.encode[t].update[n]=a}(u,"labels","text",{signal:g})}return u}(t,e.config)})).filter((function(e){return void 0!==e}));return s}function y0(e){return e2(e)||Z1(e)?function(e){return e.children.reduce((function(e,t){return e.concat(t.assembleProjections())}),b0(e))}(e):b0(e)}function b0(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),a=n.name;if(t.data){var r={signal:"[".concat(t.size.map((function(e){return e.signal})).join(", "),"]")},o=t.data.reduce((function(t,n){var a=fq(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return LH(t,a)||t.push(a),t}),[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:a,size:r,fit:{signal:o.length>1?"[".concat(o.join(", "),"]"):o[0]}},n)]}return[Object.assign(Object.assign({name:a},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var w0=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],k0=function(e){N(n,e);var t=z(n);function n(e,a,r,o){var l;return O(this,n),(l=t.call(this,Object.assign({},a),{name:e})).specifiedProjection=a,l.size=r,l.data=o,l.merged=!1,l}return D(n,[{key:"isFit",get:function(){return!!this.data}}]),n}(_K);function C0(e){e.component.projection=K1(e)?function(e){var t;if(e.hasProjection){var n=iq(e.specifiedProjection),a=!(n&&(null!=n.scale||null!=n.translate)),r=a?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=a?function(e){for(var t=[],n=e.encoding,a=0,r=[[FU,TU],[RU,IU]];a<r.length;a++){var o=r[a];(kY(n[o[0]])||kY(n[o[1]]))&&t.push({signal:e.getName("geojson_".concat(t.length))})}e.channelHasField(UU)&&e.typedFieldDef(UU).type===cV&&t.push({signal:e.getName("geojson_".concat(t.length))});0===t.length&&t.push(e.requestDataName(DK.Main));return t}(e):void 0,l=new k0(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=iq(e.config.projection))&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{}),r,o);return l.get("type")||l.set("type","equalEarth",!1),l}return}(e):function(e){if(0===e.children.length)return;var t,n,a=Wc(e.children);try{for(a.s();!(n=a.n()).done;){C0(n.value)}}catch(d){a.e(d)}finally{a.f()}var r=UH(e.children,(function(e){var n=e.component.projection;if(n){if(t){var a=function(e,t){var n=UH(w0,(function(n){return!Jn(e.explicit,n)&&!Jn(t.explicit,n)||!!(Jn(e.explicit,n)&&Jn(t.explicit,n)&&MH(e.get(n),t.get(n)))}));if(MH(e.size,t.size)){if(n)return e;if(MH(e.explicit,{}))return t;if(MH(t.explicit,{}))return e}return null}(t,n);return a&&(t=a),!!a}return t=n,!0}return!0}));if(t&&r){var o,l=e.projectionName(!0),i=new k0(l,t.specifiedProjection,t.size,NH(t.data)),u=Wc(e.children);try{for(u.s();!(o=u.n()).done;){var c=o.value,s=c.component.projection;if(s){var f;if(s.isFit)(f=i.data).push.apply(f,B(c.component.projection.data));c.renameProjection(s.get("name"),l),s.merged=!0}}}catch(d){u.e(d)}finally{u.f()}return i}return}(e)}var x0=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function P0(e,t){return"".concat(eq(e),"_").concat(t)}function _0(e,t,n){var a,r=P0(null!==(a=_Y(n,void 0))&&void 0!==a?a:{},t);return e.getName("".concat(r,"_bins"))}function E0(e,t,n){var a,r;a=function(e){return"as"in e}(e)?ca(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[uY(e,{forAs:!0}),uY(e,{binSuffix:"end",forAs:!0})];var o=Object.assign({},_Y(t,void 0)),l=P0(o,e.field),i=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,l),u=i.signal,c=i.extentSignal;if(rq(o.extent)){var s=o.extent;r=gZ(n,s.param,s),delete o.extent}return{key:l,binComponent:Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[a]},u?{signal:u}:{}),c?{extentSignal:c}:{}),r?{span:r}:{})}}var S0=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).bins=a,r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.bins))}},{key:"merge",value:function(e,t){var n,a=Wc(JH(e.bins));try{for(a.s();!(n=a.n()).done;){var r=n.value;r in this.bins?(t(e.bins[r].signal,this.bins[r].signal),this.bins[r].as=GH([].concat(B(this.bins[r].as),B(e.bins[r].as)),RH)):this.bins[r]=e.bins[r]}}catch(u){a.e(u)}finally{a.f()}var o,l=Wc(e.children);try{for(l.s();!(o=l.n()).done;){var i=o.value;e.removeChild(i),i.parent=this}}catch(u){l.e(u)}finally{l.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(ZH(this.bins).map((function(e){return e.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(ZH(this.bins).map((function(e){return e.field})))}},{key:"hash",value:function(){return"Bin ".concat(RH(this.bins))}},{key:"assemble",value:function(){return ZH(this.bins).flatMap((function(e){var t,n=[],a=C(t=e.as)||S(t)||P(t)||_(),r=a[0],o=a.slice(1),l=e.bin,i=l.extent,u=x0(l,["extent"]),c=Object.assign(Object.assign(Object.assign({type:"bin",field:cU(e.field),as:r,signal:e.signal},rq(i)?{extent:null}:{extent:i}),e.span?{span:{signal:"span(".concat(e.span,")")}}:{}),u);!i&&e.extentSignal&&(n.push({type:"extent",field:cU(e.field),signal:e.extentSignal}),c.extent={signal:e.extentSignal}),n.push(c);var s,f=Wc(o);try{for(f.s();!(s=f.n()).done;)for(var d=s.value,p=0;p<2;p++)n.push({type:"formula",expr:uY({field:r[p]},{expr:"datum"}),as:d[p]})}catch(g){f.e(g)}finally{f.f()}return e.formula&&n.push({type:"formula",expr:e.formula,as:e.formulaAs}),n}))}}],[{key:"makeFromEncoding",value:function(e,t){var a=t.reduceFieldDef((function(e,n,a){if(eY(n)&&tq(n.bin)){var r=E0(n,n.bin,t),o=r.key,l=r.binComponent;e[o]=Object.assign(Object.assign(Object.assign({},l),e[o]),function(e,t,n,a){var r,o;if(DY(t,n)){var l=K1(e)&&null!==(o=null!==(r=e.axis(n))&&void 0!==r?r:e.legend(n))&&void 0!==o?o:{},i=uY(t,{expr:"datum"}),u=uY(t,{expr:"datum",binSuffix:"end"});return{formulaAs:uY(t,{binSuffix:"range",forAs:!0}),formula:O$(i,u,l.format,l.formatType,a)}}return{}}(t,n,a,t.config))}return e}),{});return KH(a)?null:new n(e,a)}},{key:"makeFromTransform",value:function(e,t,a){var r=E0(t,t.bin,a);return new n(e,pr({},r.key,r.binComponent))}}]),n}(qK);function B0(e,t,n,a){var r,o=K1(a)?a.encoding[kW(t)]:void 0;if(eY(n)&&K1(a)&&q$(n,o,a.markDef,a.config))e.add(uY(n,{})),e.add(uY(n,{suffix:"end"})),n.bin&&DY(n,t)&&e.add(uY(n,{binSuffix:"range"}));else if(function(e){return e in lW}(t)){var l=function(e){switch(e){case TU:return"y";case IU:return"y2";case FU:return"x";case RU:return"x2"}}(t);e.add(a.getName(l))}else e.add(uY(n));return nY(n)&&function(e){return gn(e)&&"field"in e}(null===(r=n.scale)||void 0===r?void 0:r.range)&&e.add(n.scale.range.field),e}var O0=function(e){N(n,e);var t=z(n);function n(e,a,r){var o;return O(this,n),(o=t.call(this,e)).dimensions=a,o.measures=r,o}return D(n,[{key:"clone",value:function(){return new n(null,new Set(this.dimensions),NH(this.measures))}},{key:"groupBy",get:function(){return this.dimensions}},{key:"merge",value:function(e){return $H(this.dimensions,e.dimensions)?(function(e,t){var n,a,r=Wc(JH(t));try{for(r.s();!(a=r.n()).done;){var o,l=a.value,i=t[l],u=Wc(JH(i));try{for(u.s();!(o=u.n()).done;){var c=o.value;l in e?e[l][c]=new Set([].concat(B(null!==(n=e[l][c])&&void 0!==n?n:[]),B(i[c]))):e[l]=pr({},c,i[c])}}catch(s){u.e(s)}finally{u.f()}}}catch(s){r.e(s)}finally{r.f()}}(this.measures,e.measures),!0):(function(){var e;(e=bG).debug.apply(e,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(e){e.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(B(this.dimensions),B(JH(this.measures))))}},{key:"producedFields",value:function(){var e,t=new Set,n=Wc(JH(this.measures));try{for(n.s();!(e=n.n()).done;){var a,r=e.value,o=Wc(JH(this.measures[r]));try{for(o.s();!(a=o.n()).done;){var l=a.value,i=this.measures[r][l];0===i.size?t.add("".concat(l,"_").concat(r)):i.forEach(t.add,t)}}catch(u){o.e(u)}finally{o.f()}}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"hash",value:function(){return"Aggregate ".concat(RH({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var e,t=[],n=[],a=[],r=Wc(JH(this.measures));try{for(r.s();!(e=r.n()).done;){var o,l=e.value,i=Wc(JH(this.measures[l]));try{for(i.s();!(o=i.n()).done;){var u,c=o.value,s=Wc(this.measures[l][c]);try{for(s.s();!(u=s.n()).done;){var f=u.value;a.push(f),t.push(c),n.push("*"===l?null:cU(l))}}catch(d){s.e(d)}finally{s.f()}}}catch(d){i.e(d)}finally{i.f()}}}catch(d){r.e(d)}finally{r.f()}return{type:"aggregate",groupby:B(this.dimensions).map(cU),ops:t,fields:n,as:a}}}],[{key:"makeFromEncoding",value:function(e,t){var a=!1;t.forEachFieldDef((function(e){e.aggregate&&(a=!0)}));var r={},o=new Set;return a?(t.forEachFieldDef((function(e,n){var a,l,i,u,c=e.aggregate,s=e.field;if(c)if("count"===c)null!==(a=r["*"])&&void 0!==a||(r["*"]={}),r["*"].count=new Set([uY(e,{forAs:!0})]);else{if($W(c)||YW(c)){var f=$W(c)?"argmin":"argmax",d=c[f];null!==(l=r[d])&&void 0!==l||(r[d]={}),r[d][f]=new Set([uY({op:f,field:d},{forAs:!0})])}else null!==(i=r[s])&&void 0!==i||(r[s]={}),r[s][c]=new Set([uY(e,{forAs:!0})]);LW(n)&&"unaggregated"===t.scaleDomain(n)&&(null!==(u=r[s])&&void 0!==u||(r[s]={}),r[s].min=new Set([uY({field:s,aggregate:"min"},{forAs:!0})]),r[s].max=new Set([uY({field:s,aggregate:"max"},{forAs:!0})]))}else B0(o,n,e,t)})),o.size+JH(r).length===0?null:new n(e,o,r)):null}},{key:"makeFromTransform",value:function(e,t){var a,r,o,l,i=new Set,u={},c=Wc(t.aggregate);try{for(c.s();!(l=c.n()).done;){var s=l.value,f=s.op,d=s.field,p=s.as;f&&("count"===f?(null!==(a=u["*"])&&void 0!==a||(u["*"]={}),u["*"].count=new Set([p||uY(s,{forAs:!0})])):(null!==(r=u[d])&&void 0!==r||(u[d]={}),u[d][f]=new Set([p||uY(s,{forAs:!0})])))}}catch(m){c.e(m)}finally{c.f()}var g,h=Wc(null!==(o=t.groupby)&&void 0!==o?o:[]);try{for(h.s();!(g=h.n()).done;){var v=g.value;i.add(v)}}catch(m){h.e(m)}finally{h.f()}return i.size+JH(u).length===0?null:new n(e,i,u)}}]),n}(qK),A0=function(e){N(n,e);var t=z(n);function n(e,a,r,o){var l;O(this,n),(l=t.call(this,e)).model=a,l.name=r,l.data=o;var i,u=Wc(fW);try{for(u.s();!(i=u.n()).done;){var c=i.value,s=a.facet[c];if(s){var f=s.bin,d=s.sort;l[c]=Object.assign({name:a.getName("".concat(c,"_domain")),fields:[uY(s)].concat(B(tq(f)?[uY(s,{binSuffix:"end"})]:[]))},j$(d)?{sortField:d}:pn(d)?{sortIndexField:AZ(s,c)}:{})}}}catch(p){u.e(p)}finally{u.f()}return l.childModel=a.child,l}return D(n,[{key:"hash",value:function(){var e,t="Facet",n=Wc(fW);try{for(n.s();!(e=n.n()).done;){var a=e.value;this[a]&&(t+=" ".concat(a.charAt(0),":").concat(RH(this[a])))}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"fields",get:function(){var e,t,n=[],a=Wc(fW);try{for(a.s();!(t=a.n()).done;){var r=t.value;(null===(e=this[r])||void 0===e?void 0:e.fields)&&n.push.apply(n,B(this[r].fields))}}catch(o){a.e(o)}finally{a.f()}return n}},{key:"dependentFields",value:function(){var e,t=new Set(this.fields),n=Wc(fW);try{for(n.s();!(e=n.n()).done;){var a=e.value;this[a]&&(this[a].sortField&&t.add(this[a].sortField.field),this[a].sortIndexField&&t.add(this[a].sortIndexField))}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var e,t={},n=Wc(OW);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=this.childModel.component.scales[a];if(r&&!r.merged){var o=r.get("type"),l=r.get("range");if(BV(o)&&dq(l)){var i=_1(E1(this.childModel,a));i?t[a]=i:CG(zq(a))}}}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"assembleRowColumnHeaderData",value:function(e,t,n){var a={row:"y",column:"x",facet:void 0}[e],r=[],o=[],l=[];a&&n&&n[a]&&(t?(r.push("distinct_".concat(n[a])),o.push("max")):(r.push(n[a]),o.push("distinct")),l.push("distinct_".concat(n[a])));var i=this[e],u=i.sortField,c=i.sortIndexField;if(u){var s=u.op,f=void 0===s?A$:s,d=u.field;r.push(d),o.push(f),l.push(uY(u,{forAs:!0}))}else c&&(r.push(c),o.push("max"),l.push(c));return{name:this[e].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},r.length?{fields:r,ops:o,as:l}:{})]}}},{key:"assembleFacetHeaderData",value:function(e){var t,n,a,r=this.model.layout.columns,o=this.model.component.layoutHeaders,l=[],i={},u=Wc(jZ);try{for(u.s();!(a=u.n()).done;){var c,s=a.value,f=Wc(TZ);try{for(f.s();!(c=f.n()).done;){var d,p=c.value,g=Wc(null!==(t=o[s]&&o[s][p])&&void 0!==t?t:[]);try{for(g.s();!(d=g.n()).done;){if((null===(n=d.value.axes)||void 0===n?void 0:n.length)>0){i[s]=!0;break}}}catch(b){g.e(b)}finally{g.f()}}}catch(b){f.e(b)}finally{f.f()}if(i[s]){var h='length(data("'.concat(this.facet.name,'"))'),v="row"===s?r?{signal:"ceil(".concat(h," / ").concat(r,")")}:1:r?{signal:"min(".concat(h,", ").concat(r,")")}:{signal:h};l.push({name:"".concat(this.facet.name,"_").concat(s),transform:[{type:"sequence",start:0,stop:v}]})}}}catch(b){u.e(b)}finally{u.f()}var m=i.row,y=i.column;return(m||y)&&l.unshift(this.assembleRowColumnHeaderData("facet",null,e)),l}},{key:"assemble",value:function(){var e,t,n=[],a=null,r=this.getChildIndependentFieldsWithStep(),o=this.column,l=this.row,i=this.facet;if(o&&l&&(r.x||r.y)){a="cross_".concat(this.column.name,"_").concat(this.row.name);var u=[].concat(null!==(e=r.x)&&void 0!==e?e:[],null!==(t=r.y)&&void 0!==t?t:[]),c=u.map((function(){return"distinct"}));n.push({name:a,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:u,ops:c}]})}for(var s=0,f=[xU,CU];s<f.length;s++){var d=f[s];this[d]&&n.push(this.assembleRowColumnHeaderData(d,a,r))}if(i){var p=this.assembleFacetHeaderData(r);p&&n.push.apply(n,B(p))}return n}}]),n}(qK);function D0(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function M0(e,t){var n=lU(e);if("number"===t)return"toNumber(".concat(n,")");if("boolean"===t)return"toBoolean(".concat(n,")");if("string"===t)return"toString(".concat(n,")");if("date"===t)return"toDate(".concat(n,")");if("flatten"===t)return n;if(t.startsWith("date:")){var a=D0(t.slice(5,t.length));return"timeParse(".concat(n,",'").concat(a,"')")}if(t.startsWith("utc:")){var r=D0(t.slice(4,t.length));return"utcParse(".concat(n,",'").concat(r,"')")}return CG(function(e){return'Unrecognized parse "'.concat(e,'".')}(t)),null}function N0(e){var t={};return AH(e.filter,(function(e){var n;if(KG(e)){var a=null;WG(e)?a=bq(e.equal):GG(e)?a=bq(e.lte):qG(e)?a=bq(e.lt):VG(e)?a=bq(e.gt):$G(e)?a=bq(e.gte):YG(e)?a=e.range[0]:QG(e)&&(a=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),a&&(xG(a)?t[e.field]="date":ia(a)?t[e.field]="number":ca(a)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}function j0(e){var t={};function n(e){var n;BY(e)?t[e.field]="date":"quantitative"===e.type&&(ca(n=e.aggregate)&&LH(["min","max"],n))?t[e.field]="number":dU(e.field)>1?e.field in t||(t[e.field]="flatten"):nY(e)&&j$(e.sort)&&dU(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((K1(e)||J1(e))&&e.forEachFieldDef((function(t,a){if(eY(t))n(t);else{var r=bW(a),o=e.fieldDef(r);n(Object.assign(Object.assign({},t),{type:o.type}))}})),K1(e)){var a=e.mark,r=e.markDef,o=e.encoding;if(t$(a)&&!e.encoding.order){var l=o["horizontal"===r.orient?"y":"x"];Y$(l)&&"quantitative"===l.type&&!(l.field in t)&&(t[l.field]="number")}}return t}var T0,F0=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e))._parse=a,r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(RH(this._parse))}},{key:"parse",get:function(){return this._parse}},{key:"merge",value:function(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}},{key:"assembleFormatParse",value:function(){var e,t={},n=Wc(JH(this._parse));try{for(n.s();!(e=n.n()).done;){var a=e.value,r=this._parse[a];1===dU(a)&&(t[a]=r)}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set(JH(this._parse))}},{key:"dependentFields",value:function(){return new Set(JH(this._parse))}},{key:"assembleTransforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return JH(this._parse).filter((function(e){return!t||dU(e)>1})).map((function(t){var n=M0(t,e._parse[t]);return n?{type:"formula",expr:n,as:fU(t)}:null})).filter((function(e){return null!==e}))}}],[{key:"makeExplicit",value:function(e,t,n){var a,r={},o=t.data;return!FK(o)&&(null===(a=null===o||void 0===o?void 0:o.format)||void 0===a?void 0:a.parse)&&(r=o.format.parse),this.makeWithAncestors(e,r,{},n)}},{key:"makeWithAncestors",value:function(e,t,a,r){var o,l=Wc(JH(a));try{for(l.s();!(o=l.n()).done;){var i=o.value,u=r.getWithExplicit(i);void 0!==u.value&&(u.explicit||u.value===a[i]||"derived"===u.value||"flatten"===a[i]?delete a[i]:CG(Gq(i,a[i],u.value)))}}catch(b){l.e(b)}finally{l.f()}var c,s=Wc(JH(t));try{for(s.s();!(c=s.n()).done;){var f=c.value,d=r.get(f);void 0!==d&&(d===t[f]?delete t[f]:CG(Gq(f,t[f],d)))}}catch(b){s.e(b)}finally{s.f()}var p=new _K(t,a);r.copyAll(p);var g,h={},v=Wc(JH(p.combine()));try{for(v.s();!(g=v.n()).done;){var m=g.value,y=p.get(m);null!==y&&(h[m]=y)}}catch(b){v.e(b)}finally{v.f()}return 0===JH(h).length||r.parseNothing?null:new n(e,h)}}]),n}(qK),I0=function(e){N(n,e);var t=z(n);function n(e){return O(this,n),t.call(this,e)}return D(n,[{key:"clone",value:function(){return new n(null)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set([NQ])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:NQ}}}]),n}(qK),R0=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).params=a,r}return D(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(RH(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),n}(qK),z0=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).params=a,r}return D(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}},{key:"hash",value:function(){return"Hash ".concat(RH(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),n}(qK),L0=function(e){N(n,e);var t=z(n);function n(e){var a,r;if(O(this,n),a=t.call(this,null),null!==e&&void 0!==e||(e={name:"source"}),FK(e)||(r=e.format?Object.assign({},FH(e.format,["parse"])):{}),jK(e))a._data={values:e.values};else if(NK(e)){if(a._data={url:e.url},!r.type){var o=/(?:\.([^.]+))?$/.exec(e.url)[1];LH(["json","csv","tsv","dsv","topojson"],o)||(o="json"),r.type=o}}else RK(e)?a._data={values:[{type:"Sphere"}]}:(TK(e)||FK(e))&&(a._data={});return a._generator=FK(e),e.name&&(a._name=e.name),r&&!KH(r)&&(a._data.format=r),a}return D(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"data",get:function(){return this._data}},{key:"hasName",value:function(){return!!this._name}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(e){this._name=e}},{key:"parent",set:function(e){throw new Error("Source nodes have to be roots.")}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}]),n}(qK),H0=function(e,t,n,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,n):r?r.value=n:t.set(e,n),n},U0=function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)};function W0(e){return e instanceof L0||e instanceof R0||e instanceof z0}var q0=function(){function e(){O(this,e),T0.set(this,void 0),H0(this,T0,!1,"f")}return D(e,[{key:"setModified",value:function(){H0(this,T0,!0,"f")}},{key:"modifiedFlag",get:function(){return U0(this,T0,"f")}}]),e}();T0=new WeakMap;var G0=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"getNodeDepths",value:function(e,t,n){n.set(e,t);var a,r=Wc(e.children);try{for(r.s();!(a=r.n()).done;){var o=a.value;this.getNodeDepths(o,t+1,n)}}catch(l){r.e(l)}finally{r.f()}return n}},{key:"optimize",value:function(e){var t,n=B(this.getNodeDepths(e,0,new Map).entries()).sort((function(e,t){return t[1]-e[1]})),a=Wc(n);try{for(a.s();!(t=a.n()).done;){var r=t.value;this.run(r[0])}}catch(o){a.e(o)}finally{a.f()}return this.modifiedFlag}}]),n}(q0),V0=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"optimize",value:function(e){this.run(e);var t,n=Wc(e.children);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.optimize(a)}}catch(r){n.e(r)}finally{n.f()}return this.modifiedFlag}}]),n}(q0),$0=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"mergeNodes",value:function(e,t){var n,a=t.shift(),r=Wc(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.removeChild(o),o.parent=a,o.remove()}}catch(l){r.e(l)}finally{r.f()}}},{key:"run",value:function(e){for(var t=e.children.map((function(e){return e.hash()})),n={},a=0;a<t.length;a++)void 0===n[t[a]]?n[t[a]]=[e.children[a]]:n[t[a]].push(e.children[a]);var r,o=Wc(JH(n));try{for(o.s();!(r=o.n()).done;){var l=r.value;n[l].length>1&&(this.setModified(),this.mergeNodes(e,n[l]))}}catch(i){o.e(i)}finally{o.f()}}}]),n}(V0),Y0=function(e){N(n,e);var t=z(n);function n(e){var a;return O(this,n),(a=t.call(this)).requiresSelectionId=e&&iZ(e),a}return D(n,[{key:"run",value:function(e){e instanceof I0&&(this.requiresSelectionId&&(W0(e.parent)||e.parent instanceof O0||e.parent instanceof F0)||(this.setModified(),e.remove()))}}]),n}(V0),Q0=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"optimize",value:function(e){return this.run(e,new Set),this.modifiedFlag}},{key:"run",value:function(e,t){var n=new Set;e instanceof $K&&YH(n=e.producedFields(),t)&&(this.setModified(),e.removeFormulas(t),0===e.producedFields.length&&e.remove());var a,r=Wc(e.children);try{for(r.s();!(a=r.n()).done;){var o=a.value;this.run(o,new Set([].concat(B(t),B(n))))}}catch(l){r.e(l)}finally{r.f()}}}]),n}(q0),X0=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.call(this)}return D(n,[{key:"run",value:function(e){e instanceof GK&&!e.isRequired()&&(this.setModified(),e.remove())}}]),n}(V0),K0=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"run",value:function(e){if(!W0(e)&&!(e.numChildren()>1)){var t,n=Wc(e.children);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a instanceof F0)if(e instanceof F0)this.setModified(),e.merge(a);else{if(XH(e.producedFields(),a.dependentFields()))continue;this.setModified(),a.swapWithParent()}}}catch(r){n.e(r)}finally{n.f()}}}}]),n}(G0),J0=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"run",value:function(e){var t=B(e.children),n=e.children.filter((function(e){return e instanceof F0}));if(e.numChildren()>1&&n.length>=1){var a,r={},o=new Set,l=Wc(n);try{for(l.s();!(a=l.n()).done;){var i,u=a.value.parse,c=Wc(JH(u));try{for(c.s();!(i=c.n()).done;){var s=i.value;s in r?r[s]!==u[s]&&o.add(s):r[s]=u[s]}}catch(w){c.e(w)}finally{c.f()}}}catch(w){l.e(w)}finally{l.f()}var f,d=Wc(o);try{for(d.s();!(f=d.n()).done;){delete r[f.value]}}catch(w){d.e(w)}finally{d.f()}if(!KH(r)){this.setModified();var p,g=new F0(e,r),h=Wc(t);try{for(h.s();!(p=h.n()).done;){var v=p.value;if(v instanceof F0){var m,y=Wc(JH(r));try{for(y.s();!(m=y.n()).done;){var b=m.value;delete v.parse[b]}}catch(w){y.e(w)}finally{y.f()}}e.removeChild(v),v.parent=g,v instanceof F0&&0===JH(v.parse).length&&v.remove()}}catch(w){h.e(w)}finally{h.f()}}}}}]),n}(G0),Z0=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"run",value:function(e){e instanceof GK||e.numChildren()>0||e instanceof A0||e instanceof L0||(this.setModified(),e.remove())}}]),n}(G0),e1=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"run",value:function(e){var t,n=e.children.filter((function(e){return e instanceof $K})),a=n.pop(),r=Wc(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;this.setModified(),a.merge(o)}}catch(l){r.e(l)}finally{r.f()}}}]),n}(G0),t1=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"run",value:function(e){var t,n={},a=Wc(e.children.filter((function(e){return e instanceof O0})));try{for(a.s();!(t=a.n()).done;){var r=t.value,o=RH(r.groupBy);o in n||(n[o]=[]),n[o].push(r)}}catch(p){a.e(p)}finally{a.f()}var l,i=Wc(JH(n));try{for(i.s();!(l=i.n()).done;){var u=n[l.value];if(u.length>1){var c,s=u.pop(),f=Wc(u);try{for(f.s();!(c=f.n()).done;){var d=c.value;s.merge(d)&&(e.removeChild(d),d.parent=s,d.remove(),this.setModified())}}catch(p){f.e(p)}finally{f.f()}}}}catch(p){i.e(p)}finally{i.f()}}}]),n}(G0),n1=function(e){N(n,e);var t=z(n);function n(e){var a;return O(this,n),(a=t.call(this)).model=e,a}return D(n,[{key:"run",value:function(e){var t,n=!(W0(e)||e instanceof dZ||e instanceof F0||e instanceof I0),a=[],r=[],o=Wc(e.children);try{for(o.s();!(t=o.n()).done;){var l=t.value;l instanceof S0&&(n&&!XH(e.producedFields(),l.dependentFields())?a.push(l):r.push(l))}}catch(h){o.e(h)}finally{o.f()}if(a.length>0){var i,u=a.pop(),c=Wc(a);try{for(c.s();!(i=c.n()).done;){var s=i.value;u.merge(s,this.model.renameSignal.bind(this.model))}}catch(h){c.e(h)}finally{c.f()}this.setModified(),e instanceof S0?e.merge(u,this.model.renameSignal.bind(this.model)):u.swapWithParent()}if(r.length>1){var f,d=r.pop(),p=Wc(r);try{for(p.s();!(f=p.n()).done;){var g=f.value;d.merge(g,this.model.renameSignal.bind(this.model))}}catch(h){p.e(h)}finally{p.f()}this.setModified()}}}]),n}(G0),a1=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"run",value:function(e){var t=B(e.children),n=HH(t,(function(e){return e instanceof GK}));if(n&&!(e.numChildren()<=1)){var a,r,o=[],l=Wc(t);try{for(l.s();!(r=l.n()).done;){var i=r.value;if(i instanceof GK){for(var u=i;1===u.numChildren();){var c=E(u.children,1)[0];if(!(c instanceof GK))break;u=c}o.push.apply(o,B(u.children)),a?(e.removeChild(i),i.parent=a.parent,a.parent.removeChild(a),a.parent=u,this.setModified()):a=u}else o.push(i)}}catch(p){l.e(p)}finally{l.f()}if(o.length){this.setModified();var s,f=Wc(o);try{for(f.s();!(s=f.n()).done;){var d=s.value;d.parent.removeChild(d),d.parent=a}}catch(p){f.e(p)}finally{f.f()}}}}}]),n}(G0),r1=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).transform=a,r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=GH(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:uY(e)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(RH(this.transform))}},{key:"assemble",value:function(){var e,t=[],n=[],a=[],r=Wc(this.transform.joinaggregate);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.push(o.op),a.push(this.getDefaultName(o)),t.push(void 0===o.field?null:o.field)}}catch(i){r.e(i)}finally{r.f()}var l=this.transform.groupby;return Object.assign({type:"joinaggregate",as:a,ops:n,fields:t},void 0!==l?{groupby:l}:{})}}]),n}(qK);var o1=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e))._stack=a,r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this._stack))}},{key:"stack",get:function(){return this._stack}},{key:"addDimensions",value:function(e){var t;(t=this._stack.facetby).push.apply(t,B(e))}},{key:"dependentFields",value:function(){var e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(RH(this._stack))}},{key:"getGroupbyFields",value:function(){var e=this._stack,t=e.dimensionFieldDefs,n=e.impute,a=e.groupby;return t.length>0?t.map((function(e){return e.bin?n?[uY(e,{binSuffix:"mid"})]:[uY(e,{}),uY(e,{binSuffix:"end"})]:[uY(e)]})).flat():null!==a&&void 0!==a?a:[]}},{key:"assemble",value:function(){var e=[],t=this._stack,n=t.facetby,a=t.dimensionFieldDefs,r=t.stackField,o=t.stackby,l=t.sort,i=t.offset,u=t.impute,c=t.as;if(u){var s,f=Wc(a);try{for(f.s();!(s=f.n()).done;){var d=s.value,p=d.bandPosition,g=void 0===p?.5:p;if(d.bin){var h=uY(d,{expr:"datum"}),v=uY(d,{expr:"datum",binSuffix:"end"});e.push({type:"formula",expr:"".concat(g,"*").concat(h,"+").concat(1-g,"*").concat(v),as:uY(d,{binSuffix:"mid",forAs:!0})})}e.push({type:"impute",field:r,groupby:[].concat(B(o),B(n)),key:uY(d,{binSuffix:"mid"}),method:"value",value:0})}}catch(m){f.e(m)}finally{f.f()}}return e.push({type:"stack",groupby:[].concat(B(this.getGroupbyFields()),B(n)),field:r,sort:l,as:c,offset:i}),e}}],[{key:"makeFromTransform",value:function(e,t){var a=t.stack,r=t.groupby,o=t.as,l=t.offset,i=void 0===l?"zero":l,u=[],c=[];if(void 0!==t.sort){var s,f=Wc(t.sort);try{for(f.s();!(s=f.n()).done;){var d=s.value;u.push(d.field),c.push(pU(d.order,"ascending"))}}catch(h){f.e(h)}finally{f.f()}}var p,g={field:u,order:c};return p=function(e){return pn(e)&&e.every((function(e){return ca(e)}))&&e.length>1}(o)?o:ca(o)?[o,"".concat(o,"_end")]:["".concat(t.stack,"_start"),"".concat(t.stack,"_end")],new n(e,{dimensionFieldDefs:[],stackField:a,groupby:r,offset:i,sort:g,facetby:[],as:p})}},{key:"makeFromEncoding",value:function(e,t){var a=t.stack,r=t.encoding;if(!a)return null;var o,l=a.groupbyChannels,i=a.fieldChannel,u=a.offset,c=a.impute,s=l.map((function(e){return wY(r[e])})).filter((function(e){return!!e})),f=function(e){return e.stack.stackBy.reduce((function(e,t){var n=uY(t.fieldDef);return n&&e.push(n),e}),[])}(t),d=t.encoding.order;return o=pn(d)||Y$(d)?Aq(d):f.reduce((function(e,t){return e.field.push(t),e.order.push("y"===i?"descending":"ascending"),e}),{field:[],order:[]}),new n(e,{dimensionFieldDefs:s,stackField:t.vgField(i),facetby:[],stackby:f,sort:o,offset:u,impute:c,as:[t.vgField(i,{suffix:"start",forAs:!0}),t.vgField(i,{suffix:"end",forAs:!0})]})}}]),n}(qK),l1=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).transform=a,r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=GH(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e,t,n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((function(e){return n.add(e.field)})),this.transform.window.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:uY(e)}},{key:"hash",value:function(){return"WindowTransform ".concat(RH(this.transform))}},{key:"assemble",value:function(){var e,t,n=[],a=[],r=[],o=[],l=Wc(this.transform.window);try{for(l.s();!(t=l.n()).done;){var i=t.value;a.push(i.op),r.push(this.getDefaultName(i)),o.push(void 0===i.param?null:i.param),n.push(void 0===i.field?null:i.field)}}catch(m){l.e(m)}finally{l.f()}var u=this.transform.frame,c=this.transform.groupby;if(u&&null===u[0]&&null===u[1]&&a.every((function(e){return QW(e)})))return Object.assign({type:"joinaggregate",as:r,ops:a,fields:n},void 0!==c?{groupby:c}:{});var s=[],f=[];if(void 0!==this.transform.sort){var d,p=Wc(this.transform.sort);try{for(p.s();!(d=p.n()).done;){var g=d.value;s.push(g.field),f.push(null!==(e=g.order)&&void 0!==e?e:"ascending")}}catch(m){p.e(m)}finally{p.f()}}var h={field:s,order:f},v=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:o,as:r,ops:a,fields:n,sort:h},void 0!==v?{ignorePeers:v}:{}),void 0!==c?{groupby:c}:{}),void 0!==u?{frame:u}:{})}}]),n}(qK);function i1(e){if(e instanceof A0)if(1!==e.numChildren()||e.children[0]instanceof GK){var t=e.model.component.data.main;u1(t);var n,a=(l=e,function e(t){if(!(t instanceof A0)){var n=t.clone();if(n instanceof GK){var a=c1+n.getSource();n.setSource(a),l.model.component.data.outputNodes[a]=n}else(n instanceof O0||n instanceof o1||n instanceof l1||n instanceof r1)&&n.addDimensions(l.fields);var r,o=Wc(t.children.flatMap(e));try{for(o.s();!(r=o.n()).done;)r.value.parent=n}catch(i){o.e(i)}finally{o.f()}return[n]}return t.children.flatMap(e)}),r=Wc(e.children.map(a).flat());try{for(r.s();!(n=r.n()).done;){n.value.parent=t}}catch(i){r.e(i)}finally{r.f()}}else{var o=e.children[0];(o instanceof O0||o instanceof o1||o instanceof l1||o instanceof r1)&&o.addDimensions(e.fields),o.swapWithParent(),i1(e)}else e.children.map(i1);var l}function u1(e){if(e instanceof GK&&e.type===DK.Main&&1===e.numChildren()){var t=e.children[0];t instanceof A0||(t.swapWithParent(),u1(e))}}var c1="scale_";function s1(e){var t,n=Wc(e);try{for(n.s();!(t=n.n()).done;){var a,r=t.value,o=Wc(r.children);try{for(o.s();!(a=o.n()).done;){if(a.value.parent!==r)return!1}}catch(l){o.e(l)}finally{o.f()}if(!s1(r.children))return!1}}catch(l){n.e(l)}finally{n.f()}return!0}function f1(e,t){var n,a=!1,r=Wc(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;a=e.optimize(o)||a}}catch(l){r.e(l)}finally{r.f()}return a}function d1(e,t,n){var a=e.sources,r=!1;return r=f1(new X0,a)||r,r=f1(new Y0(t),a)||r,a=a.filter((function(e){return e.numChildren()>0})),r=f1(new Z0,a)||r,a=a.filter((function(e){return e.numChildren()>0})),n||(r=f1(new K0,a)||r,r=f1(new n1(t),a)||r,r=f1(new Q0,a)||r,r=f1(new J0,a)||r,r=f1(new t1,a)||r,r=f1(new e1,a)||r,r=f1(new $0,a)||r,r=f1(new a1,a)||r),e.sources=a,r}function p1(e,t){s1(e.sources);for(var n=0,a=0,r=0;r<5&&d1(e,t,!0);r++)n++;e.sources.map(i1);for(var o=0;o<5&&d1(e,t,!1);o++)a++;s1(e.sources),5===Math.max(n,a)&&CG("Maximum optimization runs(".concat(5,") reached."))}var g1=function(){function e(t){O(this,e),Object.defineProperty(this,"signal",{enumerable:!0,get:t})}return D(e,null,[{key:"fromName",value:function(t,n){return new e((function(){return t(n)}))}}]),e}(),h1=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function v1(e){K1(e)?function(e){var t,n=e.component.scales,a=Wc(JH(n));try{for(a.s();!(t=a.n()).done;){var r=t.value,o=m1(e,r);if(n[r].setWithExplicit("domains",o),k1(e,r),e.component.data.isFaceted){for(var l=e;!J1(l)&&l.parent;)l=l.parent;if("shared"===l.component.resolve.scale[r]){var i,u=Wc(o.value);try{for(u.s();!(i=u.n()).done;){var c=i.value;pq(c)&&(c.data=c1+c.data.replace(c1,""))}}catch(s){u.e(s)}finally{u.f()}}}}}catch(s){a.e(s)}finally{a.f()}}(e):function(e){var t,n=Wc(e.children);try{for(n.s();!(t=n.n()).done;){v1(t.value)}}catch(p){n.e(p)}finally{n.f()}var a,r=e.component.scales,o=Wc(JH(r));try{for(o.s();!(a=o.n()).done;){var l,i=a.value,u=void 0,c=null,s=Wc(e.children);try{for(s.s();!(l=s.n()).done;){var f=l.value.component.scales[i];if(f){u=void 0===u?f.getWithExplicit("domains"):AK(u,f.getWithExplicit("domains"),"domains","scale",x1);var d=f.get("selectionExtent");c&&d&&c.param!==d.param&&CG(Wq),c=d}}}catch(p){s.e(p)}finally{s.f()}r[i].setWithExplicit("domains",u),c&&r[i].set("selectionExtent",c,!0)}}catch(p){o.e(p)}finally{o.f()}}(e)}function m1(e,t){var n=e.getScaleComponent(t).get("type"),a=e.encoding,r=function(e,t,n,a){if("unaggregated"===e){var r=C1(t,n),o=r.valid,l=r.reason;if(!o)return void CG(l)}else if(void 0===e&&a.useUnaggregatedDomain&&C1(t,n).valid)return"unaggregated";return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return r!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:r})),"x"===t&&kY(a.x2)?kY(a.x)?AK(b1(n,r,e,"x"),b1(n,r,e,"x2"),"domain","scale",x1):b1(n,r,e,"x2"):"y"===t&&kY(a.y2)?kY(a.y)?AK(b1(n,r,e,"y"),b1(n,r,e,"y2"),"domain","scale",x1):b1(n,r,e,"y2"):b1(n,r,e,t)}function y1(e,t,n){var a,r=null===(a=HG(n))||void 0===a?void 0:a.unit;return"temporal"===t||r?function(e,t,n){return e.map((function(e){var a=OY(e,{timeUnit:n,type:t});return{signal:"{data: ".concat(a,"}")}}))}(e,t,r):[e]}function b1(e,t,n,a){var r=kY(n.encoding[a]),o=r.type,l=r.timeUnit;if(function(e){return null===e||void 0===e?void 0:e.unionWith}(t)){var i=b1(e,void 0,n,a),u=y1(t.unionWith,o,l);return EK([].concat(B(u),B(i.value)))}if(fq(t))return EK([t]);if(t&&"unaggregated"!==t&&!MV(t))return EK(y1(t,o,l));var c=n.stack;if(c&&a===c.fieldChannel){if("normalize"===c.offset)return SK([[0,1]]);var s=n.requestDataName(DK.Main);return SK([{data:s,field:n.vgField(a,{suffix:"start"})},{data:s,field:n.vgField(a,{suffix:"end"})}])}var f=LW(a)&&Y$(r)?function(e,t,n){if(!BV(n))return;var a=e.fieldDef(t),r=a.sort;if(T$(r))return{op:"min",field:AZ(a,t),order:"ascending"};var o=e.stack,l=o?new Set([].concat(B(o.groupbyFields),B(o.stackBy.map((function(e){return e.fieldDef.field}))))):void 0;if(j$(r))return w1(r,o&&!l.has(r.field));if(N$(r)){var i=r.encoding,u=r.order,c=e.fieldDef(i),s=c.aggregate,f=c.field,d=o&&!l.has(f);if($W(s)||YW(s))return w1({field:uY(c),order:u},d);if(QW(s)||!s)return w1({op:s,field:f,order:u},d)}else{if("descending"===r)return{op:"min",field:e.vgField(t),order:"descending"};if(LH(["ascending",void 0],r))return!0}return}(n,a,e):void 0;if(X$(r))return SK(y1([r.datum],o,l));var d=r;if("unaggregated"===t){var p=n.requestDataName(DK.Main),g=r.field;return SK([{data:p,field:uY({field:g,aggregate:"min"})},{data:p,field:uY({field:g,aggregate:"max"})}])}if(tq(d.bin)){if(BV(e))return SK("bin-ordinal"===e?[]:[{data:tU(f)?n.requestDataName(DK.Main):n.requestDataName(DK.Raw),field:n.vgField(a,DY(d,a)?{binSuffix:"range"}:{}),sort:!0!==f&&gn(f)?f:{field:n.vgField(a,{}),op:"min"}}]);var h=d.bin;if(tq(h)){var v=_0(n,d.field,h);return SK([new g1((function(){var e=n.getSignalName(v);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return SK([{data:n.requestDataName(DK.Main),field:n.vgField(a,{})}])}if(d.timeUnit&&LH(["time","utc"],e)&&q$(d,K1(n)?n.encoding[kW(a)]:void 0,n.markDef,n.config)){var m=n.requestDataName(DK.Main);return SK([{data:m,field:n.vgField(a)},{data:m,field:n.vgField(a,{suffix:"end"})}])}return SK(f?[{data:tU(f)?n.requestDataName(DK.Main):n.requestDataName(DK.Raw),field:n.vgField(a),sort:f}]:[{data:n.requestDataName(DK.Main),field:n.vgField(a)}])}function w1(e,t){var n=e.op,a=e.field,r=e.order;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:t?"sum":A$},a?{field:cU(a)}:{}),r?{order:r}:{})}function k1(e,t){var n,a=e.component.scales[t],r=e.specifiedScales[t].domain,o=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,l=MV(r)&&r,i=aq(o)&&rq(o.extent)&&o.extent;(l||i)&&a.set("selectionExtent",null!==l&&void 0!==l?l:i,!0)}function C1(e,t){var n=e.aggregate,a=e.type;return n?ca(n)&&!ZW.has(n)?{valid:!1,reason:iG(n)}:"quantitative"===a&&"log"===t?{valid:!1,reason:uG(e)}:{valid:!0}:{valid:!1,reason:lG(e)}}function x1(e,t,n,a){return e.explicit&&t.explicit&&CG(function(e,t,n,a){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(IH(n)," and ").concat(IH(a),"). Using the union of the two domains.")}(n,a,e.value,t.value)),{explicit:e.explicit,value:[].concat(B(e.value),B(t.value))}}function P1(e){var t=GH(e.map((function(e){if(pq(e)){e.sort;return h1(e,["sort"])}return e})),RH),n=GH(e.map((function(e){if(pq(e)){var t=e.sort;return void 0===t||tU(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((function(e){return void 0!==e})),RH);if(0!==t.length){if(1===t.length){var a=e[0];if(pq(a)&&n.length>0){var r=n[0];if(n.length>1)CG(pG),r=!0;else if(gn(r)&&"field"in r){var o=r.field;a.field===o&&(r=!r.order||{order:r.order})}return Object.assign(Object.assign({},a),{sort:r})}return a}var l,i=GH(n.map((function(e){return tU(e)||!("op"in e)||ca(e.op)&&e.op in VW?e:(CG(function(e){return"Dropping sort property ".concat(IH(e),' as unioned domains only support boolean or op "count", "min", and "max".')}(e)),!0)})),RH);1===i.length?l=i[0]:i.length>1&&(CG(pG),l=!0);var u=GH(e.map((function(e){return pq(e)?e.data:null})),(function(e){return e}));return 1===u.length&&null!==u[0]?Object.assign({data:u[0],fields:t.map((function(e){return e.field}))},l?{sort:l}:{}):Object.assign({fields:t},l?{sort:l}:{})}}function _1(e){if(pq(e)&&ca(e.field))return e.field;if(function(e){return!pn(e)&&"fields"in e&&!("data"in e)}(e)){var t,n,a=Wc(e.fields);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(pq(r)&&ca(r.field))if(t){if(t!==r.field)return CG("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=r.field}}catch(l){a.e(l)}finally{a.f()}return CG("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),t}if(function(e){return!pn(e)&&"fields"in e&&"data"in e}(e)){CG("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");var o=e.fields[0];return ca(o)?o:void 0}}function E1(e,t){var n=e.component.scales[t].get("domains").map((function(t){return pq(t)&&(t.data=e.lookupDataSource(t.data)),t}));return P1(n)}var S1=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function B1(e){return e2(e)||Z1(e)?e.children.reduce((function(e,t){return e.concat(B1(t))}),O1(e)):O1(e)}function O1(e){return JH(e.component.scales).reduce((function(t,n){var a=e.component.scales[n];if(a.merged)return t;var r=a.combine(),o=r.name,l=r.type,i=r.selectionExtent,u=(r.domains,r.range,r.reverse),c=S1(r,["name","type","selectionExtent","domains","range","reverse"]),s=function(e,t,n,a){if(AW(n)){if(dq(e))return{step:{signal:"".concat(t,"_step")}}}else if(gn(e)&&pq(e))return Object.assign(Object.assign({},e),{data:a.lookupDataSource(e.data)});return e}(r.range,o,n,e),f=E1(e,n),d=i?function(e,t,n,a){var r=gZ(e,t.param,t);return{signal:OV(n.get("type"))&&pn(a)&&a[0]>a[1]?"isValid(".concat(r,") && reverse(").concat(r,")"):r}}(e,i,a,f):null;return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:l},f?{domain:f}:{}),d?{domainRaw:d}:{}),{range:s}),void 0!==u?{reverse:u}:{}),c)),t}),[])}var A1=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,{},{name:e})).merged=!1,r.setWithExplicit("type",a),r}return D(n,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||HH(this.get("domains"),(function(e){return pn(e)&&2===e.length&&e[0]<=0&&e[1]>=0}))}}]),n}(_K),D1=["range","scheme"];function M1(e,t){var n=e.fieldDef(t);if(null===n||void 0===n?void 0:n.bin){var a=n.bin,r=n.field,o=CW(t),l=e.getName(o);if(gn(a)&&a.binned&&void 0!==a.step)return new g1((function(){var n=e.scaleName(t),r='(domain("'.concat(n,'")[1] - domain("').concat(n,'")[0]) / ').concat(a.step);return"".concat(e.getSignalName(l)," / (").concat(r,")")}));if(tq(a)){var i=_0(e,r,a);return new g1((function(){var t=e.getSignalName(i),n="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(e.getSignalName(l)," / (").concat(n,")")}))}}}function N1(e,t){var n,a=t.specifiedScales[e],r=t.size,o=t.getScaleComponent(e).get("type"),l=Wc(D1);try{for(l.s();!(n=l.n()).done;){var i=n.value;if(void 0!==a[i]){var u=FV(o,i),c=IV(e,i);if(u)if(c)CG(c);else switch(i){case"range":var s=a.range;if(pn(s)){if(AW(e))return EK(s.map((function(e){if("width"===e||"height"===e){var n=t.getName(e),a=t.getSignalName.bind(t);return g1.fromName(a,n)}return e})))}else if(gn(s))return EK({data:t.requestDataName(DK.Main),field:s.field,sort:{op:"min",field:t.vgField(e)}});return EK(s);case"scheme":return EK(j1(a[i]))}else CG(fG(o,i,e))}}}catch(b){l.e(b)}finally{l.f()}var f=e===_U||"xOffset"===e?"width":"height",d=r[f];if(qQ(d))if(AW(e))if(BV(o)){var p=T1(d,t,e);if(p)return EK({step:p})}else CG(dG(f));else if(TW(e)){var g=e===OU?"x":"y";if("band"===t.getScaleComponent(g).get("type")){var h=F1(d,o);if(h)return EK(h)}}var v=a.rangeMin,m=a.rangeMax,y=function(e,t){var n=t.size,a=t.config,r=t.mark,o=t.encoding,l=t.getSignalName.bind(t),i=kY(o[e]).type,u=t.getScaleComponent(e).get("type"),c=t.specifiedScales[e],s=c.domain,f=c.domainMid;switch(e){case _U:case EU:if(LH(["point","band"],u)){var d=I1(e,n,a.view);if(qQ(d))return{step:T1(d,t,e)}}var p=CW(e),g=t.getName(p);return e===EU&&OV(u)?[g1.fromName(l,g),0]:[0,g1.fromName(l,g)];case OU:case AU:return function(e,t,n){var a=e===OU?"x":"y",r=t.getScaleComponent(a).get("type"),o=t.scaleName(a);if("band"===r){var l=I1(a,t.size,t.config.view);if(qQ(l)){var i=F1(l,n);if(i)return i}return[0,{signal:"bandwidth('".concat(o,"')")}]}return jH("Cannot use ".concat(e," scale if ").concat(a," scale is not discrete."))}(e,t,u);case WU:var h=R1(r,t.component.scales[e].get("zero"),a),v=function(e,t,n,a){var r={x:M1(n,"x"),y:M1(n,"y")};switch(e){case"bar":case"tick":if(void 0!==a.scale.maxBandSize)return a.scale.maxBandSize;var o=L1(t,r,a.view);return ia(o)?o-1:new g1((function(){return"".concat(o.signal," - 1")}));case"line":case"trail":case"rule":return a.scale.maxStrokeWidth;case"text":return a.scale.maxFontSize;case"point":case"square":case"circle":if(a.scale.maxSize)return a.scale.maxSize;var l=L1(t,r,a.view);return ia(l)?Math.pow(z1*l,2):new g1((function(){return"pow(".concat(z1," * ").concat(l.signal,", 2)")}))}throw new Error(eG("size",e))}(r,n,t,a);return DV(u)?function(e,t,n){var a=function(){var a=Pq(t),r=Pq(e),o="(".concat(a," - ").concat(r,") / (").concat(n," - 1)");return"sequence(".concat(r,", ").concat(a," + ").concat(o,", ").concat(o,")")};return fq(t)?new g1(a):{signal:a()}}(h,v,function(e,t,n,a){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&pn(n)?n.length+1:(CG(function(e){return"Domain for ".concat(e," is required for threshold scale.")}(a)),3)}}(u,a,s,e)):[h,v];case NU:return[0,2*Math.PI];case qU:return[0,360];case DU:return[0,new g1((function(){var e=t.getSignalName("width"),n=t.getSignalName("height");return"min(".concat(e,",").concat(n,")/2")}))];case YU:return[a.scale.minStrokeWidth,a.scale.maxStrokeWidth];case QU:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case UU:return"symbol";case zU:case LU:case HU:return"ordinal"===u?"nominal"===i?"category":"ordinal":void 0!==f?"diverging":"rect"===r||"geoshape"===r?"heatmap":"ramp";case GU:case VU:case $U:return[a.scale.minOpacity,a.scale.maxOpacity]}}(e,t);return(void 0!==v||void 0!==m)&&FV(o,"rangeMin")&&pn(y)&&2===y.length?EK([null!==v&&void 0!==v?v:y[0],null!==m&&void 0!==m?m:y[1]]):SK(y)}function j1(e){return function(e){return!ca(e)&&!!e.name}(e)?Object.assign({scheme:e.name},FH(e,["name"])):{scheme:e}}function T1(e,t,n){var a,r,o,l,i,u=t.encoding,c=t.getScaleComponent(n),s=xW(n),f=u[s];if("offset"===WQ({step:e,offsetIsDiscrete:Z$(f)&&rV(f.type)})&&qY(u,s)){var d=t.getScaleComponent(s),p=t.scaleName(s),g="domain('".concat(p,"').length");if("band"===d.get("type")){var h=null!==(r=null!==(a=d.get("paddingInner"))&&void 0!==a?a:d.get("padding"))&&void 0!==r?r:0,v=null!==(l=null!==(o=d.get("paddingOuter"))&&void 0!==o?o:d.get("padding"))&&void 0!==l?l:0;g="bandspace(".concat(g,", ").concat(h,", ").concat(v,")")}var m=null!==(i=c.get("paddingInner"))&&void 0!==i?i:c.get("padding");return{signal:"".concat(e.step," * ").concat(g," / (1-").concat(Cq(m),")")}}return e.step}function F1(e,t){if("offset"===WQ({step:e,offsetIsDiscrete:BV(t)}))return{step:e.step}}function I1(e,t,n){var a=e===_U?"width":"height",r=t[a];return r||XQ(n,a)}function R1(e,t,n){if(t)return fq(t)?{signal:"".concat(t.signal," ? 0 : ").concat(R1(e,!1,n))}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(eG("size",e))}var z1=.95;function L1(e,t,n){var a=qQ(e.width)?e.width.step:QQ(n,"width"),r=qQ(e.height)?e.height.step:QQ(n,"height");return t.x||t.y?new g1((function(){var e=[t.x?t.x.signal:a,t.y?t.y.signal:r];return"min(".concat(e.join(", "),")")})):Math.min(a,r)}function H1(e,t){K1(e)?function(e,t){var n,a=e.component.scales,r=e.config,o=e.encoding,l=e.markDef,i=e.specifiedScales,u=Wc(JH(a));try{for(u.s();!(n=u.n()).done;){var c=n.value,s=i[c],f=a[c],d=e.getScaleComponent(c),p=kY(o[c]),g=s[t],h=d.get("type"),v=d.get("padding"),m=d.get("paddingInner"),y=FV(h,t),b=IV(c,t);if(void 0!==g&&(y?b&&CG(b):CG(fG(h,t,c))),y&&void 0===b)if(void 0!==g){var w=p.timeUnit,k=p.type;switch(t){case"domainMax":case"domainMin":xG(s[t])||"temporal"===k||w?f.set(t,{signal:OY(s[t],{type:k,timeUnit:w})},!0):f.set(t,s[t],!0);break;default:f.copyKeyFromObject(t,s)}}else{var C=t in U1?U1[t]({model:e,channel:c,fieldOrDatumDef:p,scaleType:h,scalePadding:v,scalePaddingInner:m,domain:s.domain,domainMin:s.domainMin,domainMax:s.domainMax,markDef:l,config:r,hasNestedOffsetScale:GY(o,c),hasSecondaryRangeChannel:!!o[kW(c)]}):r.scale[t];void 0!==C&&f.set(t,C,!1)}}}catch(x){u.e(x)}finally{u.f()}}(e,t):q1(e,t)}var U1={bins:function(e){var t=e.model,n=e.fieldOrDatumDef;return Y$(n)?function(e,t){var n=t.bin;if(tq(n)){var a=_0(e,t.field,n);return new g1((function(){return e.getSignalName(a)}))}if(nq(n)&&aq(n)&&void 0!==n.step)return{step:n.step};return}(t,n):void 0},interpolate:function(e){return function(e,t){if(LH([zU,LU,HU],e)&&"nominal"!==t)return"hcl";return}(e.channel,e.fieldOrDatumDef.type)},nice:function(e){return function(e,t,n,a,r,o){var l;if((null===(l=wY(o))||void 0===l?void 0:l.bin)||pn(n)||null!=r||null!=a||LH([gV,hV],e))return;return!!AW(t)||void 0}(e.scaleType,e.channel,e.domain,e.domainMin,e.domainMax,e.fieldOrDatumDef)},padding:function(e){var t=e.channel,n=e.scaleType,a=e.fieldOrDatumDef,r=e.markDef,o=e.config;return function(e,t,n,a,r,o){if(AW(e)){if(AV(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var l=r.type,i=r.orient;if("bar"===l&&(!Y$(a)||!a.bin&&!a.timeUnit)&&("vertical"===i&&"x"===e||"horizontal"===i&&"y"===e))return o.continuousBandSize}if(t===vV)return n.pointPadding}return}(t,n,o.scale,a,r,o.bar)},paddingInner:function(e){var t=e.scalePadding,n=e.channel,a=e.markDef,r=e.scaleType,o=e.config,l=e.hasNestedOffsetScale;return function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==e)return;if(AW(t)){var l=r.bandPaddingInner,i=r.barBandPaddingInner,u=r.rectBandPaddingInner,c=r.bandWithNestedOffsetPaddingInner;return o?c:pU(l,"bar"===n?i:u)}if(TW(t)&&a===mV)return r.offsetBandPaddingInner;return}(t,n,a.type,r,o.scale,l)},paddingOuter:function(e){var t=e.scalePadding,n=e.channel,a=e.scaleType,r=e.scalePaddingInner,o=e.config,l=e.hasNestedOffsetScale;return function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==e)return;if(AW(t)){var l=r.bandPaddingOuter,i=r.bandWithNestedOffsetPaddingOuter;if(o)return i;if(n===mV)return pU(l,fq(a)?{signal:"".concat(a.signal,"/2")}:a/2)}else if(TW(t)){if(n===vV)return.5;if(n===mV)return r.offsetBandPaddingOuter}return}(t,n,a,r,o.scale,l)},reverse:function(e){var t=e.fieldOrDatumDef,n=e.scaleType,a=e.channel,r=e.config;return function(e,t,n,a){if("x"===n&&void 0!==a.xReverse)return OV(e)&&"descending"===t?fq(a.xReverse)?{signal:"!".concat(a.xReverse.signal)}:!a.xReverse:a.xReverse;if(OV(e)&&"descending"===t)return!0;return}(n,Y$(t)?t.sort:void 0,a,r.scale)},zero:function(e){var t=e.channel,n=e.fieldOrDatumDef,a=e.domain,r=e.markDef,o=e.scaleType,l=e.config,i=e.hasSecondaryRangeChannel;return function(e,t,n,a,r,o,l){if(n&&"unaggregated"!==n&&OV(r)){if(pn(n)){var i=n[0],u=n[n.length-1];if(i<=0&&u>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!DV(r))return!0;if((!Y$(t)||!t.bin)&&LH([].concat(B(OW),B(MW)),e)){var c=a.orient,s=a.type;return(!LH(["bar","area","line","trail"],s)||!("horizontal"===c&&"y"===e||"vertical"===c&&"x"===e))&&(!(!LH(["bar","area"],s)||l)||(null===o||void 0===o?void 0:o.zero))}return!1}(t,n,a,r,o,l.scale,i)}};function W1(e){K1(e)?function(e){var t,n=e.component.scales,a=Wc(zW);try{for(a.s();!(t=a.n()).done;){var r=t.value,o=n[r];if(o){var l=N1(r,e);o.setWithExplicit("range",l)}}}catch(i){a.e(i)}finally{a.f()}}(e):q1(e,"range")}function q1(e,t){var n,a=e.component.scales,r=Wc(e.children);try{for(r.s();!(n=r.n()).done;){var o=n.value;"range"===t?W1(o):H1(o,t)}}catch(p){r.e(p)}finally{r.f()}var l,i=Wc(JH(a));try{for(i.s();!(l=i.n()).done;){var u,c=l.value,s=void 0,f=Wc(e.children);try{for(f.s();!(u=f.n()).done;){var d=u.value.component.scales[c];if(d)s=AK(s,d.getWithExplicit(t),t,"scale",BK((function(e,n){return"range"===t&&e.step&&n.step?e.step-n.step:0})))}}catch(p){f.e(p)}finally{f.f()}a[c].setWithExplicit(t,s)}}catch(p){i.e(p)}finally{i.f()}}function G1(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=V1(t,n,a,r),l=e.type;return LW(t)?void 0!==l?zV(t,l)?Y$(n)&&!RV(l,n.type)?(CG(sG(l,o)),o):l:(CG(cG(t,l,o)),o):o:null}function V1(e,t,n,a){var r;switch(t.type){case"nominal":case"ordinal":if(cW(e)||"discrete"===qW(e))return"shape"===e&&"ordinal"===t.type&&CG(rG(e,"ordinal")),"ordinal";if(AW(e)||TW(e)){if(LH(["rect","bar","image","rule"],n.type))return"band";if(a)return"band"}else if("arc"===n.type&&e in DW)return"band";return u$(n[CW(e)])||aY(t)&&(null===(r=t.axis)||void 0===r?void 0:r.tickBand)?"band":"point";case"temporal":return cW(e)?"time":"discrete"===qW(e)?(CG(rG(e,"temporal")),"ordinal"):Y$(t)&&t.timeUnit&&HG(t.timeUnit).utc?"utc":"time";case"quantitative":return cW(e)?Y$(t)&&tq(t.bin)?"bin-ordinal":"linear":"discrete"===qW(e)?(CG(rG(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Qq(t.type))}function $1(e){K1(e)?e.component.scales=function(e){var t,n=e.encoding,a=e.mark,r=e.markDef,o={},l=Wc(zW);try{for(l.s();!(t=l.n()).done;){var i=t.value,u=kY(n[i]);if(!u||a!==e$||i!==UU||u.type!==cV){var c=u&&u.scale;if(TW(i))if(!GY(n,PW(i))){c&&CG(tG(i));continue}if(u&&null!==c&&!1!==c){null!==c&&void 0!==c||(c={});var s=G1(c,i,u,r,GY(n,i));o[i]=new A1(e.scaleName("".concat(i),!0),{value:s,explicit:c.type===s})}}}}catch(f){l.e(f)}finally{l.f()}return o}(e):e.component.scales=function(e){var t,n,a,r=e.component.scales={},o={},l=e.component.resolve,i=Wc(e.children);try{for(i.s();!(a=i.n()).done;){var u=a.value;$1(u);var c,s=Wc(JH(u.component.scales));try{for(s.s();!(c=s.n()).done;){var f=c.value;if(null!==(t=(n=l.scale)[f])&&void 0!==t||(n[f]=JZ(f,e)),"shared"===l.scale[f]){var d=o[f],p=u.component.scales[f].getWithExplicit("type");d?bV(d.value,p.value)?o[f]=AK(d,p,"type","scale",Y1):(l.scale[f]="independent",delete o[f]):o[f]=p}}}catch(x){s.e(x)}finally{s.f()}}}catch(x){i.e(x)}finally{i.f()}var g,h=Wc(JH(o));try{for(h.s();!(g=h.n()).done;){var v=g.value,m=e.scaleName(v,!0),y=o[v];r[v]=new A1(m,y);var b,w=Wc(e.children);try{for(w.s();!(b=w.n()).done;){var k=b.value,C=k.component.scales[v];C&&(k.renameScale(C.get("name"),m),C.merged=!0)}}catch(x){w.e(x)}finally{w.f()}}}catch(x){h.e(x)}finally{h.f()}return r}(e)}var Y1=BK((function(e,t){return kV(e)-kV(t)}));var Q1=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},X1=function(){function e(){O(this,e),this.nameMap={}}return D(e,[{key:"rename",value:function(e,t){this.nameMap[e]=t}},{key:"has",value:function(e){return void 0!==this.nameMap[e]}},{key:"get",value:function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}]),e}();function K1(e){return"unit"===(null===e||void 0===e?void 0:e.type)}function J1(e){return"facet"===(null===e||void 0===e?void 0:e.type)}function Z1(e){return"concat"===(null===e||void 0===e?void 0:e.type)}function e2(e){return"layer"===(null===e||void 0===e?void 0:e.type)}var t2=function(){function e(t,n,a,r,o,l,i){var u,c,s=this;O(this,e),this.type=n,this.parent=a,this.config=o,this.correctDataNames=function(e){var t,n,a;return(null===(t=e.from)||void 0===t?void 0:t.data)&&(e.from.data=s.lookupDataSource(e.from.data)),(null===(a=null===(n=e.from)||void 0===n?void 0:n.facet)||void 0===a?void 0:a.data)&&(e.from.facet.data=s.lookupDataSource(e.from.facet.data)),e},this.parent=a,this.config=o,this.view=iq(i),this.name=null!==(u=t.name)&&void 0!==u?u:r,this.title=sq(t.title)?{text:t.title}:t.title?iq(t.title):void 0,this.scaleNameMap=a?a.scaleNameMap:new X1,this.projectionNameMap=a?a.projectionNameMap:new X1,this.signalNameMap=a?a.signalNameMap:new X1,this.data=t.data,this.description=t.description,this.transforms=function(e){return e.map((function(e){return UX(e)?{filter:DH(e.filter,nV)}:e}))}(null!==(c=t.transform)&&void 0!==c?c:[]),this.layout="layer"===n||"unit"===n?{}:function(e,t,n){var a,r,o=n[t],l={},i=o.spacing,u=o.columns;void 0!==i&&(l.spacing=i),void 0!==u&&(R$(e)&&!F$(e.facet)||LQ(e))&&(l.columns=u),HQ(e)&&(l.columns=1);var c,s=Wc(VQ);try{for(s.s();!(c=s.n()).done;){var f=c.value;if(void 0!==e[f])if("spacing"===f){var d=e[f];l[f]=ia(d)?d:{row:null!==(a=d.row)&&void 0!==a?a:i,column:null!==(r=d.column)&&void 0!==r?r:i}}else l[f]=e[f]}}catch(p){s.e(p)}finally{s.f()}return l}(t,n,o),this.component={data:{sources:a?a.component.data.sources:[],outputNodes:a?a.component.data.outputNodes:{},outputNodeRefCounts:a?a.component.data.outputNodeRefCounts:{},isFaceted:R$(t)||(null===a||void 0===a?void 0:a.component.data.isFaceted)&&void 0===t.data},layoutSize:new _K,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},l?NH(l):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return D(e,[{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}},{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreRange;$1(e),v1(e);var n,a=Wc(TV);try{for(a.s();!(n=a.n()).done;){H1(e,n.value)}}catch(r){a.e(r)}finally{a.f()}t||W1(e)}(this)}},{key:"parseProjection",value:function(){C0(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){d0(this)}},{key:"assembleEncodeFromView",value:function(e){e.style;var t,n=Q1(e,["style"]),a={},r=Wc(JH(n));try{for(r.s();!(t=r.n()).done;){var o=t.value,l=n[o];void 0!==l&&(a[o]=kq(l))}}catch(i){r.e(i)}finally{r.f()}return a}},{key:"assembleGroupEncodeEntry",value:function(e){var t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=kq(this.description)),"unit"!==this.type&&"layer"!==this.type)?KH(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==t&&void 0!==t?t:{})}},{key:"assembleLayout",value:function(){if(this.layout){var e=this.layout,t=e.spacing,n=Q1(e,["spacing"]),a=this.component,r=this.config,o=function(e,t){var n,a={},r=Wc(fW);try{for(r.s();!(n=r.n()).done;){var o=n.value,l=e[o];if(null===l||void 0===l?void 0:l.facetFieldDef){var i=NZ(["titleAnchor","titleOrient"],l.facetFieldDef.header,t,o),u=i.titleAnchor,c=DZ(o,i.titleOrient),s=qZ(u,c);void 0!==s&&(a[c]=s)}}}catch(f){r.e(f)}finally{r.f()}return KH(a)?void 0:a}(a.layoutHeaders,r);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var e,t=this.component.layoutHeaders,n=[],a=Wc(fW);try{for(a.s();!(e=a.n()).done;){var r=e.value;t[r].title&&n.push(FZ(this,r))}}catch(u){a.e(u)}finally{a.f()}var o,l=Wc(jZ);try{for(l.s();!(o=l.n()).done;){var i=o.value;n=n.concat(zZ(this,i))}}catch(u){l.e(u)}finally{l.f()}return n}},{key:"assembleAxes",value:function(){return function(e,t){var n=e.x,a=void 0===n?[]:n,r=e.y,o=void 0===r?[]:r;return[].concat(B(a.map((function(e){return bZ(e,"grid",t)}))),B(o.map((function(e){return bZ(e,"grid",t)}))),B(a.map((function(e){return bZ(e,"main",t)}))),B(o.map((function(e){return bZ(e,"main",t)})))).filter((function(e){return e}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return m0(this)}},{key:"assembleProjections",value:function(){return y0(this)}},{key:"assembleTitle",value:function(){var e,t,n,a=null!==(e=this.title)&&void 0!==e?e:{},r=a.encoding,o=Q1(a,["encoding"]),l=Object.assign(Object.assign(Object.assign({},cq(this.config.title).nonMarkTitleProperties),o),r?{encode:{update:r}}:{});if(l.text)return LH(["unit","layer"],this.type)?LH(["middle",void 0],l.anchor)&&(null!==(t=l.frame)&&void 0!==t||(l.frame="group")):null!==(n=l.anchor)&&void 0!==n||(l.anchor="start"),KH(l)?void 0:l}},{key:"assembleGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var a=!this.parent||J1(this.parent)?B1(this):[];a.length>0&&(t.scales=a);var r=this.assembleAxes();r.length>0&&(t.axes=r);var o=this.assembleLegends();return o.length>0&&(t.legends=o),t}},{key:"getName",value:function(e){return nU((this.name?"".concat(this.name,"_"):"")+e)}},{key:"getDataName",value:function(e){return this.getName(DK[e].toLowerCase())}},{key:"requestDataName",value:function(e){var t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}},{key:"getSizeSignalRef",value:function(e){if(J1(this.parent)){var t=NW(XZ(e)),n=this.component.scales[t];if(n&&!n.merged){var a=n.get("type"),r=n.get("range");if(BV(a)&&dq(r)){var o=n.get("name"),l=_1(E1(this,t));return l?{signal:QZ(o,n,uY({aggregate:"distinct",field:l},{expr:"datum"}))}:(CG(zq(t)),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}},{key:"lookupDataSource",value:function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e}},{key:"getSignalName",value:function(e){return this.signalNameMap.get(e)}},{key:"renameSignal",value:function(e,t){this.signalNameMap.rename(e,t)}},{key:"renameScale",value:function(e,t){this.scaleNameMap.rename(e,t)}},{key:"renameProjection",value:function(e,t){this.projectionNameMap.rename(e,t)}},{key:"scaleName",value:function(e,t){return t?this.getName(e):vW(e)&&LW(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}},{key:"projectionName",value:function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}},{key:"getSelectionComponent",value:function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error('Cannot find a selection named "'.concat(t,'".'));return n}},{key:"hasAxisOrientSignalRef",value:function(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((function(e){return e.hasOrientSignalRef()})))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((function(e){return e.hasOrientSignalRef()})))}}]),e}(),n2=function(e){N(n,e);var t=z(n);function n(){return O(this,n),t.apply(this,arguments)}return D(n,[{key:"vgField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(e);if(n)return uY(n,t)}},{key:"reduceFieldDef",value:function(e,t){return function(e,t,n,a){return e?JH(e).reduce((function(n,r){var o=e[r];return pn(o)?o.reduce((function(e,n){return t.call(a,e,n,r)}),n):t.call(a,n,o,r)}),n):n}(this.getMapping(),(function(t,n,a){var r=wY(n);return r?e(t,r,a):t}),t)}},{key:"forEachFieldDef",value:function(e,t){KY(this.getMapping(),(function(t,n){var a=wY(t);a&&e(a,n)}),t)}}]),n}(t2),a2=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},r2=function(e){N(n,e);var t=z(n);function n(e,a){var r,o,l,i;O(this,n),(r=t.call(this,e)).transform=a,r.transform=NH(a);var u=null!==(o=r.transform.as)&&void 0!==o?o:[void 0,void 0];return r.transform.as=[null!==(l=u[0])&&void 0!==l?l:"value",null!==(i=u[1])&&void 0!==i?i:"density"],a.groupby&&null==a.minsteps&&null==a.maxsteps&&null==a.steps&&(r.transform.steps=200),r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.density].concat(B(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(RH(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.density,n=a2(e,["density"]);return Object.assign({type:"kde",field:t},n)}}]),n}(qK),o2=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).filter=a,r}return D(n,[{key:"clone",value:function(){return new n(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(JH(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(RH(this.filter))}},{key:"assemble",value:function(){var e=this,t=JH(this.filter).reduce((function(t,n){var a=e.filter[n],r=uY(a,{expr:"datum"});return null!==a&&("temporal"===a.type?t.push("(isDate(".concat(r,") || (isValid(").concat(r,") && isFinite(+").concat(r,")))")):"quantitative"===a.type&&(t.push("isValid(".concat(r,")")),t.push("isFinite(+".concat(r,")")))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}],[{key:"make",value:function(e,t){var a=t.config,r=t.mark;if("filter"!==Eq("invalid",t.markDef,a))return null;var o=t.reduceFieldDef((function(e,n,a){var o=LW(a)&&t.getScaleComponent(a);o&&(OV(o.get("type"))&&"count"!==n.aggregate&&!t$(r)&&(e[n.field]=n));return e}),{});return JH(o).length?new n(e,o):null}}]),n}(qK),l2=function(e){N(n,e);var t=z(n);function n(e,a){var r;O(this,n),(r=t.call(this,e)).transform=a,r.transform=NH(a);var o=r.transform,l=o.flatten,i=o.as,u=void 0===i?[]:i;return r.transform.as=l.map((function(e,t){var n;return null!==(n=u[t])&&void 0!==n?n:e})),r}return D(n,[{key:"clone",value:function(){return new n(this.parent,NH(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(RH(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"flatten",fields:e.flatten,as:e.as}}}]),n}(qK),i2=function(e){N(n,e);var t=z(n);function n(e,a){var r,o,l,i;O(this,n),(r=t.call(this,e)).transform=a,r.transform=NH(a);var u=null!==(o=r.transform.as)&&void 0!==o?o:[void 0,void 0];return r.transform.as=[null!==(l=u[0])&&void 0!==l?l:"key",null!==(i=u[1])&&void 0!==i?i:"value"],r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(RH(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"fold",fields:e.fold,as:e.as}}}]),n}(qK),u2=function(e){N(n,e);var t=z(n);function n(e,a,r,o){var l;return O(this,n),(l=t.call(this,e)).fields=a,l.geojson=r,l.signal=o,l}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var e,t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(ca);return new Set([].concat(B(this.geojson?[this.geojson]:[]),B(t)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(RH(this.fields))}},{key:"assemble",value:function(){return[].concat(B(this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[]),[Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})])}}],[{key:"parseAll",value:function(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;for(var a=0,r=0,o=[[FU,TU],[RU,IU]];r<o.length;r++){var l=o[r].map((function(e){var n=kY(t.encoding[e]);return Y$(n)?n.field:X$(n)?{expr:"".concat(n.datum)}:tY(n)?{expr:"".concat(n.value)}:void 0}));(l[0]||l[1])&&(e=new n(e,l,null,t.getName("geojson_".concat(a++))))}if(t.channelHasField(UU)){var i=t.typedFieldDef(UU);i.type===cV&&(e=new n(e,null,i.field,t.getName("geojson_".concat(a++))))}return e}}]),n}(qK),c2=function(e){N(n,e);var t=z(n);function n(e,a,r,o){var l;return O(this,n),(l=t.call(this,e)).projection=a,l.fields=r,l.as=o,l}return D(n,[{key:"clone",value:function(){return new n(null,this.projection,NH(this.fields),NH(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(ca))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(RH(this.fields)," ").concat(RH(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(e,t){if(!t.projectionName())return e;for(var a=0,r=[[FU,TU],[RU,IU]];a<r.length;a++){var o=r[a],l=o.map((function(e){var n=kY(t.encoding[e]);return Y$(n)?n.field:X$(n)?{expr:"".concat(n.datum)}:tY(n)?{expr:"".concat(n.value)}:void 0})),i=o[0]===RU?"2":"";(l[0]||l[1])&&(e=new n(e,t.projectionName(),l,[t.getName("x".concat(i)),t.getName("y".concat(i))]))}return e}}]),n}(qK),s2=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).transform=a,r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.impute,this.transform.key].concat(B(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(e){var t=e.start,n=void 0===t?0:t,a=e.stop,r=e.step,o=[n,a].concat(B(r?[r]:[])).join(",");return{signal:"sequence(".concat(o,")")}}},{key:"hash",value:function(){return"Impute ".concat(RH(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.impute,n=e.key,a=e.keyvals,r=e.method,o=e.groupby,l=e.value,i=e.frame,u=void 0===i?[null,null]:i,c=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:t,key:n},a?{keyvals:WX(a)?this.processSequence(a):a}:{}),{method:"value"}),o?{groupby:o}:{}),{value:r&&"value"!==r?null:l});return r&&"value"!==r?[c,Object.assign({type:"window",as:["imputed_".concat(t,"_value")],ops:[r],fields:[t],frame:u,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:"datum.".concat(t," === null ? datum.imputed_").concat(t,"_value : datum.").concat(t),as:t}]:[c]}}],[{key:"makeFromTransform",value:function(e,t){return new n(e,t)}},{key:"makeFromEncoding",value:function(e,t){var a=t.encoding,r=a.x,o=a.y;if(Y$(r)&&Y$(o)){var l=r.impute?r:o.impute?o:void 0;if(void 0===l)return;var i=r.impute?o:o.impute?r:void 0,u=l.impute,c=u.method,s=u.value,f=u.frame,d=u.keyvals,p=JY(t.mark,a);return new n(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:l.field,key:i.field},c?{method:c}:{}),void 0!==s?{value:s}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),p.length?{groupby:p}:{}))}return null}}]),n}(qK),f2=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},d2=function(e){N(n,e);var t=z(n);function n(e,a){var r,o,l,i;O(this,n),(r=t.call(this,e)).transform=a,r.transform=NH(a);var u=null!==(o=r.transform.as)&&void 0!==o?o:[void 0,void 0];return r.transform.as=[null!==(l=u[0])&&void 0!==l?l:a.on,null!==(i=u[1])&&void 0!==i?i:a.loess],r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.loess,this.transform.on].concat(B(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(RH(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.loess,n=e.on,a=f2(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},a)}}]),n}(qK),p2=function(e){N(n,e);var t=z(n);function n(e,a,r){var o;return O(this,n),(o=t.call(this,e)).transform=a,o.secondary=r,o}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?Rn(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(RH({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Rn(this.transform.as)}:{});else{var t=this.transform.as;ca(t)||(CG('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(e,t,a,r){var o=t.component.data.sources,l=a.from,i=null;if(function(e){return"data"in e}(l)){var u=D2(l.data,o);u||(u=new L0(l.data),o.push(u));var c=t.getName("lookup_".concat(r));i=new GK(u,c,DK.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[c]=i}else if(function(e){return"param"in e}(l)){var s,f=l.param;a=Object.assign({as:f},a);try{s=t.getSelectionComponent(nU(f),f)}catch(d){throw new Error('Lookups can only be performed on selection parameters. "'.concat(f,'" is a variable parameter.'))}if(!(i=s.materialized))throw new Error(function(e){return'Cannot define and lookup the "'.concat(e,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}(f))}return new n(e,a,i.getSource())}}]),n}(qK),g2=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},h2=function(e){N(n,e);var t=z(n);function n(e,a){var r,o,l,i;O(this,n),(r=t.call(this,e)).transform=a,r.transform=NH(a);var u=null!==(o=r.transform.as)&&void 0!==o?o:[void 0,void 0];return r.transform.as=[null!==(l=u[0])&&void 0!==l?l:"prob",null!==(i=u[1])&&void 0!==i?i:"value"],r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.quantile].concat(B(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(RH(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.quantile,n=g2(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}]),n}(qK),v2=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},m2=function(e){N(n,e);var t=z(n);function n(e,a){var r,o,l,i;O(this,n),(r=t.call(this,e)).transform=a,r.transform=NH(a);var u=null!==(o=r.transform.as)&&void 0!==o?o:[void 0,void 0];return r.transform.as=[null!==(l=u[0])&&void 0!==l?l:a.on,null!==(i=u[1])&&void 0!==i?i:a.regression],r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.regression,this.transform.on].concat(B(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(RH(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.regression,n=e.on,a=v2(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},a)}}]),n}(qK),y2=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).transform=a,r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"addDimensions",value:function(e){var t;this.transform.groupby=GH((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(function(e){return e}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.pivot,this.transform.value].concat(B(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(RH(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.pivot,n=e.value,a=e.groupby,r=e.limit,o=e.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==r?{limit:r}:{}),void 0!==o?{op:o}:{}),void 0!==a?{groupby:a}:{})}}]),n}(qK),b2=function(e){N(n,e);var t=z(n);function n(e,a){var r;return O(this,n),(r=t.call(this,e)).transform=a,r}return D(n,[{key:"clone",value:function(){return new n(null,NH(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(RH(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),n}(qK);function w2(e){var t=0;return function n(a,r){var o,l,i,u;if(a instanceof L0&&(a.isGenerator||NK(a.data)||(e.push(r),r={name:null,source:r.name,transform:[]})),a instanceof F0&&(a.parent instanceof L0&&!r.source?(r.format=Object.assign(Object.assign({},null!==(o=r.format)&&void 0!==o?o:{}),{parse:a.assembleFormatParse()}),(l=r.transform).push.apply(l,B(a.assembleTransforms(!0)))):(i=r.transform).push.apply(i,B(a.assembleTransforms()))),a instanceof A0)return r.name||(r.name="data_".concat(t++)),!r.source||r.transform.length>0?(e.push(r),a.data=r.name):a.data=r.source,void e.push.apply(e,B(a.assemble()));if((a instanceof R0||a instanceof z0||a instanceof o2||a instanceof dZ||a instanceof OZ||a instanceof c2||a instanceof O0||a instanceof p2||a instanceof l1||a instanceof r1||a instanceof i2||a instanceof l2||a instanceof r2||a instanceof d2||a instanceof h2||a instanceof m2||a instanceof I0||a instanceof b2||a instanceof y2)&&r.transform.push(a.assemble()),(a instanceof S0||a instanceof $K||a instanceof s2||a instanceof o1||a instanceof u2)&&(u=r.transform).push.apply(u,B(a.assemble())),a instanceof GK)if(r.source&&0===r.transform.length)a.setSource(r.source);else if(a.parent instanceof GK)a.setSource(r.name);else{if(r.name||(r.name="data_".concat(t++)),a.setSource(r.name),1===a.numChildren())e.push(r),r={name:null,source:r.name,transform:[]}}switch(a.numChildren()){case 0:a instanceof GK&&(!r.source||r.transform.length>0)&&e.push(r);break;case 1:n(a.children[0],r);break;default:r.name||(r.name="data_".concat(t++));var c=r.name;!r.source||r.transform.length>0?e.push(r):c=r.source;var s,f=Wc(a.children);try{for(f.s();!(s=f.n()).done;){n(s.value,{name:null,source:c,transform:[]})}}catch(d){f.e(d)}finally{f.f()}}}}function k2(e,t){var n,a,r,o=[],l=w2(o),i=0,u=Wc(e.sources);try{for(u.s();!(r=u.n()).done;){var c=r.value;c.hasName()||(c.dataName="source_".concat(i++));var s=c.assemble();l(c,s)}}catch(O){u.e(O)}finally{u.f()}for(var f=0,d=o;f<d.length;f++){var p=d[f];0===p.transform.length&&delete p.transform}var g,h=0,v=Wc(o.entries());try{for(v.s();!(g=v.n()).done;){var m=E(g.value,2),y=m[0],b=m[1];0!==(null!==(n=b.transform)&&void 0!==n?n:[]).length||b.source||o.splice(h++,0,o.splice(y,1)[0])}}catch(O){v.e(O)}finally{v.f()}for(var w=0,k=o;w<k.length;w++){var C,x=Wc(null!==(a=k[w].transform)&&void 0!==a?a:[]);try{for(x.s();!(C=x.n()).done;){var P=C.value;"lookup"===P.type&&(P.from=e.outputNodes[P.from].getSource())}}catch(O){x.e(O)}finally{x.f()}}for(var _=0,S=o;_<S.length;_++){var B=S[_];B.name in t&&(B.values=t[B.name])}return o}function C2(e){return"top"===e||"left"===e||fq(e)?"header":"footer"}function x2(e,t){var n,a=e.facet,r=e.config,o=e.child,l=e.component;if(e.channelHasField(t)){var i=a[t],u=MZ("title",null,r,t),c=hY(i,r,{allowDisabling:!0,includeDefault:void 0===u||!!u});o.component.layoutHeaders[t].title&&(c=pn(c)?c.join(", "):c,c+=" / ".concat(o.component.layoutHeaders[t].title),o.component.layoutHeaders[t].title=null);var s=MZ("labelOrient",i.header,r,t),f=null!==i.header&&pU(null===(n=i.header)||void 0===n?void 0:n.labels,r.header.labels,!0),d=LH(["bottom","right"],s)?"footer":"header";l.layoutHeaders[t]=pr({title:null!==i.header?c:null,facetFieldDef:i},d,"facet"===t?[]:[P2(e,t,f)])}}function P2(e,t,n){var a="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(a)?e.child.getSizeSignalRef(a):void 0,axes:[]}}function _2(e,t){var n,a=e.child;if(a.component.axes[t]){var r=e.component,o=r.layoutHeaders,l=r.resolve;if(l.axis[t]=ZZ(l,t),"shared"===l.axis[t]){var i,u="x"===t?"column":"row",c=o[u],s=Wc(a.component.axes[t]);try{for(s.s();!(i=s.n()).done;){var f=i.value,d=C2(f.get("orient"));null!==(n=c[d])&&void 0!==n||(c[d]=[P2(e,u,!1)]);var p=bZ(f,"main",e.config,{header:!0});p&&c[d][0].axes.push(p),f.mainExtracted=!0}}catch(g){s.e(g)}finally{s.f()}}}}function E2(e){var t,n=Wc(e.children);try{for(n.s();!(t=n.n()).done;){t.value.parseLayoutSize()}}catch(a){n.e(a)}finally{n.f()}}function S2(e,t){var n,a,r,o=XZ(t),l=NW(o),i=e.component.resolve,u=e.component.layoutSize,c=Wc(e.children);try{for(c.s();!(r=c.n()).done;){var s=r.value.component.layoutSize.getWithExplicit(o),f=null!==(n=i.scale[l])&&void 0!==n?n:JZ(l,e);if("independent"===f&&"step"===s.value){a=void 0;break}if(a){if("independent"===f&&a.value!==s.value){a=void 0;break}a=AK(a,s,o,"")}else a=s}}catch(h){c.e(h)}finally{c.f()}if(a){var d,p=Wc(e.children);try{for(p.s();!(d=p.n()).done;){var g=d.value;e.renameSignal(g.getName(o),e.getName(t)),g.component.layoutSize.set(o,"merged",!1)}}catch(h){p.e(h)}finally{p.f()}u.setWithExplicit(t,a)}else u.setWithExplicit(t,{explicit:!1,value:void 0})}function B2(e,t){var n="width"===t?"x":"y",a=e.config,r=e.getScaleComponent(n);if(r){var o=r.get("type"),l=r.get("range");if(BV(o)){var i=XQ(a.view,t);return dq(l)||qQ(i)?"step":i}return YQ(a.view,t)}if(e.hasProjection||"arc"===e.mark)return YQ(a.view,t);var u=XQ(a.view,t);return qQ(u)?u.step:u}function O2(e,t,n){return uY(t,Object.assign({suffix:"by_".concat(uY(e))},null!==n&&void 0!==n?n:{}))}var A2=function(e){N(n,e);var t=z(n);function n(e,a,r,o){var l;return O(this,n),(l=t.call(this,e,"facet",a,r,o,e.resolve)).child=i3(e.spec,I(l),l.getName("child"),void 0,o),l.children=[l.child],l.facet=l.initFacet(e.facet),l}return D(n,[{key:"initFacet",value:function(e){if(!F$(e))return{facet:this.initFacetFieldDef(e,"facet")};var t,n={},a=Wc(JH(e));try{for(a.s();!(t=a.n()).done;){var r=t.value;if(![CU,xU].includes(r)){CG(eG(r,"facet"));break}var o=e[r];if(void 0===o.field){CG(Zq(o,r));break}n[r]=this.initFacetFieldDef(o,r)}}catch(l){a.e(l)}finally{a.f()}return n}},{key:"initFacetFieldDef",value:function(e,t){var n=PY(e,t);return n.header?n.header=iq(n.header):null===n.header&&(n.header=null),n}},{key:"channelHasField",value:function(e){return!!this.facet[e]}},{key:"fieldDef",value:function(e){return this.facet[e]}},{key:"parseData",value:function(){this.component.data=M2(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){E2(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(e){var t,n=Wc(fW);try{for(n.s();!(t=n.n()).done;)x2(e,t.value)}catch(a){n.e(a)}finally{n.f()}_2(e,"x"),_2(e,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.child.assembleSelectionTopLevelSignals(e)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(e){return this.child.assembleSelectionData(e)}},{key:"getHeaderLayoutMixins",value:function(){var e,t,n,a,r={},o=Wc(fW);try{for(o.s();!(a=o.n()).done;){var l,i=a.value,u=Wc(TZ);try{for(u.s();!(l=u.n()).done;){var c=l.value,s=this.component.layoutHeaders[i],f=s[c],d=s.facetFieldDef;if(d){var p=MZ("titleOrient",d.header,this.config,i);if(["right","bottom"].includes(p)){var g=DZ(i,p);null!==(e=r.titleAnchor)&&void 0!==e||(r.titleAnchor={}),r.titleAnchor[g]="end"}}if(null===f||void 0===f?void 0:f[0]){var h="row"===i?"height":"width",v="header"===c?"headerBand":"footerBand";"facet"===i||this.child.component.layoutSize.get(h)||(null!==(t=r[v])&&void 0!==t||(r[v]={}),r[v][i]=.5),s.title&&(null!==(n=r.offset)&&void 0!==n||(r.offset={}),r.offset["row"===i?"rowTitle":"columnTitle"]=10)}}}catch(m){u.e(m)}finally{u.f()}}}catch(m){o.e(m)}finally{o.f()}return r}},{key:"assembleDefaultLayout",value:function(){var e=this.facet,t=e.column,n=e.row,a=t?this.columnDistinctSignal():n?1:void 0,r="all";return(n||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(r="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),a?{columns:a}:{}),{bounds:"full",align:r})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof n)){var e=this.getName("column_domain");return{signal:"length(data('".concat(e,"'))")}}}},{key:"assembleGroupStyle",value:function(){}},{key:"assembleGroup",value:function(e){return this.parent&&this.parent instanceof n?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:uY(this.facet.column,{prefix:"distinct"})}}}}:{}),Vh(j(n.prototype),"assembleGroup",this).call(this,e)):Vh(j(n.prototype),"assembleGroup",this).call(this,e)}},{key:"getCardinalityAggregateForChild",value:function(){var e=[],t=[],a=[];if(this.child instanceof n){if(this.child.channelHasField("column")){var r=uY(this.child.facet.column);e.push(r),t.push("distinct"),a.push("distinct_".concat(r))}}else{var o,l=Wc(OW);try{for(l.s();!(o=l.n()).done;){var i=o.value,u=this.child.component.scales[i];if(u&&!u.merged){var c=u.get("type"),s=u.get("range");if(BV(c)&&dq(s)){var f=_1(E1(this.child,i));f?(e.push(f),t.push("distinct"),a.push("distinct_".concat(f))):CG(zq(i))}}}}catch(d){l.e(d)}finally{l.f()}}return{fields:e,ops:t,as:a}}},{key:"assembleFacet",value:function(){var e,t=this.component.data.facetRoot,n=t.name,a=t.data,r=this.facet,o=r.row,l=r.column,i=this.getCardinalityAggregateForChild(),u=i.fields,c=i.ops,s=i.as,f=[],d=Wc(fW);try{for(d.s();!(e=d.n()).done;){var p=e.value,g=this.facet[p];if(g){f.push(uY(g));var h=g.bin,v=g.sort;if(tq(h)&&f.push(uY(g,{binSuffix:"end"})),j$(v)){var m=v.field,y=v.op,b=void 0===y?A$:y,w=O2(g,v);o&&l?(u.push(w),c.push("max"),s.push(w)):(u.push(m),c.push(b),s.push(w))}else if(pn(v)){var k=AZ(g,p);u.push(k),c.push("max"),s.push(k)}}}}catch(x){d.e(x)}finally{d.f()}var C=!!o&&!!l;return Object.assign({name:n,data:a,groupby:f},C||u.length>0?{aggregate:Object.assign(Object.assign({},C?{cross:C}:{}),u.length?{fields:u,ops:c,as:s}:{})}:{})}},{key:"facetSortFields",value:function(e){var t=this.facet[e];return t?j$(t.sort)?[O2(t,t.sort,{expr:"datum"})]:pn(t.sort)?[AZ(t,e,{expr:"datum"})]:[uY(t,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(e){var t=this.facet[e];if(t){var n=t.sort;return[(j$(n)?n.order:!pn(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var e,t=this.facet,n=this.config;if(t.facet)return HZ(t.facet,"facet",n);var a,r={row:["top","bottom"],column:["left","right"]},o=Wc(jZ);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(t[l]){var i=MZ("labelOrient",null===(e=t[l])||void 0===e?void 0:e.header,n,l);if(r[l].includes(i))return HZ(t[l],l,n)}}}catch(u){o.e(u)}finally{o.f()}}},{key:"assembleMarks",value:function(){var e=this,t=this.child,n=function(e){var t,n=[],a=w2(n),r=Wc(e.children);try{for(r.s();!(t=r.n()).done;)a(t.value,{source:e.name,name:null,transform:[]})}catch(o){r.e(o)}finally{r.f()}return n}(this.component.data.facetRoot),a=t.assembleGroupEncodeEntry(!1),r=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle(),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},r?{title:r}:{}),o?{style:o}:{}),{from:{facet:this.assembleFacet()},sort:{field:fW.map((function(t){return e.facetSortFields(t)})).flat(),order:fW.map((function(t){return e.facetSortOrder(t)})).flat()}}),n.length>0?{data:n}:{}),a?{encode:{update:a}}:{}),t.assembleGroup(function(e,t){if(e.component.selection&&JH(e.component.selection).length){var n=ma(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:pI("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return WK(t)}(this,[])));return[l]}},{key:"getMapping",value:function(){return this.facet}}]),n}(n2);function D2(e,t){var n,a,r,o,l,i=Wc(t);try{for(i.s();!(l=i.n()).done;){var u=l.value,c=u.data;if(!e.name||!u.hasName()||e.name===u.dataName){var s=null===(n=e.format)||void 0===n?void 0:n.mesh,f=null===(a=c.format)||void 0===a?void 0:a.feature;if(!s||!f){var d=null===(r=e.format)||void 0===r?void 0:r.feature;if(!d&&!f||d===f){var p=null===(o=c.format)||void 0===o?void 0:o.mesh;if(!s&&!p||s===p)if(jK(e)&&jK(c)){if(MH(e.values,c.values))return u}else if(NK(e)&&NK(c)){if(e.url===c.url)return u}else if(TK(e)&&e.name===u.dataName)return u}}}}}catch(g){i.e(g)}finally{i.f()}return null}function M2(e){var t,n,a,r,o,l,i,u,c,s,f=function(e,t){if(e.data||!e.parent){if(null===e.data){var n=new L0({values:[]});return t.push(n),n}var a=D2(e.data,t);if(a)return FK(e.data)||(a.data.format=WH({},e.data.format,a.data.format)),!a.hasName()&&e.data.name&&(a.dataName=e.data.name),a;var r=new L0(e.data);return t.push(r),r}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources),d=e.component.data,p=d.outputNodes,g=d.outputNodeRefCounts,h=e.data,v=!(h&&(FK(h)||NK(h)||jK(h)))&&e.parent?e.parent.component.data.ancestorParse.clone():new MK;FK(h)?(IK(h)?f=new z0(f,h.sequence):zK(h)&&(f=new R0(f,h.graticule)),v.parseNothing=!0):null===(null===(t=null===h||void 0===h?void 0:h.format)||void 0===t?void 0:t.parse)&&(v.parseNothing=!0),f=null!==(n=F0.makeExplicit(f,e,v))&&void 0!==n?n:f,f=new I0(f);var m=e.parent&&e2(e.parent);(K1(e)||J1(e))&&m&&(f=null!==(a=S0.makeFromEncoding(f,e))&&void 0!==a?a:f),e.transforms.length>0&&(f=function(e,t,n){var a,r,o,l=0,i=Wc(t.transforms);try{for(i.s();!(o=i.n()).done;){var u=o.value,c=void 0,s=void 0;if(eK(u))s=e=new OZ(e,u),c="derived";else if(UX(u)){var f=N0(u);s=e=null!==(a=F0.makeWithAncestors(e,{},f,n))&&void 0!==a?a:e,e=new dZ(e,t,u.filter)}else if(tK(u))s=e=S0.makeFromTransform(e,u,t),c="number";else if(aK(u))c="date",void 0===n.getWithExplicit(u.field).value&&(e=new F0(e,pr({},u.field,c)),n.set(u.field,c,!1)),s=e=$K.makeFromTransform(e,u);else if(rK(u))s=e=O0.makeFromTransform(e,u),c="number",iZ(t)&&(e=new I0(e));else if(qX(u))s=e=p2.make(e,t,u,l++),c="derived";else if(KX(u))s=e=new l1(e,u),c="number";else if(JX(u))s=e=new r1(e,u),c="number";else if(oK(u))s=e=o1.makeFromTransform(e,u),c="derived";else if(lK(u))s=e=new i2(e,u),c="derived";else if(ZX(u))s=e=new l2(e,u),c="derived";else if(GX(u))s=e=new y2(e,u),c="derived";else if(XX(u))e=new b2(e,u);else if(nK(u))s=e=s2.makeFromTransform(e,u),c="derived";else if(VX(u))s=e=new r2(e,u),c="derived";else if($X(u))s=e=new h2(e,u),c="derived";else if(YX(u))s=e=new m2(e,u),c="derived";else{if(!QX(u)){CG(Vq(u));continue}s=e=new d2(e,u),c="derived"}if(s&&void 0!==c){var d,p=Wc(null!==(r=s.producedFields())&&void 0!==r?r:[]);try{for(p.s();!(d=p.n()).done;){var g=d.value;n.set(g,c,!1)}}catch(h){p.e(h)}finally{p.f()}}}}catch(h){i.e(h)}finally{i.f()}return e}(f,e,v));var y=function(e){var t={};if(K1(e)&&e.component.selection){var n,a=Wc(JH(e.component.selection));try{for(a.s();!(n=a.n()).done;){var r,o=n.value,l=Wc(e.component.selection[o].project.items);try{for(l.s();!(r=l.n()).done;){var i=r.value;!i.channel&&dU(i.field)>1&&(t[i.field]="flatten")}}catch(u){l.e(u)}finally{l.f()}}}catch(u){a.e(u)}finally{a.f()}}return t}(e),b=j0(e);f=null!==(r=F0.makeWithAncestors(f,{},Object.assign(Object.assign({},y),b),v))&&void 0!==r?r:f,K1(e)&&(f=u2.parseAll(f,e),f=c2.parseAll(f,e)),(K1(e)||J1(e))&&(m||(f=null!==(o=S0.makeFromEncoding(f,e))&&void 0!==o?o:f),f=null!==(l=$K.makeFromEncoding(f,e))&&void 0!==l?l:f,f=OZ.parseAllForSortIndex(f,e));var w=e.getDataName(DK.Raw),k=new GK(f,w,DK.Raw,g);if(p[w]=k,f=k,K1(e)){var C=O0.makeFromEncoding(f,e);C&&(f=C,iZ(e)&&(f=new I0(f))),f=null!==(i=s2.makeFromEncoding(f,e))&&void 0!==i?i:f,f=null!==(u=o1.makeFromEncoding(f,e))&&void 0!==u?u:f}K1(e)&&(f=null!==(c=o2.make(f,e))&&void 0!==c?c:f);var x=e.getDataName(DK.Main),P=new GK(f,x,DK.Main,g);p[x]=P,f=P,K1(e)&&function(e,t){var n,a,r=Wc(eU(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{for(r.s();!(a=r.n()).done;){var o=E(a.value,2),l=o[0],i=o[1],u=e.getName("lookup_".concat(l));e.component.data.outputNodes[u]=i.materialized=new GK(new dZ(t,e,{param:l}),u,DK.Lookup,e.component.data.outputNodeRefCounts)}}catch(c){r.e(c)}finally{r.f()}}(e,P);var _=null;if(J1(e)){var S=e.getName("facet");f=null!==(s=function(e,t){var n=t.row,a=t.column;if(n&&a){for(var r=null,o=0,l=[n,a];o<l.length;o++){var i=l[o];if(j$(i.sort)){var u=i.sort,c=u.field,s=u.op;e=r=new r1(e,{joinaggregate:[{op:void 0===s?A$:s,field:c,as:O2(i,i.sort,{forAs:!0})}],groupby:[uY(i)]})}}return r}return null}(f,e.facet))&&void 0!==s?s:f,_=new A0(f,e,S,P.getSource()),p[S]=_}return Object.assign(Object.assign({},e.component.data),{outputNodes:p,outputNodeRefCounts:g,raw:k,main:P,facetRoot:_,ancestorParse:v})}var N2=function(e){N(n,e);var t=z(n);function n(e,a,r,o){var l,i,u,c,s;return O(this,n),l=t.call(this,e,"concat",a,r,o,e.resolve),"shared"!==(null===(u=null===(i=e.resolve)||void 0===i?void 0:i.axis)||void 0===u?void 0:u.x)&&"shared"!==(null===(s=null===(c=e.resolve)||void 0===c?void 0:c.axis)||void 0===s?void 0:s.y)||CG("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),l.children=l.getChildren(e).map((function(e,t){return i3(e,I(l),l.getName("concat_".concat(t)),void 0,o)})),l}return D(n,[{key:"parseData",value:function(){this.component.data=M2(this);var e,t=Wc(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=Wc(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var a,r=Wc(JH(n.component.selection));try{for(r.s();!(a=r.n()).done;){var o=a.value;this.component.selection[o]=n.component.selection[o]}}catch(l){r.e(l)}finally{r.f()}}}catch(l){t.e(l)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=Wc(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){var e,t=Wc(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseAxesAndHeaders()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getChildren",value:function(e){return HQ(e)?e.vconcat:UQ(e)?e.hconcat:e.concat}},{key:"parseLayoutSize",value:function(){!function(e){E2(e);var t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";S2(e,t),S2(e,n)}(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(e){return e.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var e,t=VZ(this),n=Wc(this.children);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push.apply(t,B(a.assembleLayoutSignals()))}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleMarks",value:function(){return this.children.map((function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),a=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),a?{encode:{update:a}}:{}),e.assembleGroup())}))}},{key:"assembleGroupStyle",value:function(){}},{key:"assembleDefaultLayout",value:function(){var e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}]),n}(t2);var j2=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},FY),{labelExpr:1,encode:1}),T2=JH(j2),F2=function(e){N(n,e);var t=z(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return O(this,n),(e=t.call(this)).explicit=a,e.implicit=r,e.mainExtracted=o,e}return D(n,[{key:"clone",value:function(){return new n(NH(this.explicit),NH(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!function(e){return!1===e||null===e}(this.get(e)))}},{key:"hasOrientSignalRef",value:function(){return fq(this.explicit.orient)}}]),n}(_K);var I2={bottom:"top",top:"bottom",left:"right",right:"left"};function R2(e,t){if(!e)return t.map((function(e){return e.clone()}));if(e.length===t.length){for(var n=e.length,a=0;a<n;a++){var r=e[a],o=t[a];if(!!r!==!!o)return;if(r&&o){var l=r.getWithExplicit("orient"),i=o.getWithExplicit("orient");if(l.explicit&&i.explicit&&l.value!==i.value)return;e[a]=z2(r,o)}}return e}}function z2(e,t){var n,a=Wc(T2);try{var r=function(){var a=n.value,r=AK(e.getWithExplicit(a),t.getWithExplicit(a),a,"axis",(function(e,t){switch(a){case"title":return Nq(e,t);case"gridScale":return{explicit:e.explicit,value:pU(e.value,t.value)}}return OK(e,t,a,"axis")}));e.setWithExplicit(a,r)};for(a.s();!(n=a.n()).done;)r()}catch(o){a.e(o)}finally{a.f()}return e}function L2(e,t,n,a,r){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(fq(n.labelAngle)?n.labelAngle:bU(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===BZ(a,r))return!0}return e===n[t]}var H2=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function U2(e,t){var n,a,r,o=t.axis(e),l=new F2,i=kY(t.encoding[e]),u=t.mark,c=t.config,s=(null===o||void 0===o?void 0:o.orient)||(null===(n=c["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(a=c.axis)||void 0===a?void 0:a.orient)||function(e){return"x"===e?"bottom":"left"}(e),f=t.getScaleComponent(e).get("type"),d=function(e,t,n,a){var r="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:PV(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],o="x"===e?"axisX":"axisY",l=fq(n)?"axisOrient":"axis".concat(oU(n)),i=[].concat(r,B(r.map((function(e){return o+e.substr(4)})))),u=["axis",l,o];return{vlOnlyAxisConfig:kZ(i,a,e,n),vgAxisConfig:kZ(u,a,e,n),axisConfigStyle:CZ([].concat(u,B(i)),a)}}(e,f,s,t.config),p=void 0!==o?!o:xZ("disable",c.style,null===o||void 0===o?void 0:o.style,d).configValue;if(l.set("disable",p,void 0!==o),p)return l;var g,h=function(e,t,n,a,r){var o=null===t||void 0===t?void 0:t.labelAngle;if(void 0!==o)return fq(o)?o:bU(o);var l=xZ("labelAngle",a,null===t||void 0===t?void 0:t.style,r).configValue;return void 0!==l?bU(l):n!==_U||!LH([uV,lV],e.type)||Y$(e)&&e.timeUnit?void 0:270}(i,o=o||{},e,c.style,d),v={fieldOrDatumDef:i,axis:o,channel:e,model:t,scaleType:f,orient:s,labelAngle:h,mark:u,config:c},m=Wc(T2);try{for(m.s();!(g=m.n()).done;){var y=g.value,b=y in PZ?PZ[y](v):RY(y)?o[y]:void 0,w=void 0!==b,k=L2(b,y,o,t,e);if(w&&k)l.set(y,b,k);else{var C=RY(y)&&"values"!==y?xZ(y,c.style,o.style,d):{},x=C.configValue,P=void 0===x?void 0:x,_=C.configFrom,E=void 0===_?void 0:_,S=void 0!==P;w&&!S?l.set(y,b,k):("vgAxisConfig"!==E||H2.has(y)&&S||NY(P)||fq(P))&&l.set(y,P,!1)}}}catch(D){m.e(D)}finally{m.f()}var O=null!==(r=o.encoding)&&void 0!==r?r:{},A=jY.reduce((function(n,a){var r;if(!l.hasAxisPart(a))return n;var o=KZ(null!==(r=O[a])&&void 0!==r?r:{},t),i="labels"===a?function(e,t,n){var a,r=e.encoding,o=e.config,l=null!==(a=kY(r[t]))&&void 0!==a?a:kY(r[kW(t)]),i=e.axis(t)||{},u=i.format,c=i.formatType;if(b$(c))return Object.assign({text:x$({fieldOrDatumDef:l,field:"datum.value",format:u,formatType:c,config:o})},n);if(void 0===u&&void 0===c&&o.customFormatTypes){if("quantitative"===Q$(l)){if(aY(l)&&"normalize"===l.stack&&o.normalizedNumberFormatType)return Object.assign({text:x$({fieldOrDatumDef:l,field:"datum.value",format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,config:o})},n);if(o.numberFormatType)return Object.assign({text:x$({fieldOrDatumDef:l,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o})},n)}if("temporal"===Q$(l)&&o.timeFormatType&&Y$(l)&&!l.timeUnit)return Object.assign({text:x$({fieldOrDatumDef:l,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})},n)}return n}(t,e,o):o;return void 0===i||KH(i)||(n[a]={update:i}),n}),{});return KH(A)||l.set("encode",A,!!o.encoding||void 0!==o.labelAngle),l}function W2(e){var t,n=e.encoding,a=e.size,r=Wc(OW);try{for(r.s();!(t=r.n()).done;){var o=t.value,l=CW(o);qQ(a[l])&&K$(n[o])&&(delete a[l],CG(dG(l)))}}catch(i){r.e(i)}finally{r.f()}return a}function q2(e,t,n){var a,r,o=iq(e),l=Eq("orient",o,n);if(o.orient=function(e,t,n){switch(e){case VV:case JV:case ZV:case QV:case $V:case qV:return}var a=t.x,r=t.y,o=t.x2,l=t.y2;switch(e){case WV:if(Y$(a)&&(nq(a.bin)||Y$(r)&&r.aggregate&&!a.aggregate))return"vertical";if(Y$(r)&&(nq(r.bin)||Y$(a)&&a.aggregate&&!r.aggregate))return"horizontal";if(l||o){if(n)return n;if(!o)return(Y$(a)&&a.type===oV&&!tq(a.bin)||J$(a))&&Y$(r)&&nq(r.bin)?"horizontal":"vertical";if(!l)return(Y$(r)&&r.type===oV&&!tq(r.bin)||J$(r))&&Y$(a)&&nq(a.bin)?"vertical":"horizontal"}case YV:if(o&&(!Y$(a)||!nq(a.bin))&&l&&(!Y$(r)||!nq(r.bin)))return;case UV:if(l)return Y$(r)&&nq(r.bin)?"horizontal":"vertical";if(o)return Y$(a)&&nq(a.bin)?"vertical":"horizontal";if(e===YV){if(a&&!r)return"vertical";if(r&&!a)return"horizontal"}case GV:case XV:var i=K$(a),u=K$(r);if(n)return n;if(i&&!u)return"tick"!==e?"horizontal":"vertical";if(!i&&u)return"tick"!==e?"vertical":"horizontal";if(i&&u){var c=a,s=r,f=c.type===iV,d=s.type===iV;return f&&!d?"tick"!==e?"vertical":"horizontal":!f&&d?"tick"!==e?"horizontal":"vertical":!c.aggregate&&s.aggregate?"tick"!==e?"vertical":"horizontal":c.aggregate&&!s.aggregate&&"tick"!==e?"horizontal":"vertical"}return}return"vertical"}(o.type,t,l),void 0!==l&&l!==o.orient&&CG((a=o.orient,r=l,'Specified orient "'.concat(a,'" overridden with "').concat(r,'".'))),"bar"===o.type&&o.orient){var i=Eq("cornerRadiusEnd",o,n);if(void 0!==i){var u,c=Wc("horizontal"===o.orient&&t.x2||"vertical"===o.orient&&t.y2?["cornerRadius"]:c$[o.orient]);try{for(c.s();!(u=c.n()).done;){o[u.value]=i}}catch(s){c.e(s)}finally{c.f()}void 0!==o.cornerRadiusEnd&&delete o.cornerRadiusEnd}}return void 0===Eq("opacity",o,n)&&(o.opacity=function(e,t){if(LH([VV,XV,JV,ZV],e)&&!VY(t))return.7;return}(o.type,t)),void 0===Eq("cursor",o,n)&&(o.cursor=function(e,t,n){if(t.href||e.href||Eq("href",e,n))return"pointer";return e.cursor}(o,t,n)),o}function G2(e,t,n){if(n.graticule)return!1;var a=Sq("filled",e,t),r=e.type;return pU(a,r!==VV&&r!==GV&&r!==YV)}function V2(e,t){e.config;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),kJ("x",e,{defaultPos:"mid"})),kJ("y",e,{defaultPos:"mid"})),yJ("size",e)),yJ("angle",e)),function(e,t,n){if(n)return{shape:{value:n}};return yJ("shape",e)}(e,0,t))}var $2={vgMark:"rule",encodeEntry:function(e){var t=e.markDef.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),EJ("x",e,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t})),EJ("y",e,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t})),yJ("size",e,{vgChannel:"strokeWidth"})):{}}};var Y2={vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,a=n.orient,r="horizontal"===a?"width":"height",o="horizontal"===a?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),kJ("x",e,{defaultPos:"mid",vgChannel:"xc"})),kJ("y",e,{defaultPos:"mid",vgChannel:"yc"})),yJ("size",e,{defaultValue:Q2(e),vgChannel:r})),pr({},o,kq(Eq("thickness",n,t))))}};function Q2(e){var t,n=e.config,a=e.markDef,r=a.orient,o="horizontal"===r?"width":"height",l=e.getScaleComponent("horizontal"===r?"x":"y"),i=null!==(t=Eq("size",a,n,{vgChannel:o}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==i)return i;var u=l?l.get("range"):void 0;return u&&dq(u)&&ia(u.step)?3*u.step/4:3*QQ(n.view,o)/4}var X2={arc:{vgMark:"arc",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),kJ("x",e,{defaultPos:"mid"})),kJ("y",e,{defaultPos:"mid"})),OJ(e,"radius")),OJ(e,"theta"))}},area:{vgMark:"area",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),EJ("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),EJ("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),TJ(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),OJ(e,"x")),OJ(e,"y"))}},circle:{vgMark:"symbol",encodeEntry:function(e){return V2(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},t&&Y$(t)&&t.type===cV?{field:uY(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),OJ(e,"x")),OJ(e,"y")),dJ(e,"url"))}},line:{vgMark:"line",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),kJ("x",e,{defaultPos:"mid"})),kJ("y",e,{defaultPos:"mid"})),yJ("size",e,{vgChannel:"strokeWidth"})),TJ(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return V2(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),OJ(e,"x")),OJ(e,"y"))}},rule:$2,square:{vgMark:"symbol",encodeEntry:function(e){return V2(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config;e.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NJ(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),kJ("x",e,{defaultPos:"mid"})),kJ("y",e,{defaultPos:"mid"})),dJ(e)),yJ("size",e,{vgChannel:"fontSize"})),yJ("angle",e)),FJ("align",function(e,t,n){if(void 0===Eq("align",e,n))return"center";return}(e.markDef,0,t))),FJ("baseline",function(e,t,n){if(void 0===Eq("baseline",e,n))return"middle";return}(e.markDef,0,t))),kJ("radius",e,{defaultPos:null})),kJ("theta",e,{defaultPos:null}))}},tick:Y2,trail:{vgMark:"trail",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NJ(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),kJ("x",e,{defaultPos:"mid"})),kJ("y",e,{defaultPos:"mid"})),yJ("size",e)),TJ(e))}}};function K2(e){if(LH([GV,UV,KV],e.mark)){var t=JY(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:J2+e.requestDataName(DK.Main),data:e.requestDataName(DK.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:t3(e,{fromPrefix:J2})}]}(e,t)}else if(e.mark===WV){var n=vq.some((function(t){return Eq(t,e.markDef,e.config)}));if(e.stack&&!e.fieldDef("size")&&n)return function(e){var t,n,a,r=E(t3(e,{fromPrefix:Z2}),1)[0],o=e.scaleName(e.stack.fieldChannel),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},i=function(e,t){var n=[l({prefix:"min",suffix:"start",expr:t}),l({prefix:"max",suffix:"start",expr:t}),l({prefix:"min",suffix:"end",expr:t}),l({prefix:"max",suffix:"end",expr:t})];return"".concat(e,"(").concat(n.map((function(e){return"scale('".concat(o,"',").concat(e,")")})).join(","),")")};"x"===e.stack.fieldChannel?(n=Object.assign(Object.assign({},TH(r.encode.update,["y","yc","y2","height"].concat(B(vq)))),{x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}}),a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},r.encode.update=Object.assign(Object.assign({},FH(r.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(n=Object.assign(Object.assign({},TH(r.encode.update,["x","xc","x2","width"])),{y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}}),a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},r.encode.update=Object.assign(Object.assign({},FH(r.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var u,c=Wc(vq);try{for(c.s();!(u=c.n()).done;){var s=u.value,f=Sq(s,e.markDef,e.config);r.encode.update[s]?(n[s]=r.encode.update[s],delete r.encode.update[s]):f&&(n[s]=kq(f)),f&&(r.encode.update[s]={value:0})}}catch(y){c.e(y)}finally{c.f()}var d=[];if((null===(t=e.stack.groupbyChannels)||void 0===t?void 0:t.length)>0){var p,g=Wc(e.stack.groupbyChannels);try{for(g.s();!(p=g.n()).done;){var h=p.value,v=e.fieldDef(h),m=uY(v);m&&d.push(m),((null===v||void 0===v?void 0:v.bin)||(null===v||void 0===v?void 0:v.timeUnit))&&d.push(uY(v,{binSuffix:"end"}))}}catch(y){g.e(y)}finally{g.f()}}n=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(t,n){if(r.encode.update[n])return Object.assign(Object.assign({},t),pr({},n,r.encode.update[n]));var a=Sq(n,e.markDef,e.config);return void 0!==a?Object.assign(Object.assign({},t),pr({},n,kq(a))):t}),n),n.stroke&&(n.strokeForeground={value:!0},n.strokeOffset={value:0});return[{type:"group",from:{facet:{data:e.requestDataName(DK.Main),name:Z2+e.requestDataName(DK.Main),groupby:d,aggregate:{fields:[l({suffix:"start"}),l({suffix:"start"}),l({suffix:"end"}),l({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:n},marks:[{type:"group",encode:{update:a},marks:[r]}]}]}(e)}return t3(e)}var J2="faceted_path_";var Z2="stack_group_";function e3(e){var t,n=e.encoding,a=e.stack,r=e.mark,o=e.markDef,l=e.config,i=n.order;if(!(!pn(i)&&tY(i)&&zH(i.value)||!i&&zH(Eq("order",o,l)))){if((pn(i)||Y$(i))&&!a)return Aq(i,{expr:"datum"});if(t$(r)){var u="horizontal"===o.orient?"y":"x",c=n[u];if(Y$(c)){var s=c.sort;return pn(s)?{field:uY(c,{prefix:u,suffix:"sort_index",expr:"datum"})}:j$(s)?{field:uY({aggregate:VY(e.encoding)?s.op:void 0,field:s.field},{expr:"datum"})}:N$(s)?{field:uY(e.fieldDef(s.encoding),{expr:"datum"}),order:s.order}:null===s?void 0:{field:uY(c,{binSuffix:(null===(t=e.stack)||void 0===t?void 0:t.impute)?"mid":void 0,expr:"datum"})}}}else;}}function t3(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=e.mark,a=e.markDef,r=e.encoding,o=e.config,l=pU(a.clip,n3(e),a3(e)),i=_q(a),u=r.key,c=e3(e),s=r3(e),f=Eq("aria",a,o),d=X2[n].postEncodingTransform?X2[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:X2[n].vgMark},l?{clip:!0}:{}),i?{style:i}:{}),u?{key:u.field}:{}),c?{sort:c}:{}),s||{}),!1===f?{aria:f}:{}),{from:{data:t.fromPrefix+e.requestDataName(DK.Main)},encode:{update:X2[n].encodeEntry(e)}}),d?{transform:d}:{})]}function n3(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!(!(null===t||void 0===t?void 0:t.get("selectionExtent"))&&!(null===n||void 0===n?void 0:n.get("selectionExtent")))||void 0}function a3(e){var t=e.component.projection;return!(!t||t.isFit)||void 0}function r3(e){if(!e.component.selection)return null;for(var t=JH(e.component.selection).length,n=t,a=e.parent;a&&0===n;)n=JH(a.component.selection).length,a=a.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}var o3=function(e){N(n,e);var t=z(n);function n(e,a,r){var o,l,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4?arguments[4]:void 0;O(this,n),(o=t.call(this,e,"unit",a,r,u,void 0,GQ(e)?e.view:void 0)).specifiedScales={},o.specifiedAxes={},o.specifiedLegends={},o.specifiedProjection={},o.selection=[],o.children=[];var c=r$(e.mark)?Object.assign({},e.mark):{type:e.mark},s=c.type;void 0===c.filled&&(c.filled=G2(c,u,{graticule:e.data&&zK(e.data)}));var f=o.encoding=YY(e.encoding||{},s,c.filled,u);return o.markDef=q2(c,f,u),o.size=W2({encoding:f,size:GQ(e)?Object.assign(Object.assign(Object.assign({},i),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):i}),o.stack=CX(s,f),o.specifiedScales=o.initScales(s,f),o.specifiedAxes=o.initAxes(f),o.specifiedLegends=o.initLegends(f),o.specifiedProjection=e.projection,o.selection=(null!==(l=e.params)&&void 0!==l?l:[]).filter((function(e){return IQ(e)})),o}return D(n,[{key:"hasProjection",get:function(){var e=this.encoding,t=this.mark===e$,n=e&&iW.some((function(t){return Z$(e[t])}));return t||n}},{key:"scaleDomain",value:function(e){var t=this.specifiedScales[e];return t?t.domain:void 0}},{key:"axis",value:function(e){return this.specifiedAxes[e]}},{key:"legend",value:function(e){return this.specifiedLegends[e]}},{key:"initScales",value:function(e,t){var n=this;return zW.reduce((function(e,a){var r,o=kY(t[a]);return o&&(e[a]=n.initScale(null!==(r=o.scale)&&void 0!==r?r:{})),e}),{})}},{key:"initScale",value:function(e){var t=e.domain,n=e.range,a=iq(e);return pn(t)&&(a.domain=t.map(bq)),pn(n)&&(a.range=n.map(bq)),a}},{key:"initAxes",value:function(e){var t=this;return OW.reduce((function(n,a){var r=e[a];if(Z$(r)||a===_U&&Z$(e.x2)||a===EU&&Z$(e.y2)){var o=Z$(r)?r.axis:void 0;n[a]=o?t.initAxis(Object.assign({},o)):o}return n}),{})}},{key:"initAxis",value:function(e){var t,n={},a=Wc(JH(e));try{for(a.s();!(t=a.n()).done;){var r=t.value,o=e[r];n[r]=NY(o)?yq(o):bq(o)}}catch(l){a.e(l)}finally{a.f()}return n}},{key:"initLegends",value:function(e){return IW.reduce((function(t,n){var a=kY(e[n]);if(a&&function(e){switch(e){case zU:case LU:case HU:case WU:case UU:case GU:case YU:case QU:return!0;case VU:case $U:case qU:return!1}}(n)){var r=a.legend;t[n]=r?iq(r):r}return t}),{})}},{key:"parseData",value:function(){this.component.data=M2(this)}},{key:"parseLayoutSize",value:function(){!function(e){var t,n=e.size,a=e.component,r=Wc(OW);try{for(r.s();!(t=r.n()).done;){var o=CW(t.value);if(n[o]){var l=n[o];a.layoutSize.set(o,qQ(l)?"step":l,!0)}else{var i=B2(e,o);a.layoutSize.set(o,i,!1)}}}catch(u){r.e(u)}finally{r.f()}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(e,t){var n,a={},r=e.config.selection;if(!t||!t.length)return a;var o,l=Wc(t);try{for(l.s();!(o=l.n()).done;){var i=o.value,u=nU(i.name),c=i.select,s=ca(c)?c:c.type,f=gn(c)?NH(c):{type:s},d=r[s];for(var p in d)"fields"!==p&&"encodings"!==p&&("mark"===p&&(f[p]=Object.assign(Object.assign({},d[p]),f[p])),void 0!==f[p]&&!0!==f[p]||(f[p]=null!==(n=d[p])&&void 0!==n?n:f[p]));var g,h=a[u]=Object.assign(Object.assign({},f),{name:u,type:s,init:i.value,bind:i.bind,events:ca(f.on)?pI(f.on,"scope"):Rn(NH(f.on))}),v=Wc(rZ);try{for(v.s();!(g=v.n()).done;){var m=g.value;m.defined(h)&&m.parse&&m.parse(e,h,i)}}catch(y){v.e(y)}finally{v.f()}}}catch(y){l.e(y)}finally{l.f()}return a}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=K2(this)}},{key:"parseAxesAndHeaders",value:function(){var e;this.component.axes=(e=this,OW.reduce((function(t,n){return e.component.scales[n]&&(t[n]=[U2(n,e)]),t}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(e){return function(e,t){var n,a,r=!1,o=Wc(ZH(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{var l=function(){var n=a.value,o=n.name,l=ma(o+eZ),i=t.filter((function(e){return e.name===o}));if(0===i.length){var u="global"===n.resolve?"union":n.resolve,c="point"===n.type?", true, true)":")";t.push({name:n.name,update:"".concat(aZ,"(").concat(l,", ").concat(ma(u)).concat(c)})}r=!0;var s,f=Wc(rZ);try{for(f.s();!(s=f.n()).done;){var d=s.value;d.defined(n)&&d.topLevelSignals&&(t=d.topLevelSignals(e,n,t))}}catch(p){f.e(p)}finally{f.f()}};for(o.s();!(a=o.n()).done;)l()}catch(u){o.e(u)}finally{o.f()}if(r){var i=t.filter((function(e){return"unit"===e.name}));0===i.length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return WK(t)}(this,e)}},{key:"assembleSignals",value:function(){return[].concat(B(wZ(this)),B(function(e,t){var n,a,r=Wc(ZH(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{for(r.s();!(a=r.n()).done;){var o,l=a.value,i=l.name,u="".concat(i).concat(tZ,", ").concat("global"===l.resolve?"true":"{unit: ".concat(lZ(e),"}")),c=Wc(rZ);try{for(c.s();!(o=c.n()).done;){var s=o.value;s.defined(l)&&(s.signals&&(t=s.signals(e,l,t)),s.modifyExpr&&(u=s.modifyExpr(e,l,u)))}}catch(f){c.e(f)}finally{c.f()}t.push({name:i+nZ,on:[{events:{signal:l.name+tZ},update:"modify(".concat(ma(l.name+eZ),", ").concat(u,")")}]})}}catch(f){r.e(f)}finally{r.f()}return WK(t)}(this,[])))}},{key:"assembleSelectionData",value:function(e){return function(e,t){var n,a,r=B(t),o=lZ(e,{escape:!1}),l=Wc(ZH(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{var i=function(){var e=a.value,t={name:e.name+eZ};if(e.project.hasSelectionId&&(t.transform=[{type:"collect",sort:{field:NQ}}]),e.init){var n=e.project.items.map((function(e){return e.signals,LK(e,["signals"])}));t.values=e.project.hasSelectionId?e.init.map((function(e){return pr({unit:o},NQ,HK(e,!1)[0])})):e.init.map((function(e){return{unit:o,fields:n,values:HK(e,!1)}}))}r.filter((function(t){return t.name===e.name+eZ})).length||r.push(t)};for(l.s();!(a=l.n()).done;)i()}catch(u){l.e(u)}finally{l.f()}return r}(this,e)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return VZ(this)}},{key:"assembleMarks",value:function(){var e,t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&e2(this.parent)||(t=UK(this,t)),t.map(this.correctDataNames)}},{key:"assembleGroupStyle",value:function(){var e=(this.view||{}).style;return void 0!==e?e:this.encoding.x||this.encoding.y?"cell":void 0}},{key:"getMapping",value:function(){return this.encoding}},{key:"mark",get:function(){return this.markDef.type}},{key:"channelHasField",value:function(e){return WY(this.encoding,e)}},{key:"fieldDef",value:function(e){return wY(this.encoding[e])}},{key:"typedFieldDef",value:function(e){var t=this.fieldDef(e);return eY(t)?t:null}}]),n}(n2),l3=function(e){N(n,e);var t=z(n);function n(e,a,r,o,l){var i;O(this,n),i=t.call(this,e,"layer",a,r,l,e.resolve,e.view);var u=Object.assign(Object.assign(Object.assign({},o),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});return i.children=e.layer.map((function(e,t){if(gX(e))return new n(e,I(i),i.getName("layer_".concat(t)),u,l);if(LY(e))return new o3(e,I(i),i.getName("layer_".concat(t)),u,l);throw new Error(jq(e))})),i}return D(n,[{key:"parseData",value:function(){this.component.data=M2(this);var e,t=Wc(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseLayoutSize",value:function(){var e;E2(e=this),S2(e,"width"),S2(e,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=Wc(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var a,r=Wc(JH(n.component.selection));try{for(r.s();!(a=r.n()).done;){var o=a.value;this.component.selection[o]=n.component.selection[o]}}catch(l){r.e(l)}finally{r.f()}}}catch(l){t.e(l)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=Wc(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){!function(e){var t,n,a=e.component,r=a.axes,o=a.resolve,l={top:0,bottom:0,right:0,left:0},i=Wc(e.children);try{for(i.s();!(n=i.n()).done;){var u=n.value;u.parseAxesAndHeaders();var c,s=Wc(JH(u.component.axes));try{for(s.s();!(c=s.n()).done;){var f=c.value;o.axis[f]=ZZ(e.component.resolve,f),"shared"===o.axis[f]&&(r[f]=R2(r[f],u.component.axes[f]),r[f]||(o.axis[f]="independent",delete r[f]))}}catch(B){s.e(B)}finally{s.f()}}}catch(B){i.e(B)}finally{i.f()}var d,p=Wc(OW);try{for(p.s();!(d=p.n()).done;){var g,h=d.value,v=Wc(e.children);try{for(v.s();!(g=v.n()).done;){var m=g.value;if(m.component.axes[h]){if("independent"===o.axis[h]){r[h]=(null!==(t=r[h])&&void 0!==t?t:[]).concat(m.component.axes[h]);var y,b=Wc(m.component.axes[h]);try{for(b.s();!(y=b.n()).done;){var w=y.value,k=w.getWithExplicit("orient"),C=k.value,x=k.explicit;if(!fq(C)){if(l[C]>0&&!x){var P=I2[C];l[C]>l[P]&&w.set("orient",P,!1)}l[C]++}}}catch(B){b.e(B)}finally{b.f()}}delete m.component.axes[h]}}}catch(B){v.e(B)}finally{v.f()}if("independent"===o.axis[h]&&r[h]&&r[h].length>1){var _,E=Wc(r[h]);try{for(E.s();!(_=E.n()).done;){var S=_.value;S.get("grid")&&!S.explicit.grid&&(S.implicit.grid=!1)}}catch(B){E.e(B)}finally{E.f()}}}}catch(B){p.e(B)}finally{p.f()}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleSignals())}),wZ(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLayoutSignals())}),VZ(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleGroupStyle",value:function(){var e,t=new Set,n=Wc(this.children);try{for(n.s();!(e=n.n()).done;){var a,r=Wc(Rn(e.value.assembleGroupStyle()));try{for(r.s();!(a=r.n()).done;){var o=a.value;t.add(o)}}catch(i){r.e(i)}finally{r.f()}}}catch(i){n.e(i)}finally{n.f()}var l=Array.from(t);return l.length>1?l:1===l.length?l[0]:void 0}},{key:"assembleTitle",value:function(){var e=Vh(j(n.prototype),"assembleTitle",this).call(this);if(e)return e;var t,a=Wc(this.children);try{for(a.s();!(t=a.n()).done;){if(e=t.value.assembleTitle())return e}}catch(r){a.e(r)}finally{a.f()}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(e,t){var n,a=Wc(e.children);try{for(a.s();!(n=a.n()).done;){var r=n.value;K1(r)&&(t=UK(r,t))}}catch(o){a.e(o)}finally{a.f()}return t}(this,this.children.flatMap((function(e){return e.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLegends())}),m0(this))}}]),n}(t2);function i3(e,t,n,a,r){if(R$(e))return new A2(e,t,n,r);if(gX(e))return new l3(e,t,n,a,r);if(LY(e))return new o3(e,t,n,a,r);if(function(e){return HQ(e)||UQ(e)||LQ(e)}(e))return new N2(e,t,n,r);throw new Error(jq(e))}var u3=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function c3(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger&&wG(t.logger),t.fieldTitle&&pY(t.fieldTitle);try{var n=uX(vn(t.config,e.config)),a=yK(e,n),r=i3(a,null,"",void 0,n);r.parse(),p1(r.component.data,r);var o=f3(r,s3(e,a.autosize,n,r),e.datasets,e.usermeta);return{spec:o,normalized:a}}finally{t.logger&&kG(),t.fieldTitle&&gY()}}function s3(e,t,n,a){var r,o=a.component.layoutSize.get("width"),l=a.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},a.hasAxisOrientSignalRef()&&(t.resize=!0)):ca(t)&&(t={type:t}),o&&l&&("fit"===(r=t.type)||"fit-x"===r||"fit-y"===r))if("step"===o&&"step"===l)CG(Rq()),t.type="pad";else if("step"===o||"step"===l){var i="step"===o?"width":"height";CG(Rq(NW(i)));var u="width"===i?"height":"width";t.type=function(e){return e?"fit-".concat(NW(e)):"fit"}(u)}return Object.assign(Object.assign(Object.assign({},1===JH(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),PK(n,!1)),PK(e,!0))}function f3(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,r=e.config?dX(e.config):void 0,o=[].concat(e.assembleSelectionData([]),k2(e.component.data,n)),l=e.assembleProjections(),i=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0),s=e.assembleLayoutSignals();s=s.filter((function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)}));var f=t.params,d=u3(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),d),i?{title:i}:{}),u?{style:u}:{}),c?{encode:{update:c}}:{}),{data:o}),l.length>0?{projections:l}:{}),e.assembleGroup([].concat(B(s),B(e.assembleSelectionTopLevelSignals([])),B(zQ(f))))),r?{config:r}:{}),a?{usermeta:a}:{})}var d3="5.5.0";var p3=function(e){var t=E(/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3),2);return{library:t[0],version:t[1]}},g3="2.10.0",h3="#fff",v3={background:"#333",title:{color:h3,subtitleColor:h3},style:{"guide-label":{fill:h3},"guide-title":{fill:h3}},axis:{domainColor:h3,gridColor:"#888",tickColor:h3}},m3="#4572a7",y3={background:"#fff",arc:{fill:m3},area:{fill:m3},line:{stroke:m3,strokeWidth:2},path:{stroke:m3},rect:{fill:m3},shape:{stroke:m3},symbol:{fill:m3,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},b3="#30a2da",w3="#cbcbcb",k3="#f0f0f0",C3="#333",x3={arc:{fill:b3},area:{fill:b3},axis:{domainColor:w3,grid:!0,gridColor:w3,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:w3,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:k3,group:{fill:k3},legend:{labelColor:C3,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:C3,titleFontSize:14,titlePadding:10},line:{stroke:b3,strokeWidth:2},path:{stroke:b3,strokeWidth:.5},rect:{fill:b3},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:b3},bar:{binSpacing:2,fill:b3,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},P3="#000",_3={group:{fill:"#e5e5e5"},arc:{fill:P3},area:{fill:P3},line:{stroke:P3},path:{stroke:P3},rect:{fill:P3},shape:{stroke:P3},symbol:{fill:P3,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},E3="Benton Gothic, sans-serif",S3="#82c6df",B3="Benton Gothic Bold, sans-serif",O3="normal",A3={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},D3={background:"#ffffff",title:{anchor:"start",color:"#000000",font:B3,fontSize:22,fontWeight:"normal"},arc:{fill:S3},area:{fill:S3},line:{stroke:S3,strokeWidth:2},path:{stroke:S3},rect:{fill:S3},shape:{stroke:S3},symbol:{fill:S3,size:30},axis:{labelFont:E3,labelFontSize:11.5,labelFontWeight:"normal",titleFont:B3,titleFontSize:13,titleFontWeight:O3},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:E3,labelFontSize:11.5,symbolType:"square",titleFont:B3,titleFontSize:13,titleFontWeight:O3},range:{category:A3["category-6"],diverging:A3["fireandice-6"],heatmap:A3["fire-7"],ordinal:A3["fire-7"],ramp:A3["fire-7"]}},M3="#ab5787",N3="#979797",j3={background:"#f9f9f9",arc:{fill:M3},area:{fill:M3},line:{stroke:M3},path:{stroke:M3},rect:{fill:M3},shape:{stroke:M3},symbol:{fill:M3,size:30},axis:{domainColor:N3,domainWidth:.5,gridWidth:.2,labelColor:N3,tickColor:N3,tickWidth:.2,titleColor:N3},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},T3="#3e5c69",F3={background:"#fff",arc:{fill:T3},area:{fill:T3},line:{stroke:T3},path:{stroke:T3},rect:{fill:T3},shape:{stroke:T3},symbol:{fill:T3},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},I3="#1696d2",R3="#000000",z3="Lato",L3="Lato",H3={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},U3={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:z3},axisX:{domain:!0,domainColor:R3,domainWidth:1,grid:!1,labelFontSize:12,labelFont:L3,labelAngle:0,tickColor:R3,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:z3},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:L3,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:z3,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:L3,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:z3,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:H3["six-groups-cat-1"],diverging:H3["diverging-colors"],heatmap:H3["diverging-colors"],ordinal:H3["six-groups-seq"],ramp:H3["shades-blue"]},area:{fill:I3},rect:{fill:I3},line:{color:I3,stroke:I3,strokeWidth:5},trail:{color:I3,stroke:I3,strokeWidth:0,size:1},path:{stroke:I3,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:I3,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:I3,stroke:null}},arc:{fill:I3},shape:{stroke:I3},symbol:{fill:I3,size:30}},W3="#3366CC",q3="#ccc",G3="Arial, sans-serif",V3={arc:{fill:W3},area:{fill:W3},path:{stroke:W3},rect:{fill:W3},shape:{stroke:W3},symbol:{stroke:W3},circle:{fill:W3},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:G3,fontSize:12},"guide-title":{font:G3,fontSize:12},"group-title":{font:G3,fontSize:12}},title:{font:G3,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:q3,tickColor:q3,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},$3=function(e){return e*(1/3+1)},Y3=$3(9),Q3=$3(10),X3=$3(12),K3="Segoe UI",J3="wf_standard-font, helvetica, arial, sans-serif",Z3="#252423",e4="#605E5C",t4="transparent",n4="#118DFF",a4="#DEEFFF",r4=[a4,n4],o4={view:{stroke:t4},background:t4,font:K3,header:{titleFont:J3,titleFontSize:X3,titleColor:Z3,labelFont:K3,labelFontSize:Q3,labelColor:e4},axis:{ticks:!1,grid:!1,domain:!1,labelColor:e4,labelFontSize:Y3,titleFont:J3,titleColor:Z3,titleFontSize:X3,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:"#C8C6C4",gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:n4},line:{stroke:n4,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:K3,fontSize:Y3,fill:e4},arc:{fill:n4},area:{fill:n4,line:!0,opacity:.6},path:{stroke:n4},rect:{fill:n4},point:{fill:n4,filled:!0,size:75},shape:{stroke:n4},symbol:{fill:n4,strokeWidth:1.5,size:50},legend:{titleFont:K3,titleFontWeight:"bold",titleColor:e4,labelFont:K3,labelFontSize:Q3,labelColor:e4,symbolType:"circle",symbolSize:75},range:{category:[n4,"#12239E","#E66C37","#6B007B","#E044A7","#744EC2","#D9B300","#D64550"],diverging:r4,heatmap:r4,ordinal:[a4,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",n4]}},l4=g3;function i4(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,a){if("object"!==typeof a||null===a)return a;var r=t.indexOf(this)+1;return t.length=r,t.length>e?"[Object]":t.indexOf(a)>=0?"[Circular]":(t.push(a),a)}}(t))}var u4="vg-tooltip-element",c4={offsetX:10,offsetY:10,id:u4,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function(e,t,n){if(pn(e))return"[".concat(e.map((function(e){return t(ca(e)?e:i4(e,n))})).join(", "),"]");if(gn(e)){var a="",r=e,o=r.title,l=r.image,i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(r,["title","image"]);o&&(a+="<h2>".concat(t(o),"</h2>")),l&&(a+='<img src="'.concat(t(l),'">'));var u=Object.keys(i);if(u.length>0){a+="<table>";var c,s=Wc(u);try{for(s.s();!(c=s.n()).done;){var f=c.value,d=i[f];void 0!==d&&(gn(d)&&(d=i4(d,n)),a+='<tr><td class="key">'.concat(t(f),':</td><td class="value">').concat(t(d),"</td></tr>"))}}catch(p){s.e(p)}finally{s.f()}a+="</table>"}return a||"{}"}return t(e)}};var s4=function(){function e(t){O(this,e),this.options=Object.assign(Object.assign({},c4),t);var n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var a=document.createElement("style");a.setAttribute("id",this.options.styleId),a.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace(u4,e)}(n);var r=document.head;r.childNodes.length>0?r.insertBefore(a,r.childNodes[0]):r.appendChild(a)}}return D(e,[{key:"tooltipHandler",value:function(e,t,n,a){var r;(this.el=document.getElementById(this.options.id),this.el)||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(r=document.fullscreenElement)&&void 0!==r?r:document.body).appendChild(this.el));if(null!=a&&""!==a){this.el.innerHTML=this.options.formatTooltip(a,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var o=function(e,t,n,a){var r=e.clientX+n;r+t.width>window.innerWidth&&(r=+e.clientX-n-t.width);var o=e.clientY+a;return o+t.height>window.innerHeight&&(o=+e.clientY-a-t.height),{x:r,y:o}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),l=o.x,i=o.y;this.el.setAttribute("style","top: ".concat(i,"px; left: ").concat(l,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),e}();function f4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d4(e,t,n,a,r,o,l){try{var i=e[o](l),u=i.value}catch(Xt){return void n(Xt)}i.done?t(u):Promise.resolve(u).then(a,r)}function p4(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){d4(o,a,r,l,i,"next",e)}function i(e){d4(o,a,r,l,i,"throw",e)}l(void 0)}))}}var g4,h4=Object.prototype,v4=h4.hasOwnProperty,m4="function"===typeof Symbol?Symbol:{},y4=m4.iterator||"@@iterator",b4=m4.asyncIterator||"@@asyncIterator",w4=m4.toStringTag||"@@toStringTag";function k4(e,t,n,a){var r=t&&t.prototype instanceof B4?t:B4,o=Object.create(r.prototype),l=new H4(a||[]);return o._invoke=function(e,t,n){var a=x4;return function(r,o){if(a===_4)throw new Error("Generator is already running");if(a===E4){if("throw"===r)throw o;return W4()}for(n.method=r,n.arg=o;;){var l=n.delegate;if(l){var i=R4(l,n);if(i){if(i===S4)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===x4)throw a=E4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=_4;var u=C4(e,t,n);if("normal"===u.type){if(a=n.done?E4:P4,u.arg===S4)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=E4,n.method="throw",n.arg=u.arg)}}}(e,n,l),o}function C4(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(a){return{type:"throw",arg:a}}}var x4="suspendedStart",P4="suspendedYield",_4="executing",E4="completed",S4={};function B4(){}function O4(){}function A4(){}var D4={};D4[y4]=function(){return this};var M4=Object.getPrototypeOf,N4=M4&&M4(M4(U4([])));N4&&N4!==h4&&v4.call(N4,y4)&&(D4=N4);var j4=A4.prototype=B4.prototype=Object.create(D4);function T4(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function F4(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===O4||"GeneratorFunction"===(t.displayName||t.name))}function I4(e,t){function n(a,r,o,l){var i=C4(e[a],e,r);if("throw"!==i.type){var u=i.arg,c=u.value;return c&&"object"===typeof c&&v4.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(i.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function R4(e,t){var n=e.iterator[t.method];if(n===g4){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g4,R4(e,t),"throw"===t.method))return S4;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S4}var a=C4(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,S4;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g4),t.delegate=null,S4):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S4)}function z4(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L4(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function H4(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z4,this),this.reset(!0)}function U4(e){if(e){var t=e[y4];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(v4.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g4,t.done=!0,t};return a.next=a}}return{next:W4}}function W4(){return{value:g4,done:!0}}O4.prototype=j4.constructor=A4,A4.constructor=O4,A4[w4]=O4.displayName="GeneratorFunction",T4(I4.prototype),I4.prototype[b4]=function(){return this},T4(j4),j4[w4]="Generator",j4[y4]=function(){return this},j4.toString=function(){return"[object Generator]"},H4.prototype={constructor:H4,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g4,this.done=!1,this.delegate=null,this.method="next",this.arg=g4,this.tryEntries.forEach(L4),!e)for(var t in this)"t"===t.charAt(0)&&v4.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g4)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,a){return o.type="throw",o.arg=e,t.next=n,a&&(t.method="next",t.arg=g4),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var l=v4.call(r,"catchLoc"),i=v4.call(r,"finallyLoc");if(l&&i){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&v4.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,S4):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S4},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L4(n),S4}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;L4(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:U4(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g4),S4}};var q4={wrap:k4,isGeneratorFunction:F4,AsyncIterator:I4,mark:function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A4):(e.__proto__=A4,w4 in e||(e[w4]="GeneratorFunction")),e.prototype=Object.create(j4),e},awrap:function(e){return{__await:e}},async:function(e,t,n,a,r){void 0===r&&(r=Promise);var o=new I4(k4(e,t,n,a),r);return F4(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},keys:function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},values:U4},G4=V4;function V4(e){var t=this;if(t instanceof V4||(t=new V4),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,a=arguments.length;n<a;n++)t.push(arguments[n]);return t}function $4(e,t,n){var a=t===e.head?new X4(n,null,t,e):new X4(n,t,t.next,e);return null===a.next&&(e.tail=a),null===a.prev&&(e.head=a),e.length++,a}function Y4(e,t){e.tail=new X4(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Q4(e,t){e.head=new X4(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function X4(e,t,n,a){if(!(this instanceof X4))return new X4(e,t,n,a);this.list=a,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}V4.Node=X4,V4.create=V4,V4.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},V4.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},V4.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},V4.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Y4(this,arguments[e]);return this.length},V4.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Q4(this,arguments[e]);return this.length},V4.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},V4.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},V4.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,a=0;null!==n;a++)e.call(t,n.value,a,this),n=n.next},V4.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,a=this.length-1;null!==n;a--)e.call(t,n.value,a,this),n=n.prev},V4.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},V4.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},V4.prototype.map=function(e,t){t=t||this;for(var n=new V4,a=this.head;null!==a;)n.push(e.call(t,a.value,this)),a=a.next;return n},V4.prototype.mapReverse=function(e,t){t=t||this;for(var n=new V4,a=this.tail;null!==a;)n.push(e.call(t,a.value,this)),a=a.prev;return n},V4.prototype.reduce=function(e,t){var n,a=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");a=this.head.next,n=this.head.value}for(var r=0;null!==a;r++)n=e(n,a.value,r),a=a.next;return n},V4.prototype.reduceReverse=function(e,t){var n,a=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");a=this.tail.prev,n=this.tail.value}for(var r=this.length-1;null!==a;r--)n=e(n,a.value,r),a=a.prev;return n},V4.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},V4.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},V4.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new V4;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=0,r=this.head;null!==r&&a<e;a++)r=r.next;for(;null!==r&&a<t;a++,r=r.next)n.push(r.value);return n},V4.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new V4;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=this.length,r=this.tail;null!==r&&a>t;a--)r=r.prev;for(;null!==r&&a>e;a--,r=r.prev)n.push(r.value);return n},V4.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;var r=[];for(n=0;a&&n<t;n++)r.push(a.value),a=this.removeNode(a);null===a&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)a=$4(this,a,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return r},V4.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var a=n.prev;n.prev=n.next,n.next=a}return this.head=t,this.tail=e,this};try{V4.prototype[Symbol.iterator]=q4.mark((function e(){var t;return q4.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}catch(T6){}var K4=G4,J4=Symbol("max"),Z4=Symbol("length"),e5=Symbol("lengthCalculator"),t5=Symbol("allowStale"),n5=Symbol("maxAge"),a5=Symbol("dispose"),r5=Symbol("noDisposeOnSet"),o5=Symbol("lruList"),l5=Symbol("cache"),i5=Symbol("updateAgeOnGet"),u5=function(){return 1},c5=function(){function e(t){if(O(this,e),"number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[J4]=t.max||1/0;var n=t.length||u5;if(this[e5]="function"!==typeof n?u5:n,this[t5]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[n5]=t.maxAge||0,this[a5]=t.dispose,this[r5]=t.noDisposeOnSet||!1,this[i5]=t.updateAgeOnGet||!1,this.reset()}return D(e,[{key:"max",get:function(){return this[J4]},set:function(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[J4]=e||1/0,d5(this)}},{key:"allowStale",get:function(){return this[t5]},set:function(e){this[t5]=!!e}},{key:"maxAge",get:function(){return this[n5]},set:function(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[n5]=e,d5(this)}},{key:"lengthCalculator",get:function(){return this[e5]},set:function(e){var t=this;"function"!==typeof e&&(e=u5),e!==this[e5]&&(this[e5]=e,this[Z4]=0,this[o5].forEach((function(e){e.length=t[e5](e.value,e.key),t[Z4]+=e.length}))),d5(this)}},{key:"length",get:function(){return this[Z4]}},{key:"itemCount",get:function(){return this[o5].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var n=this[o5].tail;null!==n;){var a=n.prev;h5(this,e,n,t),n=a}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=this[o5].head;null!==n;){var a=n.next;h5(this,e,n,t),n=a}}},{key:"keys",value:function(){return this[o5].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[o5].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[a5]&&this[o5]&&this[o5].length&&this[o5].forEach((function(t){return e[a5](t.key,t.value)})),this[l5]=new Map,this[o5]=new K4,this[Z4]=0}},{key:"dump",value:function(){var e=this;return this[o5].map((function(t){return!f5(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[o5]}},{key:"set",value:function(e,t,n){if((n=n||this[n5])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");var a=n?Date.now():0,r=this[e5](t,e);if(this[l5].has(e)){if(r>this[J4])return p5(this,this[l5].get(e)),!1;var o=this[l5].get(e).value;return this[a5]&&(this[r5]||this[a5](e,o.value)),o.now=a,o.maxAge=n,o.value=t,this[Z4]+=r-o.length,o.length=r,this.get(e),d5(this),!0}var l=new g5(e,t,r,a,n);return l.length>this[J4]?(this[a5]&&this[a5](e,t),!1):(this[Z4]+=l.length,this[o5].unshift(l),this[l5].set(e,this[o5].head),d5(this),!0)}},{key:"has",value:function(e){if(!this[l5].has(e))return!1;var t=this[l5].get(e).value;return!f5(this,t)}},{key:"get",value:function(e){return s5(this,e,!0)}},{key:"peek",value:function(e){return s5(this,e,!1)}},{key:"pop",value:function(){var e=this[o5].tail;return e?(p5(this,e),e.value):null}},{key:"del",value:function(e){p5(this,this[l5].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var a=e[n],r=a.e||0;if(0===r)this.set(a.k,a.v);else{var o=r-t;o>0&&this.set(a.k,a.v,o)}}}},{key:"prune",value:function(){var e=this;this[l5].forEach((function(t,n){return s5(e,n,!1)}))}}]),e}(),s5=function(e,t,n){var a=e[l5].get(t);if(a){var r=a.value;if(f5(e,r)){if(p5(e,a),!e[t5])return}else n&&(e[i5]&&(a.value.now=Date.now()),e[o5].unshiftNode(a));return r.value}},f5=function(e,t){if(!t||!t.maxAge&&!e[n5])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[n5]&&n>e[n5]},d5=function(e){if(e[Z4]>e[J4])for(var t=e[o5].tail;e[Z4]>e[J4]&&null!==t;){var n=t.prev;p5(e,t),t=n}},p5=function(e,t){if(t){var n=t.value;e[a5]&&e[a5](n.key,n.value),e[Z4]-=n.length,e[l5].delete(n.key),e[o5].removeNode(t)}},g5=D((function e(t,n,a,r,o){O(this,e),this.key=t,this.value=n,this.length=a,this.now=r,this.maxAge=o||0})),h5=function(e,t,n,a){var r=n.value;f5(e,r)&&(p5(e,n),e[t5]||(r=void 0)),r&&t.call(a,r.value,r.key,e)},v5=c5,m5=["includePrerelease","loose","rtl"],y5=function(e){return e?"object"!==typeof e?{loose:!0}:m5.filter((function(t){return e[t]})).reduce((function(e,t){return e[t]=!0,e}),{}):{}},b5={exports:{}},w5={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},k5="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){},C5=k5;!function(e,t){var n=w5.MAX_SAFE_COMPONENT_LENGTH,a=C5,r=(t=e.exports={}).re=[],o=t.src=[],l=t.t={},i=0,u=function(e,t,n){var u=i++;a(e,u,t),l[e]=u,o[u]=t,r[u]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION","(".concat(o[l.NUMERICIDENTIFIER],")\\.")+"(".concat(o[l.NUMERICIDENTIFIER],")\\.")+"(".concat(o[l.NUMERICIDENTIFIER],")")),u("MAINVERSIONLOOSE","(".concat(o[l.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(o[l.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(o[l.NUMERICIDENTIFIERLOOSE],")")),u("PRERELEASEIDENTIFIER","(?:".concat(o[l.NUMERICIDENTIFIER],"|").concat(o[l.NONNUMERICIDENTIFIER],")")),u("PRERELEASEIDENTIFIERLOOSE","(?:".concat(o[l.NUMERICIDENTIFIERLOOSE],"|").concat(o[l.NONNUMERICIDENTIFIER],")")),u("PRERELEASE","(?:-(".concat(o[l.PRERELEASEIDENTIFIER],"(?:\\.").concat(o[l.PRERELEASEIDENTIFIER],")*))")),u("PRERELEASELOOSE","(?:-?(".concat(o[l.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(o[l.PRERELEASEIDENTIFIERLOOSE],")*))")),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD","(?:\\+(".concat(o[l.BUILDIDENTIFIER],"(?:\\.").concat(o[l.BUILDIDENTIFIER],")*))")),u("FULLPLAIN","v?".concat(o[l.MAINVERSION]).concat(o[l.PRERELEASE],"?").concat(o[l.BUILD],"?")),u("FULL","^".concat(o[l.FULLPLAIN],"$")),u("LOOSEPLAIN","[v=\\s]*".concat(o[l.MAINVERSIONLOOSE]).concat(o[l.PRERELEASELOOSE],"?").concat(o[l.BUILD],"?")),u("LOOSE","^".concat(o[l.LOOSEPLAIN],"$")),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE","".concat(o[l.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),u("XRANGEIDENTIFIER","".concat(o[l.NUMERICIDENTIFIER],"|x|X|\\*")),u("XRANGEPLAIN","[v=\\s]*(".concat(o[l.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(o[l.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(o[l.XRANGEIDENTIFIER],")")+"(?:".concat(o[l.PRERELEASE],")?").concat(o[l.BUILD],"?")+")?)?"),u("XRANGEPLAINLOOSE","[v=\\s]*(".concat(o[l.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(o[l.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(o[l.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(o[l.PRERELEASELOOSE],")?").concat(o[l.BUILD],"?")+")?)?"),u("XRANGE","^".concat(o[l.GTLT],"\\s*").concat(o[l.XRANGEPLAIN],"$")),u("XRANGELOOSE","^".concat(o[l.GTLT],"\\s*").concat(o[l.XRANGEPLAINLOOSE],"$")),u("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),u("COERCERTL",o[l.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM","(\\s*)".concat(o[l.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",u("TILDE","^".concat(o[l.LONETILDE]).concat(o[l.XRANGEPLAIN],"$")),u("TILDELOOSE","^".concat(o[l.LONETILDE]).concat(o[l.XRANGEPLAINLOOSE],"$")),u("LONECARET","(?:\\^)"),u("CARETTRIM","(\\s*)".concat(o[l.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",u("CARET","^".concat(o[l.LONECARET]).concat(o[l.XRANGEPLAIN],"$")),u("CARETLOOSE","^".concat(o[l.LONECARET]).concat(o[l.XRANGEPLAINLOOSE],"$")),u("COMPARATORLOOSE","^".concat(o[l.GTLT],"\\s*(").concat(o[l.LOOSEPLAIN],")$|^$")),u("COMPARATOR","^".concat(o[l.GTLT],"\\s*(").concat(o[l.FULLPLAIN],")$|^$")),u("COMPARATORTRIM","(\\s*)".concat(o[l.GTLT],"\\s*(").concat(o[l.LOOSEPLAIN],"|").concat(o[l.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE","^\\s*(".concat(o[l.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(o[l.XRANGEPLAIN],")")+"\\s*$"),u("HYPHENRANGELOOSE","^\\s*(".concat(o[l.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(o[l.XRANGEPLAINLOOSE],")")+"\\s*$"),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(b5,b5.exports);var x5,P5,_5,E5,S5=/^[0-9]+$/,B5=function(e,t){var n=S5.test(e),a=S5.test(t);return n&&a&&(e=+e,t=+t),e===t?0:n&&!a?-1:a&&!n?1:e<t?-1:1},O5=B5,A5=C5,D5=w5.MAX_LENGTH,M5=w5.MAX_SAFE_INTEGER,N5=b5.exports.re,j5=b5.exports.t,T5=y5,F5=O5,I5=function(){function e(t,n){if(O(this,e),n=T5(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError("Invalid Version: ".concat(t));if(t.length>D5)throw new TypeError("version is longer than ".concat(D5," characters"));A5("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var a=t.trim().match(n.loose?N5[j5.LOOSE]:N5[j5.FULL]);if(!a)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>M5||this.major<0)throw new TypeError("Invalid major version");if(this.minor>M5||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>M5||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<M5)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}return D(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(A5("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"===typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),F5(this.major,t.major)||F5(this.minor,t.minor)||F5(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var a=this.prerelease[n],r=t.prerelease[n];if(A5("prerelease compare",n,a,r),void 0===a&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===a)return-1;if(a!==r)return F5(a,r)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var a=this.build[n],r=t.build[n];if(A5("prerelease compare",n,a,r),void 0===a&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===a)return-1;if(a!==r)return F5(a,r)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(0===F5(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}(),R5=I5,z5=R5,L5=function(e,t,n){return new z5(e,n).compare(new z5(t,n))},H5=L5,U5=function(e,t,n){return 0===H5(e,t,n)},W5=L5,q5=function(e,t,n){return 0!==W5(e,t,n)},G5=L5,V5=function(e,t,n){return G5(e,t,n)>0},$5=L5,Y5=function(e,t,n){return $5(e,t,n)>=0},Q5=L5,X5=function(e,t,n){return Q5(e,t,n)<0},K5=L5,J5=function(e,t,n){return K5(e,t,n)<=0},Z5=U5,e9=q5,t9=V5,n9=Y5,a9=X5,r9=J5,o9=function(e,t,n,a){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Z5(e,n,a);case"!=":return e9(e,n,a);case">":return t9(e,n,a);case">=":return n9(e,n,a);case"<":return a9(e,n,a);case"<=":return r9(e,n,a);default:throw new TypeError("Invalid operator: ".concat(t))}};function l9(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return i9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i9(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}function i9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u9(){if(E5)return _5;E5=1;var e=function(){function e(t,r){var o=this;if(O(this,e),r=n(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof a)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t,this.set=t.split("||").map((function(e){return o.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(t));if(this.set.length>1){var l=this.set[0];if(this.set=this.set.filter((function(e){return!f(e[0])})),0===this.set.length)this.set=[l];else if(this.set.length>1){var i,u=l9(this.set);try{for(u.s();!(i=u.n()).done;){var c=i.value;if(1===c.length&&d(c[0])){this.set=[c];break}}}catch(s){u.e(s)}finally{u.f()}}}this.format()}return D(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var n=this;e=e.trim();var o=Object.keys(this.options).join(","),d="parseRange:".concat(o,":").concat(e),p=t.get(d);if(p)return p;var h=this.options.loose,v=h?l[i.HYPHENRANGELOOSE]:l[i.HYPHENRANGE];e=e.replace(v,P(this.options.includePrerelease)),r("hyphen replace",e),e=e.replace(l[i.COMPARATORTRIM],u),r("comparator trim",e);var m=(e=(e=(e=e.replace(l[i.TILDETRIM],c)).replace(l[i.CARETTRIM],s)).split(/\s+/).join(" ")).split(" ").map((function(e){return g(e,n.options)})).join(" ").split(/\s+/).map((function(e){return x(e,n.options)}));h&&(m=m.filter((function(e){return r("loose invalid filter",e,n.options),!!e.match(l[i.COMPARATORLOOSE])}))),r("range list",m);var y,b=new Map,w=m.map((function(e){return new a(e,n.options)})),k=l9(w);try{for(k.s();!(y=k.n()).done;){var C=y.value;if(f(C))return[C];b.set(C.value,C)}}catch(E){k.e(E)}finally{k.f()}b.size>1&&b.has("")&&b.delete("");var _=B(b.values());return t.set(d,_),_}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return p(e,n)&&t.set.some((function(t){return p(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"===typeof e)try{e=new o(e,this.options)}catch(T6){return!1}for(var t=0;t<this.set.length;t++)if(_(this.set[t],e,this.options))return!0;return!1}}]),e}();_5=e;var t=new v5({max:1e3}),n=y5,a=function(){if(P5)return x5;P5=1;var e=Symbol("SemVer ANY"),t=function(){function t(a,r){if(O(this,t),r=n(r),a instanceof t){if(a.loose===!!r.loose)return a;a=a.value}l("comparator",a,r),this.options=r,this.loose=!!r.loose,this.parse(a),this.semver===e?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}return D(t,[{key:"parse",value:function(t){var n=this.options.loose?a[r.COMPARATORLOOSE]:a[r.COMPARATOR],o=t.match(n);if(!o)throw new TypeError("Invalid comparator: ".concat(t));this.operator=void 0!==o[1]?o[1]:"","="===this.operator&&(this.operator=""),o[2]?this.semver=new i(o[2],this.options.loose):this.semver=e}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(t){if(l("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"===typeof t)try{t=new i(t,this.options)}catch(T6){return!1}return o(t,this.operator,this.semver,this.options)}},{key:"intersects",value:function(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");if(n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new u(e.value,n).test(this.value);if(""===e.operator)return""===e.value||new u(this.value,n).test(e.semver);var a=(">="===this.operator||">"===this.operator)&&(">="===e.operator||">"===e.operator),r=("<="===this.operator||"<"===this.operator)&&("<="===e.operator||"<"===e.operator),l=this.semver.version===e.semver.version,i=(">="===this.operator||"<="===this.operator)&&(">="===e.operator||"<="===e.operator),c=o(this.semver,"<",e.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),s=o(this.semver,">",e.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return a||r||l&&i||c||s}}],[{key:"ANY",get:function(){return e}}]),t}();x5=t;var n=y5,a=b5.exports.re,r=b5.exports.t,o=o9,l=C5,i=R5,u=u9();return x5}(),r=C5,o=R5,l=b5.exports.re,i=b5.exports.t,u=b5.exports.comparatorTrimReplace,c=b5.exports.tildeTrimReplace,s=b5.exports.caretTrimReplace,f=function(e){return"<0.0.0-0"===e.value},d=function(e){return""===e.value},p=function(e,t){for(var n=!0,a=e.slice(),r=a.pop();n&&a.length;)n=a.every((function(e){return r.intersects(e,t)})),r=a.pop();return n},g=function(e,t){return r("comp",e,t),e=y(e,t),r("caret",e),e=v(e,t),r("tildes",e),e=w(e,t),r("xrange",e),e=C(e,t),r("stars",e),e},h=function(e){return!e||"x"===e.toLowerCase()||"*"===e},v=function(e,t){return e.trim().split(/\s+/).map((function(e){return m(e,t)})).join(" ")},m=function(e,t){var n=t.loose?l[i.TILDELOOSE]:l[i.TILDE];return e.replace(n,(function(t,n,a,o,l){var i;return r("tilde",e,t,n,a,o,l),h(n)?i="":h(a)?i=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):h(o)?i=">=".concat(n,".").concat(a,".0 <").concat(n,".").concat(+a+1,".0-0"):l?(r("replaceTilde pr",l),i=">=".concat(n,".").concat(a,".").concat(o,"-").concat(l," <").concat(n,".").concat(+a+1,".0-0")):i=">=".concat(n,".").concat(a,".").concat(o," <").concat(n,".").concat(+a+1,".0-0"),r("tilde return",i),i}))},y=function(e,t){return e.trim().split(/\s+/).map((function(e){return b(e,t)})).join(" ")},b=function(e,t){r("caret",e,t);var n=t.loose?l[i.CARETLOOSE]:l[i.CARET],a=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,o,l,i){var u;return r("caret",e,t,n,o,l,i),h(n)?u="":h(o)?u=">=".concat(n,".0.0").concat(a," <").concat(+n+1,".0.0-0"):h(l)?u="0"===n?">=".concat(n,".").concat(o,".0").concat(a," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".0").concat(a," <").concat(+n+1,".0.0-0"):i?(r("replaceCaret pr",i),u="0"===n?"0"===o?">=".concat(n,".").concat(o,".").concat(l,"-").concat(i," <").concat(n,".").concat(o,".").concat(+l+1,"-0"):">=".concat(n,".").concat(o,".").concat(l,"-").concat(i," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".").concat(l,"-").concat(i," <").concat(+n+1,".0.0-0")):(r("no pr"),u="0"===n?"0"===o?">=".concat(n,".").concat(o,".").concat(l).concat(a," <").concat(n,".").concat(o,".").concat(+l+1,"-0"):">=".concat(n,".").concat(o,".").concat(l).concat(a," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".").concat(l," <").concat(+n+1,".0.0-0")),r("caret return",u),u}))},w=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return k(e,t)})).join(" ")},k=function(e,t){e=e.trim();var n=t.loose?l[i.XRANGELOOSE]:l[i.XRANGE];return e.replace(n,(function(n,a,o,l,i,u){r("xRange",e,n,a,o,l,i,u);var c=h(o),s=c||h(l),f=s||h(i),d=f;return"="===a&&d&&(a=""),u=t.includePrerelease?"-0":"",c?n=">"===a||"<"===a?"<0.0.0-0":"*":a&&d?(s&&(l=0),i=0,">"===a?(a=">=",s?(o=+o+1,l=0,i=0):(l=+l+1,i=0)):"<="===a&&(a="<",s?o=+o+1:l=+l+1),"<"===a&&(u="-0"),n="".concat(a+o,".").concat(l,".").concat(i).concat(u)):s?n=">=".concat(o,".0.0").concat(u," <").concat(+o+1,".0.0-0"):f&&(n=">=".concat(o,".").concat(l,".0").concat(u," <").concat(o,".").concat(+l+1,".0-0")),r("xRange return",n),n}))},C=function(e,t){return r("replaceStars",e,t),e.trim().replace(l[i.STAR],"")},x=function(e,t){return r("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?i.GTE0PRE:i.GTE0],"")},P=function(e){return function(t,n,a,r,o,l,i,u,c,s,f,d,p){return n=h(a)?"":h(r)?">=".concat(a,".0.0").concat(e?"-0":""):h(o)?">=".concat(a,".").concat(r,".0").concat(e?"-0":""):l?">=".concat(n):">=".concat(n).concat(e?"-0":""),u=h(c)?"":h(s)?"<".concat(+c+1,".0.0-0"):h(f)?"<".concat(c,".").concat(+s+1,".0-0"):d?"<=".concat(c,".").concat(s,".").concat(f,"-").concat(d):e?"<".concat(c,".").concat(s,".").concat(+f+1,"-0"):"<=".concat(u),"".concat(n," ").concat(u).trim()}},_=function(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var l=0;l<e.length;l++)if(r(e[l].semver),e[l].semver!==a.ANY&&e[l].semver.prerelease.length>0){var i=e[l].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0};return _5}var c9=u9(),s9=function(e,t,n){try{t=new c9(t,n)}catch(T6){return!1}return t.test(e)};function f9(e,t,n){var a=e.open(t),r=new URL(t).origin,o=40;e.addEventListener("message",(function t(n){n.source===a&&(o=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){o<=0||(a.postMessage(n,r),setTimeout(e,250),o-=1)}),250)}var d9='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n';function p9(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0,o=n;r<o.length;r++){var l=o[r];g9(e,l)}return e}function g9(e,t){for(var n=0,a=Object.keys(t);n<a.length;n++){var r=a[n];mn(e,r,t[r],!0)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var h9;function v9(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m9(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}function m9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y9(Object(n),!0).forEach((function(t){f4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w9=h,k9=v,C9="undefined"!==typeof window?window:void 0;void 0===k9&&null!==C9&&void 0!==C9&&null!==(h9=C9.vl)&&void 0!==h9&&h9.compile&&(k9=C9.vl);var x9={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},P9={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},_9={vega:"Vega","vega-lite":"Vega-Lite"},E9={vega:w9.version,"vega-lite":k9?k9.version:"not available"},S9={vega:function(e){return e},"vega-lite":function(e,t){return k9.compile(e,{config:t}).spec}},B9='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',O9="chart-wrapper";function A9(e){return"function"===typeof e}function D9(e,t,n,a){var r="<html><head>".concat(t,'</head><body><pre><code class="json">'),o="</code></pre>".concat(n,"</body></html>"),l=window.open("");l.document.write(r+e+o),l.document.title="".concat(_9[a]," JSON Source")}function M9(e,t){if(e.$schema){var n,a=p3(e.$schema);if(t&&t!==a.library)console.warn("The given visualization spec is written in ".concat(_9[a.library],", but mode argument sets ").concat(null!==(n=_9[t])&&void 0!==n?n:t,"."));var r=a.library;return s9(E9[r],"^".concat(a.version.slice(1)))||console.warn("The input spec uses ".concat(_9[r]," ").concat(a.version,", but the current version of ").concat(_9[r]," is v").concat(E9[r],".")),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!==t&&void 0!==t?t:"vega"}function N9(e){return function(e){return!(!e||!("load"in e))}(e)?e:w9.loader(e)}function j9(e){var t,n,a=null!==(t=null===(n=e.usermeta)||void 0===n?void 0:n.embedOptions)&&void 0!==t?t:{};return ca(a.defaultStyle)&&(a.defaultStyle=!1),a}function T9(){return T9=p4(q4.mark((function e(t,n){var a,r,o,l,i,u,c,s,f,d,p,g=arguments;return q4.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=g.length>2&&void 0!==g[2]?g[2]:{},!ca(n)){e.next=10;break}return i=N9(o.loader),e.t0=JSON,e.next=6,i.load(n);case 6:e.t1=e.sent,l=e.t0.parse.call(e.t0,e.t1),e.next=11;break;case 10:l=n;case 11:return u=j9(l),c=u.loader,i&&!c||(i=N9(null!==(s=o.loader)&&void 0!==s?s:c)),e.next=16,F9(u,i);case 16:return f=e.sent,e.next=19,F9(o,i);case 19:return d=e.sent,p=b9(b9({},p9(d,f)),{},{config:vn(null!==(a=d.config)&&void 0!==a?a:{},null!==(r=f.config)&&void 0!==r?r:{})}),e.next=23,z9(t,l,p,i);case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e)}))),T9.apply(this,arguments)}function F9(e,t){return I9.apply(this,arguments)}function I9(){return I9=p4(q4.mark((function e(t,n){var a,r,o;return q4.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ca(t.config)){e.next=8;break}return e.t1=JSON,e.next=4,n.load(t.config);case 4:e.t2=e.sent,e.t0=e.t1.parse.call(e.t1,e.t2),e.next=9;break;case 8:e.t0=null!==(a=t.config)&&void 0!==a?a:{};case 9:if(r=e.t0,!ca(t.patch)){e.next=18;break}return e.t4=JSON,e.next=14,n.load(t.patch);case 14:e.t5=e.sent,e.t3=e.t4.parse.call(e.t4,e.t5),e.next=19;break;case 18:e.t3=t.patch;case 19:return o=e.t3,e.abrupt("return",b9(b9(b9({},t),o?{patch:o}:{}),r?{config:r}:{}));case 21:case"end":return e.stop()}}),e)}))),I9.apply(this,arguments)}function R9(e){var t,n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}function z9(e,t){return L9.apply(this,arguments)}function L9(){return L9=p4(q4.mark((function e(t,n){var a,r,o,l,i,u,c,s,f,d,p,g,h,v,y,b,w,k,C,x,P,_,E,S,B,O,A,D,M,N,j,T,F,I,R,z,L,H,U,W,q,G,V,$,Y,Q,X,K,J,Z,ee,te=arguments;return q4.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee=function(){H&&document.removeEventListener("click",H),T.finalize()},s=te.length>2&&void 0!==te[2]?te[2]:{},f=te.length>3?te[3]:void 0,d=s.theme?vn(m[s.theme],null!==(a=s.config)&&void 0!==a?a:{}):s.config,p=ra(s.actions)?s.actions:p9({},x9,null!==(r=s.actions)&&void 0!==r?r:{}),g=b9(b9({},P9),s.i18n),h=null!==(o=s.renderer)&&void 0!==o?o:"canvas",v=null!==(l=s.logLevel)&&void 0!==l?l:w9.Warn,y=null!==(i=s.downloadFileName)&&void 0!==i?i:"visualization",b="string"===typeof t?document.querySelector(t):t){e.next=12;break}throw new Error("".concat(t," does not exist"));case 12:if(!1!==s.defaultStyle&&(w="vega-embed-style",k=R9(b),C=k.root,x=k.rootContainer,C.getElementById(w)||((P=document.createElement("style")).id=w,P.innerHTML=void 0===s.defaultStyle||!0===s.defaultStyle?d9.toString():s.defaultStyle,x.appendChild(P))),_=M9(n,s.mode),E=S9[_](n,d),"vega-lite"===_&&E.$schema&&(S=p3(E.$schema),s9(E9.vega,"^".concat(S.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(S.version,", but current version is v").concat(E9.vega,"."))),b.classList.add("vega-embed"),p&&b.classList.add("has-actions"),b.innerHTML="",B=b,p&&((O=document.createElement("div")).classList.add(O9),b.appendChild(O),B=O),(A=s.patch)&&(E=A instanceof Function?A(E):Ot(E,A,!0,!1).newDocument),s.formatLocale&&w9.formatLocale(s.formatLocale),s.timeFormatLocale&&w9.timeFormatLocale(s.timeFormatLocale),s.expressionFunctions)for(D in s.expressionFunctions)"fn"in(M=s.expressionFunctions[D])?w9.expressionFunction(D,M.fn,M.visitor):M instanceof Function&&w9.expressionFunction(D,M);return N=s.ast,j=w9.parse(E,"vega-lite"===_?{}:d,{ast:N}),(T=new(s.viewClass||w9.View)(j,b9({loader:f,logLevel:v,renderer:h},N?{expr:null!==(u=null!==(c=w9.expressionInterpreter)&&void 0!==c?c:s.expr)&&void 0!==u?u:wH}:{}))).addSignalListener("autosize",(function(e,t){var n=t.type;"fit-x"==n?(B.classList.add("fit-x"),B.classList.remove("fit-y")):"fit-y"==n?(B.classList.remove("fit-x"),B.classList.add("fit-y")):"fit"==n?B.classList.add("fit-x","fit-y"):B.classList.remove("fit-x","fit-y")})),!1!==s.tooltip&&(F=A9(s.tooltip)?s.tooltip:new s4(!0===s.tooltip?{}:s.tooltip).call,T.tooltip(F)),void 0===(I=s.hover)&&(I="vega"===_),I&&(z=(R="boolean"===typeof I?{}:I).hoverSet,L=R.updateSet,T.hover(z,L)),s&&(null!=s.width&&T.width(s.width),null!=s.height&&T.height(s.height),null!=s.padding&&T.padding(s.padding)),e.next=37,T.initialize(B,s.bind).runAsync();case 37:if(!1!==p){if(U=b,!1!==s.defaultStyle&&((W=document.createElement("details")).title=g.CLICK_TO_VIEW_ACTIONS,b.append(W),U=W,(q=document.createElement("summary")).innerHTML=B9,W.append(q),H=function(e){W.contains(e.target)||W.removeAttribute("open")},document.addEventListener("click",H)),G=document.createElement("div"),U.append(G),G.classList.add("vega-actions"),!0===p||!1!==p.export){V=v9(["svg","png"]);try{for(Y=function(){var e=$.value;if(!0===p||!0===p.export||p.export[e]){var t=g["".concat(e.toUpperCase(),"_ACTION")],n=document.createElement("a");n.text=t,n.href="#",n.target="_blank",n.download="".concat(y,".").concat(e),n.addEventListener("mousedown",function(){var t=p4(q4.mark((function t(n){var a;return q4.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,T.toImageURL(e,s.scaleFactor);case 3:a=t.sent,this.href=a;case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()),G.append(n)}},V.s();!($=V.n()).done;)Y()}catch(ne){V.e(ne)}finally{V.f()}}!0!==p&&!1===p.source||((Q=document.createElement("a")).text=g.SOURCE_ACTION,Q.href="#",Q.addEventListener("click",(function(e){var t,a;D9(Wt()(n),null!==(t=s.sourceHeader)&&void 0!==t?t:"",null!==(a=s.sourceFooter)&&void 0!==a?a:"",_),e.preventDefault()})),G.append(Q)),"vega-lite"!==_||!0!==p&&!1===p.compiled||((X=document.createElement("a")).text=g.COMPILED_ACTION,X.href="#",X.addEventListener("click",(function(e){var t,n;D9(Wt()(E),null!==(t=s.sourceHeader)&&void 0!==t?t:"",null!==(n=s.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),G.append(X)),!0!==p&&!1===p.editor||(J=null!==(K=s.editorUrl)&&void 0!==K?K:"https://vega.github.io/editor/",(Z=document.createElement("a")).text=g.EDITOR_ACTION,Z.href="#",Z.addEventListener("click",(function(e){f9(window,J,{config:d,mode:_,renderer:h,spec:Wt()(n)}),e.preventDefault()})),G.append(Z))}return e.abrupt("return",{view:T,spec:n,vgSpec:E,finalize:ee,embedOptions:s});case 39:case"end":return e.stop()}}),e)}))),L9.apply(this,arguments)}function H9(e,t){Object.keys(t).forEach((function(n){!function(e,t,n){var a;n&&((a=n)&&"[object Function]"==={}.toString.call(a)?n(e.data(t)):e.change(t,w9.changeset().remove((function(){return!0})).insert(n)))}(e,n,t[n])}))}var U9=n(7),W9=n.n(U9);function q9(e){var t=new Set;return e.forEach((function(e){Object.keys(e).forEach((function(e){t.add(e)}))})),t}var G9=function(){};function V9(e,t){var n=Object.keys(t);return n.forEach((function(n){try{e.addSignalListener(n,t[n])}catch(Xt){console.warn("Cannot add invalid signal listener.",Xt)}})),n.length>0}function $9(e,t){var n=Object.keys(t);return n.forEach((function(n){try{e.removeSignalListener(n,t[n])}catch(Xt){console.warn("Cannot remove invalid signal listener.",Xt)}})),n.length>0}function Y9(e){var t=e.spec,n=e.width,a=e.height;return"undefined"!==typeof n&&"undefined"!==typeof a?XA(XA({},t),{},{width:n,height:a}):"undefined"!==typeof n?XA(XA({},t),{},{width:n}):"undefined"!==typeof a?XA(XA({},t),{},{height:a}):t}var Q9=["spec","onNewView","signalListeners","width","height"];function X9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K9=function(e){N(n,e);var t=z(n);function n(){var e;return O(this,n),X9(I(e=t.apply(this,arguments)),"containerRef",b.createRef()),X9(I(e),"resultPromise",void 0),X9(I(e),"handleError",(function(t){var n=e.props.onError;(void 0===n?G9:n)(t,e.containerRef.current),console.warn(t)})),X9(I(e),"modifyView",(function(t){e.resultPromise&&e.resultPromise.then((function(e){return e&&t(e.view),!0})).catch(e.handleError)})),e}return D(n,[{key:"componentDidMount",value:function(){this.createView()}},{key:"componentDidUpdate",value:function(e){var t=this,n=q9([this.props,e]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some((function(n){return t.props[n]!==e[n]})))this.clearView(),this.createView();else{var a=function(e,t){if(e===t)return!1;var n={width:!1,height:!1,isExpensive:!1},a=q9([e,t]);return!a.has("width")||"width"in e&&"width"in t&&e.width===t.width||("width"in e&&"number"===typeof e.width?n.width=e.width:n.isExpensive=!0),!a.has("height")||"height"in e&&"height"in t&&e.height===t.height||("height"in e&&"number"===typeof e.height?n.height=e.height:n.isExpensive=!0),a.delete("width"),a.delete("height"),B(a).some((function(n){return!(n in e)||!(n in t)||!PH()(e[n],t[n])}))&&(n.isExpensive=!0),!(!1===n.width&&!1===n.height&&!n.isExpensive)&&n}(Y9(this.props),Y9(e)),r=this.props.signalListeners,o=e.signalListeners;if(a)if(a.isExpensive)this.clearView(),this.createView();else{var l=!ft(r,o);this.modifyView((function(e){!1!==a.width&&e.width(a.width),!1!==a.height&&e.height(a.height),l&&(o&&$9(e,o),r&&V9(e,r)),e.run()}))}else ft(r,o)||this.modifyView((function(e){o&&$9(e,o),r&&V9(e,r),e.run()}))}}},{key:"componentWillUnmount",value:function(){this.clearView()}},{key:"createView",value:function(){var e=this.props,t=(e.spec,e.onNewView),n=e.signalListeners,a=void 0===n?{}:n,r=(e.width,e.height,ct(e,Q9));if(this.containerRef.current){var o=Y9(this.props);this.resultPromise=function(e,t){return T9.apply(this,arguments)}(this.containerRef.current,o,r).then((function(e){if(e){var t=e.view;V9(t,a)&&t.run()}return e})).catch(this.handleError),t&&this.modifyView(t)}}},{key:"clearView",value:function(){return this.resultPromise&&this.resultPromise.then((function(e){e&&e.finalize()})).catch(this.handleError),this.resultPromise=void 0,this}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style;return b.createElement("div",{ref:this.containerRef,className:t,style:n})}}]),n}(b.PureComponent);X9(K9,"propTypes",{className:W9().string,onError:W9().func});var J9=["data"];function Z9(){return Z9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Z9.apply(this,arguments)}function e6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t6=function(e){N(n,e);var t=z(n);function n(){var e;return O(this,n),e6(I(e=t.apply(this,arguments)),"vegaEmbed",b.createRef()),e6(I(e),"handleNewView",(function(t){e.update();var n=e.props.onNewView;(void 0===n?G9:n)(t)})),e}return D(n,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(e){ft(this.props.data,e.data)||this.update()}},{key:"update",value:function(){var e=this.props.data;this.vegaEmbed.current&&e&&Object.keys(e).length>0&&this.vegaEmbed.current.modifyView((function(t){H9(t,e),t.resize().run()}))}},{key:"render",value:function(){var e=this.props,t=(e.data,ct(e,J9));return b.createElement(K9,Z9({ref:this.vegaEmbed},t,{onNewView:this.handleNewView}))}}]),n}(b.PureComponent);e6(t6,"defaultProps",{data:{}});var n6={pop:"Population",engCons:"Energy Consumption",engConsPerCap:"Energy Consumption Per Capita",engInt:"Energy Intensity",engProd:"Energy Production",gsp:"Gross State Product",gdp:"Gross Domestic Product"},a6=function(e){return{mark:{type:"area",color:"#0084FF",interpolate:"monotone"},background:"#FEF2F2",description:"A line Chart",width:600,height:500,data:{name:"features"},encoding:{x:{field:"year",type:"temporal",title:"year"},y:{field:e,type:"quantitative",title:n6[e]},transform:[{fold:["year","pop","gsp","engCons","engConsPerCap","engInt","engProd"],as:["Column","Value"]},{filter:"isValid(datum.Value)"}],tooltip:[{field:"year",type:"ordinal",title:"Year"},{field:"pop",type:"quantitative",title:"Population"},{field:"gsp",type:"quantitative",title:"GSP ($ Million)"},{field:"engCons",type:"quantitative",title:"Energy Consumption (Pj)"},{field:"engConsPerCap",type:"quantitative",title:"Energy Consumption Per Captia (Pj/person)"},{field:"engInt",type:"quantitative",title:"Energy Intensity (GJ/$ million)"},{field:"engProd",type:"quantitative",title:"Energy Production ($ million/PJ)"}]},config:{mark:{invalid:null}}}},r6=function(e,t){return(0,rt.jsx)(t6,{spec:a6(t),data:{features:e}})},o6=function(e){return(0,rt.jsx)(t6,{spec:{$schema:"https://vega.github.io/schema/vega/v5.json",description:"A basic pie chart example.",background:"#FEF2F2",width:400,height:400,autosize:"none",signals:[{name:"startAngle",value:6.29},{name:"endAngle",value:0},{name:"padAngle",value:.036},{name:"innerRadius",value:30},{name:"cornerRadius",value:10},{name:"sort",value:!0}],data:[{name:"table",transform:[{type:"pie",field:"value",startAngle:{signal:"startAngle"},endAngle:{signal:"endAngle"},sort:{signal:"sort"}}]}],scales:[{name:"color",type:"ordinal",domain:{data:"table",field:"id"},range:{scheme:"category20"}}],legends:[{stroke:"color",title:"States or Territories",orient:"top-right",encode:{symbols:{update:{fill:{value:""},strokeWidth:{value:2},size:{value:64}}}}}],marks:[{type:"arc",from:{data:"table"},encode:{enter:{fill:{scale:"color",field:"id"},x:{signal:"width / 3"},y:{signal:"height / 2"},tooltip:{field:"value",type:"quantitative",title:"Engergy Consumption (PJ)"}},update:{startAngle:{field:"startAngle"},endAngle:{field:"endAngle"},padAngle:{signal:"padAngle"},innerRadius:{signal:"innerRadius"},outerRadius:{signal:"width / 3"},cornerRadius:{signal:"cornerRadius"}}}}]},data:{table:e}})},l6=function(e,t,n){return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",background:"#FEF2F2",width:100,height:250,description:"A simple bar chart with embedded data.",data:{name:"table"},mark:"bar",encoding:{x:{field:"cat",type:"nominal",axis:{labelAngle:0},title:n},y:{field:"value",type:"quantitative",scale:{domain:e},title:t},tooltip:[{field:"value",type:"quantitative",title:"Total Energy Consumption For Australia (PJ)"}]}}},i6=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,28e4];return(0,rt.jsx)(t6,{spec:l6(t,"Energy Consumption (PJ)","All of Australia's Power Consumption"),data:{table:e}})},u6=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,3e5],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"All of Australia's Electrial Consumption";return(0,rt.jsx)(t6,{spec:l6(t,"Electricity Consumption (GWh)",n),data:{table:e}})},c6=function(e){return(0,rt.jsx)(t6,{spec:{$schema:"https://vega.github.io/schema/vega-lite/v5.json",background:"#FEF2F2",height:"400",width:"1200",description:"A simple bar chart with embedded data.",data:{name:"table"},transform:[{filter:{field:"industry",oneOf:["Agriculture","Mining","Manufacturing","Electricity generation","Construction","Transport","Gas supply","Water and waste c","Commercial and services d","Residential","Other e"]}}],mark:"bar",encoding:{x:{field:"industry",titleFontSize:60},y:{field:"value",type:"quantitative",title:"Consumption (PJ)"},xOffset:{field:"category"},color:{field:"category"}}},data:{table:e}})},s6=function(e){return(0,rt.jsx)(t6,{spec:{$schema:"https://vega.github.io/schema/vega/v5.json",description:"A basic pie chart example.",width:400,height:400,autosize:"none",signals:[{name:"startAngle",value:6.29},{name:"endAngle",value:0},{name:"padAngle",value:.036},{name:"innerRadius",value:30},{name:"cornerRadius",value:10},{name:"sort",value:!0}],data:[{name:"table",transform:[{type:"pie",field:"value",startAngle:{signal:"startAngle"},endAngle:{signal:"endAngle"},sort:{signal:"sort"}}]}],scales:[{name:"color",type:"ordinal",domain:{data:"table",field:"cat"},range:{scheme:"category20"}}],legends:[{stroke:"color",title:"Energy Consumption By Fuel Type",orient:"top-right",encode:{symbols:{update:{fill:{value:""},strokeWidth:{value:2},size:{value:64}}}}}],marks:[{type:"arc",from:{data:"table"},encode:{enter:{fill:{scale:"color",field:"cat"},x:{signal:"width / 3"},y:{signal:"height / 2"},tooltip:{field:"value",type:"quantitative",title:"Engergy Consumption (PJ)"}},update:{startAngle:{field:"startAngle"},endAngle:{field:"endAngle"},padAngle:{signal:"padAngle"},innerRadius:{signal:"innerRadius"},outerRadius:{signal:"width / 3"},cornerRadius:{signal:"cornerRadius"}}}}]},data:{table:e}})},f6={features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[149.976679,-37.50506],[148.194946,-36.796253],[148.211171,-36.650519],[148.217563,-36.598239],[148.13341,-36.566921],[148.124663,-36.464713],[148.037583,-36.390225],[148.037726,-36.140797],[148.002388,-36.140057],[147.999692,-36.046204],[147.912342,-35.995198],[147.708415,-35.928545],[147.591893,-35.969859],[147.549115,-35.96455],[147.584027,-35.984648],[147.551873,-36.004095],[147.494112,-35.943549],[147.404631,-35.943495],[147.319949,-36.060987],[147.127391,-36.018047],[147.123357,-35.994498],[147.052963,-36.107881],[146.956824,-36.078061],[146.943705,-36.115989],[146.731645,-36.023725],[146.685812,-36.040576],[146.61252,-35.972858],[146.549581,-35.992457],[146.502585,-35.958235],[146.421673,-35.965831],[146.368684,-36.050862],[146.299009,-36.047859],[146.185976,-36.042071],[145.97207,-36.015747],[145.953701,-35.9615],[145.902693,-35.952496],[145.811662,-35.991769],[145.673992,-35.925924],[145.535398,-35.801983],[145.3554,-35.867067],[144.992263,-35.852338],[144.923606,-35.988768],[144.981909,-36.072316],[144.86346,-36.059112],[144.80787,-36.123628],[144.726379,-36.117781],[144.725675,-36.089438],[144.683907,-36.095138],[144.689004,-36.061417],[144.61767,-36.077192],[144.615473,-36.031593],[144.51614,-35.995438],[144.521099,-35.970266],[144.407927,-35.904013],[144.349111,-35.767142],[144.105015,-35.59078],[143.989865,-35.554663],[143.970101,-35.500078],[143.751004,-35.387835],[143.620416,-35.387682],[143.562074,-35.337244],[143.570828,-35.206905],[143.394677,-35.192377],[143.322081,-35.036727],[143.347876,-34.791635],[143.276736,-34.79226],[143.25213,-34.772803],[143.274016,-34.752685],[143.224384,-34.758733],[143.213847,-34.738496],[143.112525,-34.680819],[142.923844,-34.647856],[142.868177,-34.627306],[142.787687,-34.590178],[142.791428,-34.546389],[142.748291,-34.576759],[142.618316,-34.728751],[142.51417,-34.690931],[142.467968,-34.564295],[142.451622,-34.584265],[142.367695,-34.530446],[142.394681,-34.493484],[142.359576,-34.498779],[142.353334,-34.469582],[142.350969,-34.396629],[142.235894,-34.306973],[142.08277,-34.173545],[142.075638,-34.131418],[142.027564,-34.122981],[142.012927,-34.105246],[141.67745,-34.101225],[141.60458,-34.149115],[141.603285,-34.191228],[141.510071,-34.216479],[141.324937,-34.138782],[141.247217,-34.073209],[141.241808,-34.061315],[141.089218,-34.076696],[141.002957,-34.022537],[140.999278,-28.999103],[148.958308,-28.999064],[149.032686,-28.955958],[149.080762,-28.841801],[149.387389,-28.695803],[149.502977,-28.574351],[149.587938,-28.572815],[149.703104,-28.633712],[150.15228,-28.55021],[150.212287,-28.574181],[150.289648,-28.537157],[150.445551,-28.665141],[150.632541,-28.676572],[150.752343,-28.633464],[151.01065,-28.740805],[151.045321,-28.844482],[151.102759,-28.836369],[151.274808,-28.938926],[151.279649,-29.100769],[151.33931,-29.177266],[151.393784,-29.177893],[151.502292,-29.070805],[151.49149,-29.056244],[151.545566,-28.952998],[151.706536,-28.871784],[151.73386,-28.871578],[151.777834,-28.959885],[151.832232,-28.959829],[151.849363,-28.90785],[151.900358,-28.914966],[152.009703,-28.907663],[152.038126,-28.864696],[152.015064,-28.850626],[152.076049,-28.708175],[152.010168,-28.664951],[151.955645,-28.518904],[151.982893,-28.503395],[152.016864,-28.525281],[152.217189,-28.449236],[152.309659,-28.363168],[152.38616,-28.368554],[152.463586,-28.259373],[152.525981,-28.30625],[152.579242,-28.338976],[152.614517,-28.269555],[152.624513,-28.298204],[152.751062,-28.363914],[152.880013,-28.309607],[153.108829,-28.357543],[153.476931,-28.15702],[153.586296,-28.258206],[153.608834,-28.843251],[153.344322,-29.296579],[153.333974,-29.674551],[152.988454,-30.731967],[153.088672,-30.911293],[152.937829,-31.47576],[152.508886,-32.172395],[152.539907,-32.443464],[152.172615,-32.761656],[151.801417,-32.88492],[151.317714,-33.74198],[151.249211,-34.001814],[150.928023,-34.316624],[150.784718,-34.986574],[150.67113,-35.037153],[150.150243,-35.891139],[150.148569,-36.266969],[149.919697,-36.895441],[149.976679,-37.50506]],[[149.399284,-35.319175],[149.272048,-35.273644],[149.214063,-35.219507],[149.204883,-35.229549],[149.120902,-35.124517],[148.807854,-35.309647],[148.762675,-35.495505],[148.791182,-35.703449],[148.855652,-35.760874],[148.886633,-35.719136],[148.909367,-35.853065],[149.048811,-35.92041],[149.093517,-35.824221],[149.084514,-35.580594],[149.14251,-35.59257],[149.146586,-35.414836],[149.207546,-35.345305],[149.352134,-35.351317],[149.399284,-35.319175]]]},properties:{STATE_CODE:"1",STATE_NAME:"New South Wales",Latitude:-31.840233,Longitude:145.612793,pop:8547373,cons:1402.4,conspercent:.242},id:0},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[140.965735,-38.055989],[140.963616,-33.980648],[141.00187,-34.039103],[141.089218,-34.076696],[141.241808,-34.061315],[141.247217,-34.073209],[141.324937,-34.138782],[141.510071,-34.216479],[141.603285,-34.191228],[141.60458,-34.149115],[141.67745,-34.101225],[142.012927,-34.105246],[142.027564,-34.122981],[142.075638,-34.131418],[142.08277,-34.173545],[142.235894,-34.306973],[142.350969,-34.396629],[142.353334,-34.469582],[142.359576,-34.498779],[142.394681,-34.493484],[142.367695,-34.530446],[142.451622,-34.584265],[142.467968,-34.564295],[142.51417,-34.690931],[142.618316,-34.728751],[142.748291,-34.576759],[142.791428,-34.546389],[142.787687,-34.590178],[142.868177,-34.627306],[142.923844,-34.647856],[143.112525,-34.680819],[143.213847,-34.738496],[143.224384,-34.758733],[143.274016,-34.752685],[143.25213,-34.772803],[143.276736,-34.79226],[143.347876,-34.791635],[143.322081,-35.036727],[143.394677,-35.192377],[143.570828,-35.206905],[143.562074,-35.337244],[143.620416,-35.387682],[143.751004,-35.387835],[143.970101,-35.500078],[143.989865,-35.554663],[144.105015,-35.59078],[144.349111,-35.767142],[144.407927,-35.904013],[144.521099,-35.970266],[144.51614,-35.995438],[144.615473,-36.031593],[144.61767,-36.077192],[144.689004,-36.061417],[144.683907,-36.095138],[144.725675,-36.089438],[144.726379,-36.117781],[144.80787,-36.123628],[144.86346,-36.059112],[144.981909,-36.072316],[144.923606,-35.988768],[144.992263,-35.852338],[145.3554,-35.867067],[145.535398,-35.801983],[145.673992,-35.925924],[145.811662,-35.991769],[145.902693,-35.952496],[145.953701,-35.9615],[145.97207,-36.015747],[146.185976,-36.042071],[146.299009,-36.047859],[146.368684,-36.050862],[146.421673,-35.965831],[146.502585,-35.958235],[146.549581,-35.992457],[146.61252,-35.972858],[146.685812,-36.040576],[146.731645,-36.023725],[146.943705,-36.115989],[146.956824,-36.078061],[147.052963,-36.107881],[147.123357,-35.994498],[147.127391,-36.018047],[147.319949,-36.060987],[147.404631,-35.943495],[147.494112,-35.943549],[147.551873,-36.004095],[147.584027,-35.984648],[147.549115,-35.96455],[147.591893,-35.969859],[147.708415,-35.928545],[147.912342,-35.995198],[147.999692,-36.046204],[148.002388,-36.140057],[148.037726,-36.140797],[148.037583,-36.390225],[148.124663,-36.464713],[148.13341,-36.566921],[148.217563,-36.598239],[148.211171,-36.650519],[148.194946,-36.796253],[149.976679,-37.50506],[149.484958,-37.775441],[148.289615,-37.810988],[147.788216,-37.955322],[147.476303,-38.15175],[146.883139,-38.634634],[146.410331,-38.711911],[146.42651,-39.129986],[146.083966,-38.815933],[145.606696,-38.678782],[145.433813,-38.434868],[145.488988,-38.233414],[145.118468,-38.145695],[144.970308,-37.860787],[144.397943,-38.073816],[144.428618,-38.281629],[144.036497,-38.475775],[143.554064,-38.855695],[143.232964,-38.766436],[142.372518,-38.349483],[142.1458,-38.391487],[141.88151,-38.265811],[141.542787,-38.432968],[140.965735,-38.055989]]]},properties:{STATE_CODE:"2",STATE_NAME:"Victoria",Latitude:-37.0201,Longitude:144.9646,pop:6548040,cons:1136.2,conspercent:.196},id:1},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[153.476931,-28.15702],[153.108829,-28.357543],[152.880013,-28.309607],[152.751062,-28.363914],[152.624513,-28.298204],[152.614517,-28.269555],[152.579242,-28.338976],[152.525981,-28.30625],[152.463586,-28.259373],[152.38616,-28.368554],[152.309659,-28.363168],[152.217189,-28.449236],[152.016864,-28.525281],[151.982893,-28.503395],[151.955645,-28.518904],[152.010168,-28.664951],[152.076049,-28.708175],[152.015064,-28.850626],[152.038126,-28.864696],[152.009703,-28.907663],[151.900358,-28.914966],[151.849363,-28.90785],[151.832232,-28.959829],[151.777834,-28.959885],[151.73386,-28.871578],[151.706536,-28.871784],[151.545566,-28.952998],[151.49149,-29.056244],[151.502292,-29.070805],[151.393784,-29.177893],[151.33931,-29.177266],[151.279649,-29.100769],[151.274808,-28.938926],[151.102759,-28.836369],[151.045321,-28.844482],[151.01065,-28.740805],[150.752343,-28.633464],[150.632541,-28.676572],[150.445551,-28.665141],[150.289648,-28.537157],[150.212287,-28.574181],[150.15228,-28.55021],[149.703104,-28.633712],[149.587938,-28.572815],[149.502977,-28.574351],[149.387389,-28.695803],[149.080762,-28.841801],[149.032686,-28.955958],[148.958308,-28.999064],[140.999278,-28.999103],[140.999394,-25.996376],[137.999054,-25.996867],[138.00118,-16.544509],[138.323615,-16.750458],[138.628959,-16.767936],[139.038676,-16.912443],[139.23767,-17.319781],[140.004377,-17.714575],[140.384571,-17.677883],[140.887415,-17.382311],[140.958021,-16.998141],[141.204446,-16.69199],[141.43277,-16.074761],[141.373379,-15.916912],[141.663509,-15.003962],[141.52561,-14.487086],[141.599046,-14.101668],[141.468182,-13.923139],[141.523282,-13.572129],[141.69539,-13.270078],[141.588712,-13.017231],[141.827326,-12.64855],[141.591918,-12.558962],[141.81038,-12.048632],[141.942175,-11.945512],[142.119961,-11.368544],[142.132786,-10.948445],[142.530935,-10.687543],[142.786058,-11.074181],[142.847488,-11.823918],[143.185584,-11.990818],[143.078573,-12.337485],[143.418829,-12.615954],[143.598187,-13.42231],[143.53174,-13.754558],[143.745771,-14.333114],[143.88442,-14.482093],[144.576479,-14.247362],[144.618812,-14.47539],[145.282239,-14.955165],[145.418168,-16.338301],[145.581937,-16.687196],[145.889406,-17.057605],[146.140586,-17.639712],[146.016188,-18.245019],[146.337881,-18.526627],[146.273046,-18.860081],[146.454158,-19.073694],[147.1261,-19.422471],[147.455161,-19.395188],[147.738402,-19.847056],[148.255476,-19.986003],[148.840711,-20.351944],[148.662046,-20.585768],[148.847055,-20.855967],[149.158072,-21.000314],[149.449683,-21.578201],[149.465416,-21.92568],[149.658283,-22.354889],[150.177423,-22.360496],[150.835158,-22.684207],[150.749647,-23.128814],[150.878143,-23.552292],[151.17292,-23.815879],[151.573657,-24.035722],[151.764638,-24.015229],[152.148304,-24.626559],[152.468174,-24.816086],[152.663543,-25.244018],[152.914399,-25.293372],[152.878424,-25.683629],[153.119893,-25.933571],[153.076557,-26.224779],[153.151353,-26.802186],[153.069598,-27.313956],[153.383078,-27.708796],[153.476931,-28.15702]]],[[[152.95018,-25.573919],[152.992301,-25.220705],[153.360352,-25.006351],[153.015095,-25.769062],[152.95018,-25.573919]]]]},properties:{STATE_CODE:"3",STATE_NAME:"Queensland",Latitude:-20.917574,Longitude:142.702789,pop:65287.6,cons:1445.2,conspercent:.25},id:2},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[129.00134,-31.687068],[129.001854,-25.998613],[140.999394,-25.996376],[141.002937,-33.99851],[141.002956,-34.021892],[140.963616,-33.980648],[140.973872,-37.462093],[140.965735,-38.055989],[140.662442,-38.061474],[140.39645,-37.919006],[140.12084,-37.530865],[139.761627,-37.199707],[139.669972,-36.957431],[139.842891,-36.839575],[139.782926,-36.458816],[139.52302,-36.043505],[139.211957,-35.754559],[138.883656,-35.55729],[138.156886,-35.658167],[138.441044,-35.349994],[138.541428,-34.752951],[138.265632,-34.476802],[138.102306,-34.138883],[137.637498,-35.168201],[137.464103,-35.099218],[137.173992,-35.237359],[136.941123,-35.129111],[137.012553,-34.92048],[137.448758,-34.910318],[137.506757,-34.137625],[137.600358,-33.876794],[137.939426,-33.547918],[137.853601,-33.196834],[137.661043,-32.950959],[137.442264,-33.152177],[137.213306,-33.661082],[136.668362,-33.878689],[136.363136,-34.069349],[136.121769,-34.467421],[135.93231,-34.528521],[135.79209,-34.860956],[135.624044,-34.906359],[135.389235,-34.595065],[135.346224,-34.267559],[135.182152,-33.877771],[134.830247,-33.626318],[134.802047,-33.328782],[134.189083,-32.942369],[134.290382,-32.692865],[134.163101,-32.469053],[133.951086,-32.388513],[133.666883,-32.103832],[133.275245,-32.194901],[132.746588,-31.949342],[132.200614,-32.02728],[131.758577,-31.72026],[131.148637,-31.463654],[130.806132,-31.60563],[130.152187,-31.576538],[129.00134,-31.687068]]],[[[138.134901,-35.841399],[137.611978,-35.913111],[137.460723,-36.074971],[136.727088,-36.045071],[136.587436,-35.748857],[137.313489,-35.57924],[137.634199,-35.565733],[138.134901,-35.841399]]]]},properties:{STATE_CODE:"4",STATE_NAME:"South Australia",Latitude:-30.000233,Longitude:136.209152,pop:1803192,cons:311.2,conspercent:.054},id:3},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[129.001242,-14.879473],[129.00134,-31.687068],[128.314269,-31.979367],[127.32596,-32.256526],[126.672789,-32.308371],[126.203139,-32.232277],[125.95101,-32.290542],[125.53206,-32.549232],[125.026186,-32.728859],[124.814039,-32.872863],[124.305384,-32.98091],[124.154307,-33.096063],[123.97602,-33.558606],[123.534286,-33.940132],[123.083117,-33.871534],[122.364201,-33.913517],[122.136743,-34.006599],[122.001002,-33.829299],[121.789874,-33.909049],[121.361874,-33.815443],[120.639,-33.891729],[120.43657,-33.971882],[120.042168,-33.923368],[119.597462,-34.134587],[119.502718,-34.411473],[118.755351,-34.545573],[118.331264,-34.898061],[117.629383,-35.127747],[117.362834,-35.01957],[116.630374,-35.060835],[116.002145,-34.842218],[115.669869,-34.480925],[115.262563,-34.306793],[114.991097,-34.098468],[114.975079,-33.698053],[115.42754,-33.608303],[115.681022,-33.275255],[115.608247,-32.666719],[115.774567,-32.193807],[115.729627,-31.765771],[115.189756,-30.82495],[114.954846,-30.048851],[114.997569,-29.493548],[114.872084,-29.116741],[114.637438,-28.87771],[114.596573,-28.611563],[114.174711,-28.110972],[114.104253,-27.503189],[113.558225,-26.574004],[113.807717,-26.610972],[114.237651,-26.312765],[114.205395,-25.85302],[114.004183,-25.618519],[113.623242,-24.746034],[113.406958,-24.484176],[113.470308,-23.898561],[113.75326,-23.528236],[113.826185,-22.956016],[113.654082,-22.578773],[114.023922,-21.851153],[114.080266,-22.154135],[114.33896,-22.492117],[114.642507,-21.909328],[114.903446,-21.705314],[115.516477,-21.483476],[115.918152,-21.078751],[116.819273,-20.606307],[117.302672,-20.726802],[117.774281,-20.66354],[118.160907,-20.357893],[118.822624,-20.276008],[119.099709,-19.959323],[119.562789,-20.078977],[120.195936,-19.913908],[120.981888,-19.621038],[121.412999,-19.237982],[121.903643,-18.464057],[122.370266,-18.116445],[122.145169,-17.560353],[122.253195,-17.11985],[122.63741,-16.800705],[122.778997,-16.584943],[123.126613,-16.711067],[123.394348,-17.280663],[123.564479,-17.405802],[123.647972,-16.999738],[123.79612,-16.911838],[123.460392,-16.524605],[123.70311,-16.153894],[124.394547,-16.33853],[124.458426,-16.102519],[124.375976,-15.680098],[124.705033,-15.253395],[124.907942,-15.245664],[125.141429,-14.747673],[125.335667,-14.555772],[125.797984,-14.44532],[126.041913,-14.53672],[126.169718,-14.146188],[126.555814,-14.151036],[126.762732,-14.050093],[126.760452,-13.808213],[126.963289,-13.741672],[127.14288,-13.982251],[127.430068,-13.942949],[127.850137,-14.484474],[128.393426,-14.80445],[129.001242,-14.879473]]]},properties:{STATE_CODE:"5",STATE_NAME:"Western Australia",Latitude:-25.042261,Longitude:117.793221,pop:2749864,cons:1246.5,conspercent:.215},id:4},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[144.754462,-41.061823],[144.686043,-40.672218],[145.118606,-40.828989],[145.72934,-40.944952],[146.154381,-41.154331],[147.490728,-40.979349],[147.974703,-40.737601],[148.323833,-40.987847],[148.25287,-41.190939],[148.320296,-41.621392],[148.284634,-42.038985],[148.093656,-42.081067],[147.791443,-42.89262],[147.360963,-42.914127],[146.844807,-43.633052],[146.216007,-43.485565],[146.046171,-43.552375],[145.682228,-43.050468],[145.262948,-42.621623],[145.196877,-41.948587],[144.920865,-41.667596],[144.683526,-41.234829],[144.754462,-41.061823]]],[[[148.334277,-40.208333],[148.04611,-40.249506],[147.897245,-39.999015],[147.960671,-39.730132],[148.334277,-40.208333]]],[[[148.011504,-43.221681],[147.65074,-43.089445],[147.802901,-42.893233],[148.011504,-43.221681]]],[[[144.138222,-39.933819],[143.833303,-39.915546],[143.94575,-39.580467],[144.109657,-39.669979],[144.138222,-39.933819]]]]},properties:{STATE_CODE:"6",STATE_NAME:"Tasmania",Latitude:-42.0409,Longitude:146.8087,pop:567909,cons:103,conspercent:.018},id:5},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[138.00118,-16.544509],[137.999054,-25.996867],[129.000584,-25.998613],[129.001242,-14.879473],[129.482478,-14.94106],[129.672401,-14.763468],[129.379285,-14.41941],[129.409294,-14.23594],[129.721306,-14.01343],[129.827732,-13.51814],[130.008369,-13.533339],[130.284054,-13.305756],[130.128194,-12.973699],[130.520625,-12.703496],[130.6193,-12.381373],[130.841469,-12.555322],[131.030606,-12.146439],[131.472295,-12.283712],[131.879259,-12.214551],[132.069714,-12.30354],[132.629281,-12.085415],[132.553086,-11.554926],[132.353457,-11.441274],[132.122609,-11.526422],[131.859751,-11.292782],[132.338898,-11.140365],[132.732875,-11.519077],[132.917953,-11.331725],[133.149872,-11.702237],[133.912395,-11.906891],[134.030774,-11.85497],[134.492834,-12.071605],[134.739702,-11.959872],[135.056034,-12.263609],[135.570011,-12.100746],[135.720723,-12.281165],[136.259704,-12.45644],[136.414836,-11.958678],[136.59931,-12.202296],[136.782358,-12.159094],[136.978918,-12.345442],[136.617426,-12.689846],[136.625398,-12.952945],[136.388071,-13.227066],[136.218042,-13.138268],[135.918654,-13.26843],[135.835287,-13.59083],[135.914498,-13.747239],[135.87877,-14.166827],[135.382075,-14.725738],[135.478818,-14.97606],[136.239712,-15.416088],[136.270412,-15.535779],[136.729497,-15.932397],[136.912706,-15.899684],[137.372604,-16.133349],[137.729671,-16.232252],[138.00118,-16.544509]]],[[[136.964126,-14.165254],[136.899007,-14.297104],[136.437348,-14.1963],[136.531889,-13.785022],[136.837318,-13.842907],[136.707081,-14.168987],[136.964126,-14.165254]]],[[[130.402355,-11.363409],[130.704562,-11.385318],[131.288206,-11.193865],[131.435824,-11.265902],[131.469803,-11.608099],[130.949287,-11.9401],[130.492625,-11.654929],[130.402355,-11.363409]]],[[[130.212679,-11.712187],[130.400138,-11.425023],[130.503384,-11.830348],[130.212679,-11.712187]]]]},properties:{STATE_CODE:"7",STATE_NAME:"Northern Territory",Latitude:-19.491411,Longitude:132.550964,pop:249200,cons:145.1,conspercent:.025},id:6},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[149.399284,-35.319175],[149.352134,-35.351317],[149.207546,-35.345305],[149.146586,-35.414836],[149.14251,-35.59257],[149.084514,-35.580594],[149.093517,-35.824221],[149.048811,-35.92041],[148.909367,-35.853065],[148.886633,-35.719136],[148.855652,-35.760874],[148.791182,-35.703449],[148.762675,-35.495505],[148.807854,-35.309647],[149.120902,-35.124517],[149.204883,-35.229549],[149.214063,-35.219507],[149.272048,-35.273644],[149.399284,-35.319175]]]},properties:{STATE_CODE:"8",STATE_NAME:"Australian Capital Territory",Latitude:-35.4735,Longitude:149.0124,pop:431215},id:7}]},d6={$schema:"https://vega.github.io/schema/vega-lite/v3.json",width:600,height:500,background:"#FEF2F2",data:{name:"features"},transform:[{filter:{field:"properties.STATE_NAME",oneOf:["New South Wales","Victoria","Queensland","South Australia","Western Australia","Tasmania","Northern Territory","Australian Capital Territory"]}}],projection:{type:"mercator"},layer:[{mark:{type:"geoshape",stroke:"#757575",strokeWidth:.5},encoding:{color:{field:"properties.conspercent",type:"quantitative",scale:{scheme:"Oranges"},legend:{title:null,format:"%"}},tooltip:[{field:"properties.STATE_NAME",type:"nominal",title:"Name"},{field:"properties.pop",type:"nominal",title:"Population"},{field:"properties.cons",type:"nominal",title:"Energy Consumption (Pj)"},{field:"properties.conspercent",type:"nominal",title:"Energy Consumption Share (%)",format:"%"}]}},{mark:"text",encoding:{text:{field:"properties.STATE_NAME",type:"nominal"},longitude:{field:"properties.Longitude",type:"quantitative"},latitude:{field:"properties.Latitude",type:"quantitative"},size:{value:10},opacity:{value:.6}}}]},p6=function(){return(0,rt.jsx)(t6,{spec:d6,data:f6})};function g6(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function h6(e){return null==e?[]:Array.isArray(e)?e.slice():[e]}function v6(e){return null!==e&&1===e.length?e[0]:e.slice()}function m6(e){Object.keys(e).forEach((function(t){"undefined"!=typeof document&&document.addEventListener(t,e[t],!1)}))}function y6(e,t){return b6(function(e,t){var n=e;return n<=t.min&&(n=t.min),n>=t.max&&(n=t.max),n}(e,t),t)}function b6(e,t){var n=(e-t.min)%t.step,a=e-n;return 2*Math.abs(n)>=t.step&&(a+=n>0?t.step:-t.step),parseFloat(a.toFixed(5))}var w6=function(e){function t(t){var n;(n=e.call(this,t)||this).onKeyUp=function(){n.onEnd()},n.onMouseUp=function(){n.onEnd(n.getMouseEventMap())},n.onTouchEnd=function(){n.onEnd(n.getTouchEventMap())},n.onBlur=function(){n.setState({index:-1},n.onEnd(n.getKeyDownEventMap()))},n.onMouseMove=function(e){n.setState({pending:!0});var t=n.getMousePosition(e),a=n.getDiffPosition(t[0]),r=n.getValueFromPosition(a);n.move(r)},n.onTouchMove=function(e){if(!(e.touches.length>1)){n.setState({pending:!0});var t=n.getTouchPosition(e);if(void 0===n.isScrolling){var a=t[0]-n.startPosition[0],r=t[1]-n.startPosition[1];n.isScrolling=Math.abs(r)>Math.abs(a)}if(n.isScrolling)n.setState({index:-1});else{var o=n.getDiffPosition(t[0]),l=n.getValueFromPosition(o);n.move(l)}}},n.onKeyDown=function(e){if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(n.setState({pending:!0}),e.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":e.preventDefault(),n.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":e.preventDefault(),n.moveUpByStep();break;case"Home":e.preventDefault(),n.move(n.props.min);break;case"End":e.preventDefault(),n.move(n.props.max);break;case"PageDown":e.preventDefault(),n.moveDownByStep(n.props.pageFn(n.props.step));break;case"PageUp":e.preventDefault(),n.moveUpByStep(n.props.pageFn(n.props.step))}},n.onSliderMouseDown=function(e){if(!n.props.disabled&&2!==e.button){if(n.setState({pending:!0}),!n.props.snapDragDisabled){var t=n.getMousePosition(e);n.forceValueFromPosition(t[0],(function(e){n.start(e,t[0]),m6(n.getMouseEventMap())}))}g6(e)}},n.onSliderClick=function(e){if(!n.props.disabled&&n.props.onSliderClick&&!n.hasMoved){var t=n.getMousePosition(e),a=y6(n.calcValue(n.calcOffsetFromPosition(t[0])),n.props);n.props.onSliderClick(a)}},n.createOnKeyDown=function(e){return function(t){n.props.disabled||(n.start(e),m6(n.getKeyDownEventMap()),g6(t))}},n.createOnMouseDown=function(e){return function(t){if(!n.props.disabled&&2!==t.button){n.setState({pending:!0});var a=n.getMousePosition(t);n.start(e,a[0]),m6(n.getMouseEventMap()),g6(t)}}},n.createOnTouchStart=function(e){return function(t){if(!(n.props.disabled||t.touches.length>1)){n.setState({pending:!0});var a=n.getTouchPosition(t);n.startPosition=a,n.isScrolling=void 0,n.start(e,a[0]),m6(n.getTouchEventMap()),function(e){e.stopPropagation&&e.stopPropagation()}(t)}}},n.handleResize=function(){var e=window.setTimeout((function(){n.pendingResizeTimeouts.shift(),n.resize()}),0);n.pendingResizeTimeouts.push(e)},n.renderThumb=function(e,t){var a=n.props.thumbClassName+" "+n.props.thumbClassName+"-"+t+" "+(n.state.index===t?n.props.thumbActiveClassName:""),r={ref:function(e){n["thumb"+t]=e},key:n.props.thumbClassName+"-"+t,className:a,style:e,onMouseDown:n.createOnMouseDown(t),onTouchStart:n.createOnTouchStart(t),onFocus:n.createOnKeyDown(t),tabIndex:0,role:"slider","aria-orientation":n.props.orientation,"aria-valuenow":n.state.value[t],"aria-valuemin":n.props.min,"aria-valuemax":n.props.max,"aria-label":Array.isArray(n.props.ariaLabel)?n.props.ariaLabel[t]:n.props.ariaLabel,"aria-labelledby":Array.isArray(n.props.ariaLabelledby)?n.props.ariaLabelledby[t]:n.props.ariaLabelledby},o={index:t,value:v6(n.state.value),valueNow:n.state.value[t]};return n.props.ariaValuetext&&(r["aria-valuetext"]="string"==typeof n.props.ariaValuetext?n.props.ariaValuetext:n.props.ariaValuetext(o)),n.props.renderThumb(r,o)},n.renderTrack=function(e,t,a){var r={key:n.props.trackClassName+"-"+e,className:n.props.trackClassName+" "+n.props.trackClassName+"-"+e,style:n.buildTrackStyle(t,n.state.upperBound-a)},o={index:e,value:v6(n.state.value)};return n.props.renderTrack(r,o)};var a=h6(t.value);a.length||(a=h6(t.defaultValue)),n.pendingResizeTimeouts=[];for(var r=[],o=0;o<a.length;o+=1)a[o]=y6(a[o],t),r.push(o);return n.resizeObserver=null,n.resizeElementRef=b.createRef(),n.state={index:-1,upperBound:0,sliderLength:0,value:a,zIndices:r},n}var n,a;a=e,(n=t).prototype=Object.create(a.prototype),n.prototype.constructor=n,M(n,a);var r=t.prototype;return r.componentDidMount=function(){"undefined"!=typeof window&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},t.getDerivedStateFromProps=function(e,t){var n=h6(e.value);return n.length?t.pending?null:{value:n.map((function(t){return y6(t,e)}))}:null},r.componentDidUpdate=function(){0===this.state.upperBound&&this.resize()},r.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},r.onEnd=function(e){e&&function(e){Object.keys(e).forEach((function(t){"undefined"!=typeof document&&document.removeEventListener(t,e[t],!1)}))}(e),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},r.getValue=function(){return v6(this.state.value)},r.getClosestIndex=function(e){for(var t=Number.MAX_VALUE,n=-1,a=this.state.value,r=a.length,o=0;o<r;o+=1){var l=this.calcOffset(a[o]),i=Math.abs(e-l);i<t&&(t=i,n=o)}return n},r.getMousePosition=function(e){return[e["page"+this.axisKey()],e["page"+this.orthogonalAxisKey()]]},r.getTouchPosition=function(e){var t=e.touches[0];return[t["page"+this.axisKey()],t["page"+this.orthogonalAxisKey()]]},r.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},r.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},r.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},r.getValueFromPosition=function(e){var t=e/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return y6(this.state.startValue+t,this.props)},r.getDiffPosition=function(e){var t=e-this.state.startPosition;return this.props.invert&&(t*=-1),t},r.resize=function(){var e=this.slider,t=this.thumb0;if(e&&t){var n=this.sizeKey(),a=e.getBoundingClientRect(),r=e[n],o=a[this.posMaxKey()],l=a[this.posMinKey()],i=t.getBoundingClientRect()[n.replace("client","").toLowerCase()],u=r-i,c=Math.abs(o-l);this.state.upperBound===u&&this.state.sliderLength===c&&this.state.thumbSize===i||this.setState({upperBound:u,sliderLength:c,thumbSize:i})}},r.calcOffset=function(e){var t=this.props.max-this.props.min;return 0===t?0:(e-this.props.min)/t*this.state.upperBound},r.calcValue=function(e){return e/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},r.calcOffsetFromPosition=function(e){var t=this.slider.getBoundingClientRect(),n=t[this.posMaxKey()],a=t[this.posMinKey()],r=e-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?n:a));return this.props.invert&&(r=this.state.sliderLength-r),r-=this.state.thumbSize/2},r.forceValueFromPosition=function(e,t){var n=this,a=this.calcOffsetFromPosition(e),r=this.getClosestIndex(a),o=y6(this.calcValue(a),this.props),l=this.state.value.slice();l[r]=o;for(var i=0;i<l.length-1;i+=1)if(l[i+1]-l[i]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},(function(){t(r),n.fireChangeEvent("onChange")}))},r.clearPendingResizeTimeouts=function(){do{var e=this.pendingResizeTimeouts.shift();clearTimeout(e)}while(this.pendingResizeTimeouts.length)},r.start=function(e,t){var n=this["thumb"+e];n&&n.focus();var a=this.state.zIndices;a.splice(a.indexOf(e),1),a.push(e),this.setState((function(n){return{startValue:n.value[e],startPosition:void 0!==t?t:n.startPosition,index:e,zIndices:a}}))},r.moveUpByStep=function(e){void 0===e&&(e=this.props.step);var t=y6(this.state.value[this.state.index]+e,this.props);this.move(Math.min(t,this.props.max))},r.moveDownByStep=function(e){void 0===e&&(e=this.props.step);var t=y6(this.state.value[this.state.index]-e,this.props);this.move(Math.max(t,this.props.min))},r.move=function(e){var t=this.state,n=t.index,a=t.value,r=a.length,o=a[n];if(e!==o){this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;var l=this.props,i=l.pearling,u=l.max,c=l.min,s=l.minDistance;if(!i){if(n>0){var f=a[n-1];e<f+s&&(e=f+s)}if(n<r-1){var d=a[n+1];e>d-s&&(e=d-s)}}a[n]=e,i&&r>1&&(e>o?(this.pushSucceeding(a,s,n),function(e,t,n,a){for(var r=0;r<e;r+=1){var o=a-r*n;t[e-1-r]>o&&(t[e-1-r]=o)}}(r,a,s,u)):e<o&&(this.pushPreceding(a,s,n),function(e,t,n,a){for(var r=0;r<e;r+=1){var o=a+r*n;t[r]<o&&(t[r]=o)}}(r,a,s,c))),this.setState({value:a},this.fireChangeEvent.bind(this,"onChange"))}},r.pushSucceeding=function(e,t,n){var a,r;for(r=e[a=n]+t;null!==e[a+1]&&r>e[a+1];r=e[a+=1]+t)e[a+1]=b6(r,this.props)},r.pushPreceding=function(e,t,n){for(var a=n,r=e[a]-t;null!==e[a-1]&&r<e[a-1];r=e[a-=1]-t)e[a-1]=b6(r,this.props)},r.axisKey=function(){return"vertical"===this.props.orientation?"Y":"X"},r.orthogonalAxisKey=function(){return"vertical"===this.props.orientation?"X":"Y"},r.posMinKey=function(){return"vertical"===this.props.orientation?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},r.posMaxKey=function(){return"vertical"===this.props.orientation?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},r.sizeKey=function(){return"vertical"===this.props.orientation?"clientHeight":"clientWidth"},r.fireChangeEvent=function(e){this.props[e]&&this.props[e](v6(this.state.value),this.state.index)},r.buildThumbStyle=function(e,t){var n={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(t)+1};return n[this.posMinKey()]=e+"px",n},r.buildTrackStyle=function(e,t){var n={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return n[this.posMinKey()]=e,n[this.posMaxKey()]=t,n},r.buildMarkStyle=function(e){var t;return(t={position:"absolute"})[this.posMinKey()]=e,t},r.renderThumbs=function(e){for(var t=e.length,n=[],a=0;a<t;a+=1)n[a]=this.buildThumbStyle(e[a],a);for(var r=[],o=0;o<t;o+=1)r[o]=this.renderThumb(n[o],o);return r},r.renderTracks=function(e){var t=[],n=e.length-1;t.push(this.renderTrack(0,0,e[0]));for(var a=0;a<n;a+=1)t.push(this.renderTrack(a+1,e[a],e[a+1]));return t.push(this.renderTrack(n+1,e[n],this.state.upperBound)),t},r.renderMarks=function(){var e=this,t=this.props.marks,n=this.props.max-this.props.min+1;return"boolean"==typeof t?t=Array.from({length:n}).map((function(e,t){return t})):"number"==typeof t&&(t=Array.from({length:n}).map((function(e,t){return t})).filter((function(e){return e%t==0}))),t.map(parseFloat).sort((function(e,t){return e-t})).map((function(t){var n=e.calcOffset(t),a={key:t,className:e.props.markClassName,style:e.buildMarkStyle(n)};return e.props.renderMark(a)}))},r.render=function(){for(var e=this,t=[],n=this.state.value,a=n.length,r=0;r<a;r+=1)t[r]=this.calcOffset(n[r],r);var o=this.props.withTracks?this.renderTracks(t):null,l=this.renderThumbs(t),i=this.props.marks?this.renderMarks():null;return b.createElement("div",{ref:function(t){e.slider=t,e.resizeElementRef.current=t},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,l,i)},t}(b.Component);w6.displayName="ReactSlider",w6.defaultProps={min:0,max:100,step:1,pageFn:function(e){return 10*e},minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:function(e){return b.createElement("div",e)},renderTrack:function(e){return b.createElement("div",e)},renderMark:function(e){return b.createElement("span",e)}};var k6=w6,C6=function(e){var t=e.onChange,n=e.currentValue,a=e.marks,r=void 0===a?10:a,o=e.min,l=void 0===o?0:o,i=e.max,u=void 0===i?60:i;return(0,rt.jsx)(k6,{className:"customSlider",trackClassName:"customSlider-track",thumbClassName:"customSlider-thumb",markClassName:"customSlider-mark",marks:r,min:l,max:u,defaultValue:l,valueLabelDisplay:"auto",value:n,onChange:t,renderMark:function(e){return e.key<n?e.className="customSlider-mark customSlider-mark-before":e.key===n&&(e.className="customSlider-mark customSlider-mark-active"),(0,rt.jsx)("span",XA({},e))}})},x6=["Western Australia","Northern Territory","Queensland","South Australia","New South Wales","Victoria","Tasmania"],P6={"Western Australia":"/icons/wa.png","Northern Territory":"/icons/nt.png",Queensland:"/icons/qld.png","South Australia":"/icons/SA.png","New South Wales":"/icons/nsw.png",Victoria:"/icons/vic.png",Tasmania:"/icons/tas.png"},_6=["One petajoule is 1015 joules (1 million billion) or 278 gigawatt hours. It is equivalent to the Energy used by 19,000 Homes Each Year, The electricity used by 868,000 refrigerators in a year or   The electricity used by 2,354,000 televisions in a year","In 2020-21 total electricity generation in Australia was nearly steady at around 266 TWh (956 PJ), the highest total generation on record for Australia.","Fossil fuels contributed 71% of total electricity generation in 2021, including coal (51%), gas (18%) and oil (2%). The share of coal in the electricity mix has continued to decline, in contrast to the beginning of the century when coal\u2019s share was more than 80% of electricity generation.","Renewables contributed 29% of total electricity generation in 2021, specifically solar (12%), wind (10%) and hydro (6%). The share of renewable energy generation increased from 24% in 2020.","About 17% of Australia\u2019s electricity was generated outside the electricity sector by business and households in 2020-21."];var E6=function(e){var t=E((0,b.useState)(0),2),n=t[0],a=t[1],r=E((0,b.useState)(0),2),o=(r[0],r[1]),l=_6.map((function(e){return(0,rt.jsx)("li",{children:e})})),i=x6.map((function(e){return(0,rt.jsx)("div",{children:(0,rt.jsx)(tt,{to:"/StatesAndTerritories",state:{from:[e]},children:(0,rt.jsxs)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:function(){return o(e)},children:[(0,rt.jsx)("img",{class:"rounded-md object-scale-down h-10 w-10",src:""+P6[e]}),e]})})},e)}));return(0,rt.jsx)(rt.Fragment,{children:(0,rt.jsxs)("div",{className:"bg-red-50",children:[(0,rt.jsxs)("div",{className:"flex flex-wrap overflow-hidden lg:-mx-1",children:[(0,rt.jsx)("div",{className:"w-full overflow-hidden lg:my-1 lg:px-1 xl:w-full",children:(0,rt.jsx)("h1",{className:"font-large leading-tight text-5xl mt-0 mb-2 text-black-600 text-center underline",children:"Australia's Energy Consumption"})}),(0,rt.jsx)("div",{className:"w-full overflow-hidden lg:my-1 lg:px-1 xl:w-full",children:(0,rt.jsx)("h2",{className:"font-small leading-tight text-3xl mt-0 mb-2 text-orange-600 text-center",children:"Energy Consumption By State and Territory"})}),(0,rt.jsx)("div",{className:"w-full overflow-hidden lg:my-1 lg:px-1 xl:w-full",children:(0,rt.jsxs)("div",{className:"grid grid-rows-1 grid-cols-5 grid-flow-col",children:[(0,rt.jsxs)("div",{children:[(0,rt.jsx)("h3",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:"Total Energy Consumption (PJ)"}),i6(lt.values[n].values2)]}),(0,rt.jsx)("div",{className:"grid grid-rows-1 grid-cols-1 grid-flow-col",children:(0,rt.jsx)("p",{children:l})}),(0,rt.jsx)("div",{className:"col-span-2 col-start 3 ",children:(0,rt.jsx)(p6,{className:"content-center"})}),(0,rt.jsx)("div",{className:"grid grid-rows-1 grid-flow-col",children:(0,rt.jsxs)("div",{children:[(0,rt.jsx)("h4",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:"Some Facts About Australias Energy Production and Consumption"}),(0,rt.jsxs)("p",{children:[(0,rt.jsx)("li",{children:"Australia has an estimated 46 per cent of uranium resources, 6 per cent of coal resources, and 2 per cent of natural gas resources in the world. In contrast, Australia has only about 0.3 per cent of world oil reserves"}),(0,rt.jsx)("li",{children:"Australia produces about 2.4 per cent of total world energy and is a major supplier of energy to world markets, exporting more than three-quarters of its energy output, worth nearly A$80 billion."}),(0,rt.jsx)("li",{children:"Australia is the world\u2019s largest exporter of coal. Coal accounts for more than half of Australia\u2019s energy exports. Australia is one of the world\u2019s largest exporters of uranium, and is ranked sixth in terms of liquefied natural gas (LNG) exports. In contrast, more than half of Australia\u2019s liquid fuel needs are imported."}),(0,rt.jsx)("li",{children:"Australia is the world\u2019s twentieth largest consumer of energy, and fifteenth in terms of per capita energy use."}),(0,rt.jsx)("li",{children:"Australia\u2019s primary energy consumption is dominated by coal (around 40 per cent), oil (34 per cent) and gas (22 per cent). Coal accounts for about 75 per cent of Australia\u2019s electricity generation, followed by gas (16 per cent), hydro (5 per cent) and wind around (2 per cent)."})]})]})}),(0,rt.jsxs)("div",{children:[(0,rt.jsx)("h3",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:"Total Energy Consumption (GWh)"}),u6(it.values.aus[n].elec)]})]})})]}),(0,rt.jsx)("div",{className:"w-full overflow-hidden lg:my-1 lg:px-1 xl:w-full",children:(0,rt.jsxs)("div",{className:"grid grid-rows-1 grid-cols-3 grid-flow-col",children:[(0,rt.jsxs)("div",{children:[(0,rt.jsx)("h3",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:"Energy Usage By Fuel Type (PJ)"}),s6(it.values.aus[n].fuel)]}),(0,rt.jsxs)("div",{className:"Slider",children:[(0,rt.jsx)(C6,{onChange:function(e){a(e)},currentValue:n}),(0,rt.jsxs)("h4",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:["Year Set To: ",n+1960]}),(0,rt.jsx)("p",{children:"Adjust Slider to See Changes in Australia's Energy Consumption!!"}),(0,rt.jsx)("div",{className:"grid grid-cols-3 gap-4",children:i})]}),(0,rt.jsxs)("div",{children:[(0,rt.jsx)("h3",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:"Energy Consumption By State (PJ)"}),o6(lt.values[n].values)]})]})})]})})},S6={"Western Australia":["In Western Australia, the majority of electricity is generated using coal and gas, with smaller amounts coming from diesel and renewable sources (wind, solar and landfill gas).","Western Australia\u2019s largest generator is Synergy, owned by the Western Australian Government.  Synergy produced around 50% of large-scale electricity generation in the South West electricity market in 2016.","Horizon Power owns and operates generation facilities that supply towns located outside of the South West Interconnected System (SWIS). There are also a number of privately owned generation facilities throughout Western Australia.","The Australian Energy Market Operator (AEMO) provides the name and capacities of all registered facilities in the Wholesale Electricity Market, which is the electricity market that covers the South West Interconnected System - http://data.wa.aemo.com.au/#facilities."," renewable energy accounted for about 7 per cent of all electricity consumed in Western Australia. "],"South Australia":["In just over 15 years South Australia\u2019s electricity mix has shifted from below 1% renewables to over 60% of energy generated by wind and solar, supported by innovative battery storage technologies and gas.","More than one in three homes with rooftop solar, generating more than 1 kilowatt of solar PV energy per capita.","Three large scale solar farms with a generating capacity of 328 megawatts.","Large scale wind farms which generate 41% of South Australia\u2019s energy needs","The highest uptake of residential batteries in Australia - over 28,000 batteries totaling over 280 megawatt-hours.","Natural gas-fired generation is the main non-renewable source of energy generated in South Australia. Approximately 60% of natural gas in South Australia is used for electricity generation."],"New South Wales":[" Energy consumption decreased by 2% in NSW and the ACT between 2010 and 2019"," Renewable energy sources shared 19% of total electricity generation in NSW and the ACT in 2019\u201320"," Transport remains the biggest energy user, representing 47% of total energy use in NSW and the ACT in 2018\u201319"," Energy consumption per capita in NSW and the ACT decreased by ~3% between 2017 and 2019 ","In 2019\u201320, 81% of electricity in NSW came from non-renewable sources such as oil, coal and gas. This was a 6% decline since the 2018 State of the Environment report."],Queensland:[" The primary fuel for electricity generation in the state is coal with coal seam gas becoming a significant fuel source. Queensland has 98% of Australia's reserves of coal seam gas.","The state has a current generating capacity of over 15,000 MW"," The highest peak demand for electricity in Queensland for which data is currently available was 8,891 MW and occurred on 18 January 2010.","Queensland can export up to 1380 MW of electricity, or import up to 880 MW.","Queensland has signed up to the Renewable Energy Target Scheme which aims to produce 20% of Australia's energy from renewables by 2020.","Windy Hill Wind Farm is the only wind powered power station currently operating in Queensland. There is a small facility with two turbines on Thursday Island and another single turbine on North Keppel Island.","rooftop solar is now in 27% of detached homes in south-east Queensland totalling more than 937MW of solar panels."],Victoria:["Victoria uses more gas than any other Australian state or territory.","Most gas is produced from the offshore Gippsland and Otway basins. The largest processing facility is at Longford in the east of Victoria. The largest storage facility is an underground facility at Iona in southwest Victoria.","Victoria is on track to reach net zero emissions by 2050. With interim targets to reduce emissions by 28% to 33% by 2025 and 45% to 50% by 2030. ","The Victorian Government is also supporting and developing microgrids. These small electricity networks can operate \u201coff the grid\u201d, largely on renewable energy.","Victoria\u2019s 6,000 kilometre high-voltage electricity transmission system is owned and maintained by AusNet Services."],Tasmania:["Tasmanian on-island generation was lower during 2019-20, decreasing by 1.4 per cent. Hydro generation output increased by 0.2 per cent, while thermal generation from the Tamar Valley Power Station declined by 81.3 per cent.","In 2018/19, 90% of the island\u2019s power generation came from hydroelectric systems, with much of the rest coming from wind.","When the final two turbines are commissioned at Granville Harbour, Tasmania will have access to 10,741 GWh of renewable generating capacity \u2013 well above theaverage annual electricity demand of 10,500 GWhrs","Tasmania state Liberal government has unveiled a draft action plan to reach its target of \u201c200 per cent\u201d renewables by 2040"],"Northern Territory":[" NT's main electricity generator Territory Generation produces electricity in bulk to meet the demand of the grid. Last financial year, Territory Generation\u2019s combined output from gas, diesel and solar facilities was 1,694 Gigawatt hours (GWh) of electricity.","most of the Territory's electricity supply comes from gas-fired generation, which is a fossil fuel."," The uptake of renewables within the energy grid reached 12% by 2021.","The current Territory Government has a policy of achieving 50% renewables for electricity supply by 2030,","the NT has come up last or near the bottom in most metrics in the Climate Council's annual State of Play review, which tracks the progress of Australian states and territories across a range of renewable energy targets and criteria."]},B6={"Western Australia":"wa","Northern Territory":"nt",Queensland:"qld","South Australia":"sa","New South Wales":"nsw","Australian Capital Territory":"act",Victoria:"vic",Tasmania:"tas"},O6=["Population","Gross Sales Product","Energy Consumption","Energy Consumption Per Capita","Energy Intensity","Energy Production"],A6={Population:"pop","Energy Consumption":"engCons","Energy Consumption Per Capita":"engConsPerCap","Energy Intensity":"engInt","Energy Production":"engProd","Gross Sales Product":"gsp"},D6={Population:"Population","Energy Consumption":"Energy Consumption (Pj)","Energy Consumption Per Capita":"Energy Consumption Per Capita (PJ/Person)","Energy Intensity":"Energy Intensity (GJ/million)","Energy Production":"Energy Production ($ millio/PJ)","Gross Sales Product":"GSP ($ Million)"};var M6=function(){var e=E((0,b.useState)(A6.Population),2),t=e[0],n=e[1],a=E((0,b.useState)("Population"),2),r=a[0],o=a[1],l=Me().state.from,i=E((0,b.useState)(0),2),u=i[0],c=i[1],s=S6[l].map((function(e){return(0,rt.jsx)("li",{children:e})})),f=O6.map((function(e){return(0,rt.jsx)("div",{children:(0,rt.jsx)("button",{className:e+" bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:function(){n(A6[e]),o(e)},children:e})})}));return(0,rt.jsx)(rt.Fragment,{children:(0,rt.jsxs)("div",{className:"bg-red-50",children:[(0,rt.jsx)("div",{className:"w-full overflow-hidden lg:my-1 lg:px-1 xl:w-full",children:(0,rt.jsxs)("div",{className:"grid grid-cols-7",children:[(0,rt.jsx)("div",{children:(0,rt.jsx)(tt,{to:"/",children:(0,rt.jsxs)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",children:["Return to Map",(0,rt.jsx)("img",{class:"rounded-md object-scale-down h-20 w-20",src:"/icons/aus.png"})]})})}),(0,rt.jsxs)("h1",{className:"col-span-5 font-large leading-tight text-5xl mt-0 mb-2 text-black-600 text-center underline",children:[l,"'s Power Consumption"]})]})}),(0,rt.jsx)("div",{className:"w-full overflow-hidden lg:my-1 lg:px-1 xl:w-full",children:(0,rt.jsxs)("div",{className:"grid grid-rows-1 grid-cols-5 grid-flow-col",children:[(0,rt.jsx)("div",{className:"col-span-2 grid grid-rows-1",children:(0,rt.jsxs)("div",{className:"grid grid-cols-1 gap-4 ",children:[(0,rt.jsx)("div",{className:"grid grid-cols-3 gap-1",children:f}),(0,rt.jsxs)("div",{children:[(0,rt.jsx)("h3",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:D6[r]}),r6(it.values[B6[l]],t)]})]})}),(0,rt.jsx)("div",{className:" col-start-3 col-span-1",children:(0,rt.jsxs)("div",{children:[(0,rt.jsxs)("div",{className:"grid grid-rows-3 grid-cols-3 grid-flow-col",children:[(0,rt.jsxs)("h4",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:["Year Set To: ",u+2008]}),(0,rt.jsx)("div",{children:(0,rt.jsx)(C6,{onChange:function(e){c(e)},currentValue:u,marks:1,min:0,max:12})})]}),(0,rt.jsx)("div",{className:"",children:(0,rt.jsxs)("div",{children:[(0,rt.jsxs)("h4",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:["Some Facts About ",l,"'s' Energy Production and Consumption"]}),(0,rt.jsx)("p",{children:s})]})})]})}),(0,rt.jsxs)("div",{className:" ml-10 col-start-4 col-span-2",children:[(0,rt.jsxs)("div",{children:[(0,rt.jsx)("h3",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:"Energy Usage By Fuel Type (PJ)"}),s6(it.values[B6[l]][u+48].fuel)]}),(0,rt.jsxs)("div",{children:[(0,rt.jsx)("h3",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:"Electrical Consumption (GWh)"}),u6(it.values[B6[l]][u+48].elec,[0,8e4],"".concat(l,"'s Electrical Consumption"))]})]})]})}),(0,rt.jsxs)("div",{className:"w-full overflow-hidden lg:my-1 lg:px-1 xl:w-full",children:[(0,rt.jsx)("h3",{className:"font-bold leading-tight text-xl mt-0 mb-2 text-black-600 text-left",children:"Energy Consumption (PJ) By Fuel category and Industry"}),c6(ut.values[B6[l]])]})]})})},N6=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),o(e),l(e)}))},j6=document.getElementById("root");(0,k.s)(j6).render((0,rt.jsx)(b.StrictMode,{children:(0,rt.jsx)(et,{children:(0,rt.jsxs)(Ye,{children:[(0,rt.jsx)(Ve,{path:"/",element:(0,rt.jsx)(ot,{})}),(0,rt.jsx)(Ve,{index:!0,element:(0,rt.jsx)(E6,{})}),(0,rt.jsx)(Ve,{path:"StatesAndTerritories",element:(0,rt.jsx)(M6,{})})]})})})),N6()}()}();
//# sourceMappingURL=main.214ef1a1.js.map